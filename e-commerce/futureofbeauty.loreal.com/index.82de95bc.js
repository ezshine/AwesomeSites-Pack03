var na=Object.defineProperty;var ga=(j,g,b)=>g in j?na(j,g,{enumerable:!0,configurable:!0,writable:!0,value:b}):j[g]=b;var sn=(j,g,b)=>(ga(j,typeof g!="symbol"?g+"":g,b),b);function __vite_legacy_guard(){import("data:text/javascript,")}var index=(()=>`*{margin:0;padding:0}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box;line-height:1.15;-webkit-text-size-adjust:100%}main{display:block}h1,h2,h3,h4,h5,h6{font-size:1em;margin:0;font-weight:400}a{background-color:transparent;text-decoration:none}b,strong{font-weight:400}ul{list-style:none}pre{font-size:1em;font-family:inherit;margin:0}code,kbd,samp{font-family:inherit;font-size:1em}small{font-size:1em}sub,sup{font-size:1em;line-height:0;position:relative;vertical-align:baseline}sub{bottom:0}sup{top:0}hr{-webkit-box-sizing:content-box;box-sizing:content-box;height:0;overflow:visible;margin:0 auto}details{display:block}summary{display:block;outline:none}details summary::-webkit-details-marker{display:none}img{display:block;border-style:none}button,input,optgroup,option,select,textarea{display:block;margin:0;border:0;font-family:inherit;font-size:1em;font-weight:400;line-height:normal;color:inherit;background:none;text-transform:none;-moz-appearance:none;appearance:none;-webkit-appearance:none;outline:none;overflow:visible}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{display:block;font-size:1em;padding:0;border:0}legend{display:block;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;border:none;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}template{display:none}[hidden]{display:none}@font-face{font-family:halesworth;src:url(/Halesworth.1465d67d.woff2) format("woff2"),url(/Halesworth.7e204909.woff) format("woff"),url(/Halesworth.6291dbbd.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:halesworth-medium;src:url(/HalesworthMedium.ec09b8aa.woff2) format("woff2"),url(/HalesworthMedium.3dd85300.woff) format("woff"),url(/HalesworthMedium.e23be120.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:helvetica;src:url(/HelveticaNowDisplay.7fac40a4.woff2) format("woff2"),url(/HelveticaNowDisplay.94c8ade4.woff) format("woff"),url(/HelveticaNowDisplay.c9ad3fc5.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:helvetica-light;src:url(/HelveticaNowDisplayLight.2567a1b5.woff2) format("woff2"),url(/HelveticaNowDisplayLight.08a42f34.woff) format("woff"),url(/HelveticaNowDisplayLight.3daaf693.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:helvetica-bold;src:url(/HelveticaNowDisplayBold.ece7b666.woff2) format("woff2"),url(/HelveticaNowDisplayBold.101e338b.woff) format("woff"),url(/HelveticaNowDisplayBold.27ad1a69.ttf) format("truetype");font-weight:400;font-style:normal}:root{--font-size: .26666667vw;--breakpoint-mobile: 320px;--breakpoint-phablet: 600px;--breakpoint-tablet: 768px;--breakpoint-laptop: 1024px;--breakpoint-bigLaptop: 1440px;--breakpoint-desktop: 1680px;--color-bg: transparent;--color-black: #3d3d3d;--color-white: #fff;--color-gray: #a6a8a8;--color-lightGray: #f5f5f5;--color-blue: #548eff;--color-lightgray: #ebebeb}@media (min-width: 768px){:root{--font-size: calc( (1 / 900) * (var(--vh, 1vh) * 100) )}}@media (min-width: 768px) and (max-aspect-ratio: 1400 / 901){:root{--font-size: .07142857vw}}html{font-size:var(--font-size)}body{font-family:sans-serif;background:var(--color-bg);color:var(--color-text);font-size:16rem;font-family:helvetica,sans-serif}#root{width:100%;height:100vh;height:calc(var(--vh, 1vh) * 100);min-height:100%}.Stack{min-height:100%;height:100%;overflow:auto}h1{font-family:halesworth,sans-serif;font-size:40rem;line-height:46rem;letter-spacing:4rem;color:var(--color-black)}@media (min-width: 768px){h1{font-size:80rem}}@media (min-width: 768px){h1{line-height:91rem}}h2{font-family:halesworth-medium,sans-serif;font-size:35rem;line-height:40rem;color:var(--color-black)}@media (min-width: 768px){h2{font-size:60rem}}@media (min-width: 768px){h2{line-height:68rem}}h3{font-family:helvetica-bold,sans-serif;font-size:28rem;line-height:30rem;color:var(--color-black)}@media (min-width: 768px){h3{font-size:35rem}}@media (min-width: 768px){h3{line-height:41rem}}h4{font-family:helvetica,sans-serif;font-size:20rem;line-height:24rem;letter-spacing:.9rem;color:var(--color-black)}p{font-family:helvetica,sans-serif;font-size:16rem;line-height:24rem;color:var(--color-black)}@media (min-width: 768px){p{font-size:18rem}}@media (min-width: 768px){p{line-height:20rem}}
`)(),commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}var reactDom={exports:{}},reactDom_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$2(j){return j===null||typeof j!="object"?null:(j=z$1&&j[z$1]||j["@@iterator"],typeof j=="function"?j:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(j,g,b){this.props=j,this.context=g,this.refs=D$2,this.updater=b||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(j,g){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,g,"setState")};E$2.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$1(j,g,b){this.props=j,this.context=g,this.refs=D$2,this.updater=b||B$2}var H$2=G$1.prototype=new F$1;H$2.constructor=G$1;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$2={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(j,g,b){var $,_e={},et=null,tt=null;if(g!=null)for($ in g.ref!==void 0&&(tt=g.ref),g.key!==void 0&&(et=""+g.key),g)J.call(g,$)&&!L$1.hasOwnProperty($)&&(_e[$]=g[$]);var nt=arguments.length-2;if(nt===1)_e.children=b;else if(1<nt){for(var rt=Array(nt),it=0;it<nt;it++)rt[it]=arguments[it+2];_e.children=rt}if(j&&j.defaultProps)for($ in nt=j.defaultProps,nt)_e[$]===void 0&&(_e[$]=nt[$]);return{$$typeof:l$4,type:j,key:et,ref:tt,props:_e,_owner:K$2.current}}function N$2(j,g){return{$$typeof:l$4,type:j.type,key:g,ref:j.ref,props:j.props,_owner:j._owner}}function O$2(j){return typeof j=="object"&&j!==null&&j.$$typeof===l$4}function escape$1(j){var g={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(b){return g[b]})}var P$1=/\/+/g;function Q$1(j,g){return typeof j=="object"&&j!==null&&j.key!=null?escape$1(""+j.key):g.toString(36)}function R$3(j,g,b,$,_e){var et=typeof j;(et==="undefined"||et==="boolean")&&(j=null);var tt=!1;if(j===null)tt=!0;else switch(et){case"string":case"number":tt=!0;break;case"object":switch(j.$$typeof){case l$4:case n$4:tt=!0}}if(tt)return tt=j,_e=_e(tt),j=$===""?"."+Q$1(tt,0):$,I$2(_e)?(b="",j!=null&&(b=j.replace(P$1,"$&/")+"/"),R$3(_e,g,b,"",function(it){return it})):_e!=null&&(O$2(_e)&&(_e=N$2(_e,b+(!_e.key||tt&&tt.key===_e.key?"":(""+_e.key).replace(P$1,"$&/")+"/")+j)),g.push(_e)),1;if(tt=0,$=$===""?".":$+":",I$2(j))for(var nt=0;nt<j.length;nt++){et=j[nt];var rt=$+Q$1(et,nt);tt+=R$3(et,g,b,rt,_e)}else if(rt=A$2(j),typeof rt=="function")for(j=rt.call(j),nt=0;!(et=j.next()).done;)et=et.value,rt=$+Q$1(et,nt++),tt+=R$3(et,g,b,rt,_e);else if(et==="object")throw g=String(j),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$2(j,g,b){if(j==null)return j;var $=[],_e=0;return R$3(j,$,"","",function(et){return g.call(b,et,_e++)}),$}function T$2(j){if(j._status===-1){var g=j._result;g=g(),g.then(function(b){(j._status===0||j._status===-1)&&(j._status=1,j._result=b)},function(b){(j._status===0||j._status===-1)&&(j._status=2,j._result=b)}),j._status===-1&&(j._status=0,j._result=g)}if(j._status===1)return j._result.default;throw j._result}var U$2={current:null},V$2={transition:null},W$1={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$2,forEach:function(j,g,b){S$2(j,function(){g.apply(this,arguments)},b)},count:function(j){var g=0;return S$2(j,function(){g++}),g},toArray:function(j){return S$2(j,function(g){return g})||[]},only:function(j){if(!O$2(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(j,g,b){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var $=C$2({},j.props),_e=j.key,et=j.ref,tt=j._owner;if(g!=null){if(g.ref!==void 0&&(et=g.ref,tt=K$2.current),g.key!==void 0&&(_e=""+g.key),j.type&&j.type.defaultProps)var nt=j.type.defaultProps;for(rt in g)J.call(g,rt)&&!L$1.hasOwnProperty(rt)&&($[rt]=g[rt]===void 0&&nt!==void 0?nt[rt]:g[rt])}var rt=arguments.length-2;if(rt===1)$.children=b;else if(1<rt){nt=Array(rt);for(var it=0;it<rt;it++)nt[it]=arguments[it+2];$.children=nt}return{$$typeof:l$4,type:j.type,key:_e,ref:et,props:$,_owner:tt}};react_production_min.createContext=function(j){return j={$$typeof:u$2,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:t$2,_context:j},j.Consumer=j};react_production_min.createElement=M$2;react_production_min.createFactory=function(j){var g=M$2.bind(null,j);return g.type=j,g};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(j){return{$$typeof:v$6,render:j}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(j){return{$$typeof:y$1,_payload:{_status:-1,_result:j},_init:T$2}};react_production_min.memo=function(j,g){return{$$typeof:x$1,type:j,compare:g===void 0?null:g}};react_production_min.startTransition=function(j){var g=V$2.transition;V$2.transition={};try{j()}finally{V$2.transition=g}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(j,g){return U$2.current.useCallback(j,g)};react_production_min.useContext=function(j){return U$2.current.useContext(j)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(j){return U$2.current.useDeferredValue(j)};react_production_min.useEffect=function(j,g){return U$2.current.useEffect(j,g)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(j,g,b){return U$2.current.useImperativeHandle(j,g,b)};react_production_min.useInsertionEffect=function(j,g){return U$2.current.useInsertionEffect(j,g)};react_production_min.useLayoutEffect=function(j,g){return U$2.current.useLayoutEffect(j,g)};react_production_min.useMemo=function(j,g){return U$2.current.useMemo(j,g)};react_production_min.useReducer=function(j,g,b){return U$2.current.useReducer(j,g,b)};react_production_min.useRef=function(j){return U$2.current.useRef(j)};react_production_min.useState=function(j){return U$2.current.useState(j)};react_production_min.useSyncExternalStore=function(j,g,b){return U$2.current.useSyncExternalStore(j,g,b)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var React=react.exports,scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(j){function g(Ct,Dt){var Bt=Ct.length;Ct.push(Dt);e:for(;0<Bt;){var kt=Bt-1>>>1,zt=Ct[kt];if(0<_e(zt,Dt))Ct[kt]=Dt,Ct[Bt]=zt,Bt=kt;else break e}}function b(Ct){return Ct.length===0?null:Ct[0]}function $(Ct){if(Ct.length===0)return null;var Dt=Ct[0],Bt=Ct.pop();if(Bt!==Dt){Ct[0]=Bt;e:for(var kt=0,zt=Ct.length,Ft=zt>>>1;kt<Ft;){var It=2*(kt+1)-1,Ut=Ct[It],Gt=It+1,jt=Ct[Gt];if(0>_e(Ut,Bt))Gt<zt&&0>_e(jt,Ut)?(Ct[kt]=jt,Ct[Gt]=Bt,kt=Gt):(Ct[kt]=Ut,Ct[It]=Bt,kt=It);else if(Gt<zt&&0>_e(jt,Bt))Ct[kt]=jt,Ct[Gt]=Bt,kt=Gt;else break e}}return Dt}function _e(Ct,Dt){var Bt=Ct.sortIndex-Dt.sortIndex;return Bt!==0?Bt:Ct.id-Dt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;j.unstable_now=function(){return et.now()}}else{var tt=Date,nt=tt.now();j.unstable_now=function(){return tt.now()-nt}}var rt=[],it=[],ot=1,st=null,at=3,lt=!1,ut=!1,ct=!1,ft=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(Ct){for(var Dt=b(it);Dt!==null;){if(Dt.callback===null)$(it);else if(Dt.startTime<=Ct)$(it),Dt.sortIndex=Dt.expirationTime,g(rt,Dt);else break;Dt=b(it)}}function mt(Ct){if(ct=!1,pt(Ct),!ut)if(b(rt)!==null)ut=!0,Ot(gt);else{var Dt=b(it);Dt!==null&&Rt(mt,Dt.startTime-Ct)}}function gt(Ct,Dt){ut=!1,ct&&(ct=!1,ht(vt),vt=-1),lt=!0;var Bt=at;try{for(pt(Dt),st=b(rt);st!==null&&(!(st.expirationTime>Dt)||Ct&&!xt());){var kt=st.callback;if(typeof kt=="function"){st.callback=null,at=st.priorityLevel;var zt=kt(st.expirationTime<=Dt);Dt=j.unstable_now(),typeof zt=="function"?st.callback=zt:st===b(rt)&&$(rt),pt(Dt)}else $(rt);st=b(rt)}if(st!==null)var Ft=!0;else{var It=b(it);It!==null&&Rt(mt,It.startTime-Dt),Ft=!1}return Ft}finally{st=null,at=Bt,lt=!1}}var yt=!1,_t=null,vt=-1,At=5,bt=-1;function xt(){return!(j.unstable_now()-bt<At)}function Et(){if(_t!==null){var Ct=j.unstable_now();bt=Ct;var Dt=!0;try{Dt=_t(!0,Ct)}finally{Dt?Mt():(yt=!1,_t=null)}}else yt=!1}var Mt;if(typeof dt=="function")Mt=function(){dt(Et)};else if(typeof MessageChannel!="undefined"){var Tt=new MessageChannel,Lt=Tt.port2;Tt.port1.onmessage=Et,Mt=function(){Lt.postMessage(null)}}else Mt=function(){ft(Et,0)};function Ot(Ct){_t=Ct,yt||(yt=!0,Mt())}function Rt(Ct,Dt){vt=ft(function(){Ct(j.unstable_now())},Dt)}j.unstable_IdlePriority=5,j.unstable_ImmediatePriority=1,j.unstable_LowPriority=4,j.unstable_NormalPriority=3,j.unstable_Profiling=null,j.unstable_UserBlockingPriority=2,j.unstable_cancelCallback=function(Ct){Ct.callback=null},j.unstable_continueExecution=function(){ut||lt||(ut=!0,Ot(gt))},j.unstable_forceFrameRate=function(Ct){0>Ct||125<Ct?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<Ct?Math.floor(1e3/Ct):5},j.unstable_getCurrentPriorityLevel=function(){return at},j.unstable_getFirstCallbackNode=function(){return b(rt)},j.unstable_next=function(Ct){switch(at){case 1:case 2:case 3:var Dt=3;break;default:Dt=at}var Bt=at;at=Dt;try{return Ct()}finally{at=Bt}},j.unstable_pauseExecution=function(){},j.unstable_requestPaint=function(){},j.unstable_runWithPriority=function(Ct,Dt){switch(Ct){case 1:case 2:case 3:case 4:case 5:break;default:Ct=3}var Bt=at;at=Ct;try{return Dt()}finally{at=Bt}},j.unstable_scheduleCallback=function(Ct,Dt,Bt){var kt=j.unstable_now();switch(typeof Bt=="object"&&Bt!==null?(Bt=Bt.delay,Bt=typeof Bt=="number"&&0<Bt?kt+Bt:kt):Bt=kt,Ct){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=Bt+zt,Ct={id:ot++,callback:Dt,priorityLevel:Ct,startTime:Bt,expirationTime:zt,sortIndex:-1},Bt>kt?(Ct.sortIndex=Bt,g(it,Ct),b(rt)===null&&Ct===b(it)&&(ct?(ht(vt),vt=-1):ct=!0,Rt(mt,Bt-kt))):(Ct.sortIndex=zt,g(rt,Ct),ut||lt||(ut=!0,Ot(gt))),Ct},j.unstable_shouldYield=xt,j.unstable_wrapCallback=function(Ct){var Dt=at;return function(){var Bt=at;at=Dt;try{return Ct.apply(this,arguments)}finally{at=Bt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$2(j){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+j,b=1;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+j+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(j,g){ha(j,g),ha(j+"Capture",g)}function ha(j,g){for(ea[j]=g,j=0;j<g.length;j++)da.add(g[j])}var ia=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(j){return ja.call(ma,j)?!0:ja.call(la,j)?!1:ka.test(j)?ma[j]=!0:(la[j]=!0,!1)}function pa(j,g,b,$){if(b!==null&&b.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return $?!1:b!==null?!b.acceptsBooleans:(j=j.toLowerCase().slice(0,5),j!=="data-"&&j!=="aria-");default:return!1}}function qa(j,g,b,$){if(g===null||typeof g=="undefined"||pa(j,g,b,$))return!0;if($)return!1;if(b!==null)switch(b.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v$5(j,g,b,$,_e,et,tt){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=$,this.attributeNamespace=_e,this.mustUseProperty=b,this.propertyName=j,this.type=g,this.sanitizeURL=et,this.removeEmptyString=tt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(j){z[j]=new v$5(j,0,!1,j,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(j){var g=j[0];z[g]=new v$5(g,1,!1,j[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(j){z[j]=new v$5(j,2,!1,j.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(j){z[j]=new v$5(j,2,!1,j,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(j){z[j]=new v$5(j,3,!1,j.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(j){z[j]=new v$5(j,3,!0,j,null,!1,!1)});["capture","download"].forEach(function(j){z[j]=new v$5(j,4,!1,j,null,!1,!1)});["cols","rows","size","span"].forEach(function(j){z[j]=new v$5(j,6,!1,j,null,!1,!1)});["rowSpan","start"].forEach(function(j){z[j]=new v$5(j,5,!1,j.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(j){return j[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(j){var g=j.replace(ra,sa);z[g]=new v$5(g,1,!1,j,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(j){var g=j.replace(ra,sa);z[g]=new v$5(g,1,!1,j,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(j){var g=j.replace(ra,sa);z[g]=new v$5(g,1,!1,j,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(j){z[j]=new v$5(j,1,!1,j.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(j){z[j]=new v$5(j,1,!1,j.toLowerCase(),null,!0,!0)});function ta(j,g,b,$){var _e=z.hasOwnProperty(g)?z[g]:null;(_e!==null?_e.type!==0:$||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(qa(g,b,_e,$)&&(b=null),$||_e===null?oa(g)&&(b===null?j.removeAttribute(g):j.setAttribute(g,""+b)):_e.mustUseProperty?j[_e.propertyName]=b===null?_e.type===3?!1:"":b:(g=_e.attributeName,$=_e.attributeNamespace,b===null?j.removeAttribute(g):(_e=_e.type,b=_e===3||_e===4&&b===!0?"":""+b,$?j.setAttributeNS($,g,b):j.setAttribute(g,b))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(j){return j===null||typeof j!="object"?null:(j=Ja&&j[Ja]||j["@@iterator"],typeof j=="function"?j:null)}var A$1=Object.assign,La;function Ma(j){if(La===void 0)try{throw Error()}catch(b){var g=b.stack.trim().match(/\n( *(at )?)/);La=g&&g[1]||""}return`
`+La+j}var Na=!1;function Oa(j,g){if(!j||Na)return"";Na=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(it){var $=it}Reflect.construct(j,[],g)}else{try{g.call()}catch(it){$=it}j.call(g.prototype)}else{try{throw Error()}catch(it){$=it}j()}}catch(it){if(it&&$&&typeof it.stack=="string"){for(var _e=it.stack.split(`
`),et=$.stack.split(`
`),tt=_e.length-1,nt=et.length-1;1<=tt&&0<=nt&&_e[tt]!==et[nt];)nt--;for(;1<=tt&&0<=nt;tt--,nt--)if(_e[tt]!==et[nt]){if(tt!==1||nt!==1)do if(tt--,nt--,0>nt||_e[tt]!==et[nt]){var rt=`
`+_e[tt].replace(" at new "," at ");return j.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",j.displayName)),rt}while(1<=tt&&0<=nt);break}}}finally{Na=!1,Error.prepareStackTrace=b}return(j=j?j.displayName||j.name:"")?Ma(j):""}function Pa(j){switch(j.tag){case 5:return Ma(j.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return j=Oa(j.type,!1),j;case 11:return j=Oa(j.type.render,!1),j;case 1:return j=Oa(j.type,!0),j;default:return""}}function Qa(j){if(j==null)return null;if(typeof j=="function")return j.displayName||j.name||null;if(typeof j=="string")return j;switch(j){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof j=="object")switch(j.$$typeof){case Ca:return(j.displayName||"Context")+".Consumer";case Ba:return(j._context.displayName||"Context")+".Provider";case Da:var g=j.render;return j=j.displayName,j||(j=g.displayName||g.name||"",j=j!==""?"ForwardRef("+j+")":"ForwardRef"),j;case Ga:return g=j.displayName||null,g!==null?g:Qa(j.type)||"Memo";case Ha:g=j._payload,j=j._init;try{return Qa(j(g))}catch{}}return null}function Ra(j){var g=j.type;switch(j.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return j=g.render,j=j.displayName||j.name||"",g.displayName||(j!==""?"ForwardRef("+j+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(g);case 8:return g===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Sa(j){switch(typeof j){case"boolean":case"number":case"string":case"undefined":return j;case"object":return j;default:return""}}function Ta(j){var g=j.type;return(j=j.nodeName)&&j.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Ua(j){var g=Ta(j)?"checked":"value",b=Object.getOwnPropertyDescriptor(j.constructor.prototype,g),$=""+j[g];if(!j.hasOwnProperty(g)&&typeof b!="undefined"&&typeof b.get=="function"&&typeof b.set=="function"){var _e=b.get,et=b.set;return Object.defineProperty(j,g,{configurable:!0,get:function(){return _e.call(this)},set:function(tt){$=""+tt,et.call(this,tt)}}),Object.defineProperty(j,g,{enumerable:b.enumerable}),{getValue:function(){return $},setValue:function(tt){$=""+tt},stopTracking:function(){j._valueTracker=null,delete j[g]}}}}function Va(j){j._valueTracker||(j._valueTracker=Ua(j))}function Wa(j){if(!j)return!1;var g=j._valueTracker;if(!g)return!0;var b=g.getValue(),$="";return j&&($=Ta(j)?j.checked?"true":"false":j.value),j=$,j!==b?(g.setValue(j),!0):!1}function Xa(j){if(j=j||(typeof document!="undefined"?document:void 0),typeof j=="undefined")return null;try{return j.activeElement||j.body}catch{return j.body}}function Ya(j,g){var b=g.checked;return A$1({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b!=null?b:j._wrapperState.initialChecked})}function Za(j,g){var b=g.defaultValue==null?"":g.defaultValue,$=g.checked!=null?g.checked:g.defaultChecked;b=Sa(g.value!=null?g.value:b),j._wrapperState={initialChecked:$,initialValue:b,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function ab(j,g){g=g.checked,g!=null&&ta(j,"checked",g,!1)}function bb(j,g){ab(j,g);var b=Sa(g.value),$=g.type;if(b!=null)$==="number"?(b===0&&j.value===""||j.value!=b)&&(j.value=""+b):j.value!==""+b&&(j.value=""+b);else if($==="submit"||$==="reset"){j.removeAttribute("value");return}g.hasOwnProperty("value")?cb(j,g.type,b):g.hasOwnProperty("defaultValue")&&cb(j,g.type,Sa(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(j.defaultChecked=!!g.defaultChecked)}function db(j,g,b){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var $=g.type;if(!($!=="submit"&&$!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+j._wrapperState.initialValue,b||g===j.value||(j.value=g),j.defaultValue=g}b=j.name,b!==""&&(j.name=""),j.defaultChecked=!!j._wrapperState.initialChecked,b!==""&&(j.name=b)}function cb(j,g,b){(g!=="number"||Xa(j.ownerDocument)!==j)&&(b==null?j.defaultValue=""+j._wrapperState.initialValue:j.defaultValue!==""+b&&(j.defaultValue=""+b))}var eb=Array.isArray;function fb(j,g,b,$){if(j=j.options,g){g={};for(var _e=0;_e<b.length;_e++)g["$"+b[_e]]=!0;for(b=0;b<j.length;b++)_e=g.hasOwnProperty("$"+j[b].value),j[b].selected!==_e&&(j[b].selected=_e),_e&&$&&(j[b].defaultSelected=!0)}else{for(b=""+Sa(b),g=null,_e=0;_e<j.length;_e++){if(j[_e].value===b){j[_e].selected=!0,$&&(j[_e].defaultSelected=!0);return}g!==null||j[_e].disabled||(g=j[_e])}g!==null&&(g.selected=!0)}}function gb(j,g){if(g.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},g,{value:void 0,defaultValue:void 0,children:""+j._wrapperState.initialValue})}function hb(j,g){var b=g.value;if(b==null){if(b=g.children,g=g.defaultValue,b!=null){if(g!=null)throw Error(p$2(92));if(eb(b)){if(1<b.length)throw Error(p$2(93));b=b[0]}g=b}g==null&&(g=""),b=g}j._wrapperState={initialValue:Sa(b)}}function ib(j,g){var b=Sa(g.value),$=Sa(g.defaultValue);b!=null&&(b=""+b,b!==j.value&&(j.value=b),g.defaultValue==null&&j.defaultValue!==b&&(j.defaultValue=b)),$!=null&&(j.defaultValue=""+$)}function jb(j){var g=j.textContent;g===j._wrapperState.initialValue&&g!==""&&g!==null&&(j.value=g)}function kb(j){switch(j){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(j,g){return j==null||j==="http://www.w3.org/1999/xhtml"?kb(g):j==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":j}var mb,nb=function(j){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(g,b,$,_e){MSApp.execUnsafeLocalFunction(function(){return j(g,b,$,_e)})}:j}(function(j,g){if(j.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in j)j.innerHTML=g;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=mb.firstChild;j.firstChild;)j.removeChild(j.firstChild);for(;g.firstChild;)j.appendChild(g.firstChild)}});function ob(j,g){if(g){var b=j.firstChild;if(b&&b===j.lastChild&&b.nodeType===3){b.nodeValue=g;return}}j.textContent=g}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(j){qb.forEach(function(g){g=g+j.charAt(0).toUpperCase()+j.substring(1),pb[g]=pb[j]})});function rb(j,g,b){return g==null||typeof g=="boolean"||g===""?"":b||typeof g!="number"||g===0||pb.hasOwnProperty(j)&&pb[j]?(""+g).trim():g+"px"}function sb(j,g){j=j.style;for(var b in g)if(g.hasOwnProperty(b)){var $=b.indexOf("--")===0,_e=rb(b,g[b],$);b==="float"&&(b="cssFloat"),$?j.setProperty(b,_e):j[b]=_e}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(j,g){if(g){if(tb[j]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(p$2(137,j));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(p$2(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(p$2(61))}if(g.style!=null&&typeof g.style!="object")throw Error(p$2(62))}}function vb(j,g){if(j.indexOf("-")===-1)return typeof g.is=="string";switch(j){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(j){return j=j.target||j.srcElement||window,j.correspondingUseElement&&(j=j.correspondingUseElement),j.nodeType===3?j.parentNode:j}var yb=null,zb=null,Ab=null;function Bb(j){if(j=Cb(j)){if(typeof yb!="function")throw Error(p$2(280));var g=j.stateNode;g&&(g=Db(g),yb(j.stateNode,j.type,g))}}function Eb(j){zb?Ab?Ab.push(j):Ab=[j]:zb=j}function Fb(){if(zb){var j=zb,g=Ab;if(Ab=zb=null,Bb(j),g)for(j=0;j<g.length;j++)Bb(g[j])}}function Gb(j,g){return j(g)}function Hb(){}var Ib=!1;function Jb(j,g,b){if(Ib)return j(g,b);Ib=!0;try{return Gb(j,g,b)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(j,g){var b=j.stateNode;if(b===null)return null;var $=Db(b);if($===null)return null;b=$[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(j=j.type,$=!(j==="button"||j==="input"||j==="select"||j==="textarea")),j=!$;break e;default:j=!1}if(j)return null;if(b&&typeof b!="function")throw Error(p$2(231,g,typeof b));return b}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(j,g,b,$,_e,et,tt,nt,rt){var it=Array.prototype.slice.call(arguments,3);try{g.apply(b,it)}catch(ot){this.onError(ot)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(j){Ob=!0,Pb=j}};function Tb(j,g,b,$,_e,et,tt,nt,rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(j,g,b,$,_e,et,tt,nt,rt){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=it)}}function Vb(j){var g=j,b=j;if(j.alternate)for(;g.return;)g=g.return;else{j=g;do g=j,(g.flags&4098)!==0&&(b=g.return),j=g.return;while(j)}return g.tag===3?b:null}function Wb(j){if(j.tag===13){var g=j.memoizedState;if(g===null&&(j=j.alternate,j!==null&&(g=j.memoizedState)),g!==null)return g.dehydrated}return null}function Xb(j){if(Vb(j)!==j)throw Error(p$2(188))}function Yb(j){var g=j.alternate;if(!g){if(g=Vb(j),g===null)throw Error(p$2(188));return g!==j?null:j}for(var b=j,$=g;;){var _e=b.return;if(_e===null)break;var et=_e.alternate;if(et===null){if($=_e.return,$!==null){b=$;continue}break}if(_e.child===et.child){for(et=_e.child;et;){if(et===b)return Xb(_e),j;if(et===$)return Xb(_e),g;et=et.sibling}throw Error(p$2(188))}if(b.return!==$.return)b=_e,$=et;else{for(var tt=!1,nt=_e.child;nt;){if(nt===b){tt=!0,b=_e,$=et;break}if(nt===$){tt=!0,$=_e,b=et;break}nt=nt.sibling}if(!tt){for(nt=et.child;nt;){if(nt===b){tt=!0,b=et,$=_e;break}if(nt===$){tt=!0,$=et,b=_e;break}nt=nt.sibling}if(!tt)throw Error(p$2(189))}}if(b.alternate!==$)throw Error(p$2(190))}if(b.tag!==3)throw Error(p$2(188));return b.stateNode.current===b?j:g}function Zb(j){return j=Yb(j),j!==null?$b(j):null}function $b(j){if(j.tag===5||j.tag===6)return j;for(j=j.child;j!==null;){var g=$b(j);if(g!==null)return g;j=j.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(j){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,j,void 0,(j.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(j){return j>>>=0,j===0?32:31-(pc(j)/qc|0)|0}var rc=64,sc=4194304;function tc(j){switch(j&-j){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return j&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return j}}function uc(j,g){var b=j.pendingLanes;if(b===0)return 0;var $=0,_e=j.suspendedLanes,et=j.pingedLanes,tt=b&268435455;if(tt!==0){var nt=tt&~_e;nt!==0?$=tc(nt):(et&=tt,et!==0&&($=tc(et)))}else tt=b&~_e,tt!==0?$=tc(tt):et!==0&&($=tc(et));if($===0)return 0;if(g!==0&&g!==$&&(g&_e)===0&&(_e=$&-$,et=g&-g,_e>=et||_e===16&&(et&4194240)!==0))return g;if(($&4)!==0&&($|=b&16),g=j.entangledLanes,g!==0)for(j=j.entanglements,g&=$;0<g;)b=31-oc(g),_e=1<<b,$|=j[b],g&=~_e;return $}function vc(j,g){switch(j){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(j,g){for(var b=j.suspendedLanes,$=j.pingedLanes,_e=j.expirationTimes,et=j.pendingLanes;0<et;){var tt=31-oc(et),nt=1<<tt,rt=_e[tt];rt===-1?((nt&b)===0||(nt&$)!==0)&&(_e[tt]=vc(nt,g)):rt<=g&&(j.expiredLanes|=nt),et&=~nt}}function xc(j){return j=j.pendingLanes&-1073741825,j!==0?j:j&1073741824?1073741824:0}function yc(){var j=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),j}function zc(j){for(var g=[],b=0;31>b;b++)g.push(j);return g}function Ac(j,g,b){j.pendingLanes|=g,g!==536870912&&(j.suspendedLanes=0,j.pingedLanes=0),j=j.eventTimes,g=31-oc(g),j[g]=b}function Bc(j,g){var b=j.pendingLanes&~g;j.pendingLanes=g,j.suspendedLanes=0,j.pingedLanes=0,j.expiredLanes&=g,j.mutableReadLanes&=g,j.entangledLanes&=g,g=j.entanglements;var $=j.eventTimes;for(j=j.expirationTimes;0<b;){var _e=31-oc(b),et=1<<_e;g[_e]=0,$[_e]=-1,j[_e]=-1,b&=~et}}function Cc(j,g){var b=j.entangledLanes|=g;for(j=j.entanglements;b;){var $=31-oc(b),_e=1<<$;_e&g|j[$]&g&&(j[$]|=g),b&=~_e}}var C$1=0;function Dc(j){return j&=-j,1<j?4<j?(j&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(j,g){switch(j){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(g.pointerId)}}function Tc(j,g,b,$,_e,et){return j===null||j.nativeEvent!==et?(j={blockedOn:g,domEventName:b,eventSystemFlags:$,nativeEvent:et,targetContainers:[_e]},g!==null&&(g=Cb(g),g!==null&&Fc(g)),j):(j.eventSystemFlags|=$,g=j.targetContainers,_e!==null&&g.indexOf(_e)===-1&&g.push(_e),j)}function Uc(j,g,b,$,_e){switch(g){case"focusin":return Lc=Tc(Lc,j,g,b,$,_e),!0;case"dragenter":return Mc=Tc(Mc,j,g,b,$,_e),!0;case"mouseover":return Nc=Tc(Nc,j,g,b,$,_e),!0;case"pointerover":var et=_e.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,j,g,b,$,_e)),!0;case"gotpointercapture":return et=_e.pointerId,Pc.set(et,Tc(Pc.get(et)||null,j,g,b,$,_e)),!0}return!1}function Vc(j){var g=Wc(j.target);if(g!==null){var b=Vb(g);if(b!==null){if(g=b.tag,g===13){if(g=Wb(b),g!==null){j.blockedOn=g,Ic(j.priority,function(){Gc(b)});return}}else if(g===3&&b.stateNode.current.memoizedState.isDehydrated){j.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}j.blockedOn=null}function Xc(j){if(j.blockedOn!==null)return!1;for(var g=j.targetContainers;0<g.length;){var b=Yc(j.domEventName,j.eventSystemFlags,g[0],j.nativeEvent);if(b===null){b=j.nativeEvent;var $=new b.constructor(b.type,b);wb=$,b.target.dispatchEvent($),wb=null}else return g=Cb(b),g!==null&&Fc(g),j.blockedOn=b,!1;g.shift()}return!0}function Zc(j,g,b){Xc(j)&&b.delete(g)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(j,g){j.blockedOn===g&&(j.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(j){function g(_e){return ad(_e,j)}if(0<Kc.length){ad(Kc[0],j);for(var b=1;b<Kc.length;b++){var $=Kc[b];$.blockedOn===j&&($.blockedOn=null)}}for(Lc!==null&&ad(Lc,j),Mc!==null&&ad(Mc,j),Nc!==null&&ad(Nc,j),Oc.forEach(g),Pc.forEach(g),b=0;b<Qc.length;b++)$=Qc[b],$.blockedOn===j&&($.blockedOn=null);for(;0<Qc.length&&(b=Qc[0],b.blockedOn===null);)Vc(b),b.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(j,g,b,$){var _e=C$1,et=cd.transition;cd.transition=null;try{C$1=1,fd(j,g,b,$)}finally{C$1=_e,cd.transition=et}}function gd(j,g,b,$){var _e=C$1,et=cd.transition;cd.transition=null;try{C$1=4,fd(j,g,b,$)}finally{C$1=_e,cd.transition=et}}function fd(j,g,b,$){if(dd){var _e=Yc(j,g,b,$);if(_e===null)hd(j,g,$,id,b),Sc(j,$);else if(Uc(_e,j,g,b,$))$.stopPropagation();else if(Sc(j,$),g&4&&-1<Rc.indexOf(j)){for(;_e!==null;){var et=Cb(_e);if(et!==null&&Ec(et),et=Yc(j,g,b,$),et===null&&hd(j,g,$,id,b),et===_e)break;_e=et}_e!==null&&$.stopPropagation()}else hd(j,g,$,null,b)}}var id=null;function Yc(j,g,b,$){if(id=null,j=xb($),j=Wc(j),j!==null)if(g=Vb(j),g===null)j=null;else if(b=g.tag,b===13){if(j=Wb(g),j!==null)return j;j=null}else if(b===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;j=null}else g!==j&&(j=null);return id=j,null}function jd(j){switch(j){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var j,g=ld,b=g.length,$,_e="value"in kd?kd.value:kd.textContent,et=_e.length;for(j=0;j<b&&g[j]===_e[j];j++);var tt=b-j;for($=1;$<=tt&&g[b-$]===_e[et-$];$++);return md=_e.slice(j,1<$?1-$:void 0)}function od(j){var g=j.keyCode;return"charCode"in j?(j=j.charCode,j===0&&g===13&&(j=13)):j=g,j===10&&(j=13),32<=j||j===13?j:0}function pd(){return!0}function qd(){return!1}function rd(j){function g(b,$,_e,et,tt){this._reactName=b,this._targetInst=_e,this.type=$,this.nativeEvent=et,this.target=tt,this.currentTarget=null;for(var nt in j)j.hasOwnProperty(nt)&&(b=j[nt],this[nt]=b?b(et):et[nt]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),g}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(j){return j.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(j){return j.relatedTarget===void 0?j.fromElement===j.srcElement?j.toElement:j.fromElement:j.relatedTarget},movementX:function(j){return"movementX"in j?j.movementX:(j!==yd&&(yd&&j.type==="mousemove"?(wd=j.screenX-yd.screenX,xd=j.screenY-yd.screenY):xd=wd=0,yd=j),wd)},movementY:function(j){return"movementY"in j?j.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(j){return"clipboardData"in j?j.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(j){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(j):(j=Od[j])?!!g[j]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(j){if(j.key){var g=Md[j.key]||j.key;if(g!=="Unidentified")return g}return j.type==="keypress"?(j=od(j),j===13?"Enter":String.fromCharCode(j)):j.type==="keydown"||j.type==="keyup"?Nd[j.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(j){return j.type==="keypress"?od(j):0},keyCode:function(j){return j.type==="keydown"||j.type==="keyup"?j.keyCode:0},which:function(j){return j.type==="keypress"?od(j):j.type==="keydown"||j.type==="keyup"?j.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(j){return"deltaX"in j?j.deltaX:"wheelDeltaX"in j?-j.wheelDeltaX:0},deltaY:function(j){return"deltaY"in j?j.deltaY:"wheelDeltaY"in j?-j.wheelDeltaY:"wheelDelta"in j?-j.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(j,g){switch(j){case"keyup":return $d.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(j){return j=j.detail,typeof j=="object"&&"data"in j?j.data:null}var ie=!1;function je(j,g){switch(j){case"compositionend":return he(g);case"keypress":return g.which!==32?null:(fe=!0,ee);case"textInput":return j=g.data,j===ee&&fe?null:j;default:return null}}function ke(j,g){if(ie)return j==="compositionend"||!ae&&ge(j,g)?(j=nd(),md=ld=kd=null,ie=!1,j):null;switch(j){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return de&&g.locale!=="ko"?null:g.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(j){var g=j&&j.nodeName&&j.nodeName.toLowerCase();return g==="input"?!!le[j.type]:g==="textarea"}function ne(j,g,b,$){Eb($),g=oe(g,"onChange"),0<g.length&&(b=new td("onChange","change",null,b,$),j.push({event:b,listeners:g}))}var pe=null,qe=null;function re(j){se(j,0)}function te(j){var g=ue(j);if(Wa(g))return j}function ve(j,g){if(j==="change")return g}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(j){if(j.propertyName==="value"&&te(qe)){var g=[];ne(g,qe,j,xb(j)),Jb(re,g)}}function Ce(j,g,b){j==="focusin"?(Ae(),pe=g,qe=b,pe.attachEvent("onpropertychange",Be)):j==="focusout"&&Ae()}function De(j){if(j==="selectionchange"||j==="keyup"||j==="keydown")return te(qe)}function Ee(j,g){if(j==="click")return te(g)}function Fe(j,g){if(j==="input"||j==="change")return te(g)}function Ge(j,g){return j===g&&(j!==0||1/j===1/g)||j!==j&&g!==g}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(j,g){if(He(j,g))return!0;if(typeof j!="object"||j===null||typeof g!="object"||g===null)return!1;var b=Object.keys(j),$=Object.keys(g);if(b.length!==$.length)return!1;for($=0;$<b.length;$++){var _e=b[$];if(!ja.call(g,_e)||!He(j[_e],g[_e]))return!1}return!0}function Je(j){for(;j&&j.firstChild;)j=j.firstChild;return j}function Ke(j,g){var b=Je(j);j=0;for(var $;b;){if(b.nodeType===3){if($=j+b.textContent.length,j<=g&&$>=g)return{node:b,offset:g-j};j=$}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=Je(b)}}function Le(j,g){return j&&g?j===g?!0:j&&j.nodeType===3?!1:g&&g.nodeType===3?Le(j,g.parentNode):"contains"in j?j.contains(g):j.compareDocumentPosition?!!(j.compareDocumentPosition(g)&16):!1:!1}function Me(){for(var j=window,g=Xa();g instanceof j.HTMLIFrameElement;){try{var b=typeof g.contentWindow.location.href=="string"}catch{b=!1}if(b)j=g.contentWindow;else break;g=Xa(j.document)}return g}function Ne(j){var g=j&&j.nodeName&&j.nodeName.toLowerCase();return g&&(g==="input"&&(j.type==="text"||j.type==="search"||j.type==="tel"||j.type==="url"||j.type==="password")||g==="textarea"||j.contentEditable==="true")}function Oe(j){var g=Me(),b=j.focusedElem,$=j.selectionRange;if(g!==b&&b&&b.ownerDocument&&Le(b.ownerDocument.documentElement,b)){if($!==null&&Ne(b)){if(g=$.start,j=$.end,j===void 0&&(j=g),"selectionStart"in b)b.selectionStart=g,b.selectionEnd=Math.min(j,b.value.length);else if(j=(g=b.ownerDocument||document)&&g.defaultView||window,j.getSelection){j=j.getSelection();var _e=b.textContent.length,et=Math.min($.start,_e);$=$.end===void 0?et:Math.min($.end,_e),!j.extend&&et>$&&(_e=$,$=et,et=_e),_e=Ke(b,et);var tt=Ke(b,$);_e&&tt&&(j.rangeCount!==1||j.anchorNode!==_e.node||j.anchorOffset!==_e.offset||j.focusNode!==tt.node||j.focusOffset!==tt.offset)&&(g=g.createRange(),g.setStart(_e.node,_e.offset),j.removeAllRanges(),et>$?(j.addRange(g),j.extend(tt.node,tt.offset)):(g.setEnd(tt.node,tt.offset),j.addRange(g)))}}for(g=[],j=b;j=j.parentNode;)j.nodeType===1&&g.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<g.length;b++)j=g[b],j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(j,g,b){var $=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Te||Qe==null||Qe!==Xa($)||($=Qe,"selectionStart"in $&&Ne($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),Se&&Ie(Se,$)||(Se=$,$=oe(Re,"onSelect"),0<$.length&&(g=new td("onSelect","select",null,g,b),j.push({event:g,listeners:$}),g.target=Qe)))}function Ve(j,g){var b={};return b[j.toLowerCase()]=g.toLowerCase(),b["Webkit"+j]="webkit"+g,b["Moz"+j]="moz"+g,b}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(j){if(Xe[j])return Xe[j];if(!We[j])return j;var g=We[j],b;for(b in g)if(g.hasOwnProperty(b)&&b in Ye)return Xe[j]=g[b];return j}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(j,g){df.set(j,g),fa(g,[j])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(j,g,b){var $=j.type||"unknown-event";j.currentTarget=b,Ub($,g,void 0,j),j.currentTarget=null}function se(j,g){g=(g&4)!==0;for(var b=0;b<j.length;b++){var $=j[b],_e=$.event;$=$.listeners;e:{var et=void 0;if(g)for(var tt=$.length-1;0<=tt;tt--){var nt=$[tt],rt=nt.instance,it=nt.currentTarget;if(nt=nt.listener,rt!==et&&_e.isPropagationStopped())break e;nf(_e,nt,it),et=rt}else for(tt=0;tt<$.length;tt++){if(nt=$[tt],rt=nt.instance,it=nt.currentTarget,nt=nt.listener,rt!==et&&_e.isPropagationStopped())break e;nf(_e,nt,it),et=rt}}}if(Qb)throw j=Rb,Qb=!1,Rb=null,j}function D$1(j,g){var b=g[of];b===void 0&&(b=g[of]=new Set);var $=j+"__bubble";b.has($)||(pf(g,j,2,!1),b.add($))}function qf(j,g,b){var $=0;g&&($|=4),pf(b,j,$,g)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(j){if(!j[rf]){j[rf]=!0,da.forEach(function(b){b!=="selectionchange"&&(mf.has(b)||qf(b,!1,j),qf(b,!0,j))});var g=j.nodeType===9?j:j.ownerDocument;g===null||g[rf]||(g[rf]=!0,qf("selectionchange",!1,g))}}function pf(j,g,b,$){switch(jd(g)){case 1:var _e=ed;break;case 4:_e=gd;break;default:_e=fd}b=_e.bind(null,g,b,j),_e=void 0,!Lb||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(_e=!0),$?_e!==void 0?j.addEventListener(g,b,{capture:!0,passive:_e}):j.addEventListener(g,b,!0):_e!==void 0?j.addEventListener(g,b,{passive:_e}):j.addEventListener(g,b,!1)}function hd(j,g,b,$,_e){var et=$;if((g&1)===0&&(g&2)===0&&$!==null)e:for(;;){if($===null)return;var tt=$.tag;if(tt===3||tt===4){var nt=$.stateNode.containerInfo;if(nt===_e||nt.nodeType===8&&nt.parentNode===_e)break;if(tt===4)for(tt=$.return;tt!==null;){var rt=tt.tag;if((rt===3||rt===4)&&(rt=tt.stateNode.containerInfo,rt===_e||rt.nodeType===8&&rt.parentNode===_e))return;tt=tt.return}for(;nt!==null;){if(tt=Wc(nt),tt===null)return;if(rt=tt.tag,rt===5||rt===6){$=et=tt;continue e}nt=nt.parentNode}}$=$.return}Jb(function(){var it=et,ot=xb(b),st=[];e:{var at=df.get(j);if(at!==void 0){var lt=td,ut=j;switch(j){case"keypress":if(od(b)===0)break e;case"keydown":case"keyup":lt=Rd;break;case"focusin":ut="focus",lt=Fd;break;case"focusout":ut="blur",lt=Fd;break;case"beforeblur":case"afterblur":lt=Fd;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Vd;break;case $e:case af:case bf:lt=Hd;break;case cf:lt=Xd;break;case"scroll":lt=vd;break;case"wheel":lt=Zd;break;case"copy":case"cut":case"paste":lt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Td}var ct=(g&4)!==0,ft=!ct&&j==="scroll",ht=ct?at!==null?at+"Capture":null:at;ct=[];for(var dt=it,pt;dt!==null;){pt=dt;var mt=pt.stateNode;if(pt.tag===5&&mt!==null&&(pt=mt,ht!==null&&(mt=Kb(dt,ht),mt!=null&&ct.push(tf(dt,mt,pt)))),ft)break;dt=dt.return}0<ct.length&&(at=new lt(at,ut,null,b,ot),st.push({event:at,listeners:ct}))}}if((g&7)===0){e:{if(at=j==="mouseover"||j==="pointerover",lt=j==="mouseout"||j==="pointerout",at&&b!==wb&&(ut=b.relatedTarget||b.fromElement)&&(Wc(ut)||ut[uf]))break e;if((lt||at)&&(at=ot.window===ot?ot:(at=ot.ownerDocument)?at.defaultView||at.parentWindow:window,lt?(ut=b.relatedTarget||b.toElement,lt=it,ut=ut?Wc(ut):null,ut!==null&&(ft=Vb(ut),ut!==ft||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(lt=null,ut=it),lt!==ut)){if(ct=Bd,mt="onMouseLeave",ht="onMouseEnter",dt="mouse",(j==="pointerout"||j==="pointerover")&&(ct=Td,mt="onPointerLeave",ht="onPointerEnter",dt="pointer"),ft=lt==null?at:ue(lt),pt=ut==null?at:ue(ut),at=new ct(mt,dt+"leave",lt,b,ot),at.target=ft,at.relatedTarget=pt,mt=null,Wc(ot)===it&&(ct=new ct(ht,dt+"enter",ut,b,ot),ct.target=pt,ct.relatedTarget=ft,mt=ct),ft=mt,lt&&ut)t:{for(ct=lt,ht=ut,dt=0,pt=ct;pt;pt=vf(pt))dt++;for(pt=0,mt=ht;mt;mt=vf(mt))pt++;for(;0<dt-pt;)ct=vf(ct),dt--;for(;0<pt-dt;)ht=vf(ht),pt--;for(;dt--;){if(ct===ht||ht!==null&&ct===ht.alternate)break t;ct=vf(ct),ht=vf(ht)}ct=null}else ct=null;lt!==null&&wf(st,at,lt,ct,!1),ut!==null&&ft!==null&&wf(st,ft,ut,ct,!0)}}e:{if(at=it?ue(it):window,lt=at.nodeName&&at.nodeName.toLowerCase(),lt==="select"||lt==="input"&&at.type==="file")var gt=ve;else if(me(at))if(we)gt=Fe;else{gt=De;var yt=Ce}else(lt=at.nodeName)&&lt.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(gt=Ee);if(gt&&(gt=gt(j,it))){ne(st,gt,b,ot);break e}yt&&yt(j,at,it),j==="focusout"&&(yt=at._wrapperState)&&yt.controlled&&at.type==="number"&&cb(at,"number",at.value)}switch(yt=it?ue(it):window,j){case"focusin":(me(yt)||yt.contentEditable==="true")&&(Qe=yt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(st,b,ot);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(st,b,ot)}var _t;if(ae)e:{switch(j){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else ie?ge(j,b)&&(vt="onCompositionEnd"):j==="keydown"&&b.keyCode===229&&(vt="onCompositionStart");vt&&(de&&b.locale!=="ko"&&(ie||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ie&&(_t=nd()):(kd=ot,ld="value"in kd?kd.value:kd.textContent,ie=!0)),yt=oe(it,vt),0<yt.length&&(vt=new Ld(vt,j,null,b,ot),st.push({event:vt,listeners:yt}),_t?vt.data=_t:(_t=he(b),_t!==null&&(vt.data=_t)))),(_t=ce?je(j,b):ke(j,b))&&(it=oe(it,"onBeforeInput"),0<it.length&&(ot=new Ld("onBeforeInput","beforeinput",null,b,ot),st.push({event:ot,listeners:it}),ot.data=_t))}se(st,g)})}function tf(j,g,b){return{instance:j,listener:g,currentTarget:b}}function oe(j,g){for(var b=g+"Capture",$=[];j!==null;){var _e=j,et=_e.stateNode;_e.tag===5&&et!==null&&(_e=et,et=Kb(j,b),et!=null&&$.unshift(tf(j,et,_e)),et=Kb(j,g),et!=null&&$.push(tf(j,et,_e))),j=j.return}return $}function vf(j){if(j===null)return null;do j=j.return;while(j&&j.tag!==5);return j||null}function wf(j,g,b,$,_e){for(var et=g._reactName,tt=[];b!==null&&b!==$;){var nt=b,rt=nt.alternate,it=nt.stateNode;if(rt!==null&&rt===$)break;nt.tag===5&&it!==null&&(nt=it,_e?(rt=Kb(b,et),rt!=null&&tt.unshift(tf(b,rt,nt))):_e||(rt=Kb(b,et),rt!=null&&tt.push(tf(b,rt,nt)))),b=b.return}tt.length!==0&&j.push({event:g,listeners:tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(j){return(typeof j=="string"?j:""+j).replace(xf,`
`).replace(yf,"")}function Af(j,g,b){if(g=zf(g),zf(j)!==g&&b)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(j,g){return j==="textarea"||j==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf!="undefined"?function(j){return Hf.resolve(null).then(j).catch(If)}:Ff;function If(j){setTimeout(function(){throw j})}function Kf(j,g){var b=g,$=0;do{var _e=b.nextSibling;if(j.removeChild(b),_e&&_e.nodeType===8)if(b=_e.data,b==="/$"){if($===0){j.removeChild(_e),bd(g);return}$--}else b!=="$"&&b!=="$?"&&b!=="$!"||$++;b=_e}while(b);bd(g)}function Lf(j){for(;j!=null;j=j.nextSibling){var g=j.nodeType;if(g===1||g===3)break;if(g===8){if(g=j.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return j}function Mf(j){j=j.previousSibling;for(var g=0;j;){if(j.nodeType===8){var b=j.data;if(b==="$"||b==="$!"||b==="$?"){if(g===0)return j;g--}else b==="/$"&&g++}j=j.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(j){var g=j[Of];if(g)return g;for(var b=j.parentNode;b;){if(g=b[uf]||b[Of]){if(b=g.alternate,g.child!==null||b!==null&&b.child!==null)for(j=Mf(j);j!==null;){if(b=j[Of])return b;j=Mf(j)}return g}j=b,b=j.parentNode}return null}function Cb(j){return j=j[Of]||j[uf],!j||j.tag!==5&&j.tag!==6&&j.tag!==13&&j.tag!==3?null:j}function ue(j){if(j.tag===5||j.tag===6)return j.stateNode;throw Error(p$2(33))}function Db(j){return j[Pf]||null}var Sf=[],Tf=-1;function Uf(j){return{current:j}}function E$1(j){0>Tf||(j.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(j,g){Tf++,Sf[Tf]=j.current,j.current=g}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(j,g){var b=j.type.contextTypes;if(!b)return Vf;var $=j.stateNode;if($&&$.__reactInternalMemoizedUnmaskedChildContext===g)return $.__reactInternalMemoizedMaskedChildContext;var _e={},et;for(et in b)_e[et]=g[et];return $&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=g,j.__reactInternalMemoizedMaskedChildContext=_e),_e}function Zf(j){return j=j.childContextTypes,j!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(j,g,b){if(H$1.current!==Vf)throw Error(p$2(168));G(H$1,g),G(Wf,b)}function bg(j,g,b){var $=j.stateNode;if(g=g.childContextTypes,typeof $.getChildContext!="function")return b;$=$.getChildContext();for(var _e in $)if(!(_e in g))throw Error(p$2(108,Ra(j)||"Unknown",_e));return A$1({},b,$)}function cg(j){return j=(j=j.stateNode)&&j.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G(H$1,j),G(Wf,Wf.current),!0}function dg(j,g,b){var $=j.stateNode;if(!$)throw Error(p$2(169));b?(j=bg(j,g,Xf),$.__reactInternalMemoizedMergedChildContext=j,E$1(Wf),E$1(H$1),G(H$1,j)):E$1(Wf),G(Wf,b)}var eg=null,fg=!1,gg=!1;function hg(j){eg===null?eg=[j]:eg.push(j)}function ig(j){fg=!0,hg(j)}function jg(){if(!gg&&eg!==null){gg=!0;var j=0,g=C$1;try{var b=eg;for(C$1=1;j<b.length;j++){var $=b[j];do $=$(!0);while($!==null)}eg=null,fg=!1}catch(_e){throw eg!==null&&(eg=eg.slice(j+1)),ac(fc,jg),_e}finally{C$1=g,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(j,g){kg[lg++]=ng,kg[lg++]=mg,mg=j,ng=g}function ug(j,g,b){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=j;var $=rg;j=sg;var _e=32-oc($)-1;$&=~(1<<_e),b+=1;var et=32-oc(g)+_e;if(30<et){var tt=_e-_e%5;et=($&(1<<tt)-1).toString(32),$>>=tt,_e-=tt,rg=1<<32-oc(g)+_e|b<<_e|$,sg=et+j}else rg=1<<et|b<<_e|$,sg=j}function vg(j){j.return!==null&&(tg(j,1),ug(j,1,0))}function wg(j){for(;j===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;j===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(j,g){var b=Bg(5,null,null,0);b.elementType="DELETED",b.stateNode=g,b.return=j,g=j.deletions,g===null?(j.deletions=[b],j.flags|=16):g.push(b)}function Cg(j,g){switch(j.tag){case 5:var b=j.type;return g=g.nodeType!==1||b.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(j.stateNode=g,xg=j,yg=Lf(g.firstChild),!0):!1;case 6:return g=j.pendingProps===""||g.nodeType!==3?null:g,g!==null?(j.stateNode=g,xg=j,yg=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(b=qg!==null?{id:rg,overflow:sg}:null,j.memoizedState={dehydrated:g,treeContext:b,retryLane:1073741824},b=Bg(18,null,null,0),b.stateNode=g,b.return=j,j.child=b,xg=j,yg=null,!0):!1;default:return!1}}function Dg(j){return(j.mode&1)!==0&&(j.flags&128)===0}function Eg(j){if(I$1){var g=yg;if(g){var b=g;if(!Cg(j,g)){if(Dg(j))throw Error(p$2(418));g=Lf(b.nextSibling);var $=xg;g&&Cg(j,g)?Ag($,b):(j.flags=j.flags&-4097|2,I$1=!1,xg=j)}}else{if(Dg(j))throw Error(p$2(418));j.flags=j.flags&-4097|2,I$1=!1,xg=j}}}function Fg(j){for(j=j.return;j!==null&&j.tag!==5&&j.tag!==3&&j.tag!==13;)j=j.return;xg=j}function Gg(j){if(j!==xg)return!1;if(!I$1)return Fg(j),I$1=!0,!1;var g;if((g=j.tag!==3)&&!(g=j.tag!==5)&&(g=j.type,g=g!=="head"&&g!=="body"&&!Ef(j.type,j.memoizedProps)),g&&(g=yg)){if(Dg(j))throw Hg(),Error(p$2(418));for(;g;)Ag(j,g),g=Lf(g.nextSibling)}if(Fg(j),j.tag===13){if(j=j.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(p$2(317));e:{for(j=j.nextSibling,g=0;j;){if(j.nodeType===8){var b=j.data;if(b==="/$"){if(g===0){yg=Lf(j.nextSibling);break e}g--}else b!=="$"&&b!=="$!"&&b!=="$?"||g++}j=j.nextSibling}yg=null}}else yg=xg?Lf(j.stateNode.nextSibling):null;return!0}function Hg(){for(var j=yg;j;)j=Lf(j.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(j){zg===null?zg=[j]:zg.push(j)}var Kg=ua.ReactCurrentBatchConfig;function Lg(j,g){if(j&&j.defaultProps){g=A$1({},g),j=j.defaultProps;for(var b in j)g[b]===void 0&&(g[b]=j[b]);return g}return g}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(j){var g=Mg.current;E$1(Mg),j._currentValue=g}function Sg(j,g,b){for(;j!==null;){var $=j.alternate;if((j.childLanes&g)!==g?(j.childLanes|=g,$!==null&&($.childLanes|=g)):$!==null&&($.childLanes&g)!==g&&($.childLanes|=g),j===b)break;j=j.return}}function Tg(j,g){Ng=j,Pg=Og=null,j=j.dependencies,j!==null&&j.firstContext!==null&&((j.lanes&g)!==0&&(Ug=!0),j.firstContext=null)}function Vg(j){var g=j._currentValue;if(Pg!==j)if(j={context:j,memoizedValue:g,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=j,Ng.dependencies={lanes:0,firstContext:j}}else Og=Og.next=j;return g}var Wg=null;function Xg(j){Wg===null?Wg=[j]:Wg.push(j)}function Yg(j,g,b,$){var _e=g.interleaved;return _e===null?(b.next=b,Xg(g)):(b.next=_e.next,_e.next=b),g.interleaved=b,Zg(j,$)}function Zg(j,g){j.lanes|=g;var b=j.alternate;for(b!==null&&(b.lanes|=g),b=j,j=j.return;j!==null;)j.childLanes|=g,b=j.alternate,b!==null&&(b.childLanes|=g),b=j,j=j.return;return b.tag===3?b.stateNode:null}var $g=!1;function ah(j){j.updateQueue={baseState:j.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(j,g){j=j.updateQueue,g.updateQueue===j&&(g.updateQueue={baseState:j.baseState,firstBaseUpdate:j.firstBaseUpdate,lastBaseUpdate:j.lastBaseUpdate,shared:j.shared,effects:j.effects})}function ch(j,g){return{eventTime:j,lane:g,tag:0,payload:null,callback:null,next:null}}function dh(j,g,b){var $=j.updateQueue;if($===null)return null;if($=$.shared,(K$1&2)!==0){var _e=$.pending;return _e===null?g.next=g:(g.next=_e.next,_e.next=g),$.pending=g,Zg(j,b)}return _e=$.interleaved,_e===null?(g.next=g,Xg($)):(g.next=_e.next,_e.next=g),$.interleaved=g,Zg(j,b)}function eh(j,g,b){if(g=g.updateQueue,g!==null&&(g=g.shared,(b&4194240)!==0)){var $=g.lanes;$&=j.pendingLanes,b|=$,g.lanes=b,Cc(j,b)}}function fh(j,g){var b=j.updateQueue,$=j.alternate;if($!==null&&($=$.updateQueue,b===$)){var _e=null,et=null;if(b=b.firstBaseUpdate,b!==null){do{var tt={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};et===null?_e=et=tt:et=et.next=tt,b=b.next}while(b!==null);et===null?_e=et=g:et=et.next=g}else _e=et=g;b={baseState:$.baseState,firstBaseUpdate:_e,lastBaseUpdate:et,shared:$.shared,effects:$.effects},j.updateQueue=b;return}j=b.lastBaseUpdate,j===null?b.firstBaseUpdate=g:j.next=g,b.lastBaseUpdate=g}function gh(j,g,b,$){var _e=j.updateQueue;$g=!1;var et=_e.firstBaseUpdate,tt=_e.lastBaseUpdate,nt=_e.shared.pending;if(nt!==null){_e.shared.pending=null;var rt=nt,it=rt.next;rt.next=null,tt===null?et=it:tt.next=it,tt=rt;var ot=j.alternate;ot!==null&&(ot=ot.updateQueue,nt=ot.lastBaseUpdate,nt!==tt&&(nt===null?ot.firstBaseUpdate=it:nt.next=it,ot.lastBaseUpdate=rt))}if(et!==null){var st=_e.baseState;tt=0,ot=it=rt=null,nt=et;do{var at=nt.lane,lt=nt.eventTime;if(($&at)===at){ot!==null&&(ot=ot.next={eventTime:lt,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var ut=j,ct=nt;switch(at=g,lt=b,ct.tag){case 1:if(ut=ct.payload,typeof ut=="function"){st=ut.call(lt,st,at);break e}st=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ct.payload,at=typeof ut=="function"?ut.call(lt,st,at):ut,at==null)break e;st=A$1({},st,at);break e;case 2:$g=!0}}nt.callback!==null&&nt.lane!==0&&(j.flags|=64,at=_e.effects,at===null?_e.effects=[nt]:at.push(nt))}else lt={eventTime:lt,lane:at,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},ot===null?(it=ot=lt,rt=st):ot=ot.next=lt,tt|=at;if(nt=nt.next,nt===null){if(nt=_e.shared.pending,nt===null)break;at=nt,nt=at.next,at.next=null,_e.lastBaseUpdate=at,_e.shared.pending=null}}while(1);if(ot===null&&(rt=st),_e.baseState=rt,_e.firstBaseUpdate=it,_e.lastBaseUpdate=ot,g=_e.shared.interleaved,g!==null){_e=g;do tt|=_e.lane,_e=_e.next;while(_e!==g)}else et===null&&(_e.shared.lanes=0);hh|=tt,j.lanes=tt,j.memoizedState=st}}function ih(j,g,b){if(j=g.effects,g.effects=null,j!==null)for(g=0;g<j.length;g++){var $=j[g],_e=$.callback;if(_e!==null){if($.callback=null,$=b,typeof _e!="function")throw Error(p$2(191,_e));_e.call($)}}}var jh=new aa.Component().refs;function kh(j,g,b,$){g=j.memoizedState,b=b($,g),b=b==null?g:A$1({},g,b),j.memoizedState=b,j.lanes===0&&(j.updateQueue.baseState=b)}var nh={isMounted:function(j){return(j=j._reactInternals)?Vb(j)===j:!1},enqueueSetState:function(j,g,b){j=j._reactInternals;var $=L(),_e=lh(j),et=ch($,_e);et.payload=g,b!=null&&(et.callback=b),g=dh(j,et,_e),g!==null&&(mh(g,j,_e,$),eh(g,j,_e))},enqueueReplaceState:function(j,g,b){j=j._reactInternals;var $=L(),_e=lh(j),et=ch($,_e);et.tag=1,et.payload=g,b!=null&&(et.callback=b),g=dh(j,et,_e),g!==null&&(mh(g,j,_e,$),eh(g,j,_e))},enqueueForceUpdate:function(j,g){j=j._reactInternals;var b=L(),$=lh(j),_e=ch(b,$);_e.tag=2,g!=null&&(_e.callback=g),g=dh(j,_e,$),g!==null&&(mh(g,j,$,b),eh(g,j,$))}};function oh(j,g,b,$,_e,et,tt){return j=j.stateNode,typeof j.shouldComponentUpdate=="function"?j.shouldComponentUpdate($,et,tt):g.prototype&&g.prototype.isPureReactComponent?!Ie(b,$)||!Ie(_e,et):!0}function ph(j,g,b){var $=!1,_e=Vf,et=g.contextType;return typeof et=="object"&&et!==null?et=Vg(et):(_e=Zf(g)?Xf:H$1.current,$=g.contextTypes,et=($=$!=null)?Yf(j,_e):Vf),g=new g(b,et),j.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=nh,j.stateNode=g,g._reactInternals=j,$&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=_e,j.__reactInternalMemoizedMaskedChildContext=et),g}function qh(j,g,b,$){j=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(b,$),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(b,$),g.state!==j&&nh.enqueueReplaceState(g,g.state,null)}function rh(j,g,b,$){var _e=j.stateNode;_e.props=b,_e.state=j.memoizedState,_e.refs=jh,ah(j);var et=g.contextType;typeof et=="object"&&et!==null?_e.context=Vg(et):(et=Zf(g)?Xf:H$1.current,_e.context=Yf(j,et)),_e.state=j.memoizedState,et=g.getDerivedStateFromProps,typeof et=="function"&&(kh(j,g,et,b),_e.state=j.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof _e.getSnapshotBeforeUpdate=="function"||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(g=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),g!==_e.state&&nh.enqueueReplaceState(_e,_e.state,null),gh(j,b,_e,$),_e.state=j.memoizedState),typeof _e.componentDidMount=="function"&&(j.flags|=4194308)}function sh(j,g,b){if(j=b.ref,j!==null&&typeof j!="function"&&typeof j!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(p$2(309));var $=b.stateNode}if(!$)throw Error(p$2(147,j));var _e=$,et=""+j;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===et?g.ref:(g=function(tt){var nt=_e.refs;nt===jh&&(nt=_e.refs={}),tt===null?delete nt[et]:nt[et]=tt},g._stringRef=et,g)}if(typeof j!="string")throw Error(p$2(284));if(!b._owner)throw Error(p$2(290,j))}return j}function th(j,g){throw j=Object.prototype.toString.call(g),Error(p$2(31,j==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":j))}function uh(j){var g=j._init;return g(j._payload)}function vh(j){function g(ht,dt){if(j){var pt=ht.deletions;pt===null?(ht.deletions=[dt],ht.flags|=16):pt.push(dt)}}function b(ht,dt){if(!j)return null;for(;dt!==null;)g(ht,dt),dt=dt.sibling;return null}function $(ht,dt){for(ht=new Map;dt!==null;)dt.key!==null?ht.set(dt.key,dt):ht.set(dt.index,dt),dt=dt.sibling;return ht}function _e(ht,dt){return ht=wh(ht,dt),ht.index=0,ht.sibling=null,ht}function et(ht,dt,pt){return ht.index=pt,j?(pt=ht.alternate,pt!==null?(pt=pt.index,pt<dt?(ht.flags|=2,dt):pt):(ht.flags|=2,dt)):(ht.flags|=1048576,dt)}function tt(ht){return j&&ht.alternate===null&&(ht.flags|=2),ht}function nt(ht,dt,pt,mt){return dt===null||dt.tag!==6?(dt=xh(pt,ht.mode,mt),dt.return=ht,dt):(dt=_e(dt,pt),dt.return=ht,dt)}function rt(ht,dt,pt,mt){var gt=pt.type;return gt===ya?ot(ht,dt,pt.props.children,mt,pt.key):dt!==null&&(dt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&uh(gt)===dt.type)?(mt=_e(dt,pt.props),mt.ref=sh(ht,dt,pt),mt.return=ht,mt):(mt=yh(pt.type,pt.key,pt.props,null,ht.mode,mt),mt.ref=sh(ht,dt,pt),mt.return=ht,mt)}function it(ht,dt,pt,mt){return dt===null||dt.tag!==4||dt.stateNode.containerInfo!==pt.containerInfo||dt.stateNode.implementation!==pt.implementation?(dt=zh(pt,ht.mode,mt),dt.return=ht,dt):(dt=_e(dt,pt.children||[]),dt.return=ht,dt)}function ot(ht,dt,pt,mt,gt){return dt===null||dt.tag!==7?(dt=Ah(pt,ht.mode,mt,gt),dt.return=ht,dt):(dt=_e(dt,pt),dt.return=ht,dt)}function st(ht,dt,pt){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return dt=xh(""+dt,ht.mode,pt),dt.return=ht,dt;if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:return pt=yh(dt.type,dt.key,dt.props,null,ht.mode,pt),pt.ref=sh(ht,null,dt),pt.return=ht,pt;case wa:return dt=zh(dt,ht.mode,pt),dt.return=ht,dt;case Ha:var mt=dt._init;return st(ht,mt(dt._payload),pt)}if(eb(dt)||Ka(dt))return dt=Ah(dt,ht.mode,pt,null),dt.return=ht,dt;th(ht,dt)}return null}function at(ht,dt,pt,mt){var gt=dt!==null?dt.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return gt!==null?null:nt(ht,dt,""+pt,mt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===gt?rt(ht,dt,pt,mt):null;case wa:return pt.key===gt?it(ht,dt,pt,mt):null;case Ha:return gt=pt._init,at(ht,dt,gt(pt._payload),mt)}if(eb(pt)||Ka(pt))return gt!==null?null:ot(ht,dt,pt,mt,null);th(ht,pt)}return null}function lt(ht,dt,pt,mt,gt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return ht=ht.get(pt)||null,nt(dt,ht,""+mt,gt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return ht=ht.get(mt.key===null?pt:mt.key)||null,rt(dt,ht,mt,gt);case wa:return ht=ht.get(mt.key===null?pt:mt.key)||null,it(dt,ht,mt,gt);case Ha:var yt=mt._init;return lt(ht,dt,pt,yt(mt._payload),gt)}if(eb(mt)||Ka(mt))return ht=ht.get(pt)||null,ot(dt,ht,mt,gt,null);th(dt,mt)}return null}function ut(ht,dt,pt,mt){for(var gt=null,yt=null,_t=dt,vt=dt=0,At=null;_t!==null&&vt<pt.length;vt++){_t.index>vt?(At=_t,_t=null):At=_t.sibling;var bt=at(ht,_t,pt[vt],mt);if(bt===null){_t===null&&(_t=At);break}j&&_t&&bt.alternate===null&&g(ht,_t),dt=et(bt,dt,vt),yt===null?gt=bt:yt.sibling=bt,yt=bt,_t=At}if(vt===pt.length)return b(ht,_t),I$1&&tg(ht,vt),gt;if(_t===null){for(;vt<pt.length;vt++)_t=st(ht,pt[vt],mt),_t!==null&&(dt=et(_t,dt,vt),yt===null?gt=_t:yt.sibling=_t,yt=_t);return I$1&&tg(ht,vt),gt}for(_t=$(ht,_t);vt<pt.length;vt++)At=lt(_t,ht,vt,pt[vt],mt),At!==null&&(j&&At.alternate!==null&&_t.delete(At.key===null?vt:At.key),dt=et(At,dt,vt),yt===null?gt=At:yt.sibling=At,yt=At);return j&&_t.forEach(function(xt){return g(ht,xt)}),I$1&&tg(ht,vt),gt}function ct(ht,dt,pt,mt){var gt=Ka(pt);if(typeof gt!="function")throw Error(p$2(150));if(pt=gt.call(pt),pt==null)throw Error(p$2(151));for(var yt=gt=null,_t=dt,vt=dt=0,At=null,bt=pt.next();_t!==null&&!bt.done;vt++,bt=pt.next()){_t.index>vt?(At=_t,_t=null):At=_t.sibling;var xt=at(ht,_t,bt.value,mt);if(xt===null){_t===null&&(_t=At);break}j&&_t&&xt.alternate===null&&g(ht,_t),dt=et(xt,dt,vt),yt===null?gt=xt:yt.sibling=xt,yt=xt,_t=At}if(bt.done)return b(ht,_t),I$1&&tg(ht,vt),gt;if(_t===null){for(;!bt.done;vt++,bt=pt.next())bt=st(ht,bt.value,mt),bt!==null&&(dt=et(bt,dt,vt),yt===null?gt=bt:yt.sibling=bt,yt=bt);return I$1&&tg(ht,vt),gt}for(_t=$(ht,_t);!bt.done;vt++,bt=pt.next())bt=lt(_t,ht,vt,bt.value,mt),bt!==null&&(j&&bt.alternate!==null&&_t.delete(bt.key===null?vt:bt.key),dt=et(bt,dt,vt),yt===null?gt=bt:yt.sibling=bt,yt=bt);return j&&_t.forEach(function(Et){return g(ht,Et)}),I$1&&tg(ht,vt),gt}function ft(ht,dt,pt,mt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:e:{for(var gt=pt.key,yt=dt;yt!==null;){if(yt.key===gt){if(gt=pt.type,gt===ya){if(yt.tag===7){b(ht,yt.sibling),dt=_e(yt,pt.props.children),dt.return=ht,ht=dt;break e}}else if(yt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&uh(gt)===yt.type){b(ht,yt.sibling),dt=_e(yt,pt.props),dt.ref=sh(ht,yt,pt),dt.return=ht,ht=dt;break e}b(ht,yt);break}else g(ht,yt);yt=yt.sibling}pt.type===ya?(dt=Ah(pt.props.children,ht.mode,mt,pt.key),dt.return=ht,ht=dt):(mt=yh(pt.type,pt.key,pt.props,null,ht.mode,mt),mt.ref=sh(ht,dt,pt),mt.return=ht,ht=mt)}return tt(ht);case wa:e:{for(yt=pt.key;dt!==null;){if(dt.key===yt)if(dt.tag===4&&dt.stateNode.containerInfo===pt.containerInfo&&dt.stateNode.implementation===pt.implementation){b(ht,dt.sibling),dt=_e(dt,pt.children||[]),dt.return=ht,ht=dt;break e}else{b(ht,dt);break}else g(ht,dt);dt=dt.sibling}dt=zh(pt,ht.mode,mt),dt.return=ht,ht=dt}return tt(ht);case Ha:return yt=pt._init,ft(ht,dt,yt(pt._payload),mt)}if(eb(pt))return ut(ht,dt,pt,mt);if(Ka(pt))return ct(ht,dt,pt,mt);th(ht,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,dt!==null&&dt.tag===6?(b(ht,dt.sibling),dt=_e(dt,pt),dt.return=ht,ht=dt):(b(ht,dt),dt=xh(pt,ht.mode,mt),dt.return=ht,ht=dt),tt(ht)):b(ht,dt)}return ft}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(j){if(j===Dh)throw Error(p$2(174));return j}function Ih(j,g){switch(G(Gh,g),G(Fh,j),G(Eh,Dh),j=g.nodeType,j){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:lb(null,"");break;default:j=j===8?g.parentNode:g,g=j.namespaceURI||null,j=j.tagName,g=lb(g,j)}E$1(Eh),G(Eh,g)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(j){Hh(Gh.current);var g=Hh(Eh.current),b=lb(g,j.type);g!==b&&(G(Fh,j),G(Eh,b))}function Lh(j){Fh.current===j&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(j){for(var g=j;g!==null;){if(g.tag===13){var b=g.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===j)break;for(;g.sibling===null;){if(g.return===null||g.return===j)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Nh=[];function Oh(){for(var j=0;j<Nh.length;j++)Nh[j]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$2(321))}function Wh(j,g){if(g===null)return!1;for(var b=0;b<g.length&&b<j.length;b++)if(!He(j[b],g[b]))return!1;return!0}function Xh(j,g,b,$,_e,et){if(Rh=et,N$1=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Ph.current=j===null||j.memoizedState===null?Yh:Zh,j=b($,_e),Th){et=0;do{if(Th=!1,Uh=0,25<=et)throw Error(p$2(301));et+=1,P=O$1=null,g.updateQueue=null,Ph.current=$h,j=b($,_e)}while(Th)}if(Ph.current=ai,g=O$1!==null&&O$1.next!==null,Rh=0,P=O$1=N$1=null,Sh=!1,g)throw Error(p$2(300));return j}function bi(){var j=Uh!==0;return Uh=0,j}function ci(){var j={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N$1.memoizedState=P=j:P=P.next=j,P}function di(){if(O$1===null){var j=N$1.alternate;j=j!==null?j.memoizedState:null}else j=O$1.next;var g=P===null?N$1.memoizedState:P.next;if(g!==null)P=g,O$1=j;else{if(j===null)throw Error(p$2(310));O$1=j,j={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P===null?N$1.memoizedState=P=j:P=P.next=j}return P}function ei(j,g){return typeof g=="function"?g(j):g}function fi(j){var g=di(),b=g.queue;if(b===null)throw Error(p$2(311));b.lastRenderedReducer=j;var $=O$1,_e=$.baseQueue,et=b.pending;if(et!==null){if(_e!==null){var tt=_e.next;_e.next=et.next,et.next=tt}$.baseQueue=_e=et,b.pending=null}if(_e!==null){et=_e.next,$=$.baseState;var nt=tt=null,rt=null,it=et;do{var ot=it.lane;if((Rh&ot)===ot)rt!==null&&(rt=rt.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),$=it.hasEagerState?it.eagerState:j($,it.action);else{var st={lane:ot,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};rt===null?(nt=rt=st,tt=$):rt=rt.next=st,N$1.lanes|=ot,hh|=ot}it=it.next}while(it!==null&&it!==et);rt===null?tt=$:rt.next=nt,He($,g.memoizedState)||(Ug=!0),g.memoizedState=$,g.baseState=tt,g.baseQueue=rt,b.lastRenderedState=$}if(j=b.interleaved,j!==null){_e=j;do et=_e.lane,N$1.lanes|=et,hh|=et,_e=_e.next;while(_e!==j)}else _e===null&&(b.lanes=0);return[g.memoizedState,b.dispatch]}function gi(j){var g=di(),b=g.queue;if(b===null)throw Error(p$2(311));b.lastRenderedReducer=j;var $=b.dispatch,_e=b.pending,et=g.memoizedState;if(_e!==null){b.pending=null;var tt=_e=_e.next;do et=j(et,tt.action),tt=tt.next;while(tt!==_e);He(et,g.memoizedState)||(Ug=!0),g.memoizedState=et,g.baseQueue===null&&(g.baseState=et),b.lastRenderedState=et}return[et,$]}function hi(){}function ii(j,g){var b=N$1,$=di(),_e=g(),et=!He($.memoizedState,_e);if(et&&($.memoizedState=_e,Ug=!0),$=$.queue,ji(ki.bind(null,b,$,j),[j]),$.getSnapshot!==g||et||P!==null&&P.memoizedState.tag&1){if(b.flags|=2048,li(9,mi.bind(null,b,$,_e,g),void 0,null),R$2===null)throw Error(p$2(349));(Rh&30)!==0||ni(b,g,_e)}return _e}function ni(j,g,b){j.flags|=16384,j={getSnapshot:g,value:b},g=N$1.updateQueue,g===null?(g={lastEffect:null,stores:null},N$1.updateQueue=g,g.stores=[j]):(b=g.stores,b===null?g.stores=[j]:b.push(j))}function mi(j,g,b,$){g.value=b,g.getSnapshot=$,oi(g)&&pi(j)}function ki(j,g,b){return b(function(){oi(g)&&pi(j)})}function oi(j){var g=j.getSnapshot;j=j.value;try{var b=g();return!He(j,b)}catch{return!0}}function pi(j){var g=Zg(j,1);g!==null&&mh(g,j,1,-1)}function qi(j){var g=ci();return typeof j=="function"&&(j=j()),g.memoizedState=g.baseState=j,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:j},g.queue=j,j=j.dispatch=ri.bind(null,N$1,j),[g.memoizedState,j]}function li(j,g,b,$){return j={tag:j,create:g,destroy:b,deps:$,next:null},g=N$1.updateQueue,g===null?(g={lastEffect:null,stores:null},N$1.updateQueue=g,g.lastEffect=j.next=j):(b=g.lastEffect,b===null?g.lastEffect=j.next=j:($=b.next,b.next=j,j.next=$,g.lastEffect=j)),j}function si(){return di().memoizedState}function ti(j,g,b,$){var _e=ci();N$1.flags|=j,_e.memoizedState=li(1|g,b,void 0,$===void 0?null:$)}function ui(j,g,b,$){var _e=di();$=$===void 0?null:$;var et=void 0;if(O$1!==null){var tt=O$1.memoizedState;if(et=tt.destroy,$!==null&&Wh($,tt.deps)){_e.memoizedState=li(g,b,et,$);return}}N$1.flags|=j,_e.memoizedState=li(1|g,b,et,$)}function vi(j,g){return ti(8390656,8,j,g)}function ji(j,g){return ui(2048,8,j,g)}function wi(j,g){return ui(4,2,j,g)}function xi(j,g){return ui(4,4,j,g)}function yi(j,g){if(typeof g=="function")return j=j(),g(j),function(){g(null)};if(g!=null)return j=j(),g.current=j,function(){g.current=null}}function zi(j,g,b){return b=b!=null?b.concat([j]):null,ui(4,4,yi.bind(null,g,j),b)}function Ai(){}function Bi(j,g){var b=di();g=g===void 0?null:g;var $=b.memoizedState;return $!==null&&g!==null&&Wh(g,$[1])?$[0]:(b.memoizedState=[j,g],j)}function Ci(j,g){var b=di();g=g===void 0?null:g;var $=b.memoizedState;return $!==null&&g!==null&&Wh(g,$[1])?$[0]:(j=j(),b.memoizedState=[j,g],j)}function Di(j,g,b){return(Rh&21)===0?(j.baseState&&(j.baseState=!1,Ug=!0),j.memoizedState=b):(He(b,g)||(b=yc(),N$1.lanes|=b,hh|=b,j.baseState=!0),g)}function Ei(j,g){var b=C$1;C$1=b!==0&&4>b?b:4,j(!0);var $=Qh.transition;Qh.transition={};try{j(!1),g()}finally{C$1=b,Qh.transition=$}}function Fi(){return di().memoizedState}function Gi(j,g,b){var $=lh(j);if(b={lane:$,action:b,hasEagerState:!1,eagerState:null,next:null},Hi(j))Ii(g,b);else if(b=Yg(j,g,b,$),b!==null){var _e=L();mh(b,j,$,_e),Ji(b,g,$)}}function ri(j,g,b){var $=lh(j),_e={lane:$,action:b,hasEagerState:!1,eagerState:null,next:null};if(Hi(j))Ii(g,_e);else{var et=j.alternate;if(j.lanes===0&&(et===null||et.lanes===0)&&(et=g.lastRenderedReducer,et!==null))try{var tt=g.lastRenderedState,nt=et(tt,b);if(_e.hasEagerState=!0,_e.eagerState=nt,He(nt,tt)){var rt=g.interleaved;rt===null?(_e.next=_e,Xg(g)):(_e.next=rt.next,rt.next=_e),g.interleaved=_e;return}}catch{}finally{}b=Yg(j,g,_e,$),b!==null&&(_e=L(),mh(b,j,$,_e),Ji(b,g,$))}}function Hi(j){var g=j.alternate;return j===N$1||g!==null&&g===N$1}function Ii(j,g){Th=Sh=!0;var b=j.pending;b===null?g.next=g:(g.next=b.next,b.next=g),j.pending=g}function Ji(j,g,b){if((b&4194240)!==0){var $=g.lanes;$&=j.pendingLanes,b|=$,g.lanes=b,Cc(j,b)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(j,g){return ci().memoizedState=[j,g===void 0?null:g],j},useContext:Vg,useEffect:vi,useImperativeHandle:function(j,g,b){return b=b!=null?b.concat([j]):null,ti(4194308,4,yi.bind(null,g,j),b)},useLayoutEffect:function(j,g){return ti(4194308,4,j,g)},useInsertionEffect:function(j,g){return ti(4,2,j,g)},useMemo:function(j,g){var b=ci();return g=g===void 0?null:g,j=j(),b.memoizedState=[j,g],j},useReducer:function(j,g,b){var $=ci();return g=b!==void 0?b(g):g,$.memoizedState=$.baseState=g,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j,lastRenderedState:g},$.queue=j,j=j.dispatch=Gi.bind(null,N$1,j),[$.memoizedState,j]},useRef:function(j){var g=ci();return j={current:j},g.memoizedState=j},useState:qi,useDebugValue:Ai,useDeferredValue:function(j){return ci().memoizedState=j},useTransition:function(){var j=qi(!1),g=j[0];return j=Ei.bind(null,j[1]),ci().memoizedState=j,[g,j]},useMutableSource:function(){},useSyncExternalStore:function(j,g,b){var $=N$1,_e=ci();if(I$1){if(b===void 0)throw Error(p$2(407));b=b()}else{if(b=g(),R$2===null)throw Error(p$2(349));(Rh&30)!==0||ni($,g,b)}_e.memoizedState=b;var et={value:b,getSnapshot:g};return _e.queue=et,vi(ki.bind(null,$,et,j),[j]),$.flags|=2048,li(9,mi.bind(null,$,et,b,g),void 0,null),b},useId:function(){var j=ci(),g=R$2.identifierPrefix;if(I$1){var b=sg,$=rg;b=($&~(1<<32-oc($)-1)).toString(32)+b,g=":"+g+"R"+b,b=Uh++,0<b&&(g+="H"+b.toString(32)),g+=":"}else b=Vh++,g=":"+g+"r"+b.toString(32)+":";return j.memoizedState=g},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(j){var g=di();return Di(g,O$1.memoizedState,j)},useTransition:function(){var j=fi(ei)[0],g=di().memoizedState;return[j,g]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(j){var g=di();return O$1===null?g.memoizedState=j:Di(g,O$1.memoizedState,j)},useTransition:function(){var j=gi(ei)[0],g=di().memoizedState;return[j,g]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(j,g){try{var b="",$=g;do b+=Pa($),$=$.return;while($);var _e=b}catch(et){_e=`
Error generating stack: `+et.message+`
`+et.stack}return{value:j,source:g,stack:_e,digest:null}}function Li(j,g,b){return{value:j,source:null,stack:b!=null?b:null,digest:g!=null?g:null}}function Mi(j,g){try{console.error(g.value)}catch(b){setTimeout(function(){throw b})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(j,g,b){b=ch(-1,b),b.tag=3,b.payload={element:null};var $=g.value;return b.callback=function(){Pi||(Pi=!0,Qi=$),Mi(j,g)},b}function Ri(j,g,b){b=ch(-1,b),b.tag=3;var $=j.type.getDerivedStateFromError;if(typeof $=="function"){var _e=g.value;b.payload=function(){return $(_e)},b.callback=function(){Mi(j,g)}}var et=j.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&(b.callback=function(){Mi(j,g),typeof $!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var tt=g.stack;this.componentDidCatch(g.value,{componentStack:tt!==null?tt:""})}),b}function Ti(j,g,b){var $=j.pingCache;if($===null){$=j.pingCache=new Ni;var _e=new Set;$.set(g,_e)}else _e=$.get(g),_e===void 0&&(_e=new Set,$.set(g,_e));_e.has(b)||(_e.add(b),j=Ui.bind(null,j,g,b),g.then(j,j))}function Vi(j){do{var g;if((g=j.tag===13)&&(g=j.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return j;j=j.return}while(j!==null);return null}function Wi(j,g,b,$,_e){return(j.mode&1)===0?(j===g?j.flags|=65536:(j.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(g=ch(-1,1),g.tag=2,dh(b,g,1))),b.lanes|=1),j):(j.flags|=65536,j.lanes=_e,j)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(j,g,b,$){g.child=j===null?Ch(g,null,b,$):Bh(g,j.child,b,$)}function Zi(j,g,b,$,_e){b=b.render;var et=g.ref;return Tg(g,_e),$=Xh(j,g,b,$,et,_e),b=bi(),j!==null&&!Ug?(g.updateQueue=j.updateQueue,g.flags&=-2053,j.lanes&=~_e,$i(j,g,_e)):(I$1&&b&&vg(g),g.flags|=1,Yi(j,g,$,_e),g.child)}function aj(j,g,b,$,_e){if(j===null){var et=b.type;return typeof et=="function"&&!bj(et)&&et.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(g.tag=15,g.type=et,cj(j,g,et,$,_e)):(j=yh(b.type,null,$,g,g.mode,_e),j.ref=g.ref,j.return=g,g.child=j)}if(et=j.child,(j.lanes&_e)===0){var tt=et.memoizedProps;if(b=b.compare,b=b!==null?b:Ie,b(tt,$)&&j.ref===g.ref)return $i(j,g,_e)}return g.flags|=1,j=wh(et,$),j.ref=g.ref,j.return=g,g.child=j}function cj(j,g,b,$,_e){if(j!==null){var et=j.memoizedProps;if(Ie(et,$)&&j.ref===g.ref)if(Ug=!1,g.pendingProps=$=et,(j.lanes&_e)!==0)(j.flags&131072)!==0&&(Ug=!0);else return g.lanes=j.lanes,$i(j,g,_e)}return dj(j,g,b,$,_e)}function ej(j,g,b){var $=g.pendingProps,_e=$.children,et=j!==null?j.memoizedState:null;if($.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=b;else{if((b&1073741824)===0)return j=et!==null?et.baseLanes|b:b,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:j,cachePool:null,transitions:null},g.updateQueue=null,G(fj,gj),gj|=j,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},$=et!==null?et.baseLanes:b,G(fj,gj),gj|=$}else et!==null?($=et.baseLanes|b,g.memoizedState=null):$=b,G(fj,gj),gj|=$;return Yi(j,g,_e,b),g.child}function hj(j,g){var b=g.ref;(j===null&&b!==null||j!==null&&j.ref!==b)&&(g.flags|=512,g.flags|=2097152)}function dj(j,g,b,$,_e){var et=Zf(b)?Xf:H$1.current;return et=Yf(g,et),Tg(g,_e),b=Xh(j,g,b,$,et,_e),$=bi(),j!==null&&!Ug?(g.updateQueue=j.updateQueue,g.flags&=-2053,j.lanes&=~_e,$i(j,g,_e)):(I$1&&$&&vg(g),g.flags|=1,Yi(j,g,b,_e),g.child)}function ij(j,g,b,$,_e){if(Zf(b)){var et=!0;cg(g)}else et=!1;if(Tg(g,_e),g.stateNode===null)jj(j,g),ph(g,b,$),rh(g,b,$,_e),$=!0;else if(j===null){var tt=g.stateNode,nt=g.memoizedProps;tt.props=nt;var rt=tt.context,it=b.contextType;typeof it=="object"&&it!==null?it=Vg(it):(it=Zf(b)?Xf:H$1.current,it=Yf(g,it));var ot=b.getDerivedStateFromProps,st=typeof ot=="function"||typeof tt.getSnapshotBeforeUpdate=="function";st||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(nt!==$||rt!==it)&&qh(g,tt,$,it),$g=!1;var at=g.memoizedState;tt.state=at,gh(g,$,tt,_e),rt=g.memoizedState,nt!==$||at!==rt||Wf.current||$g?(typeof ot=="function"&&(kh(g,b,ot,$),rt=g.memoizedState),(nt=$g||oh(g,b,nt,$,at,rt,it))?(st||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(g.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=$,g.memoizedState=rt),tt.props=$,tt.state=rt,tt.context=it,$=nt):(typeof tt.componentDidMount=="function"&&(g.flags|=4194308),$=!1)}else{tt=g.stateNode,bh(j,g),nt=g.memoizedProps,it=g.type===g.elementType?nt:Lg(g.type,nt),tt.props=it,st=g.pendingProps,at=tt.context,rt=b.contextType,typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(b)?Xf:H$1.current,rt=Yf(g,rt));var lt=b.getDerivedStateFromProps;(ot=typeof lt=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(nt!==st||at!==rt)&&qh(g,tt,$,rt),$g=!1,at=g.memoizedState,tt.state=at,gh(g,$,tt,_e);var ut=g.memoizedState;nt!==st||at!==ut||Wf.current||$g?(typeof lt=="function"&&(kh(g,b,lt,$),ut=g.memoizedState),(it=$g||oh(g,b,it,$,at,ut,rt)||!1)?(ot||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate($,ut,rt),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate($,ut,rt)),typeof tt.componentDidUpdate=="function"&&(g.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof tt.componentDidUpdate!="function"||nt===j.memoizedProps&&at===j.memoizedState||(g.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||nt===j.memoizedProps&&at===j.memoizedState||(g.flags|=1024),g.memoizedProps=$,g.memoizedState=ut),tt.props=$,tt.state=ut,tt.context=rt,$=it):(typeof tt.componentDidUpdate!="function"||nt===j.memoizedProps&&at===j.memoizedState||(g.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||nt===j.memoizedProps&&at===j.memoizedState||(g.flags|=1024),$=!1)}return kj(j,g,b,$,et,_e)}function kj(j,g,b,$,_e,et){hj(j,g);var tt=(g.flags&128)!==0;if(!$&&!tt)return _e&&dg(g,b,!1),$i(j,g,et);$=g.stateNode,Xi.current=g;var nt=tt&&typeof b.getDerivedStateFromError!="function"?null:$.render();return g.flags|=1,j!==null&&tt?(g.child=Bh(g,j.child,null,et),g.child=Bh(g,null,nt,et)):Yi(j,g,nt,et),g.memoizedState=$.state,_e&&dg(g,b,!0),g.child}function lj(j){var g=j.stateNode;g.pendingContext?ag(j,g.pendingContext,g.pendingContext!==g.context):g.context&&ag(j,g.context,!1),Ih(j,g.containerInfo)}function mj(j,g,b,$,_e){return Ig(),Jg(_e),g.flags|=256,Yi(j,g,b,$),g.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(j){return{baseLanes:j,cachePool:null,transitions:null}}function pj(j,g,b){var $=g.pendingProps,_e=M$1.current,et=!1,tt=(g.flags&128)!==0,nt;if((nt=tt)||(nt=j!==null&&j.memoizedState===null?!1:(_e&2)!==0),nt?(et=!0,g.flags&=-129):(j===null||j.memoizedState!==null)&&(_e|=1),G(M$1,_e&1),j===null)return Eg(g),j=g.memoizedState,j!==null&&(j=j.dehydrated,j!==null)?((g.mode&1)===0?g.lanes=1:j.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(tt=$.children,j=$.fallback,et?($=g.mode,et=g.child,tt={mode:"hidden",children:tt},($&1)===0&&et!==null?(et.childLanes=0,et.pendingProps=tt):et=qj(tt,$,0,null),j=Ah(j,$,b,null),et.return=g,j.return=g,et.sibling=j,g.child=et,g.child.memoizedState=oj(b),g.memoizedState=nj,j):rj(g,tt));if(_e=j.memoizedState,_e!==null&&(nt=_e.dehydrated,nt!==null))return sj(j,g,tt,$,nt,_e,b);if(et){et=$.fallback,tt=g.mode,_e=j.child,nt=_e.sibling;var rt={mode:"hidden",children:$.children};return(tt&1)===0&&g.child!==_e?($=g.child,$.childLanes=0,$.pendingProps=rt,g.deletions=null):($=wh(_e,rt),$.subtreeFlags=_e.subtreeFlags&14680064),nt!==null?et=wh(nt,et):(et=Ah(et,tt,b,null),et.flags|=2),et.return=g,$.return=g,$.sibling=et,g.child=$,$=et,et=g.child,tt=j.child.memoizedState,tt=tt===null?oj(b):{baseLanes:tt.baseLanes|b,cachePool:null,transitions:tt.transitions},et.memoizedState=tt,et.childLanes=j.childLanes&~b,g.memoizedState=nj,$}return et=j.child,j=et.sibling,$=wh(et,{mode:"visible",children:$.children}),(g.mode&1)===0&&($.lanes=b),$.return=g,$.sibling=null,j!==null&&(b=g.deletions,b===null?(g.deletions=[j],g.flags|=16):b.push(j)),g.child=$,g.memoizedState=null,$}function rj(j,g){return g=qj({mode:"visible",children:g},j.mode,0,null),g.return=j,j.child=g}function tj(j,g,b,$){return $!==null&&Jg($),Bh(g,j.child,null,b),j=rj(g,g.pendingProps.children),j.flags|=2,g.memoizedState=null,j}function sj(j,g,b,$,_e,et,tt){if(b)return g.flags&256?(g.flags&=-257,$=Li(Error(p$2(422))),tj(j,g,tt,$)):g.memoizedState!==null?(g.child=j.child,g.flags|=128,null):(et=$.fallback,_e=g.mode,$=qj({mode:"visible",children:$.children},_e,0,null),et=Ah(et,_e,tt,null),et.flags|=2,$.return=g,et.return=g,$.sibling=et,g.child=$,(g.mode&1)!==0&&Bh(g,j.child,null,tt),g.child.memoizedState=oj(tt),g.memoizedState=nj,et);if((g.mode&1)===0)return tj(j,g,tt,null);if(_e.data==="$!"){if($=_e.nextSibling&&_e.nextSibling.dataset,$)var nt=$.dgst;return $=nt,et=Error(p$2(419)),$=Li(et,$,void 0),tj(j,g,tt,$)}if(nt=(tt&j.childLanes)!==0,Ug||nt){if($=R$2,$!==null){switch(tt&-tt){case 4:_e=2;break;case 16:_e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_e=32;break;case 536870912:_e=268435456;break;default:_e=0}_e=(_e&($.suspendedLanes|tt))!==0?0:_e,_e!==0&&_e!==et.retryLane&&(et.retryLane=_e,Zg(j,_e),mh($,j,_e,-1))}return uj(),$=Li(Error(p$2(421))),tj(j,g,tt,$)}return _e.data==="$?"?(g.flags|=128,g.child=j.child,g=vj.bind(null,j),_e._reactRetry=g,null):(j=et.treeContext,yg=Lf(_e.nextSibling),xg=g,I$1=!0,zg=null,j!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=j.id,sg=j.overflow,qg=g),g=rj(g,$.children),g.flags|=4096,g)}function wj(j,g,b){j.lanes|=g;var $=j.alternate;$!==null&&($.lanes|=g),Sg(j.return,g,b)}function xj(j,g,b,$,_e){var et=j.memoizedState;et===null?j.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:$,tail:b,tailMode:_e}:(et.isBackwards=g,et.rendering=null,et.renderingStartTime=0,et.last=$,et.tail=b,et.tailMode=_e)}function yj(j,g,b){var $=g.pendingProps,_e=$.revealOrder,et=$.tail;if(Yi(j,g,$.children,b),$=M$1.current,($&2)!==0)$=$&1|2,g.flags|=128;else{if(j!==null&&(j.flags&128)!==0)e:for(j=g.child;j!==null;){if(j.tag===13)j.memoizedState!==null&&wj(j,b,g);else if(j.tag===19)wj(j,b,g);else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===g)break e;for(;j.sibling===null;){if(j.return===null||j.return===g)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}$&=1}if(G(M$1,$),(g.mode&1)===0)g.memoizedState=null;else switch(_e){case"forwards":for(b=g.child,_e=null;b!==null;)j=b.alternate,j!==null&&Mh(j)===null&&(_e=b),b=b.sibling;b=_e,b===null?(_e=g.child,g.child=null):(_e=b.sibling,b.sibling=null),xj(g,!1,_e,b,et);break;case"backwards":for(b=null,_e=g.child,g.child=null;_e!==null;){if(j=_e.alternate,j!==null&&Mh(j)===null){g.child=_e;break}j=_e.sibling,_e.sibling=b,b=_e,_e=j}xj(g,!0,b,null,et);break;case"together":xj(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function jj(j,g){(g.mode&1)===0&&j!==null&&(j.alternate=null,g.alternate=null,g.flags|=2)}function $i(j,g,b){if(j!==null&&(g.dependencies=j.dependencies),hh|=g.lanes,(b&g.childLanes)===0)return null;if(j!==null&&g.child!==j.child)throw Error(p$2(153));if(g.child!==null){for(j=g.child,b=wh(j,j.pendingProps),g.child=b,b.return=g;j.sibling!==null;)j=j.sibling,b=b.sibling=wh(j,j.pendingProps),b.return=g;b.sibling=null}return g.child}function zj(j,g,b){switch(g.tag){case 3:lj(g),Ig();break;case 5:Kh(g);break;case 1:Zf(g.type)&&cg(g);break;case 4:Ih(g,g.stateNode.containerInfo);break;case 10:var $=g.type._context,_e=g.memoizedProps.value;G(Mg,$._currentValue),$._currentValue=_e;break;case 13:if($=g.memoizedState,$!==null)return $.dehydrated!==null?(G(M$1,M$1.current&1),g.flags|=128,null):(b&g.child.childLanes)!==0?pj(j,g,b):(G(M$1,M$1.current&1),j=$i(j,g,b),j!==null?j.sibling:null);G(M$1,M$1.current&1);break;case 19:if($=(b&g.childLanes)!==0,(j.flags&128)!==0){if($)return yj(j,g,b);g.flags|=128}if(_e=g.memoizedState,_e!==null&&(_e.rendering=null,_e.tail=null,_e.lastEffect=null),G(M$1,M$1.current),$)break;return null;case 22:case 23:return g.lanes=0,ej(j,g,b)}return $i(j,g,b)}var Aj,Bj,Cj,Dj;Aj=function(j,g){for(var b=g.child;b!==null;){if(b.tag===5||b.tag===6)j.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};Bj=function(){};Cj=function(j,g,b,$){var _e=j.memoizedProps;if(_e!==$){j=g.stateNode,Hh(Eh.current);var et=null;switch(b){case"input":_e=Ya(j,_e),$=Ya(j,$),et=[];break;case"select":_e=A$1({},_e,{value:void 0}),$=A$1({},$,{value:void 0}),et=[];break;case"textarea":_e=gb(j,_e),$=gb(j,$),et=[];break;default:typeof _e.onClick!="function"&&typeof $.onClick=="function"&&(j.onclick=Bf)}ub(b,$);var tt;b=null;for(it in _e)if(!$.hasOwnProperty(it)&&_e.hasOwnProperty(it)&&_e[it]!=null)if(it==="style"){var nt=_e[it];for(tt in nt)nt.hasOwnProperty(tt)&&(b||(b={}),b[tt]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?et||(et=[]):(et=et||[]).push(it,null));for(it in $){var rt=$[it];if(nt=_e!=null?_e[it]:void 0,$.hasOwnProperty(it)&&rt!==nt&&(rt!=null||nt!=null))if(it==="style")if(nt){for(tt in nt)!nt.hasOwnProperty(tt)||rt&&rt.hasOwnProperty(tt)||(b||(b={}),b[tt]="");for(tt in rt)rt.hasOwnProperty(tt)&&nt[tt]!==rt[tt]&&(b||(b={}),b[tt]=rt[tt])}else b||(et||(et=[]),et.push(it,b)),b=rt;else it==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,nt=nt?nt.__html:void 0,rt!=null&&nt!==rt&&(et=et||[]).push(it,rt)):it==="children"?typeof rt!="string"&&typeof rt!="number"||(et=et||[]).push(it,""+rt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(rt!=null&&it==="onScroll"&&D$1("scroll",j),et||nt===rt||(et=[])):(et=et||[]).push(it,rt))}b&&(et=et||[]).push("style",b);var it=et;(g.updateQueue=it)&&(g.flags|=4)}};Dj=function(j,g,b,$){b!==$&&(g.flags|=4)};function Ej(j,g){if(!I$1)switch(j.tailMode){case"hidden":g=j.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?j.tail=null:b.sibling=null;break;case"collapsed":b=j.tail;for(var $=null;b!==null;)b.alternate!==null&&($=b),b=b.sibling;$===null?g||j.tail===null?j.tail=null:j.tail.sibling=null:$.sibling=null}}function S$1(j){var g=j.alternate!==null&&j.alternate.child===j.child,b=0,$=0;if(g)for(var _e=j.child;_e!==null;)b|=_e.lanes|_e.childLanes,$|=_e.subtreeFlags&14680064,$|=_e.flags&14680064,_e.return=j,_e=_e.sibling;else for(_e=j.child;_e!==null;)b|=_e.lanes|_e.childLanes,$|=_e.subtreeFlags,$|=_e.flags,_e.return=j,_e=_e.sibling;return j.subtreeFlags|=$,j.childLanes=b,g}function Fj(j,g,b){var $=g.pendingProps;switch(wg(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(g),null;case 1:return Zf(g.type)&&$f(),S$1(g),null;case 3:return $=g.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(j===null||j.child===null)&&(Gg(g)?g.flags|=4:j===null||j.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(j,g),S$1(g),null;case 5:Lh(g);var _e=Hh(Gh.current);if(b=g.type,j!==null&&g.stateNode!=null)Cj(j,g,b,$,_e),j.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!$){if(g.stateNode===null)throw Error(p$2(166));return S$1(g),null}if(j=Hh(Eh.current),Gg(g)){$=g.stateNode,b=g.type;var et=g.memoizedProps;switch($[Of]=g,$[Pf]=et,j=(g.mode&1)!==0,b){case"dialog":D$1("cancel",$),D$1("close",$);break;case"iframe":case"object":case"embed":D$1("load",$);break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D$1(lf[_e],$);break;case"source":D$1("error",$);break;case"img":case"image":case"link":D$1("error",$),D$1("load",$);break;case"details":D$1("toggle",$);break;case"input":Za($,et),D$1("invalid",$);break;case"select":$._wrapperState={wasMultiple:!!et.multiple},D$1("invalid",$);break;case"textarea":hb($,et),D$1("invalid",$)}ub(b,et),_e=null;for(var tt in et)if(et.hasOwnProperty(tt)){var nt=et[tt];tt==="children"?typeof nt=="string"?$.textContent!==nt&&(et.suppressHydrationWarning!==!0&&Af($.textContent,nt,j),_e=["children",nt]):typeof nt=="number"&&$.textContent!==""+nt&&(et.suppressHydrationWarning!==!0&&Af($.textContent,nt,j),_e=["children",""+nt]):ea.hasOwnProperty(tt)&&nt!=null&&tt==="onScroll"&&D$1("scroll",$)}switch(b){case"input":Va($),db($,et,!0);break;case"textarea":Va($),jb($);break;case"select":case"option":break;default:typeof et.onClick=="function"&&($.onclick=Bf)}$=_e,g.updateQueue=$,$!==null&&(g.flags|=4)}else{tt=_e.nodeType===9?_e:_e.ownerDocument,j==="http://www.w3.org/1999/xhtml"&&(j=kb(b)),j==="http://www.w3.org/1999/xhtml"?b==="script"?(j=tt.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild)):typeof $.is=="string"?j=tt.createElement(b,{is:$.is}):(j=tt.createElement(b),b==="select"&&(tt=j,$.multiple?tt.multiple=!0:$.size&&(tt.size=$.size))):j=tt.createElementNS(j,b),j[Of]=g,j[Pf]=$,Aj(j,g,!1,!1),g.stateNode=j;e:{switch(tt=vb(b,$),b){case"dialog":D$1("cancel",j),D$1("close",j),_e=$;break;case"iframe":case"object":case"embed":D$1("load",j),_e=$;break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D$1(lf[_e],j);_e=$;break;case"source":D$1("error",j),_e=$;break;case"img":case"image":case"link":D$1("error",j),D$1("load",j),_e=$;break;case"details":D$1("toggle",j),_e=$;break;case"input":Za(j,$),_e=Ya(j,$),D$1("invalid",j);break;case"option":_e=$;break;case"select":j._wrapperState={wasMultiple:!!$.multiple},_e=A$1({},$,{value:void 0}),D$1("invalid",j);break;case"textarea":hb(j,$),_e=gb(j,$),D$1("invalid",j);break;default:_e=$}ub(b,_e),nt=_e;for(et in nt)if(nt.hasOwnProperty(et)){var rt=nt[et];et==="style"?sb(j,rt):et==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&nb(j,rt)):et==="children"?typeof rt=="string"?(b!=="textarea"||rt!=="")&&ob(j,rt):typeof rt=="number"&&ob(j,""+rt):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?rt!=null&&et==="onScroll"&&D$1("scroll",j):rt!=null&&ta(j,et,rt,tt))}switch(b){case"input":Va(j),db(j,$,!1);break;case"textarea":Va(j),jb(j);break;case"option":$.value!=null&&j.setAttribute("value",""+Sa($.value));break;case"select":j.multiple=!!$.multiple,et=$.value,et!=null?fb(j,!!$.multiple,et,!1):$.defaultValue!=null&&fb(j,!!$.multiple,$.defaultValue,!0);break;default:typeof _e.onClick=="function"&&(j.onclick=Bf)}switch(b){case"button":case"input":case"select":case"textarea":$=!!$.autoFocus;break e;case"img":$=!0;break e;default:$=!1}}$&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return S$1(g),null;case 6:if(j&&g.stateNode!=null)Dj(j,g,j.memoizedProps,$);else{if(typeof $!="string"&&g.stateNode===null)throw Error(p$2(166));if(b=Hh(Gh.current),Hh(Eh.current),Gg(g)){if($=g.stateNode,b=g.memoizedProps,$[Of]=g,(et=$.nodeValue!==b)&&(j=xg,j!==null))switch(j.tag){case 3:Af($.nodeValue,b,(j.mode&1)!==0);break;case 5:j.memoizedProps.suppressHydrationWarning!==!0&&Af($.nodeValue,b,(j.mode&1)!==0)}et&&(g.flags|=4)}else $=(b.nodeType===9?b:b.ownerDocument).createTextNode($),$[Of]=g,g.stateNode=$}return S$1(g),null;case 13:if(E$1(M$1),$=g.memoizedState,j===null||j.memoizedState!==null&&j.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&(g.mode&1)!==0&&(g.flags&128)===0)Hg(),Ig(),g.flags|=98560,et=!1;else if(et=Gg(g),$!==null&&$.dehydrated!==null){if(j===null){if(!et)throw Error(p$2(318));if(et=g.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$2(317));et[Of]=g}else Ig(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;S$1(g),et=!1}else zg!==null&&(Gj(zg),zg=null),et=!0;if(!et)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=b,g):($=$!==null,$!==(j!==null&&j.memoizedState!==null)&&$&&(g.child.flags|=8192,(g.mode&1)!==0&&(j===null||(M$1.current&1)!==0?T$1===0&&(T$1=3):uj())),g.updateQueue!==null&&(g.flags|=4),S$1(g),null);case 4:return Jh(),Bj(j,g),j===null&&sf(g.stateNode.containerInfo),S$1(g),null;case 10:return Rg(g.type._context),S$1(g),null;case 17:return Zf(g.type)&&$f(),S$1(g),null;case 19:if(E$1(M$1),et=g.memoizedState,et===null)return S$1(g),null;if($=(g.flags&128)!==0,tt=et.rendering,tt===null)if($)Ej(et,!1);else{if(T$1!==0||j!==null&&(j.flags&128)!==0)for(j=g.child;j!==null;){if(tt=Mh(j),tt!==null){for(g.flags|=128,Ej(et,!1),$=tt.updateQueue,$!==null&&(g.updateQueue=$,g.flags|=4),g.subtreeFlags=0,$=b,b=g.child;b!==null;)et=b,j=$,et.flags&=14680066,tt=et.alternate,tt===null?(et.childLanes=0,et.lanes=j,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=tt.childLanes,et.lanes=tt.lanes,et.child=tt.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=tt.memoizedProps,et.memoizedState=tt.memoizedState,et.updateQueue=tt.updateQueue,et.type=tt.type,j=tt.dependencies,et.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext}),b=b.sibling;return G(M$1,M$1.current&1|2),g.child}j=j.sibling}et.tail!==null&&B$1()>Hj&&(g.flags|=128,$=!0,Ej(et,!1),g.lanes=4194304)}else{if(!$)if(j=Mh(tt),j!==null){if(g.flags|=128,$=!0,b=j.updateQueue,b!==null&&(g.updateQueue=b,g.flags|=4),Ej(et,!0),et.tail===null&&et.tailMode==="hidden"&&!tt.alternate&&!I$1)return S$1(g),null}else 2*B$1()-et.renderingStartTime>Hj&&b!==1073741824&&(g.flags|=128,$=!0,Ej(et,!1),g.lanes=4194304);et.isBackwards?(tt.sibling=g.child,g.child=tt):(b=et.last,b!==null?b.sibling=tt:g.child=tt,et.last=tt)}return et.tail!==null?(g=et.tail,et.rendering=g,et.tail=g.sibling,et.renderingStartTime=B$1(),g.sibling=null,b=M$1.current,G(M$1,$?b&1|2:b&1),g):(S$1(g),null);case 22:case 23:return Ij(),$=g.memoizedState!==null,j!==null&&j.memoizedState!==null!==$&&(g.flags|=8192),$&&(g.mode&1)!==0?(gj&1073741824)!==0&&(S$1(g),g.subtreeFlags&6&&(g.flags|=8192)):S$1(g),null;case 24:return null;case 25:return null}throw Error(p$2(156,g.tag))}function Jj(j,g){switch(wg(g),g.tag){case 1:return Zf(g.type)&&$f(),j=g.flags,j&65536?(g.flags=j&-65537|128,g):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),j=g.flags,(j&65536)!==0&&(j&128)===0?(g.flags=j&-65537|128,g):null;case 5:return Lh(g),null;case 13:if(E$1(M$1),j=g.memoizedState,j!==null&&j.dehydrated!==null){if(g.alternate===null)throw Error(p$2(340));Ig()}return j=g.flags,j&65536?(g.flags=j&-65537|128,g):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(g.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(j,g){var b=j.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch($){W(j,g,$)}else b.current=null}function Nj(j,g,b){try{b()}catch($){W(j,g,$)}}var Oj=!1;function Pj(j,g){if(Cf=dd,j=Me(),Ne(j)){if("selectionStart"in j)var b={start:j.selectionStart,end:j.selectionEnd};else e:{b=(b=j.ownerDocument)&&b.defaultView||window;var $=b.getSelection&&b.getSelection();if($&&$.rangeCount!==0){b=$.anchorNode;var _e=$.anchorOffset,et=$.focusNode;$=$.focusOffset;try{b.nodeType,et.nodeType}catch{b=null;break e}var tt=0,nt=-1,rt=-1,it=0,ot=0,st=j,at=null;t:for(;;){for(var lt;st!==b||_e!==0&&st.nodeType!==3||(nt=tt+_e),st!==et||$!==0&&st.nodeType!==3||(rt=tt+$),st.nodeType===3&&(tt+=st.nodeValue.length),(lt=st.firstChild)!==null;)at=st,st=lt;for(;;){if(st===j)break t;if(at===b&&++it===_e&&(nt=tt),at===et&&++ot===$&&(rt=tt),(lt=st.nextSibling)!==null)break;st=at,at=st.parentNode}st=lt}b=nt===-1||rt===-1?null:{start:nt,end:rt}}else b=null}b=b||{start:0,end:0}}else b=null;for(Df={focusedElem:j,selectionRange:b},dd=!1,V$1=g;V$1!==null;)if(g=V$1,j=g.child,(g.subtreeFlags&1028)!==0&&j!==null)j.return=g,V$1=j;else for(;V$1!==null;){g=V$1;try{var ut=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ct=ut.memoizedProps,ft=ut.memoizedState,ht=g.stateNode,dt=ht.getSnapshotBeforeUpdate(g.elementType===g.type?ct:Lg(g.type,ct),ft);ht.__reactInternalSnapshotBeforeUpdate=dt}break;case 3:var pt=g.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(mt){W(g,g.return,mt)}if(j=g.sibling,j!==null){j.return=g.return,V$1=j;break}V$1=g.return}return ut=Oj,Oj=!1,ut}function Qj(j,g,b){var $=g.updateQueue;if($=$!==null?$.lastEffect:null,$!==null){var _e=$=$.next;do{if((_e.tag&j)===j){var et=_e.destroy;_e.destroy=void 0,et!==void 0&&Nj(g,b,et)}_e=_e.next}while(_e!==$)}}function Rj(j,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&j)===j){var $=b.create;b.destroy=$()}b=b.next}while(b!==g)}}function Sj(j){var g=j.ref;if(g!==null){var b=j.stateNode;switch(j.tag){case 5:j=b;break;default:j=b}typeof g=="function"?g(j):g.current=j}}function Tj(j){var g=j.alternate;g!==null&&(j.alternate=null,Tj(g)),j.child=null,j.deletions=null,j.sibling=null,j.tag===5&&(g=j.stateNode,g!==null&&(delete g[Of],delete g[Pf],delete g[of],delete g[Qf],delete g[Rf])),j.stateNode=null,j.return=null,j.dependencies=null,j.memoizedProps=null,j.memoizedState=null,j.pendingProps=null,j.stateNode=null,j.updateQueue=null}function Uj(j){return j.tag===5||j.tag===3||j.tag===4}function Vj(j){e:for(;;){for(;j.sibling===null;){if(j.return===null||Uj(j.return))return null;j=j.return}for(j.sibling.return=j.return,j=j.sibling;j.tag!==5&&j.tag!==6&&j.tag!==18;){if(j.flags&2||j.child===null||j.tag===4)continue e;j.child.return=j,j=j.child}if(!(j.flags&2))return j.stateNode}}function Wj(j,g,b){var $=j.tag;if($===5||$===6)j=j.stateNode,g?b.nodeType===8?b.parentNode.insertBefore(j,g):b.insertBefore(j,g):(b.nodeType===8?(g=b.parentNode,g.insertBefore(j,b)):(g=b,g.appendChild(j)),b=b._reactRootContainer,b!=null||g.onclick!==null||(g.onclick=Bf));else if($!==4&&(j=j.child,j!==null))for(Wj(j,g,b),j=j.sibling;j!==null;)Wj(j,g,b),j=j.sibling}function Xj(j,g,b){var $=j.tag;if($===5||$===6)j=j.stateNode,g?b.insertBefore(j,g):b.appendChild(j);else if($!==4&&(j=j.child,j!==null))for(Xj(j,g,b),j=j.sibling;j!==null;)Xj(j,g,b),j=j.sibling}var X=null,Yj=!1;function Zj(j,g,b){for(b=b.child;b!==null;)ak(j,g,b),b=b.sibling}function ak(j,g,b){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,b)}catch{}switch(b.tag){case 5:U$1||Mj(b,g);case 6:var $=X,_e=Yj;X=null,Zj(j,g,b),X=$,Yj=_e,X!==null&&(Yj?(j=X,b=b.stateNode,j.nodeType===8?j.parentNode.removeChild(b):j.removeChild(b)):X.removeChild(b.stateNode));break;case 18:X!==null&&(Yj?(j=X,b=b.stateNode,j.nodeType===8?Kf(j.parentNode,b):j.nodeType===1&&Kf(j,b),bd(j)):Kf(X,b.stateNode));break;case 4:$=X,_e=Yj,X=b.stateNode.containerInfo,Yj=!0,Zj(j,g,b),X=$,Yj=_e;break;case 0:case 11:case 14:case 15:if(!U$1&&($=b.updateQueue,$!==null&&($=$.lastEffect,$!==null))){_e=$=$.next;do{var et=_e,tt=et.destroy;et=et.tag,tt!==void 0&&((et&2)!==0||(et&4)!==0)&&Nj(b,g,tt),_e=_e.next}while(_e!==$)}Zj(j,g,b);break;case 1:if(!U$1&&(Mj(b,g),$=b.stateNode,typeof $.componentWillUnmount=="function"))try{$.props=b.memoizedProps,$.state=b.memoizedState,$.componentWillUnmount()}catch(nt){W(b,g,nt)}Zj(j,g,b);break;case 21:Zj(j,g,b);break;case 22:b.mode&1?(U$1=($=U$1)||b.memoizedState!==null,Zj(j,g,b),U$1=$):Zj(j,g,b);break;default:Zj(j,g,b)}}function bk(j){var g=j.updateQueue;if(g!==null){j.updateQueue=null;var b=j.stateNode;b===null&&(b=j.stateNode=new Lj),g.forEach(function($){var _e=ck.bind(null,j,$);b.has($)||(b.add($),$.then(_e,_e))})}}function dk(j,g){var b=g.deletions;if(b!==null)for(var $=0;$<b.length;$++){var _e=b[$];try{var et=j,tt=g,nt=tt;e:for(;nt!==null;){switch(nt.tag){case 5:X=nt.stateNode,Yj=!1;break e;case 3:X=nt.stateNode.containerInfo,Yj=!0;break e;case 4:X=nt.stateNode.containerInfo,Yj=!0;break e}nt=nt.return}if(X===null)throw Error(p$2(160));ak(et,tt,_e),X=null,Yj=!1;var rt=_e.alternate;rt!==null&&(rt.return=null),_e.return=null}catch(it){W(_e,g,it)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)ek(g,j),g=g.sibling}function ek(j,g){var b=j.alternate,$=j.flags;switch(j.tag){case 0:case 11:case 14:case 15:if(dk(g,j),fk(j),$&4){try{Qj(3,j,j.return),Rj(3,j)}catch(ct){W(j,j.return,ct)}try{Qj(5,j,j.return)}catch(ct){W(j,j.return,ct)}}break;case 1:dk(g,j),fk(j),$&512&&b!==null&&Mj(b,b.return);break;case 5:if(dk(g,j),fk(j),$&512&&b!==null&&Mj(b,b.return),j.flags&32){var _e=j.stateNode;try{ob(_e,"")}catch(ct){W(j,j.return,ct)}}if($&4&&(_e=j.stateNode,_e!=null)){var et=j.memoizedProps,tt=b!==null?b.memoizedProps:et,nt=j.type,rt=j.updateQueue;if(j.updateQueue=null,rt!==null)try{nt==="input"&&et.type==="radio"&&et.name!=null&&ab(_e,et),vb(nt,tt);var it=vb(nt,et);for(tt=0;tt<rt.length;tt+=2){var ot=rt[tt],st=rt[tt+1];ot==="style"?sb(_e,st):ot==="dangerouslySetInnerHTML"?nb(_e,st):ot==="children"?ob(_e,st):ta(_e,ot,st,it)}switch(nt){case"input":bb(_e,et);break;case"textarea":ib(_e,et);break;case"select":var at=_e._wrapperState.wasMultiple;_e._wrapperState.wasMultiple=!!et.multiple;var lt=et.value;lt!=null?fb(_e,!!et.multiple,lt,!1):at!==!!et.multiple&&(et.defaultValue!=null?fb(_e,!!et.multiple,et.defaultValue,!0):fb(_e,!!et.multiple,et.multiple?[]:"",!1))}_e[Pf]=et}catch(ct){W(j,j.return,ct)}}break;case 6:if(dk(g,j),fk(j),$&4){if(j.stateNode===null)throw Error(p$2(162));_e=j.stateNode,et=j.memoizedProps;try{_e.nodeValue=et}catch(ct){W(j,j.return,ct)}}break;case 3:if(dk(g,j),fk(j),$&4&&b!==null&&b.memoizedState.isDehydrated)try{bd(g.containerInfo)}catch(ct){W(j,j.return,ct)}break;case 4:dk(g,j),fk(j);break;case 13:dk(g,j),fk(j),_e=j.child,_e.flags&8192&&(et=_e.memoizedState!==null,_e.stateNode.isHidden=et,!et||_e.alternate!==null&&_e.alternate.memoizedState!==null||(gk=B$1())),$&4&&bk(j);break;case 22:if(ot=b!==null&&b.memoizedState!==null,j.mode&1?(U$1=(it=U$1)||ot,dk(g,j),U$1=it):dk(g,j),fk(j),$&8192){if(it=j.memoizedState!==null,(j.stateNode.isHidden=it)&&!ot&&(j.mode&1)!==0)for(V$1=j,ot=j.child;ot!==null;){for(st=V$1=ot;V$1!==null;){switch(at=V$1,lt=at.child,at.tag){case 0:case 11:case 14:case 15:Qj(4,at,at.return);break;case 1:Mj(at,at.return);var ut=at.stateNode;if(typeof ut.componentWillUnmount=="function"){$=at,b=at.return;try{g=$,ut.props=g.memoizedProps,ut.state=g.memoizedState,ut.componentWillUnmount()}catch(ct){W($,b,ct)}}break;case 5:Mj(at,at.return);break;case 22:if(at.memoizedState!==null){hk(st);continue}}lt!==null?(lt.return=at,V$1=lt):hk(st)}ot=ot.sibling}e:for(ot=null,st=j;;){if(st.tag===5){if(ot===null){ot=st;try{_e=st.stateNode,it?(et=_e.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(nt=st.stateNode,rt=st.memoizedProps.style,tt=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,nt.style.display=rb("display",tt))}catch(ct){W(j,j.return,ct)}}}else if(st.tag===6){if(ot===null)try{st.stateNode.nodeValue=it?"":st.memoizedProps}catch(ct){W(j,j.return,ct)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===j)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===j)break e;for(;st.sibling===null;){if(st.return===null||st.return===j)break e;ot===st&&(ot=null),st=st.return}ot===st&&(ot=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:dk(g,j),fk(j),$&4&&bk(j);break;case 21:break;default:dk(g,j),fk(j)}}function fk(j){var g=j.flags;if(g&2){try{e:{for(var b=j.return;b!==null;){if(Uj(b)){var $=b;break e}b=b.return}throw Error(p$2(160))}switch($.tag){case 5:var _e=$.stateNode;$.flags&32&&(ob(_e,""),$.flags&=-33);var et=Vj(j);Xj(j,et,_e);break;case 3:case 4:var tt=$.stateNode.containerInfo,nt=Vj(j);Wj(j,nt,tt);break;default:throw Error(p$2(161))}}catch(rt){W(j,j.return,rt)}j.flags&=-3}g&4096&&(j.flags&=-4097)}function ik(j,g,b){V$1=j,jk(j)}function jk(j,g,b){for(var $=(j.mode&1)!==0;V$1!==null;){var _e=V$1,et=_e.child;if(_e.tag===22&&$){var tt=_e.memoizedState!==null||Kj;if(!tt){var nt=_e.alternate,rt=nt!==null&&nt.memoizedState!==null||U$1;nt=Kj;var it=U$1;if(Kj=tt,(U$1=rt)&&!it)for(V$1=_e;V$1!==null;)tt=V$1,rt=tt.child,tt.tag===22&&tt.memoizedState!==null?kk(_e):rt!==null?(rt.return=tt,V$1=rt):kk(_e);for(;et!==null;)V$1=et,jk(et),et=et.sibling;V$1=_e,Kj=nt,U$1=it}lk(j)}else(_e.subtreeFlags&8772)!==0&&et!==null?(et.return=_e,V$1=et):lk(j)}}function lk(j){for(;V$1!==null;){var g=V$1;if((g.flags&8772)!==0){var b=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:U$1||Rj(5,g);break;case 1:var $=g.stateNode;if(g.flags&4&&!U$1)if(b===null)$.componentDidMount();else{var _e=g.elementType===g.type?b.memoizedProps:Lg(g.type,b.memoizedProps);$.componentDidUpdate(_e,b.memoizedState,$.__reactInternalSnapshotBeforeUpdate)}var et=g.updateQueue;et!==null&&ih(g,et,$);break;case 3:var tt=g.updateQueue;if(tt!==null){if(b=null,g.child!==null)switch(g.child.tag){case 5:b=g.child.stateNode;break;case 1:b=g.child.stateNode}ih(g,tt,b)}break;case 5:var nt=g.stateNode;if(b===null&&g.flags&4){b=nt;var rt=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&b.focus();break;case"img":rt.src&&(b.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var it=g.alternate;if(it!==null){var ot=it.memoizedState;if(ot!==null){var st=ot.dehydrated;st!==null&&bd(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||g.flags&512&&Sj(g)}catch(at){W(g,g.return,at)}}if(g===j){V$1=null;break}if(b=g.sibling,b!==null){b.return=g.return,V$1=b;break}V$1=g.return}}function hk(j){for(;V$1!==null;){var g=V$1;if(g===j){V$1=null;break}var b=g.sibling;if(b!==null){b.return=g.return,V$1=b;break}V$1=g.return}}function kk(j){for(;V$1!==null;){var g=V$1;try{switch(g.tag){case 0:case 11:case 15:var b=g.return;try{Rj(4,g)}catch(rt){W(g,b,rt)}break;case 1:var $=g.stateNode;if(typeof $.componentDidMount=="function"){var _e=g.return;try{$.componentDidMount()}catch(rt){W(g,_e,rt)}}var et=g.return;try{Sj(g)}catch(rt){W(g,et,rt)}break;case 5:var tt=g.return;try{Sj(g)}catch(rt){W(g,tt,rt)}}}catch(rt){W(g,g.return,rt)}if(g===j){V$1=null;break}var nt=g.sibling;if(nt!==null){nt.return=g.return,V$1=nt;break}V$1=g.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$2=null,Y=null,Z=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return(K$1&6)!==0?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(j){return(j.mode&1)===0?1:(K$1&2)!==0&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(j=C$1,j!==0||(j=window.event,j=j===void 0?16:jd(j.type)),j)}function mh(j,g,b,$){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(j,b,$),((K$1&2)===0||j!==R$2)&&(j===R$2&&((K$1&2)===0&&(rk|=b),T$1===4&&Dk(j,Z)),Ek(j,$),b===1&&K$1===0&&(g.mode&1)===0&&(Hj=B$1()+500,fg&&jg()))}function Ek(j,g){var b=j.callbackNode;wc(j,g);var $=uc(j,j===R$2?Z:0);if($===0)b!==null&&bc(b),j.callbackNode=null,j.callbackPriority=0;else if(g=$&-$,j.callbackPriority!==g){if(b!=null&&bc(b),g===1)j.tag===0?ig(Fk.bind(null,j)):hg(Fk.bind(null,j)),Jf(function(){(K$1&6)===0&&jg()}),b=null;else{switch(Dc($)){case 1:b=fc;break;case 4:b=gc;break;case 16:b=hc;break;case 536870912:b=jc;break;default:b=hc}b=Gk(b,Hk.bind(null,j))}j.callbackPriority=g,j.callbackNode=b}}function Hk(j,g){if(Bk=-1,Ck=0,(K$1&6)!==0)throw Error(p$2(327));var b=j.callbackNode;if(Ik()&&j.callbackNode!==b)return null;var $=uc(j,j===R$2?Z:0);if($===0)return null;if(($&30)!==0||($&j.expiredLanes)!==0||g)g=Jk(j,$);else{g=$;var _e=K$1;K$1|=2;var et=Kk();(R$2!==j||Z!==g)&&(vk=null,Hj=B$1()+500,Lk(j,g));do try{Mk();break}catch(nt){Nk(j,nt)}while(1);Qg(),nk.current=et,K$1=_e,Y!==null?g=0:(R$2=null,Z=0,g=T$1)}if(g!==0){if(g===2&&(_e=xc(j),_e!==0&&($=_e,g=Ok(j,_e))),g===1)throw b=qk,Lk(j,0),Dk(j,$),Ek(j,B$1()),b;if(g===6)Dk(j,$);else{if(_e=j.current.alternate,($&30)===0&&!Pk(_e)&&(g=Jk(j,$),g===2&&(et=xc(j),et!==0&&($=et,g=Ok(j,et))),g===1))throw b=qk,Lk(j,0),Dk(j,$),Ek(j,B$1()),b;switch(j.finishedWork=_e,j.finishedLanes=$,g){case 0:case 1:throw Error(p$2(345));case 2:Qk(j,uk,vk);break;case 3:if(Dk(j,$),($&130023424)===$&&(g=gk+500-B$1(),10<g)){if(uc(j,0)!==0)break;if(_e=j.suspendedLanes,(_e&$)!==$){L(),j.pingedLanes|=j.suspendedLanes&_e;break}j.timeoutHandle=Ff(Qk.bind(null,j,uk,vk),g);break}Qk(j,uk,vk);break;case 4:if(Dk(j,$),($&4194240)===$)break;for(g=j.eventTimes,_e=-1;0<$;){var tt=31-oc($);et=1<<tt,tt=g[tt],tt>_e&&(_e=tt),$&=~et}if($=_e,$=B$1()-$,$=(120>$?120:480>$?480:1080>$?1080:1920>$?1920:3e3>$?3e3:4320>$?4320:1960*mk($/1960))-$,10<$){j.timeoutHandle=Ff(Qk.bind(null,j,uk,vk),$);break}Qk(j,uk,vk);break;case 5:Qk(j,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(j,B$1()),j.callbackNode===b?Hk.bind(null,j):null}function Ok(j,g){var b=tk;return j.current.memoizedState.isDehydrated&&(Lk(j,g).flags|=256),j=Jk(j,g),j!==2&&(g=uk,uk=b,g!==null&&Gj(g)),j}function Gj(j){uk===null?uk=j:uk.push.apply(uk,j)}function Pk(j){for(var g=j;;){if(g.flags&16384){var b=g.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var $=0;$<b.length;$++){var _e=b[$],et=_e.getSnapshot;_e=_e.value;try{if(!He(et(),_e))return!1}catch{return!1}}}if(b=g.child,g.subtreeFlags&16384&&b!==null)b.return=g,g=b;else{if(g===j)break;for(;g.sibling===null;){if(g.return===null||g.return===j)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Dk(j,g){for(g&=~sk,g&=~rk,j.suspendedLanes|=g,j.pingedLanes&=~g,j=j.expirationTimes;0<g;){var b=31-oc(g),$=1<<b;j[b]=-1,g&=~$}}function Fk(j){if((K$1&6)!==0)throw Error(p$2(327));Ik();var g=uc(j,0);if((g&1)===0)return Ek(j,B$1()),null;var b=Jk(j,g);if(j.tag!==0&&b===2){var $=xc(j);$!==0&&(g=$,b=Ok(j,$))}if(b===1)throw b=qk,Lk(j,0),Dk(j,g),Ek(j,B$1()),b;if(b===6)throw Error(p$2(345));return j.finishedWork=j.current.alternate,j.finishedLanes=g,Qk(j,uk,vk),Ek(j,B$1()),null}function Rk(j,g){var b=K$1;K$1|=1;try{return j(g)}finally{K$1=b,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(j){xk!==null&&xk.tag===0&&(K$1&6)===0&&Ik();var g=K$1;K$1|=1;var b=pk.transition,$=C$1;try{if(pk.transition=null,C$1=1,j)return j()}finally{C$1=$,pk.transition=b,K$1=g,(K$1&6)===0&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(j,g){j.finishedWork=null,j.finishedLanes=0;var b=j.timeoutHandle;if(b!==-1&&(j.timeoutHandle=-1,Gf(b)),Y!==null)for(b=Y.return;b!==null;){var $=b;switch(wg($),$.tag){case 1:$=$.type.childContextTypes,$!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh($);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg($.type._context);break;case 22:case 23:Ij()}b=b.return}if(R$2=j,Y=j=wh(j.current,null),Z=gj=g,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(g=0;g<Wg.length;g++)if(b=Wg[g],$=b.interleaved,$!==null){b.interleaved=null;var _e=$.next,et=b.pending;if(et!==null){var tt=et.next;et.next=_e,$.next=tt}b.pending=$}Wg=null}return j}function Nk(j,g){do{var b=Y;try{if(Qg(),Ph.current=ai,Sh){for(var $=N$1.memoizedState;$!==null;){var _e=$.queue;_e!==null&&(_e.pending=null),$=$.next}Sh=!1}if(Rh=0,P=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,b===null||b.return===null){T$1=1,qk=g,Y=null;break}e:{var et=j,tt=b.return,nt=b,rt=g;if(g=Z,nt.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var it=rt,ot=nt,st=ot.tag;if((ot.mode&1)===0&&(st===0||st===11||st===15)){var at=ot.alternate;at?(ot.updateQueue=at.updateQueue,ot.memoizedState=at.memoizedState,ot.lanes=at.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var lt=Vi(tt);if(lt!==null){lt.flags&=-257,Wi(lt,tt,nt,et,g),lt.mode&1&&Ti(et,it,g),g=lt,rt=it;var ut=g.updateQueue;if(ut===null){var ct=new Set;ct.add(rt),g.updateQueue=ct}else ut.add(rt);break e}else{if((g&1)===0){Ti(et,it,g),uj();break e}rt=Error(p$2(426))}}else if(I$1&&nt.mode&1){var ft=Vi(tt);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Wi(ft,tt,nt,et,g),Jg(Ki(rt,nt));break e}}et=rt=Ki(rt,nt),T$1!==4&&(T$1=2),tk===null?tk=[et]:tk.push(et),et=tt;do{switch(et.tag){case 3:et.flags|=65536,g&=-g,et.lanes|=g;var ht=Oi(et,rt,g);fh(et,ht);break e;case 1:nt=rt;var dt=et.type,pt=et.stateNode;if((et.flags&128)===0&&(typeof dt.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Si===null||!Si.has(pt)))){et.flags|=65536,g&=-g,et.lanes|=g;var mt=Ri(et,nt,g);fh(et,mt);break e}}et=et.return}while(et!==null)}Tk(b)}catch(gt){g=gt,Y===b&&b!==null&&(Y=b=b.return);continue}break}while(1)}function Kk(){var j=nk.current;return nk.current=ai,j===null?ai:j}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$2===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$2,Z)}function Jk(j,g){var b=K$1;K$1|=2;var $=Kk();(R$2!==j||Z!==g)&&(vk=null,Lk(j,g));do try{Uk();break}catch(_e){Nk(j,_e)}while(1);if(Qg(),K$1=b,nk.current=$,Y!==null)throw Error(p$2(261));return R$2=null,Z=0,T$1}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(j){var g=Wk(j.alternate,j,gj);j.memoizedProps=j.pendingProps,g===null?Tk(j):Y=g,ok.current=null}function Tk(j){var g=j;do{var b=g.alternate;if(j=g.return,(g.flags&32768)===0){if(b=Fj(b,g,gj),b!==null){Y=b;return}}else{if(b=Jj(b,g),b!==null){b.flags&=32767,Y=b;return}if(j!==null)j.flags|=32768,j.subtreeFlags=0,j.deletions=null;else{T$1=6,Y=null;return}}if(g=g.sibling,g!==null){Y=g;return}Y=g=j}while(g!==null);T$1===0&&(T$1=5)}function Qk(j,g,b){var $=C$1,_e=pk.transition;try{pk.transition=null,C$1=1,Xk(j,g,b,$)}finally{pk.transition=_e,C$1=$}return null}function Xk(j,g,b,$){do Ik();while(xk!==null);if((K$1&6)!==0)throw Error(p$2(327));b=j.finishedWork;var _e=j.finishedLanes;if(b===null)return null;if(j.finishedWork=null,j.finishedLanes=0,b===j.current)throw Error(p$2(177));j.callbackNode=null,j.callbackPriority=0;var et=b.lanes|b.childLanes;if(Bc(j,et),j===R$2&&(Y=R$2=null,Z=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),et=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||et){et=pk.transition,pk.transition=null;var tt=C$1;C$1=1;var nt=K$1;K$1|=4,ok.current=null,Pj(j,b),ek(b,j),Oe(Df),dd=!!Cf,Df=Cf=null,j.current=b,ik(b),dc(),K$1=nt,C$1=tt,pk.transition=et}else j.current=b;if(wk&&(wk=!1,xk=j,yk=_e),et=j.pendingLanes,et===0&&(Si=null),mc(b.stateNode),Ek(j,B$1()),g!==null)for($=j.onRecoverableError,b=0;b<g.length;b++)_e=g[b],$(_e.value,{componentStack:_e.stack,digest:_e.digest});if(Pi)throw Pi=!1,j=Qi,Qi=null,j;return(yk&1)!==0&&j.tag!==0&&Ik(),et=j.pendingLanes,(et&1)!==0?j===Ak?zk++:(zk=0,Ak=j):zk=0,jg(),null}function Ik(){if(xk!==null){var j=Dc(yk),g=pk.transition,b=C$1;try{if(pk.transition=null,C$1=16>j?16:j,xk===null)var $=!1;else{if(j=xk,xk=null,yk=0,(K$1&6)!==0)throw Error(p$2(331));var _e=K$1;for(K$1|=4,V$1=j.current;V$1!==null;){var et=V$1,tt=et.child;if((V$1.flags&16)!==0){var nt=et.deletions;if(nt!==null){for(var rt=0;rt<nt.length;rt++){var it=nt[rt];for(V$1=it;V$1!==null;){var ot=V$1;switch(ot.tag){case 0:case 11:case 15:Qj(8,ot,et)}var st=ot.child;if(st!==null)st.return=ot,V$1=st;else for(;V$1!==null;){ot=V$1;var at=ot.sibling,lt=ot.return;if(Tj(ot),ot===it){V$1=null;break}if(at!==null){at.return=lt,V$1=at;break}V$1=lt}}}var ut=et.alternate;if(ut!==null){var ct=ut.child;if(ct!==null){ut.child=null;do{var ft=ct.sibling;ct.sibling=null,ct=ft}while(ct!==null)}}V$1=et}}if((et.subtreeFlags&2064)!==0&&tt!==null)tt.return=et,V$1=tt;else e:for(;V$1!==null;){if(et=V$1,(et.flags&2048)!==0)switch(et.tag){case 0:case 11:case 15:Qj(9,et,et.return)}var ht=et.sibling;if(ht!==null){ht.return=et.return,V$1=ht;break e}V$1=et.return}}var dt=j.current;for(V$1=dt;V$1!==null;){tt=V$1;var pt=tt.child;if((tt.subtreeFlags&2064)!==0&&pt!==null)pt.return=tt,V$1=pt;else e:for(tt=dt;V$1!==null;){if(nt=V$1,(nt.flags&2048)!==0)try{switch(nt.tag){case 0:case 11:case 15:Rj(9,nt)}}catch(gt){W(nt,nt.return,gt)}if(nt===tt){V$1=null;break e}var mt=nt.sibling;if(mt!==null){mt.return=nt.return,V$1=mt;break e}V$1=nt.return}}if(K$1=_e,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,j)}catch{}$=!0}return $}finally{C$1=b,pk.transition=g}}return!1}function Yk(j,g,b){g=Ki(b,g),g=Oi(j,g,1),j=dh(j,g,1),g=L(),j!==null&&(Ac(j,1,g),Ek(j,g))}function W(j,g,b){if(j.tag===3)Yk(j,j,b);else for(;g!==null;){if(g.tag===3){Yk(g,j,b);break}else if(g.tag===1){var $=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(Si===null||!Si.has($))){j=Ki(b,j),j=Ri(g,j,1),g=dh(g,j,1),j=L(),g!==null&&(Ac(g,1,j),Ek(g,j));break}}g=g.return}}function Ui(j,g,b){var $=j.pingCache;$!==null&&$.delete(g),g=L(),j.pingedLanes|=j.suspendedLanes&b,R$2===j&&(Z&b)===b&&(T$1===4||T$1===3&&(Z&130023424)===Z&&500>B$1()-gk?Lk(j,0):sk|=b),Ek(j,g)}function Zk(j,g){g===0&&((j.mode&1)===0?g=1:(g=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var b=L();j=Zg(j,g),j!==null&&(Ac(j,g,b),Ek(j,b))}function vj(j){var g=j.memoizedState,b=0;g!==null&&(b=g.retryLane),Zk(j,b)}function ck(j,g){var b=0;switch(j.tag){case 13:var $=j.stateNode,_e=j.memoizedState;_e!==null&&(b=_e.retryLane);break;case 19:$=j.stateNode;break;default:throw Error(p$2(314))}$!==null&&$.delete(g),Zk(j,b)}var Wk;Wk=function(j,g,b){if(j!==null)if(j.memoizedProps!==g.pendingProps||Wf.current)Ug=!0;else{if((j.lanes&b)===0&&(g.flags&128)===0)return Ug=!1,zj(j,g,b);Ug=(j.flags&131072)!==0}else Ug=!1,I$1&&(g.flags&1048576)!==0&&ug(g,ng,g.index);switch(g.lanes=0,g.tag){case 2:var $=g.type;jj(j,g),j=g.pendingProps;var _e=Yf(g,H$1.current);Tg(g,b),_e=Xh(null,g,$,j,_e,b);var et=bi();return g.flags|=1,typeof _e=="object"&&_e!==null&&typeof _e.render=="function"&&_e.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Zf($)?(et=!0,cg(g)):et=!1,g.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,ah(g),_e.updater=nh,g.stateNode=_e,_e._reactInternals=g,rh(g,$,j,b),g=kj(null,g,$,!0,et,b)):(g.tag=0,I$1&&et&&vg(g),Yi(null,g,_e,b),g=g.child),g;case 16:$=g.elementType;e:{switch(jj(j,g),j=g.pendingProps,_e=$._init,$=_e($._payload),g.type=$,_e=g.tag=$k($),j=Lg($,j),_e){case 0:g=dj(null,g,$,j,b);break e;case 1:g=ij(null,g,$,j,b);break e;case 11:g=Zi(null,g,$,j,b);break e;case 14:g=aj(null,g,$,Lg($.type,j),b);break e}throw Error(p$2(306,$,""))}return g;case 0:return $=g.type,_e=g.pendingProps,_e=g.elementType===$?_e:Lg($,_e),dj(j,g,$,_e,b);case 1:return $=g.type,_e=g.pendingProps,_e=g.elementType===$?_e:Lg($,_e),ij(j,g,$,_e,b);case 3:e:{if(lj(g),j===null)throw Error(p$2(387));$=g.pendingProps,et=g.memoizedState,_e=et.element,bh(j,g),gh(g,$,null,b);var tt=g.memoizedState;if($=tt.element,et.isDehydrated)if(et={element:$,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},g.updateQueue.baseState=et,g.memoizedState=et,g.flags&256){_e=Ki(Error(p$2(423)),g),g=mj(j,g,$,b,_e);break e}else if($!==_e){_e=Ki(Error(p$2(424)),g),g=mj(j,g,$,b,_e);break e}else for(yg=Lf(g.stateNode.containerInfo.firstChild),xg=g,I$1=!0,zg=null,b=Ch(g,null,$,b),g.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Ig(),$===_e){g=$i(j,g,b);break e}Yi(j,g,$,b)}g=g.child}return g;case 5:return Kh(g),j===null&&Eg(g),$=g.type,_e=g.pendingProps,et=j!==null?j.memoizedProps:null,tt=_e.children,Ef($,_e)?tt=null:et!==null&&Ef($,et)&&(g.flags|=32),hj(j,g),Yi(j,g,tt,b),g.child;case 6:return j===null&&Eg(g),null;case 13:return pj(j,g,b);case 4:return Ih(g,g.stateNode.containerInfo),$=g.pendingProps,j===null?g.child=Bh(g,null,$,b):Yi(j,g,$,b),g.child;case 11:return $=g.type,_e=g.pendingProps,_e=g.elementType===$?_e:Lg($,_e),Zi(j,g,$,_e,b);case 7:return Yi(j,g,g.pendingProps,b),g.child;case 8:return Yi(j,g,g.pendingProps.children,b),g.child;case 12:return Yi(j,g,g.pendingProps.children,b),g.child;case 10:e:{if($=g.type._context,_e=g.pendingProps,et=g.memoizedProps,tt=_e.value,G(Mg,$._currentValue),$._currentValue=tt,et!==null)if(He(et.value,tt)){if(et.children===_e.children&&!Wf.current){g=$i(j,g,b);break e}}else for(et=g.child,et!==null&&(et.return=g);et!==null;){var nt=et.dependencies;if(nt!==null){tt=et.child;for(var rt=nt.firstContext;rt!==null;){if(rt.context===$){if(et.tag===1){rt=ch(-1,b&-b),rt.tag=2;var it=et.updateQueue;if(it!==null){it=it.shared;var ot=it.pending;ot===null?rt.next=rt:(rt.next=ot.next,ot.next=rt),it.pending=rt}}et.lanes|=b,rt=et.alternate,rt!==null&&(rt.lanes|=b),Sg(et.return,b,g),nt.lanes|=b;break}rt=rt.next}}else if(et.tag===10)tt=et.type===g.type?null:et.child;else if(et.tag===18){if(tt=et.return,tt===null)throw Error(p$2(341));tt.lanes|=b,nt=tt.alternate,nt!==null&&(nt.lanes|=b),Sg(tt,b,g),tt=et.sibling}else tt=et.child;if(tt!==null)tt.return=et;else for(tt=et;tt!==null;){if(tt===g){tt=null;break}if(et=tt.sibling,et!==null){et.return=tt.return,tt=et;break}tt=tt.return}et=tt}Yi(j,g,_e.children,b),g=g.child}return g;case 9:return _e=g.type,$=g.pendingProps.children,Tg(g,b),_e=Vg(_e),$=$(_e),g.flags|=1,Yi(j,g,$,b),g.child;case 14:return $=g.type,_e=Lg($,g.pendingProps),_e=Lg($.type,_e),aj(j,g,$,_e,b);case 15:return cj(j,g,g.type,g.pendingProps,b);case 17:return $=g.type,_e=g.pendingProps,_e=g.elementType===$?_e:Lg($,_e),jj(j,g),g.tag=1,Zf($)?(j=!0,cg(g)):j=!1,Tg(g,b),ph(g,$,_e),rh(g,$,_e,b),kj(null,g,$,!0,j,b);case 19:return yj(j,g,b);case 22:return ej(j,g,b)}throw Error(p$2(156,g.tag))};function Gk(j,g){return ac(j,g)}function al(j,g,b,$){this.tag=j,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(j,g,b,$){return new al(j,g,b,$)}function bj(j){return j=j.prototype,!(!j||!j.isReactComponent)}function $k(j){if(typeof j=="function")return bj(j)?1:0;if(j!=null){if(j=j.$$typeof,j===Da)return 11;if(j===Ga)return 14}return 2}function wh(j,g){var b=j.alternate;return b===null?(b=Bg(j.tag,g,j.key,j.mode),b.elementType=j.elementType,b.type=j.type,b.stateNode=j.stateNode,b.alternate=j,j.alternate=b):(b.pendingProps=g,b.type=j.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=j.flags&14680064,b.childLanes=j.childLanes,b.lanes=j.lanes,b.child=j.child,b.memoizedProps=j.memoizedProps,b.memoizedState=j.memoizedState,b.updateQueue=j.updateQueue,g=j.dependencies,b.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},b.sibling=j.sibling,b.index=j.index,b.ref=j.ref,b}function yh(j,g,b,$,_e,et){var tt=2;if($=j,typeof j=="function")bj(j)&&(tt=1);else if(typeof j=="string")tt=5;else e:switch(j){case ya:return Ah(b.children,_e,et,g);case za:tt=8,_e|=8;break;case Aa:return j=Bg(12,b,g,_e|2),j.elementType=Aa,j.lanes=et,j;case Ea:return j=Bg(13,b,g,_e),j.elementType=Ea,j.lanes=et,j;case Fa:return j=Bg(19,b,g,_e),j.elementType=Fa,j.lanes=et,j;case Ia:return qj(b,_e,et,g);default:if(typeof j=="object"&&j!==null)switch(j.$$typeof){case Ba:tt=10;break e;case Ca:tt=9;break e;case Da:tt=11;break e;case Ga:tt=14;break e;case Ha:tt=16,$=null;break e}throw Error(p$2(130,j==null?j:typeof j,""))}return g=Bg(tt,b,g,_e),g.elementType=j,g.type=$,g.lanes=et,g}function Ah(j,g,b,$){return j=Bg(7,j,$,g),j.lanes=b,j}function qj(j,g,b,$){return j=Bg(22,j,$,g),j.elementType=Ia,j.lanes=b,j.stateNode={isHidden:!1},j}function xh(j,g,b){return j=Bg(6,j,null,g),j.lanes=b,j}function zh(j,g,b){return g=Bg(4,j.children!==null?j.children:[],j.key,g),g.lanes=b,g.stateNode={containerInfo:j.containerInfo,pendingChildren:null,implementation:j.implementation},g}function bl(j,g,b,$,_e){this.tag=g,this.containerInfo=j,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=$,this.onRecoverableError=_e,this.mutableSourceEagerHydrationData=null}function cl(j,g,b,$,_e,et,tt,nt,rt){return j=new bl(j,g,b,nt,rt),g===1?(g=1,et===!0&&(g|=8)):g=0,et=Bg(3,null,null,g),j.current=et,et.stateNode=j,et.memoizedState={element:$,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(et),j}function dl(j,g,b){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:$==null?null:""+$,children:j,containerInfo:g,implementation:b}}function el(j){if(!j)return Vf;j=j._reactInternals;e:{if(Vb(j)!==j||j.tag!==1)throw Error(p$2(170));var g=j;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Zf(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(p$2(171))}if(j.tag===1){var b=j.type;if(Zf(b))return bg(j,b,g)}return g}function fl(j,g,b,$,_e,et,tt,nt,rt){return j=cl(b,$,!0,j,_e,et,tt,nt,rt),j.context=el(null),b=j.current,$=L(),_e=lh(b),et=ch($,_e),et.callback=g!=null?g:null,dh(b,et,_e),j.current.lanes=_e,Ac(j,_e,$),Ek(j,$),j}function gl(j,g,b,$){var _e=g.current,et=L(),tt=lh(_e);return b=el(b),g.context===null?g.context=b:g.pendingContext=b,g=ch(et,tt),g.payload={element:j},$=$===void 0?null:$,$!==null&&(g.callback=$),j=dh(_e,g,tt),j!==null&&(mh(j,_e,tt,et),eh(j,_e,tt)),tt}function hl(j){if(j=j.current,!j.child)return null;switch(j.child.tag){case 5:return j.child.stateNode;default:return j.child.stateNode}}function il(j,g){if(j=j.memoizedState,j!==null&&j.dehydrated!==null){var b=j.retryLane;j.retryLane=b!==0&&b<g?b:g}}function jl(j,g){il(j,g),(j=j.alternate)&&il(j,g)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(j){console.error(j)};function ml(j){this._internalRoot=j}nl.prototype.render=ml.prototype.render=function(j){var g=this._internalRoot;if(g===null)throw Error(p$2(409));gl(j,g,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var j=this._internalRoot;if(j!==null){this._internalRoot=null;var g=j.containerInfo;Sk(function(){gl(null,j,null,null)}),g[uf]=null}};function nl(j){this._internalRoot=j}nl.prototype.unstable_scheduleHydration=function(j){if(j){var g=Hc();j={blockedOn:null,target:j,priority:g};for(var b=0;b<Qc.length&&g!==0&&g<Qc[b].priority;b++);Qc.splice(b,0,j),b===0&&Vc(j)}};function ol(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11)}function pl(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11&&(j.nodeType!==8||j.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(j,g,b,$,_e){if(_e){if(typeof $=="function"){var et=$;$=function(){var it=hl(tt);et.call(it)}}var tt=fl(g,$,j,0,null,!1,!1,"",ql);return j._reactRootContainer=tt,j[uf]=tt.current,sf(j.nodeType===8?j.parentNode:j),Sk(),tt}for(;_e=j.lastChild;)j.removeChild(_e);if(typeof $=="function"){var nt=$;$=function(){var it=hl(rt);nt.call(it)}}var rt=cl(j,0,!1,null,null,!1,!1,"",ql);return j._reactRootContainer=rt,j[uf]=rt.current,sf(j.nodeType===8?j.parentNode:j),Sk(function(){gl(g,rt,b,$)}),rt}function sl(j,g,b,$,_e){var et=b._reactRootContainer;if(et){var tt=et;if(typeof _e=="function"){var nt=_e;_e=function(){var rt=hl(tt);nt.call(rt)}}gl(g,tt,j,_e)}else tt=rl(b,g,j,_e,$);return hl(tt)}Ec=function(j){switch(j.tag){case 3:var g=j.stateNode;if(g.current.memoizedState.isDehydrated){var b=tc(g.pendingLanes);b!==0&&(Cc(g,b|1),Ek(g,B$1()),(K$1&6)===0&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var $=Zg(j,1);if($!==null){var _e=L();mh($,j,1,_e)}}),jl(j,1)}};Fc=function(j){if(j.tag===13){var g=Zg(j,134217728);if(g!==null){var b=L();mh(g,j,134217728,b)}jl(j,134217728)}};Gc=function(j){if(j.tag===13){var g=lh(j),b=Zg(j,g);if(b!==null){var $=L();mh(b,j,g,$)}jl(j,g)}};Hc=function(){return C$1};Ic=function(j,g){var b=C$1;try{return C$1=j,g()}finally{C$1=b}};yb=function(j,g,b){switch(g){case"input":if(bb(j,b),g=b.name,b.type==="radio"&&g!=null){for(b=j;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<b.length;g++){var $=b[g];if($!==j&&$.form===j.form){var _e=Db($);if(!_e)throw Error(p$2(90));Wa($),bb($,_e)}}}break;case"textarea":ib(j,b);break;case"select":g=b.value,g!=null&&fb(j,!!b.multiple,g,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(j){return j=Zb(j),j===null?null:j.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(j,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(g))throw Error(p$2(200));return dl(j,g,null,b)};reactDom_production_min.createRoot=function(j,g){if(!ol(j))throw Error(p$2(299));var b=!1,$="",_e=ll;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&($=g.identifierPrefix),g.onRecoverableError!==void 0&&(_e=g.onRecoverableError)),g=cl(j,1,!1,null,null,b,!1,$,_e),j[uf]=g.current,sf(j.nodeType===8?j.parentNode:j),new ml(g)};reactDom_production_min.findDOMNode=function(j){if(j==null)return null;if(j.nodeType===1)return j;var g=j._reactInternals;if(g===void 0)throw typeof j.render=="function"?Error(p$2(188)):(j=Object.keys(j).join(","),Error(p$2(268,j)));return j=Zb(g),j=j===null?null:j.stateNode,j};reactDom_production_min.flushSync=function(j){return Sk(j)};reactDom_production_min.hydrate=function(j,g,b){if(!pl(g))throw Error(p$2(200));return sl(null,j,g,!0,b)};reactDom_production_min.hydrateRoot=function(j,g,b){if(!ol(j))throw Error(p$2(405));var $=b!=null&&b.hydratedSources||null,_e=!1,et="",tt=ll;if(b!=null&&(b.unstable_strictMode===!0&&(_e=!0),b.identifierPrefix!==void 0&&(et=b.identifierPrefix),b.onRecoverableError!==void 0&&(tt=b.onRecoverableError)),g=fl(g,null,j,1,b!=null?b:null,_e,!1,et,tt),j[uf]=g.current,sf(j),$)for(j=0;j<$.length;j++)b=$[j],_e=b._getVersion,_e=_e(b._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[b,_e]:g.mutableSourceEagerHydrationData.push(b,_e);return new nl(g)};reactDom_production_min.render=function(j,g,b){if(!pl(g))throw Error(p$2(200));return sl(null,j,g,!1,b)};reactDom_production_min.unmountComponentAtNode=function(j){if(!pl(j))throw Error(p$2(40));return j._reactRootContainer?(Sk(function(){sl(null,null,j,!1,function(){j._reactRootContainer=null,j[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(j,g,b,$){if(!pl(b))throw Error(p$2(200));if(j==null||j._reactInternals===void 0)throw Error(p$2(38));return sl(j,g,b,!1,$)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(j){console.error(j)}}checkDCE(),reactDom.exports=reactDom_production_min;var createRoot,m$3=reactDom.exports;createRoot=m$3.createRoot,m$3.hydrateRoot;var dist={exports:{}};const o$2=(j,g,b)=>$=>{return tt=b,`\x1B[38;5;${(_e=j)===(et=g)&&et===tt?_e<8?16:_e>248?231:Math.round((_e-8)/247*24)+232:16+36*Math.round(_e/255*5)+6*Math.round(et/255*5)+Math.round(tt/255*5)}m`+$+"\x1B[39m";var _e,et,tt},t$1=j=>"\x1B[1m"+j+"\x1B[22m",e$3=!(typeof window=="undefined"||!window.document);function n$3(j){let g=0;for(let b=0;b<j.length;b++)g=(g<<5)-g+j.charCodeAt(b),g=Math.abs(g&g);return[(16711680&g)>>16,(65280&g)>>8,255&g]}const l$3=j=>function(){var g=[].slice.call(arguments);const b=n$3(j),$=_e=>_e!=null&&_e.includes(":*")?j.startsWith(_e.split(":*")[0]):_e===j||_e==="*";e$3?$(localStorage.getItem("debug"))&&console.log(j&&`%c${j}`,`color: rgb(${b[0]}, ${b[1]}, ${b[2]})`,...g):$({}.DEBUG)&&console.log(j&&t$1(o$2(b[0],b[1],b[2])(j)),...g)};dist.exports=l$3,dist.exports=l$3;var debug=dist.exports;function lexer(j){for(var g=[],b=0;b<j.length;){var $=j[b];if($==="*"||$==="+"||$==="?"){g.push({type:"MODIFIER",index:b,value:j[b++]});continue}if($==="\\"){g.push({type:"ESCAPED_CHAR",index:b++,value:j[b++]});continue}if($==="{"){g.push({type:"OPEN",index:b,value:j[b++]});continue}if($==="}"){g.push({type:"CLOSE",index:b,value:j[b++]});continue}if($===":"){for(var _e="",et=b+1;et<j.length;){var tt=j.charCodeAt(et);if(tt>=48&&tt<=57||tt>=65&&tt<=90||tt>=97&&tt<=122||tt===95){_e+=j[et++];continue}break}if(!_e)throw new TypeError("Missing parameter name at ".concat(b));g.push({type:"NAME",index:b,value:_e}),b=et;continue}if($==="("){var nt=1,rt="",et=b+1;if(j[et]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(et));for(;et<j.length;){if(j[et]==="\\"){rt+=j[et++]+j[et++];continue}if(j[et]===")"){if(nt--,nt===0){et++;break}}else if(j[et]==="("&&(nt++,j[et+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(et));rt+=j[et++]}if(nt)throw new TypeError("Unbalanced pattern at ".concat(b));if(!rt)throw new TypeError("Missing pattern at ".concat(b));g.push({type:"PATTERN",index:b,value:rt}),b=et;continue}g.push({type:"CHAR",index:b,value:j[b++]})}return g.push({type:"END",index:b,value:""}),g}function parse$1(j,g){g===void 0&&(g={});for(var b=lexer(j),$=g.prefixes,_e=$===void 0?"./":$,et="[^".concat(escapeString(g.delimiter||"/#?"),"]+?"),tt=[],nt=0,rt=0,it="",ot=function(yt){if(rt<b.length&&b[rt].type===yt)return b[rt++].value},st=function(yt){var _t=ot(yt);if(_t!==void 0)return _t;var vt=b[rt],At=vt.type,bt=vt.index;throw new TypeError("Unexpected ".concat(At," at ").concat(bt,", expected ").concat(yt))},at=function(){for(var yt="",_t;_t=ot("CHAR")||ot("ESCAPED_CHAR");)yt+=_t;return yt};rt<b.length;){var lt=ot("CHAR"),ut=ot("NAME"),ct=ot("PATTERN");if(ut||ct){var ft=lt||"";_e.indexOf(ft)===-1&&(it+=ft,ft=""),it&&(tt.push(it),it=""),tt.push({name:ut||nt++,prefix:ft,suffix:"",pattern:ct||et,modifier:ot("MODIFIER")||""});continue}var ht=lt||ot("ESCAPED_CHAR");if(ht){it+=ht;continue}it&&(tt.push(it),it="");var dt=ot("OPEN");if(dt){var ft=at(),pt=ot("NAME")||"",mt=ot("PATTERN")||"",gt=at();st("CLOSE"),tt.push({name:pt||(mt?nt++:""),pattern:pt&&!mt?et:mt,prefix:ft,suffix:gt,modifier:ot("MODIFIER")||""});continue}st("END")}return tt}function compile(j,g){return tokensToFunction(parse$1(j,g),g)}function tokensToFunction(j,g){g===void 0&&(g={});var b=flags(g),$=g.encode,_e=$===void 0?function(rt){return rt}:$,et=g.validate,tt=et===void 0?!0:et,nt=j.map(function(rt){if(typeof rt=="object")return new RegExp("^(?:".concat(rt.pattern,")$"),b)});return function(rt){for(var it="",ot=0;ot<j.length;ot++){var st=j[ot];if(typeof st=="string"){it+=st;continue}var at=rt?rt[st.name]:void 0,lt=st.modifier==="?"||st.modifier==="*",ut=st.modifier==="*"||st.modifier==="+";if(Array.isArray(at)){if(!ut)throw new TypeError('Expected "'.concat(st.name,'" to not repeat, but got an array'));if(at.length===0){if(lt)continue;throw new TypeError('Expected "'.concat(st.name,'" to not be empty'))}for(var ct=0;ct<at.length;ct++){var ft=_e(at[ct],st);if(tt&&!nt[ot].test(ft))throw new TypeError('Expected all "'.concat(st.name,'" to match "').concat(st.pattern,'", but got "').concat(ft,'"'));it+=st.prefix+ft+st.suffix}continue}if(typeof at=="string"||typeof at=="number"){var ft=_e(String(at),st);if(tt&&!nt[ot].test(ft))throw new TypeError('Expected "'.concat(st.name,'" to match "').concat(st.pattern,'", but got "').concat(ft,'"'));it+=st.prefix+ft+st.suffix;continue}if(!lt){var ht=ut?"an array":"a string";throw new TypeError('Expected "'.concat(st.name,'" to be ').concat(ht))}}return it}}function match(j,g){var b=[],$=pathToRegexp(j,b,g);return regexpToFunction($,b,g)}function regexpToFunction(j,g,b){b===void 0&&(b={});var $=b.decode,_e=$===void 0?function(et){return et}:$;return function(et){var tt=j.exec(et);if(!tt)return!1;for(var nt=tt[0],rt=tt.index,it=Object.create(null),ot=function(at){if(tt[at]===void 0)return"continue";var lt=g[at-1];lt.modifier==="*"||lt.modifier==="+"?it[lt.name]=tt[at].split(lt.prefix+lt.suffix).map(function(ut){return _e(ut,lt)}):it[lt.name]=_e(tt[at],lt)},st=1;st<tt.length;st++)ot(st);return{path:nt,index:rt,params:it}}}function escapeString(j){return j.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function flags(j){return j&&j.sensitive?"":"i"}function regexpToRegexp(j,g){if(!g)return j;for(var b=/\((?:\?<(.*?)>)?(?!\?)/g,$=0,_e=b.exec(j.source);_e;)g.push({name:_e[1]||$++,prefix:"",suffix:"",modifier:"",pattern:""}),_e=b.exec(j.source);return j}function arrayToRegexp(j,g,b){var $=j.map(function(_e){return pathToRegexp(_e,g,b).source});return new RegExp("(?:".concat($.join("|"),")"),flags(b))}function stringToRegexp(j,g,b){return tokensToRegexp(parse$1(j,b),g,b)}function tokensToRegexp(j,g,b){b===void 0&&(b={});for(var $=b.strict,_e=$===void 0?!1:$,et=b.start,tt=et===void 0?!0:et,nt=b.end,rt=nt===void 0?!0:nt,it=b.encode,ot=it===void 0?function(bt){return bt}:it,st=b.delimiter,at=st===void 0?"/#?":st,lt=b.endsWith,ut=lt===void 0?"":lt,ct="[".concat(escapeString(ut),"]|$"),ft="[".concat(escapeString(at),"]"),ht=tt?"^":"",dt=0,pt=j;dt<pt.length;dt++){var mt=pt[dt];if(typeof mt=="string")ht+=escapeString(ot(mt));else{var gt=escapeString(ot(mt.prefix)),yt=escapeString(ot(mt.suffix));if(mt.pattern)if(g&&g.push(mt),gt||yt)if(mt.modifier==="+"||mt.modifier==="*"){var _t=mt.modifier==="*"?"?":"";ht+="(?:".concat(gt,"((?:").concat(mt.pattern,")(?:").concat(yt).concat(gt,"(?:").concat(mt.pattern,"))*)").concat(yt,")").concat(_t)}else ht+="(?:".concat(gt,"(").concat(mt.pattern,")").concat(yt,")").concat(mt.modifier);else mt.modifier==="+"||mt.modifier==="*"?ht+="((?:".concat(mt.pattern,")").concat(mt.modifier,")"):ht+="(".concat(mt.pattern,")").concat(mt.modifier);else ht+="(?:".concat(gt).concat(yt,")").concat(mt.modifier)}}if(rt)_e||(ht+="".concat(ft,"?")),ht+=b.endsWith?"(?=".concat(ct,")"):"$";else{var vt=j[j.length-1],At=typeof vt=="string"?ft.indexOf(vt[vt.length-1])>-1:vt===void 0;_e||(ht+="(?:".concat(ft,"(?=").concat(ct,"))?")),At||(ht+="(?=".concat(ft,"|").concat(ct,")"))}return new RegExp(ht,flags(b))}function pathToRegexp(j,g,b){return j instanceof RegExp?regexpToRegexp(j,g):Array.isArray(j)?arrayToRegexp(j,g,b):stringToRegexp(j,g,b)}var c$1={base:void 0,routes:void 0,history:void 0,staticLocation:void 0,routeCounter:1,isFirstRoute:!0,currentRoute:void 0,langService:void 0,staticPropsCache:{}};function v$4(){return v$4=Object.assign?Object.assign.bind():function(j){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var $ in b)Object.prototype.hasOwnProperty.call(b,$)&&(j[$]=b[$])}return j},v$4.apply(this,arguments)}function f$1(j,g){(g==null||g>j.length)&&(g=j.length);for(var b=0,$=new Array(g);b<g;b++)$[b]=j[b];return $}function d$1(j,g){var b=typeof Symbol!="undefined"&&j[Symbol.iterator]||j["@@iterator"];if(b)return(b=b.call(j)).next.bind(b);if(Array.isArray(j)||(b=function(_e,et){if(_e){if(typeof _e=="string")return f$1(_e,et);var tt=Object.prototype.toString.call(_e).slice(8,-1);return tt==="Object"&&_e.constructor&&(tt=_e.constructor.name),tt==="Map"||tt==="Set"?Array.from(_e):tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt)?f$1(_e,et):void 0}}(j))||g&&j&&typeof j.length=="number"){b&&(j=b);var $=0;return function(){return $>=j.length?{done:!0}:{done:!1,value:j[$++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$4(j,g){return g===void 0&&(g=""),(j==null?void 0:j.filter(function(b){return b}).join(g)).replace(/(https?:\/\/)|(\/)+/g,"$1$2")}function p$1(j,g,b){var $;return b===void 0&&(b=!0),b&&j===g||($=j)!=null&&$.endsWith(g)&&(j=j.slice(0,-1)),j}var m$2=debug("router:core");function y(j,g,b,$){var _e,et,tt,nt,rt,it;if(g===void 0&&(g=c$1.base),b===void 0&&(b=c$1.routes),$===void 0&&($=c$1.langService),b){var ot,st,at;if(typeof j!="object"||$||m$2("route.path object is not supported without langService. Use should use route.path string instead."),typeof j=="string")ot=j,$&&(et=ot,tt===void 0&&(tt=(rt=c$1.langService)==null?void 0:rt.currentLang.key),nt===void 0&&(nt=(it=c$1.langService)==null?void 0:it.showLangInUrl()),ot=nt?et=h$4(["/"+tt,et==="/"?"":et]):et);else{if(typeof j!="object"||j==null||!j.name)return void console.warn("createUrl param isn't valid. to use createUrl return.",j);var lt;!$||(lt=j.params)!=null&&lt.lang||(j.params=v$4({},j.params,{lang:$.currentLang.key})),ot=function ut(ct,ft){for(var ht,dt=d$1(ct);!(ht=dt()).done;){var pt,mt,gt=ht.value;if((gt==null?void 0:gt.name)===ft.name||((pt=gt.component)==null?void 0:pt.displayName)===ft.name){var yt;if(gt==null||!gt.path)return void m$2("getUrlByRouteName > There is no route with this name, exit",ft.name);var _t=typeof gt.path=="object"?gt.path[Object.keys(gt.path)[0]]:gt.path;return I(U(st,_t,gt.name,at==null||(yt=at.params)==null?void 0:yt.lang),ft.params)}if(((mt=gt.children)==null?void 0:mt.length)>0){var vt=ut(gt.children,ft);if(vt)return vt}}}(st=b,at=j)}return ot=function(ut,ct){return ct===void 0&&(ct=c$1.base),h$4([ct==="/"?"":ct,ut])}(ot,I(g,{lang:(_e=c$1.langService)==null?void 0:_e.currentLang.key})),ot}}function R$1(j,g){var b;g===void 0&&(g=c$1==null?void 0:c$1.history);var $=typeof j=="string"?j:y(j);(b=g)==null||b.push($)}function w$3(j){var g=j.pRoutes;if(g&&(g==null?void 0:g.length)!==0){var b=void 0;return function $(_e){for(var et,tt=_e.pUrl,nt=_e.pBase,rt=_e.pMatcher,it=_e.id,ot=d$1(_e.pRoutes);!(et=ot()).done;){var st=et.value,at=p$1(h$4([nt,st.path]),"/"),lt=match(at)(tt);if(m$2(it,'"'+tt+'" match with "'+at+'"?',!!lt),lt){var ut,ct=b||st,ft=(rt==null?void 0:rt.params)||(lt==null?void 0:lt.params),ht={fullPath:at,path:ct==null?void 0:ct.path,fullUrl:tt,url:compile(ct.path)(ft),base:nt,component:ct==null?void 0:ct.component,children:ct==null?void 0:ct.children,parser:rt||lt,langPath:ct==null?void 0:ct.langPath,name:(ct==null?void 0:ct.name)||(ct==null||(ut=ct.component)==null?void 0:ut.displayName),action:ct==null?void 0:ct.action,getStaticProps:ct==null?void 0:ct.getStaticProps,props:v$4({params:ft},(ct==null?void 0:ct.props)||{})};return m$2(it,"getRouteFromUrl: MATCH routeObj",ht),ht}if(st!=null&&st.children){b||(b=st);var dt=$({pUrl:tt,id:it,pRoutes:st==null?void 0:st.children,pBase:at,pCurrentRoute:b||st,pMatcher:lt});if(dt)return dt;b=void 0}}}({pUrl:j.pUrl,pRoutes:g,pBase:j.pBase,pMatcher:j.pMatcher,id:j.id})}}function S(j){return j==null?void 0:j.find(function(g){var b;return g.path==="/:rest"||((b=g.component)==null?void 0:b.displayName)==="NotFoundPage"})}function k$1(j,g,b,$){if(j){var _e=function(et){if(et===void 0&&(et=c$1.routes),et)return et.some(function(tt){return typeof tt.path=="object"&&Object.keys(tt.path).some(function(nt){return tt.path[nt]==="/"||tt.path[nt]==="/:lang"})||tt.path==="/"||tt.path==="/:lang"})||et.unshift({path:"/",component:null,name:"1stLevelRoute-"+Math.random()}),et;m$2("routes doesnt exist, return",et)}(j);return b&&(_e=function(et,tt){return(tt==null?void 0:tt.reduce(function(nt,rt){return rt(nt)},et))||et}(_e,b)),g&&(_e=g.addLangParamToRoutes(_e)),_e}console.error($,"props.routes is missing or empty, return.")}function I(j,g){return compile(j)(g)}function U(j,g,b,$,_e){var et;$===void 0&&($=((et=c$1.langService)==null?void 0:et.currentLang.key)||void 0),_e===void 0&&(_e=null);for(var tt,nt=[_e],rt=d$1(j);!(tt=rt()).done;){var it,ot,st=tt.value,at=(it=st.langPath)==null?void 0:it[$],lt=st.path;if((at===g||lt===g)&&st.name===b)return nt.push(at||lt),h$4(nt);if((st==null||(ot=st.children)==null?void 0:ot.length)>0&&U(st.children,g,b,$,h$4(nt)))return nt.push(at||lt),U(st.children,g,b,$,h$4(nt))}}var O=debug("router:staticPropsCache"),x=debug("router:Router"),C=React.createContext({base:"/",routes:void 0,history:void 0,langService:void 0,currentRoute:void 0,previousRoute:void 0,routeIndex:0,previousPageIsMount:!0,staticLocation:void 0,unmountPreviousPage:function(){},getPaused:function(){return!1},setPaused:function(j){}});function M(j){c$1.langService||(c$1.langService=j.langService);var g=c$1.langService,b=React.useMemo(function(){var ut=k$1(j.routes,g,j.middlewares,j.id);return c$1.routes||(c$1.routes=ut),ut},[j.routes,g,j.middlewares,j.id]);c$1.base||(c$1.base=j.base);var $=c$1.base;j.history&&!c$1.history&&(c$1.history=j.history);var _e=c$1.history;j.staticLocation&&(c$1.staticLocation=j.staticLocation);var et=c$1.staticLocation,tt=React.useReducer(function(ut,ct){switch(ct.type){case"update-current-route":return v$4({},ut,{previousRoute:ut.currentRoute,currentRoute:ct.value,routeIndex:ut.routeIndex+1,previousPageIsMount:!0});case"unmount-previous-page":return v$4({},ut,{previousPageIsMount:!1})}},{currentRoute:void 0,previousRoute:void 0,previousPageIsMount:!1,routeIndex:0}),nt=tt[0],rt=tt[1],it=React.useRef(null),ot=React.useRef(!1),st=React.useRef(),at=function(ut,ct){ut===void 0&&(ut=""),ct===void 0&&(ct="");try{var ft,ht,dt=function(){rt({type:"update-current-route",value:_t}),st.current=_t,c$1.currentRoute=_t,c$1.isFirstRoute=!1},pt=ut;if(((ft=ct)==null?void 0:ft.length)>0&&(pt=ct.replace("#","")),ot.current)return it.current=pt,Promise.resolve();var mt=w$3({pUrl:pt,pRoutes:b,pBase:j.base,id:j.id}),gt=S(j.routes);if(!mt&&!gt)return x(j.id,"matchingRoute not found & 'notFoundRoute' not found, return."),Promise.resolve();var yt=(ht=st.current)==null?void 0:ht.url;if(yt!=null&&yt===(mt==null?void 0:mt.url))return x(j.id,"this is the same route 'url', return."),Promise.resolve();var _t=mt||gt;if(!_t)return Promise.resolve();var vt=function(){if(j.initialStaticProps){var At=function(Mt){return Mt===void 0&&(Mt=c$1.staticPropsCache),Object.freeze({get:function(Tt){if(!Object.keys(Mt).some(function(Ot){return Ot===Tt}))return O('"'+Tt+`" key doesn't exist in cache, we need to request the API.`,Mt),null;var Lt=Mt[Tt];return O("current page data is already in 'cache', we use it.",Lt),Lt},set:function(Tt,Lt){Mt[Tt]=Lt,O("cache after set",Mt)}})}(),bt=At.get(_t.fullUrl),xt=_t.name===j.initialStaticProps.name,Et=function(){if(xt){var Mt,Tt,Lt,Ot;_t.props&&Object.assign(_t.props,(Mt=(Tt=j.initialStaticProps)==null?void 0:Tt.props)!=null?Mt:{}),bt||At.set(_t.fullUrl,(Lt=(Ot=j.initialStaticProps)==null?void 0:Ot.props)!=null?Lt:{})}else{var Rt=function(){if(bt)Object.assign(_t.props,bt);else{var Ct=function(){if(_t.getStaticProps){var Dt=function(Bt,kt){try{var zt=Promise.resolve(_t.getStaticProps(_t.props)).then(function(Ft){Object.assign(_t.props,Ft),At.set(_t.fullUrl,Ft)})}catch{return kt()}return zt&&zt.then?zt.then(void 0,kt):zt}(0,function(){console.error("requestStaticProps failed")});if(Dt&&Dt.then)return Dt.then(function(){})}}();if(Ct&&Ct.then)return Ct.then(function(){})}}();if(Rt&&Rt.then)return Rt.then(function(){})}}();if(Et&&Et.then)return Et.then(function(){})}}();return Promise.resolve(vt&&vt.then?vt.then(dt):dt())}catch(At){return Promise.reject(At)}},lt=React.useMemo(function(){if(b)return function(){if(!et||!_e)return et?void at(et):_e?(at(window.location.pathname,window.location.hash),_e==null?void 0:_e.listen(function(ut){var ct=ut.location;at(ct.pathname,ct.hash)})):void console.error("An history or staticLocation props is required, return.");console.error("You can't set history and staticLocation props together, return.")}()},[b,_e]);return React.useEffect(function(){return function(){x(j.id,"Stop to listen history."),lt()}},[lt]),React.createElement(C.Provider,{children:j.children,value:{routes:b,base:$,langService:g,history:_e,staticLocation:et,currentRoute:nt.currentRoute,previousRoute:nt.previousRoute,routeIndex:nt.routeIndex,previousPageIsMount:nt.previousPageIsMount,unmountPreviousPage:function(){return rt({type:"unmount-previous-page"})},getPaused:function(){return ot.current},setPaused:function(ut){ot.current=ut,!ut&&it.current&&(at(it.current),it.current=null)}}})}C.displayName="RouterContext",M.defaultProps={base:"/",id:1},M.displayName="Router";var N=React.memo(M),E=function(){return react.exports.useContext(C)};function D(j,g){g===void 0&&(g=[]);var b=E().history;return React.useEffect(function(){return b==null?void 0:b.listen(function($){j==null||j($)})},[b].concat(g)),b}debug("router:useHistory"),debug("router:useLocation");var A=function(){var j=E().staticLocation,g=D(function(_e){$(_e.location.pathname)},[]),b=react.exports.useState(j||(g==null?void 0:g.location.pathname)),$=b[1];return[b[0],function(_e){g==null||g.push(y(_e))}]};function F(j,g){var b=E(),$=b.history,_e=b.staticLocation,et=A()[0],tt=react.exports.useMemo(function(){return y(j.to)},[j.to]),nt=react.exports.useCallback(function(st){st.preventDefault(),j.onClick==null||j.onClick(),$==null||$.push(tt)},[tt,$]),rt=React.useState(),it=rt[0],ot=rt[1];return React.useEffect(function(){var st=$?et:_e;ot(st===tt||st===p$1(tt,"/",!0))},[$,_e,et,tt]),React.createElement("a",v$4({},v$4({},j,{to:void 0}),{className:h$4(["Link",j.className,it&&"active"]," "),onClick:nt,children:j.children,href:tt,ref:g}))}debug("router:Link");var B=React.forwardRef(F);function T(j){var g=E(),b=g.staticLocation,$=g.routeIndex,_e=g.currentRoute,et=g.previousRoute,tt=g.unmountPreviousPage,nt=g.previousPageIsMount,rt=React.useRef(null),it=React.useRef(null),ot=React.useCallback(function(st){var at=st.previousPage,lt=st.currentPage,ut=st.unmountPreviousPage;return new Promise(function(ct){try{var ft=function(){function pt(){ct()}var mt=function(){if(lt)return Promise.resolve(lt.isReadyPromise()).then(function(){return ht&&(ht.style.visibility="visible"),Promise.resolve(lt.playIn()).then(function(){})})}();return mt&&mt.then?mt.then(pt):pt()},ht=lt==null?void 0:lt.$element;ht&&(ht.style.visibility="hidden");var dt=function(){if(at)return Promise.resolve(at.playOut()).then(function(){ut()})}();return Promise.resolve(dt&&dt.then?dt.then(ft):ft())}catch(pt){return Promise.reject(pt)}})},[]);return React[b?"useEffect":"useLayoutEffect"](function(){_e&&(j.manageTransitions||ot)({previousPage:rt.current,currentPage:it.current,unmountPreviousPage:tt}).then(function(){tt()})},[$]),React.createElement("div",{className:["Stack",j.className].filter(function(st){return st}).join(" ")},nt&&(et==null?void 0:et.component)&&React.createElement(et.component,v$4({ref:rt,key:((et==null?void 0:et.fullUrl)||"")+"_"+($-1)},et.props||{})),(_e==null?void 0:_e.component)&&React.createElement(_e.component,v$4({ref:it,key:((_e==null?void 0:_e.fullUrl)||"")+"_"+$},_e.props||{})))}debug("router:Stack");var K=function(j){var g=j.componentName,b=j.playIn,$=b===void 0?function(){return Promise.resolve()}:b,_e=j.playOut,et=_e===void 0?function(){return Promise.resolve()}:_e,tt=j.handleRef,nt=j.rootRef,rt=j.isReady,it=rt===void 0||rt,ot=react.exports.useMemo(function(){var st={};return st.promise=new Promise(function(at){st.resolve=at}),st},[]);react.exports.useEffect(function(){it&&ot.resolve()},[it]),react.exports.useImperativeHandle(tt,function(){return{componentName:g,playIn:$,playOut:et,isReady:it,isReadyPromise:function(){return ot.promise},$element:nt.current}},[ot])};debug("router:useLang");var q$1=function(j){var g;j===void 0&&(j=c$1.langService);var b=React.useState((g=j)==null?void 0:g.currentLang),$=b[0],_e=b[1];return D(function(){j?_e(j.currentLang):console.warn("useLang - LangService isn't init. You need to create a LangService instance before using this hook. https://github.com/cher-ami/router/tree/main#LangService")},[]),[$,function(et,tt){var nt;tt===void 0&&(tt=!0),nt=typeof et=="string"?j.languages.find(function(rt){return rt.key===et}):et,j.setLang(nt,tt)}]},_=debug("router:LangService"),H=function(){function j(b){var $=b.languages,_e=b.showDefaultLangInUrl,et=_e===void 0||_e,tt=b.base,nt=tt===void 0?"/":tt,rt=b.staticLocation;if(this.isInit=!1,this.languages=void 0,this.currentLang=void 0,this.defaultLang=void 0,this.showDefaultLangInUrl=void 0,this.base=void 0,this.staticLocation=void 0,($==null?void 0:$.length)===0)throw new Error("ERROR, no language is set.");this.languages=$,this.base=p$1(nt,"/",!0),this.staticLocation=rt,this.defaultLang=this.getDefaultLang($),this.currentLang=this.getLangFromUrl()||this.defaultLang,this.showDefaultLangInUrl=et,this.isInit=!0}var g=j.prototype;return g.setLang=function(b,$,_e){var et,tt;if($===void 0&&($=!0),_e===void 0&&(_e=c$1.currentRoute),b.key!==this.currentLang.key)if(this.langIsAvailable(b)){var nt,rt=y({name:(et=_e)==null?void 0:et.name,params:v$4({},((tt=_e.props)==null?void 0:tt.params)||{},{lang:b.key})});_("preparedNewUrl",rt);var it=$;if(this.showDefaultLangInUrl)nt=rt;else if(this.isDefaultLangKey(b.key)){var ot=rt.substr((this.base+"/"+b.key).length,rt.length);nt=h$4([this.base,ot]),it=!0}else if(this.isDefaultLangKey(this.currentLang.key)){var st=rt.substr(this.base.length,rt.length);nt=h$4([this.base,"/",b.key,"/",st])}else nt=rt;nt?(this.currentLang=b,nt=p$1(nt,"/",!0),this.reloadOrRefresh(nt,it)):_("newUrl is no set, do not reload or refresh, return.",nt)}else _("setLang: lang "+b.key+" is not available in languages list, exit.");else _("setLang: This is the same language, exit.")},g.redirect=function(b){if(b===void 0&&(b=!0),this.isInit)if(this.showDefaultLangInUrl){if(this.langIsAvailable(this.getLangFromUrl()))_("redirect: lang from URL is valid, don't redirect");else if(location.pathname===this.base||p$1(location.pathname,"/",!0)===this.base){var $=I(h$4([this.base,"/:lang"]),{lang:this.defaultLang.key});_("redirect: to >",{newUrl:$}),this.reloadOrRefresh($,b)}}else _("redirect: URLs have a lang param or language is valid, don't redirect.");else console.warn("redirect: LangService is not init, exit.")},g.isDefaultLangKey=function(b){return b===void 0&&(b=this.currentLang.key),b===this.defaultLang.key},g.showLangInUrl=function(){return this.showDefaultLangInUrl?this.isInit:this.isInit&&!this.isDefaultLangKey()},g.addLangParamToRoutes=function(b,$){var _e=this;if($===void 0&&($=this.showLangInUrl()),b!=null&&b.some(function(tt){return!!tt.langPath}))return _("Routes have already been formatted by 'addLangParamToRoutes()', return routes."),b;var et=function(tt,nt){return p$1(h$4([nt&&"/:lang",tt!=="/"?tt:"/"]),"/")};return function tt(nt,rt){return rt===void 0&&(rt=!1),nt.map(function(it){var ot,st=_e.getLangPathByLang(it),at=((ot=it.children)==null?void 0:ot.length)>0,lt=!rt&&$,ut={};return typeof it.path=="object"?Object.keys(it.path).forEach(function(ct){ut[ct]=et(it.path[ct],lt)}):typeof it.path=="string"&&_e.languages.map(function(ct){return ct.key}).forEach(function(ct){ut[ct]=et(it.path,lt)}),v$4({},it,{path:et(st,lt),langPath:Object.entries(ut).length!==0?ut:null},at?{children:tt(it.children,!0)}:{})})}(b)},g.getLangPathByLang=function(b,$){var _e;return $===void 0&&($=this.currentLang.key),typeof b.path=="string"?_e=b.path:typeof b.path=="object"&&Object.keys(b.path).find(function(et){var tt;et===$&&(_e=(tt=b.path)==null?void 0:tt[et])}),_e},g.getDefaultLang=function(b){var $;return($=b.find(function(_e){return _e==null?void 0:_e.default}))!=null?$:b[0]},g.getLangFromUrl=function(b){var $;b===void 0&&(b=($=this.staticLocation)!=null?$:window.location.pathname);var _e=h$4([b.replace(this.base,"/")]).split("/")[1];return this.languages.find(function(et){return _e===et.key})},g.langIsAvailable=function(b,$){return $===void 0&&($=this.languages),$.some(function(_e){return _e.key===(b==null?void 0:b.key)})},g.reloadOrRefresh=function(b,$){var _e;$===void 0&&($=!0),typeof window!="undefined"&&window.document&&($?(_e=window)==null||_e.open(b,"_self"):c$1.history.push(b))},j}(),soundAmbiant$1="/LOreal_MusiqueCourte-ALT1.c5a01795.mp3";const root$i="Xkdgr",root_videoPlaying="yCgpk";var css$u={root:root$i,"root-isBlack":"U2f53",root_videoPlaying};const merge=(j,g=" ")=>{if((j==null?void 0:j.length)>0)return j.reduce((b,$)=>b.concat($),[]).filter(b=>b).join(g)};var volumeOnIcon=`<svg
     width="24"
     height="24"
     viewBox="0 0 24 24"
     fill="none"
     stroke="white"
     xmlns="http://www.w3.org/2000/svg"
>
      <path d="M11 5L6 9H2V15H6L11 19V5Z" strokeLinecap="round" strokeLinejoin="round" />
      <path
        d="M19.07 4.92999C20.9447 6.80527 21.9979 9.34835 21.9979 12C21.9979 14.6516 20.9447 17.1947 19.07 19.07M15.54 8.45999C16.4774 9.39763 17.004 10.6692 17.004 11.995C17.004 13.3208 16.4774 14.5924 15.54 15.53"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
</svg>
`,volumeOffIcon=`<svg
     width="24"
     height="24"
     viewBox="0 0 24 24"
     fill="none"
     stroke="white"
     xmlns="http://www.w3.org/2000/svg"
>
     <path d="M11 5L6 9H2V15H6L11 19V5Z" strokeLinecap="round" strokeLinejoin="round" stroke="#ffffff" />
     <path d="M23 9.21429L17 15.1429" strokeLinecap="round" strokeLinejoin="round" stroke="#ffffff"/>
     <path d="M17 9.21429L23 15.1429" strokeLinecap="round" strokeLinejoin="round" stroke="#ffffff"/>
</svg>
`;const defaultAppData={currentLang:null,dictionary:{},rooms:[],threeState:{isPaused:!0},isLoaderVisible:!0,isMenuOpened:!1,isBlackMenu:!1},AppDataContext=react.exports.createContext({appDataContext:defaultAppData,setAppDataContext:()=>{}}),wrapper$f="n-rj1",title$6="y0jGk",description$3="_6zGAL";var css$t={wrapper:wrapper$f,title:title$6,description:description$3},ELottieInstruction=(j=>(j.CLICK="click",j.DRAG="drag",j.CLOSER="closer",j))(ELottieInstruction||{});const dispatchInstructionsEventManager=j=>{window.dispatchEvent(new CustomEvent("instruction",{detail:j}))};function _assertThisInitialized(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _inheritsLoose(j,g){j.prototype=Object.create(g.prototype),j.prototype.constructor=j,j.__proto__=g}/*!
 * GSAP 3.11.1
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults$1={duration:.5,overwrite:!1,delay:0},_suppressOverwrites$1,_reverting$1,_context$2,_bigNum$1=1e8,_tinyNum=1/_bigNum$1,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString$1=function(g){return typeof g=="string"},_isFunction$1=function(g){return typeof g=="function"},_isNumber$1=function(g){return typeof g=="number"},_isUndefined=function(g){return typeof g=="undefined"},_isObject$1=function(g){return typeof g=="object"},_isNotFalse=function(g){return g!==!1},_windowExists$2=function(){return typeof window!="undefined"},_isFuncOrString=function(g){return _isFunction$1(g)||_isString$1(g)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray$1=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win$4,_coreInitted$3,_doc$4,_globals={},_installScope={},_coreReady,_install=function(g){return(_installScope=_merge(g,_globals))&&gsap$2},_missingPlugin=function(g,b){return console.warn("Invalid property",g,"set to",b,"Missing plugin? gsap.registerPlugin()")},_warn=function(g,b){return!b&&console.warn(g)},_addGlobal=function(g,b){return g&&(_globals[g]=b)&&_installScope&&(_installScope[g]=b)||_globals},_emptyFunc=function(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function(g){var b=g[0],$,_e;if(_isObject$1(b)||_isFunction$1(b)||(g=[g]),!($=(b._gsap||{}).harness)){for(_e=_harnessPlugins.length;_e--&&!_harnessPlugins[_e].targetTest(b););$=_harnessPlugins[_e]}for(_e=g.length;_e--;)g[_e]&&(g[_e]._gsap||(g[_e]._gsap=new GSCache(g[_e],$)))||g.splice(_e,1);return g},_getCache=function(g){return g._gsap||_harness(toArray(g))[0]._gsap},_getProperty=function(g,b,$){return($=g[b])&&_isFunction$1($)?g[b]():_isUndefined($)&&g.getAttribute&&g.getAttribute(b)||$},_forEachName=function(g,b){return(g=g.split(",")).forEach(b)||g},_round$1=function(g){return Math.round(g*1e5)/1e5||0},_roundPrecise=function(g){return Math.round(g*1e7)/1e7||0},_parseRelative=function(g,b){var $=b.charAt(0),_e=parseFloat(b.substr(2));return g=parseFloat(g),$==="+"?g+_e:$==="-"?g-_e:$==="*"?g*_e:g/_e},_arrayContainsAny=function(g,b){for(var $=b.length,_e=0;g.indexOf(b[_e])<0&&++_e<$;);return _e<$},_lazyRender=function(){var g=_lazyTweens.length,b=_lazyTweens.slice(0),$,_e;for(_lazyLookup={},_lazyTweens.length=0,$=0;$<g;$++)_e=b[$],_e&&_e._lazy&&(_e.render(_e._lazy[0],_e._lazy[1],!0)._lazy=0)},_lazySafeRender=function(g,b,$,_e){_lazyTweens.length&&_lazyRender(),g.render(b,$,_e||_reverting$1),_lazyTweens.length&&_lazyRender()},_numericIfPossible=function(g){var b=parseFloat(g);return(b||b===0)&&(g+"").match(_delimitedValueExp).length<2?b:_isString$1(g)?g.trim():g},_passThrough$1=function(g){return g},_setDefaults$1=function(g,b){for(var $ in b)$ in g||(g[$]=b[$]);return g},_setKeyframeDefaults=function(g){return function(b,$){for(var _e in $)_e in b||_e==="duration"&&g||_e==="ease"||(b[_e]=$[_e])}},_merge=function(g,b){for(var $ in b)g[$]=b[$];return g},_mergeDeep=function j(g,b){for(var $ in b)$!=="__proto__"&&$!=="constructor"&&$!=="prototype"&&(g[$]=_isObject$1(b[$])?j(g[$]||(g[$]={}),b[$]):b[$]);return g},_copyExcluding=function(g,b){var $={},_e;for(_e in g)_e in b||($[_e]=g[_e]);return $},_inheritDefaults=function(g){var b=g.parent||_globalTimeline,$=g.keyframes?_setKeyframeDefaults(_isArray$1(g.keyframes)):_setDefaults$1;if(_isNotFalse(g.inherit))for(;b;)$(g,b.vars.defaults),b=b.parent||b._dp;return g},_arraysMatch=function(g,b){for(var $=g.length,_e=$===b.length;_e&&$--&&g[$]===b[$];);return $<0},_addLinkedListItem=function(g,b,$,_e,et){$===void 0&&($="_first"),_e===void 0&&(_e="_last");var tt=g[_e],nt;if(et)for(nt=b[et];tt&&tt[et]>nt;)tt=tt._prev;return tt?(b._next=tt._next,tt._next=b):(b._next=g[$],g[$]=b),b._next?b._next._prev=b:g[_e]=b,b._prev=tt,b.parent=b._dp=g,b},_removeLinkedListItem=function(g,b,$,_e){$===void 0&&($="_first"),_e===void 0&&(_e="_last");var et=b._prev,tt=b._next;et?et._next=tt:g[$]===b&&(g[$]=tt),tt?tt._prev=et:g[_e]===b&&(g[_e]=et),b._next=b._prev=b.parent=null},_removeFromParent=function(g,b){g.parent&&(!b||g.parent.autoRemoveChildren)&&g.parent.remove(g),g._act=0},_uncache=function(g,b){if(g&&(!b||b._end>g._dur||b._start<0))for(var $=g;$;)$._dirty=1,$=$.parent;return g},_recacheAncestors=function(g){for(var b=g.parent;b&&b.parent;)b._dirty=1,b.totalDuration(),b=b.parent;return g},_rewindStartAt=function(g,b,$,_e){return g._startAt&&(_reverting$1?g._startAt.revert(_revertConfig):g.vars.immediateRender&&!g.vars.autoRevert||g._startAt.render(b,!0,_e))},_hasNoPausedAncestors=function j(g){return!g||g._ts&&j(g.parent)},_elapsedCycleDuration=function(g){return g._repeat?_animationCycle(g._tTime,g=g.duration()+g._rDelay)*g:0},_animationCycle=function(g,b){var $=Math.floor(g/=b);return g&&$===g?$-1:$},_parentToChildTotalTime=function(g,b){return(g-b._start)*b._ts+(b._ts>=0?0:b._dirty?b.totalDuration():b._tDur)},_setEnd=function(g){return g._end=_roundPrecise(g._start+(g._tDur/Math.abs(g._ts||g._rts||_tinyNum)||0))},_alignPlayhead=function(g,b){var $=g._dp;return $&&$.smoothChildTiming&&g._ts&&(g._start=_roundPrecise($._time-(g._ts>0?b/g._ts:((g._dirty?g.totalDuration():g._tDur)-b)/-g._ts)),_setEnd(g),$._dirty||_uncache($,g)),g},_postAddChecks=function(g,b){var $;if((b._time||b._initted&&!b._dur)&&($=_parentToChildTotalTime(g.rawTime(),b),(!b._dur||_clamp$1(0,b.totalDuration(),$)-b._tTime>_tinyNum)&&b.render($,!0)),_uncache(g,b)._dp&&g._initted&&g._time>=g._dur&&g._ts){if(g._dur<g.duration())for($=g;$._dp;)$.rawTime()>=0&&$.totalTime($._tTime),$=$._dp;g._zTime=-_tinyNum}},_addToTimeline=function(g,b,$,_e){return b.parent&&_removeFromParent(b),b._start=_roundPrecise((_isNumber$1($)?$:$||g!==_globalTimeline?_parsePosition$1(g,$,b):g._time)+b._delay),b._end=_roundPrecise(b._start+(b.totalDuration()/Math.abs(b.timeScale())||0)),_addLinkedListItem(g,b,"_first","_last",g._sort?"_start":0),_isFromOrFromStart(b)||(g._recent=b),_e||_postAddChecks(g,b),g._ts<0&&_alignPlayhead(g,g._tTime),g},_scrollTrigger=function(g,b){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",b))&&_globals.ScrollTrigger.create(b,g)},_attemptInitTween=function(g,b,$,_e){if(_initTween(g,b),!g._initted)return 1;if(!$&&g._pt&&(g._dur&&g.vars.lazy!==!1||!g._dur&&g.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push(g),g._lazy=[b,_e],1},_parentPlayheadIsBeforeStart=function j(g){var b=g.parent;return b&&b._ts&&b._initted&&!b._lock&&(b.rawTime()<0||j(b))},_isFromOrFromStart=function(g){var b=g.data;return b==="isFromStart"||b==="isStart"},_renderZeroDurationTween=function(g,b,$,_e){var et=g.ratio,tt=b<0||!b&&(!g._start&&_parentPlayheadIsBeforeStart(g)&&!(!g._initted&&_isFromOrFromStart(g))||(g._ts<0||g._dp._ts<0)&&!_isFromOrFromStart(g))?0:1,nt=g._rDelay,rt=0,it,ot,st;if(nt&&g._repeat&&(rt=_clamp$1(0,g._tDur,b),ot=_animationCycle(rt,nt),g._yoyo&&ot&1&&(tt=1-tt),ot!==_animationCycle(g._tTime,nt)&&(et=1-tt,g.vars.repeatRefresh&&g._initted&&g.invalidate())),tt!==et||_reverting$1||_e||g._zTime===_tinyNum||!b&&g._zTime){if(!g._initted&&_attemptInitTween(g,b,_e,$))return;for(st=g._zTime,g._zTime=b||($?_tinyNum:0),$||($=b&&!st),g.ratio=tt,g._from&&(tt=1-tt),g._time=0,g._tTime=rt,it=g._pt;it;)it.r(tt,it.d),it=it._next;b<0&&_rewindStartAt(g,b,$,!0),g._onUpdate&&!$&&_callback$1(g,"onUpdate"),rt&&g._repeat&&!$&&g.parent&&_callback$1(g,"onRepeat"),(b>=g._tDur||b<0)&&g.ratio===tt&&(tt&&_removeFromParent(g,1),!$&&!_reverting$1&&(_callback$1(g,tt?"onComplete":"onReverseComplete",!0),g._prom&&g._prom()))}else g._zTime||(g._zTime=b)},_findNextPauseTween=function(g,b,$){var _e;if($>b)for(_e=g._first;_e&&_e._start<=$;){if(_e.data==="isPause"&&_e._start>b)return _e;_e=_e._next}else for(_e=g._last;_e&&_e._start>=$;){if(_e.data==="isPause"&&_e._start<b)return _e;_e=_e._prev}},_setDuration=function(g,b,$,_e){var et=g._repeat,tt=_roundPrecise(b)||0,nt=g._tTime/g._tDur;return nt&&!_e&&(g._time*=tt/g._dur),g._dur=tt,g._tDur=et?et<0?1e10:_roundPrecise(tt*(et+1)+g._rDelay*et):tt,nt>0&&!_e?_alignPlayhead(g,g._tTime=g._tDur*nt):g.parent&&_setEnd(g),$||_uncache(g.parent,g),g},_onUpdateTotalDuration=function(g){return g instanceof Timeline?_uncache(g):_setDuration(g,g._dur)},_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition$1=function j(g,b,$){var _e=g.labels,et=g._recent||_zeroPosition,tt=g.duration()>=_bigNum$1?et.endTime(!1):g._dur,nt,rt,it;return _isString$1(b)&&(isNaN(b)||b in _e)?(rt=b.charAt(0),it=b.substr(-1)==="%",nt=b.indexOf("="),rt==="<"||rt===">"?(nt>=0&&(b=b.replace(/=/,"")),(rt==="<"?et._start:et.endTime(et._repeat>=0))+(parseFloat(b.substr(1))||0)*(it?(nt<0?et:$).totalDuration()/100:1)):nt<0?(b in _e||(_e[b]=tt),_e[b]):(rt=parseFloat(b.charAt(nt-1)+b.substr(nt+1)),it&&$&&(rt=rt/100*(_isArray$1($)?$[0]:$).totalDuration()),nt>1?j(g,b.substr(0,nt-1),$)+rt:tt+rt)):b==null?tt:+b},_createTweenType=function(g,b,$){var _e=_isNumber$1(b[1]),et=(_e?2:1)+(g<2?0:1),tt=b[et],nt,rt;if(_e&&(tt.duration=b[1]),tt.parent=$,g){for(nt=tt,rt=$;rt&&!("immediateRender"in nt);)nt=rt.vars.defaults||{},rt=_isNotFalse(rt.vars.inherit)&&rt.parent;tt.immediateRender=_isNotFalse(nt.immediateRender),g<2?tt.runBackwards=1:tt.startAt=b[et-1]}return new Tween(b[0],tt,b[et+1])},_conditionalReturn=function(g,b){return g||g===0?b(g):b},_clamp$1=function(g,b,$){return $<g?g:$>b?b:$},getUnit=function(g,b){return!_isString$1(g)||!(b=_unitExp.exec(g))?"":b[1]},clamp$2=function(g,b,$){return _conditionalReturn($,function(_e){return _clamp$1(g,b,_e)})},_slice$1=[].slice,_isArrayLike=function(g,b){return g&&_isObject$1(g)&&"length"in g&&(!b&&!g.length||g.length-1 in g&&_isObject$1(g[0]))&&!g.nodeType&&g!==_win$4},_flatten=function(g,b,$){return $===void 0&&($=[]),g.forEach(function(_e){var et;return _isString$1(_e)&&!b||_isArrayLike(_e,1)?(et=$).push.apply(et,toArray(_e)):$.push(_e)})||$},toArray=function(g,b,$){return _context$2&&!b&&_context$2.selector?_context$2.selector(g):_isString$1(g)&&!$&&(_coreInitted$3||!_wake())?_slice$1.call((b||_doc$4).querySelectorAll(g),0):_isArray$1(g)?_flatten(g,$):_isArrayLike(g)?_slice$1.call(g,0):g?[g]:[]},selector=function(g){return g=toArray(g)[0]||_warn("Invalid scope")||{},function(b){var $=g.current||g.nativeElement||g;return toArray(b,$.querySelectorAll?$:$===g?_warn("Invalid scope")||_doc$4.createElement("div"):g)}},shuffle=function(g){return g.sort(function(){return .5-Math.random()})},distribute=function(g){if(_isFunction$1(g))return g;var b=_isObject$1(g)?g:{each:g},$=_parseEase(b.ease),_e=b.from||0,et=parseFloat(b.base)||0,tt={},nt=_e>0&&_e<1,rt=isNaN(_e)||nt,it=b.axis,ot=_e,st=_e;return _isString$1(_e)?ot=st={center:.5,edges:.5,end:1}[_e]||0:!nt&&rt&&(ot=_e[0],st=_e[1]),function(at,lt,ut){var ct=(ut||b).length,ft=tt[ct],ht,dt,pt,mt,gt,yt,_t,vt,At;if(!ft){if(At=b.grid==="auto"?0:(b.grid||[1,_bigNum$1])[1],!At){for(_t=-_bigNum$1;_t<(_t=ut[At++].getBoundingClientRect().left)&&At<ct;);At--}for(ft=tt[ct]=[],ht=rt?Math.min(At,ct)*ot-.5:_e%At,dt=At===_bigNum$1?0:rt?ct*st/At-.5:_e/At|0,_t=0,vt=_bigNum$1,yt=0;yt<ct;yt++)pt=yt%At-ht,mt=dt-(yt/At|0),ft[yt]=gt=it?Math.abs(it==="y"?mt:pt):_sqrt(pt*pt+mt*mt),gt>_t&&(_t=gt),gt<vt&&(vt=gt);_e==="random"&&shuffle(ft),ft.max=_t-vt,ft.min=vt,ft.v=ct=(parseFloat(b.amount)||parseFloat(b.each)*(At>ct?ct-1:it?it==="y"?ct/At:At:Math.max(At,ct/At))||0)*(_e==="edges"?-1:1),ft.b=ct<0?et-ct:et,ft.u=getUnit(b.amount||b.each)||0,$=$&&ct<0?_invertEase($):$}return ct=(ft[at]-ft.min)/ft.max||0,_roundPrecise(ft.b+($?$(ct):ct)*ft.v)+ft.u}},_roundModifier=function(g){var b=Math.pow(10,((g+"").split(".")[1]||"").length);return function($){var _e=_roundPrecise(Math.round(parseFloat($)/g)*g*b);return(_e-_e%1)/b+(_isNumber$1($)?0:getUnit($))}},snap=function(g,b){var $=_isArray$1(g),_e,et;return!$&&_isObject$1(g)&&(_e=$=g.radius||_bigNum$1,g.values?(g=toArray(g.values),(et=!_isNumber$1(g[0]))&&(_e*=_e)):g=_roundModifier(g.increment)),_conditionalReturn(b,$?_isFunction$1(g)?function(tt){return et=g(tt),Math.abs(et-tt)<=_e?et:tt}:function(tt){for(var nt=parseFloat(et?tt.x:tt),rt=parseFloat(et?tt.y:0),it=_bigNum$1,ot=0,st=g.length,at,lt;st--;)et?(at=g[st].x-nt,lt=g[st].y-rt,at=at*at+lt*lt):at=Math.abs(g[st]-nt),at<it&&(it=at,ot=st);return ot=!_e||it<=_e?g[ot]:tt,et||ot===tt||_isNumber$1(tt)?ot:ot+getUnit(tt)}:_roundModifier(g))},random=function(g,b,$,_e){return _conditionalReturn(_isArray$1(g)?!b:$===!0?!!($=0):!_e,function(){return _isArray$1(g)?g[~~(Math.random()*g.length)]:($=$||1e-5)&&(_e=$<1?Math.pow(10,($+"").length-2):1)&&Math.floor(Math.round((g-$/2+Math.random()*(b-g+$*.99))/$)*$*_e)/_e})},pipe=function(){for(var g=arguments.length,b=new Array(g),$=0;$<g;$++)b[$]=arguments[$];return function(_e){return b.reduce(function(et,tt){return tt(et)},_e)}},unitize=function(g,b){return function($){return g(parseFloat($))+(b||getUnit($))}},normalize=function(g,b,$){return mapRange(g,b,0,1,$)},_wrapArray=function(g,b,$){return _conditionalReturn($,function(_e){return g[~~b(_e)]})},wrap=function j(g,b,$){var _e=b-g;return _isArray$1(g)?_wrapArray(g,j(0,g.length),b):_conditionalReturn($,function(et){return(_e+(et-g)%_e)%_e+g})},wrapYoyo=function j(g,b,$){var _e=b-g,et=_e*2;return _isArray$1(g)?_wrapArray(g,j(0,g.length-1),b):_conditionalReturn($,function(tt){return tt=(et+(tt-g)%et)%et||0,g+(tt>_e?et-tt:tt)})},_replaceRandom=function(g){for(var b=0,$="",_e,et,tt,nt;~(_e=g.indexOf("random(",b));)tt=g.indexOf(")",_e),nt=g.charAt(_e+7)==="[",et=g.substr(_e+7,tt-_e-7).match(nt?_delimitedValueExp:_strictNumExp),$+=g.substr(b,_e-b)+random(nt?et:+et[0],nt?0:+et[1],+et[2]||1e-5),b=tt+1;return $+g.substr(b,g.length-b)},mapRange=function(g,b,$,_e,et){var tt=b-g,nt=_e-$;return _conditionalReturn(et,function(rt){return $+((rt-g)/tt*nt||0)})},interpolate=function j(g,b,$,_e){var et=isNaN(g+b)?0:function(lt){return(1-lt)*g+lt*b};if(!et){var tt=_isString$1(g),nt={},rt,it,ot,st,at;if($===!0&&(_e=1)&&($=null),tt)g={p:g},b={p:b};else if(_isArray$1(g)&&!_isArray$1(b)){for(ot=[],st=g.length,at=st-2,it=1;it<st;it++)ot.push(j(g[it-1],g[it]));st--,et=function(ut){ut*=st;var ct=Math.min(at,~~ut);return ot[ct](ut-ct)},$=b}else _e||(g=_merge(_isArray$1(g)?[]:{},g));if(!ot){for(rt in b)_addPropTween.call(nt,g,rt,"get",b[rt]);et=function(ut){return _renderPropTweens(ut,nt)||(tt?g.p:g)}}}return _conditionalReturn($,et)},_getLabelInDirection=function(g,b,$){var _e=g.labels,et=_bigNum$1,tt,nt,rt;for(tt in _e)nt=_e[tt]-b,nt<0==!!$&&nt&&et>(nt=Math.abs(nt))&&(rt=tt,et=nt);return rt},_callback$1=function(g,b,$){var _e=g.vars,et=_e[b],tt=_context$2,nt=g._ctx,rt,it,ot;if(!!et)return rt=_e[b+"Params"],it=_e.callbackScope||g,$&&_lazyTweens.length&&_lazyRender(),nt&&(_context$2=nt),ot=rt?et.apply(it,rt):et.call(it),_context$2=tt,ot},_interrupt=function(g){return _removeFromParent(g),g.scrollTrigger&&g.scrollTrigger.kill(!1),g.progress()<1&&_callback$1(g,"onInterrupt"),g},_quickTween,_createPlugin=function(g){g=!g.name&&g.default||g;var b=g.name,$=_isFunction$1(g),_e=b&&!$&&g.init?function(){this._props=[]}:g,et={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},tt={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),g!==_e){if(_plugins[b])return;_setDefaults$1(_e,_setDefaults$1(_copyExcluding(g,et),tt)),_merge(_e.prototype,_merge(et,_copyExcluding(g,tt))),_plugins[_e.prop=b]=_e,g.targetTest&&(_harnessPlugins.push(_e),_reservedProps[b]=1),b=(b==="css"?"CSS":b.charAt(0).toUpperCase()+b.substr(1))+"Plugin"}_addGlobal(b,_e),g.register&&g.register(gsap$2,_e,PropTween)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function(g,b,$){return g+=g<0?1:g>1?-1:0,(g*6<1?b+($-b)*g*6:g<.5?$:g*3<2?b+($-b)*(2/3-g)*6:b)*_255+.5|0},splitColor=function(g,b,$){var _e=g?_isNumber$1(g)?[g>>16,g>>8&_255,g&_255]:0:_colorLookup.black,et,tt,nt,rt,it,ot,st,at,lt,ut;if(!_e){if(g.substr(-1)===","&&(g=g.substr(0,g.length-1)),_colorLookup[g])_e=_colorLookup[g];else if(g.charAt(0)==="#"){if(g.length<6&&(et=g.charAt(1),tt=g.charAt(2),nt=g.charAt(3),g="#"+et+et+tt+tt+nt+nt+(g.length===5?g.charAt(4)+g.charAt(4):"")),g.length===9)return _e=parseInt(g.substr(1,6),16),[_e>>16,_e>>8&_255,_e&_255,parseInt(g.substr(7),16)/255];g=parseInt(g.substr(1),16),_e=[g>>16,g>>8&_255,g&_255]}else if(g.substr(0,3)==="hsl"){if(_e=ut=g.match(_strictNumExp),!b)rt=+_e[0]%360/360,it=+_e[1]/100,ot=+_e[2]/100,tt=ot<=.5?ot*(it+1):ot+it-ot*it,et=ot*2-tt,_e.length>3&&(_e[3]*=1),_e[0]=_hue(rt+1/3,et,tt),_e[1]=_hue(rt,et,tt),_e[2]=_hue(rt-1/3,et,tt);else if(~g.indexOf("="))return _e=g.match(_numExp),$&&_e.length<4&&(_e[3]=1),_e}else _e=g.match(_strictNumExp)||_colorLookup.transparent;_e=_e.map(Number)}return b&&!ut&&(et=_e[0]/_255,tt=_e[1]/_255,nt=_e[2]/_255,st=Math.max(et,tt,nt),at=Math.min(et,tt,nt),ot=(st+at)/2,st===at?rt=it=0:(lt=st-at,it=ot>.5?lt/(2-st-at):lt/(st+at),rt=st===et?(tt-nt)/lt+(tt<nt?6:0):st===tt?(nt-et)/lt+2:(et-tt)/lt+4,rt*=60),_e[0]=~~(rt+.5),_e[1]=~~(it*100+.5),_e[2]=~~(ot*100+.5)),$&&_e.length<4&&(_e[3]=1),_e},_colorOrderData=function(g){var b=[],$=[],_e=-1;return g.split(_colorExp).forEach(function(et){var tt=et.match(_numWithUnitExp)||[];b.push.apply(b,tt),$.push(_e+=tt.length+1)}),b.c=$,b},_formatColors=function(g,b,$){var _e="",et=(g+_e).match(_colorExp),tt=b?"hsla(":"rgba(",nt=0,rt,it,ot,st;if(!et)return g;if(et=et.map(function(at){return(at=splitColor(at,b,1))&&tt+(b?at[0]+","+at[1]+"%,"+at[2]+"%,"+at[3]:at.join(","))+")"}),$&&(ot=_colorOrderData(g),rt=$.c,rt.join(_e)!==ot.c.join(_e)))for(it=g.replace(_colorExp,"1").split(_numWithUnitExp),st=it.length-1;nt<st;nt++)_e+=it[nt]+(~rt.indexOf(nt)?et.shift()||tt+"0,0,0,0)":(ot.length?ot:et.length?et:$).shift());if(!it)for(it=g.split(_colorExp),st=it.length-1;nt<st;nt++)_e+=it[nt]+et[nt];return _e+it[st]},_colorExp=function(){var j="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",g;for(g in _colorLookup)j+="|"+g+"\\b";return new RegExp(j+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function(g){var b=g.join(" "),$;if(_colorExp.lastIndex=0,_colorExp.test(b))return $=_hslExp.test(b),g[1]=_formatColors(g[1],$),g[0]=_formatColors(g[0],$,_colorOrderData(g[1])),!0},_tickerActive,_ticker=function(){var j=Date.now,g=500,b=33,$=j(),_e=$,et=1e3/240,tt=et,nt=[],rt,it,ot,st,at,lt,ut=function ct(ft){var ht=j()-_e,dt=ft===!0,pt,mt,gt,yt;if(ht>g&&($+=ht-b),_e+=ht,gt=_e-$,pt=gt-tt,(pt>0||dt)&&(yt=++st.frame,at=gt-st.time*1e3,st.time=gt=gt/1e3,tt+=pt+(pt>=et?4:et-pt),mt=1),dt||(rt=it(ct)),mt)for(lt=0;lt<nt.length;lt++)nt[lt](gt,at,yt,ft)};return st={time:0,frame:0,tick:function(){ut(!0)},deltaRatio:function(ft){return at/(1e3/(ft||60))},wake:function(){_coreReady&&(!_coreInitted$3&&_windowExists$2()&&(_win$4=_coreInitted$3=window,_doc$4=_win$4.document||{},_globals.gsap=gsap$2,(_win$4.gsapVersions||(_win$4.gsapVersions=[])).push(gsap$2.version),_install(_installScope||_win$4.GreenSockGlobals||!_win$4.gsap&&_win$4||{}),ot=_win$4.requestAnimationFrame),rt&&st.sleep(),it=ot||function(ft){return setTimeout(ft,tt-st.time*1e3+1|0)},_tickerActive=1,ut(2))},sleep:function(){(ot?_win$4.cancelAnimationFrame:clearTimeout)(rt),_tickerActive=0,it=_emptyFunc},lagSmoothing:function(ft,ht){g=ft||1/_tinyNum,b=Math.min(ht,g,0)},fps:function(ft){et=1e3/(ft||240),tt=st.time*1e3+et},add:function(ft,ht,dt){var pt=ht?function(mt,gt,yt,_t){ft(mt,gt,yt,_t),st.remove(pt)}:ft;return st.remove(ft),nt[dt?"unshift":"push"](pt),_wake(),pt},remove:function(ft,ht){~(ht=nt.indexOf(ft))&&nt.splice(ht,1)&&lt>=ht&&lt--},_listeners:nt},st}(),_wake=function(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function(g){for(var b={},$=g.substr(1,g.length-3).split(":"),_e=$[0],et=1,tt=$.length,nt,rt,it;et<tt;et++)rt=$[et],nt=et!==tt-1?rt.lastIndexOf(","):rt.length,it=rt.substr(0,nt),b[_e]=isNaN(it)?it.replace(_quotesExp,"").trim():+it,_e=rt.substr(nt+1).trim();return b},_valueInParentheses=function(g){var b=g.indexOf("(")+1,$=g.indexOf(")"),_e=g.indexOf("(",b);return g.substring(b,~_e&&_e<$?g.indexOf(")",$+1):$)},_configEaseFromString=function(g){var b=(g+"").split("("),$=_easeMap[b[0]];return $&&b.length>1&&$.config?$.config.apply(null,~g.indexOf("{")?[_parseObjectInString(b[1])]:_valueInParentheses(g).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(g)?_easeMap._CE("",g):$},_invertEase=function(g){return function(b){return 1-g(1-b)}},_propagateYoyoEase=function j(g,b){for(var $=g._first,_e;$;)$ instanceof Timeline?j($,b):$.vars.yoyoEase&&(!$._yoyo||!$._repeat)&&$._yoyo!==b&&($.timeline?j($.timeline,b):(_e=$._ease,$._ease=$._yEase,$._yEase=_e,$._yoyo=b)),$=$._next},_parseEase=function(g,b){return g&&(_isFunction$1(g)?g:_easeMap[g]||_configEaseFromString(g))||b},_insertEase=function(g,b,$,_e){$===void 0&&($=function(rt){return 1-b(1-rt)}),_e===void 0&&(_e=function(rt){return rt<.5?b(rt*2)/2:1-b((1-rt)*2)/2});var et={easeIn:b,easeOut:$,easeInOut:_e},tt;return _forEachName(g,function(nt){_easeMap[nt]=_globals[nt]=et,_easeMap[tt=nt.toLowerCase()]=$;for(var rt in et)_easeMap[tt+(rt==="easeIn"?".in":rt==="easeOut"?".out":".inOut")]=_easeMap[nt+"."+rt]=et[rt]}),et},_easeInOutFromOut=function(g){return function(b){return b<.5?(1-g(1-b*2))/2:.5+g((b-.5)*2)/2}},_configElastic=function j(g,b,$){var _e=b>=1?b:1,et=($||(g?.3:.45))/(b<1?b:1),tt=et/_2PI*(Math.asin(1/_e)||0),nt=function(ot){return ot===1?1:_e*Math.pow(2,-10*ot)*_sin((ot-tt)*et)+1},rt=g==="out"?nt:g==="in"?function(it){return 1-nt(1-it)}:_easeInOutFromOut(nt);return et=_2PI/et,rt.config=function(it,ot){return j(g,it,ot)},rt},_configBack=function j(g,b){b===void 0&&(b=1.70158);var $=function(tt){return tt?--tt*tt*((b+1)*tt+b)+1:0},_e=g==="out"?$:g==="in"?function(et){return 1-$(1-et)}:_easeInOutFromOut($);return _e.config=function(et){return j(g,et)},_e};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(j,g){var b=g<5?g+1:g;_insertEase(j+",Power"+(b-1),g?function($){return Math.pow($,b)}:function($){return $},function($){return 1-Math.pow(1-$,b)},function($){return $<.5?Math.pow($*2,b)/2:1-Math.pow((1-$)*2,b)/2})});_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn;_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic());(function(j,g){var b=1/g,$=2*b,_e=2.5*b,et=function(nt){return nt<b?j*nt*nt:nt<$?j*Math.pow(nt-1.5/g,2)+.75:nt<_e?j*(nt-=2.25/g)*nt+.9375:j*Math.pow(nt-2.625/g,2)+.984375};_insertEase("Bounce",function(tt){return 1-et(1-tt)},et)})(7.5625,2.75);_insertEase("Expo",function(j){return j?Math.pow(2,10*(j-1)):0});_insertEase("Circ",function(j){return-(_sqrt(1-j*j)-1)});_insertEase("Sine",function(j){return j===1?1:-_cos(j*_HALF_PI)+1});_insertEase("Back",_configBack("in"),_configBack("out"),_configBack());_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function(g,b){g===void 0&&(g=1);var $=1/g,_e=g+(b?0:1),et=b?1:0,tt=1-_tinyNum;return function(nt){return((_e*_clamp$1(0,tt,nt)|0)+et)*$}}};_defaults$1.ease=_easeMap["quad.out"];_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(j){return _callbackNames+=j+","+j+"Params,"});var GSCache=function(g,b){this.id=_gsID++,g._gsap=this,this.target=g,this.harness=b,this.get=b?b.get:_getProperty,this.set=b?b.getSetter:_getSetter},Animation=function(){function j(b){this.vars=b,this._delay=+b.delay||0,(this._repeat=b.repeat===1/0?-2:b.repeat||0)&&(this._rDelay=b.repeatDelay||0,this._yoyo=!!b.yoyo||!!b.yoyoEase),this._ts=1,_setDuration(this,+b.duration,1,1),this.data=b.data,_context$2&&(this._ctx=_context$2,_context$2.data.push(this)),_tickerActive||_ticker.wake()}var g=j.prototype;return g.delay=function($){return $||$===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+$-this._delay),this._delay=$,this):this._delay},g.duration=function($){return arguments.length?this.totalDuration(this._repeat>0?$+($+this._rDelay)*this._repeat:$):this.totalDuration()&&this._dur},g.totalDuration=function($){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?$:($-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},g.totalTime=function($,_e){if(_wake(),!arguments.length)return this._tTime;var et=this._dp;if(et&&et.smoothChildTiming&&this._ts){for(_alignPlayhead(this,$),!et._dp||et.parent||_postAddChecks(et,this);et&&et.parent;)et.parent._time!==et._start+(et._ts>=0?et._tTime/et._ts:(et.totalDuration()-et._tTime)/-et._ts)&&et.totalTime(et._tTime,!0),et=et.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&$<this._tDur||this._ts<0&&$>0||!this._tDur&&!$)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==$||!this._dur&&!_e||this._initted&&Math.abs(this._zTime)===_tinyNum||!$&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=$),_lazySafeRender(this,$,_e)),this},g.time=function($,_e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),$+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||($?this._dur:0),_e):this._time},g.totalProgress=function($,_e){return arguments.length?this.totalTime(this.totalDuration()*$,_e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},g.progress=function($,_e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-$:$)+_elapsedCycleDuration(this),_e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},g.iteration=function($,_e){var et=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+($-1)*et,_e):this._repeat?_animationCycle(this._tTime,et)+1:1},g.timeScale=function($){if(!arguments.length)return this._rts===-_tinyNum?0:this._rts;if(this._rts===$)return this;var _e=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+$||0,this._ts=this._ps||$===-_tinyNum?0:this._rts,this.totalTime(_clamp$1(-this._delay,this._tDur,_e),!0),_setEnd(this),_recacheAncestors(this)},g.paused=function($){return arguments.length?(this._ps!==$&&(this._ps=$,$?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},g.startTime=function($){if(arguments.length){this._start=$;var _e=this.parent||this._dp;return _e&&(_e._sort||!this.parent)&&_addToTimeline(_e,this,$-this._delay),this}return this._start},g.endTime=function($){return this._start+(_isNotFalse($)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},g.rawTime=function($){var _e=this.parent||this._dp;return _e?$&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(_e.rawTime($),this):this._tTime:this._tTime},g.revert=function($){$===void 0&&($=_revertConfig);var _e=_reverting$1;return _reverting$1=$,this.timeline&&this.timeline.revert($),this.totalTime(-.01,$.suppressEvents),this.data!=="nested"&&_removeFromParent(this),_reverting$1=_e,this},g.globalTime=function($){for(var _e=this,et=arguments.length?$:_e.rawTime();_e;)et=_e._start+et/(_e._ts||1),_e=_e._dp;return!this.parent&&this.vars.immediateRender?-1:et},g.repeat=function($){return arguments.length?(this._repeat=$===1/0?-2:$,_onUpdateTotalDuration(this)):this._repeat===-2?1/0:this._repeat},g.repeatDelay=function($){if(arguments.length){var _e=this._time;return this._rDelay=$,_onUpdateTotalDuration(this),_e?this.time(_e):this}return this._rDelay},g.yoyo=function($){return arguments.length?(this._yoyo=$,this):this._yoyo},g.seek=function($,_e){return this.totalTime(_parsePosition$1(this,$),_isNotFalse(_e))},g.restart=function($,_e){return this.play().totalTime($?-this._delay:0,_isNotFalse(_e))},g.play=function($,_e){return $!=null&&this.seek($,_e),this.reversed(!1).paused(!1)},g.reverse=function($,_e){return $!=null&&this.seek($||this.totalDuration(),_e),this.reversed(!0).paused(!1)},g.pause=function($,_e){return $!=null&&this.seek($,_e),this.paused(!0)},g.resume=function(){return this.paused(!1)},g.reversed=function($){return arguments.length?(!!$!==this.reversed()&&this.timeScale(-this._rts||($?-_tinyNum:0)),this):this._rts<0},g.invalidate=function(){return this._initted=this._act=0,this._zTime=-_tinyNum,this},g.isActive=function(){var $=this.parent||this._dp,_e=this._start,et;return!!(!$||this._ts&&this._initted&&$.isActive()&&(et=$.rawTime(!0))>=_e&&et<this.endTime(!0)-_tinyNum)},g.eventCallback=function($,_e,et){var tt=this.vars;return arguments.length>1?(_e?(tt[$]=_e,et&&(tt[$+"Params"]=et),$==="onUpdate"&&(this._onUpdate=_e)):delete tt[$],this):tt[$]},g.then=function($){var _e=this;return new Promise(function(et){var tt=_isFunction$1($)?$:_passThrough$1,nt=function(){var it=_e.then;_e.then=null,_isFunction$1(tt)&&(tt=tt(_e))&&(tt.then||tt===_e)&&(_e.then=it),et(tt),_e.then=it};_e._initted&&_e.totalProgress()===1&&_e._ts>=0||!_e._tTime&&_e._ts<0?nt():_e._prom=nt})},g.kill=function(){_interrupt(this)},j}();_setDefaults$1(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:!1,_rts:1});var Timeline=function(j){_inheritsLoose(g,j);function g($,_e){var et;return $===void 0&&($={}),et=j.call(this,$)||this,et.labels={},et.smoothChildTiming=!!$.smoothChildTiming,et.autoRemoveChildren=!!$.autoRemoveChildren,et._sort=_isNotFalse($.sortChildren),_globalTimeline&&_addToTimeline($.parent||_globalTimeline,_assertThisInitialized(et),_e),$.reversed&&et.reverse(),$.paused&&et.paused(!0),$.scrollTrigger&&_scrollTrigger(_assertThisInitialized(et),$.scrollTrigger),et}var b=g.prototype;return b.to=function(_e,et,tt){return _createTweenType(0,arguments,this),this},b.from=function(_e,et,tt){return _createTweenType(1,arguments,this),this},b.fromTo=function(_e,et,tt,nt){return _createTweenType(2,arguments,this),this},b.set=function(_e,et,tt){return et.duration=0,et.parent=this,_inheritDefaults(et).repeatDelay||(et.repeat=0),et.immediateRender=!!et.immediateRender,new Tween(_e,et,_parsePosition$1(this,tt),1),this},b.call=function(_e,et,tt){return _addToTimeline(this,Tween.delayedCall(0,_e,et),tt)},b.staggerTo=function(_e,et,tt,nt,rt,it,ot){return tt.duration=et,tt.stagger=tt.stagger||nt,tt.onComplete=it,tt.onCompleteParams=ot,tt.parent=this,new Tween(_e,tt,_parsePosition$1(this,rt)),this},b.staggerFrom=function(_e,et,tt,nt,rt,it,ot){return tt.runBackwards=1,_inheritDefaults(tt).immediateRender=_isNotFalse(tt.immediateRender),this.staggerTo(_e,et,tt,nt,rt,it,ot)},b.staggerFromTo=function(_e,et,tt,nt,rt,it,ot,st){return nt.startAt=tt,_inheritDefaults(nt).immediateRender=_isNotFalse(nt.immediateRender),this.staggerTo(_e,et,nt,rt,it,ot,st)},b.render=function(_e,et,tt){var nt=this._time,rt=this._dirty?this.totalDuration():this._tDur,it=this._dur,ot=_e<=0?0:_roundPrecise(_e),st=this._zTime<0!=_e<0&&(this._initted||!it),at,lt,ut,ct,ft,ht,dt,pt,mt,gt,yt,_t;if(this!==_globalTimeline&&ot>rt&&_e>=0&&(ot=rt),ot!==this._tTime||tt||st){if(nt!==this._time&&it&&(ot+=this._time-nt,_e+=this._time-nt),at=ot,mt=this._start,pt=this._ts,ht=!pt,st&&(it||(nt=this._zTime),(_e||!et)&&(this._zTime=_e)),this._repeat){if(yt=this._yoyo,ft=it+this._rDelay,this._repeat<-1&&_e<0)return this.totalTime(ft*100+_e,et,tt);if(at=_roundPrecise(ot%ft),ot===rt?(ct=this._repeat,at=it):(ct=~~(ot/ft),ct&&ct===ot/ft&&(at=it,ct--),at>it&&(at=it)),gt=_animationCycle(this._tTime,ft),!nt&&this._tTime&&gt!==ct&&(gt=ct),yt&&ct&1&&(at=it-at,_t=1),ct!==gt&&!this._lock){var vt=yt&&gt&1,At=vt===(yt&&ct&1);if(ct<gt&&(vt=!vt),nt=vt?0:it,this._lock=1,this.render(nt||(_t?0:_roundPrecise(ct*ft)),et,!it)._lock=0,this._tTime=ot,!et&&this.parent&&_callback$1(this,"onRepeat"),this.vars.repeatRefresh&&!_t&&(this.invalidate()._lock=1),nt&&nt!==this._time||ht!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(it=this._dur,rt=this._tDur,At&&(this._lock=2,nt=vt?it:-1e-4,this.render(nt,!0),this.vars.repeatRefresh&&!_t&&this.invalidate()),this._lock=0,!this._ts&&!ht)return this;_propagateYoyoEase(this,_t)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(dt=_findNextPauseTween(this,_roundPrecise(nt),_roundPrecise(at)),dt&&(ot-=at-(at=dt._start))),this._tTime=ot,this._time=at,this._act=!pt,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=_e,nt=0),!nt&&at&&!et&&(_callback$1(this,"onStart"),this._tTime!==ot))return this;if(at>=nt&&_e>=0)for(lt=this._first;lt;){if(ut=lt._next,(lt._act||at>=lt._start)&&lt._ts&&dt!==lt){if(lt.parent!==this)return this.render(_e,et,tt);if(lt.render(lt._ts>0?(at-lt._start)*lt._ts:(lt._dirty?lt.totalDuration():lt._tDur)+(at-lt._start)*lt._ts,et,tt),at!==this._time||!this._ts&&!ht){dt=0,ut&&(ot+=this._zTime=-_tinyNum);break}}lt=ut}else{tt=tt||_reverting$1,lt=this._last;for(var bt=_e<0?_e:at;lt;){if(ut=lt._prev,(lt._act||bt<=lt._end)&&lt._ts&&dt!==lt){if(lt.parent!==this)return this.render(_e,et,tt);if(lt.render(lt._ts>0?(bt-lt._start)*lt._ts:(lt._dirty?lt.totalDuration():lt._tDur)+(bt-lt._start)*lt._ts,et,tt),at!==this._time||!this._ts&&!ht){dt=0,ut&&(ot+=this._zTime=bt?-_tinyNum:_tinyNum);break}}lt=ut}}if(dt&&!et&&(this.pause(),dt.render(at>=nt?0:-_tinyNum)._zTime=at>=nt?1:-1,this._ts))return this._start=mt,_setEnd(this),this.render(_e,et,tt);this._onUpdate&&!et&&_callback$1(this,"onUpdate",!0),(ot===rt&&this._tTime>=this.totalDuration()||!ot&&nt)&&(mt===this._start||Math.abs(pt)!==Math.abs(this._ts))&&(this._lock||((_e||!it)&&(ot===rt&&this._ts>0||!ot&&this._ts<0)&&_removeFromParent(this,1),!et&&!(_e<0&&!nt)&&(ot||nt||!rt)&&(_callback$1(this,ot===rt&&_e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(ot<rt&&this.timeScale()>0)&&this._prom())))}return this},b.add=function(_e,et){var tt=this;if(_isNumber$1(et)||(et=_parsePosition$1(this,et,_e)),!(_e instanceof Animation)){if(_isArray$1(_e))return _e.forEach(function(nt){return tt.add(nt,et)}),this;if(_isString$1(_e))return this.addLabel(_e,et);if(_isFunction$1(_e))_e=Tween.delayedCall(0,_e);else return this}return this!==_e?_addToTimeline(this,_e,et):this},b.getChildren=function(_e,et,tt,nt){_e===void 0&&(_e=!0),et===void 0&&(et=!0),tt===void 0&&(tt=!0),nt===void 0&&(nt=-_bigNum$1);for(var rt=[],it=this._first;it;)it._start>=nt&&(it instanceof Tween?et&&rt.push(it):(tt&&rt.push(it),_e&&rt.push.apply(rt,it.getChildren(!0,et,tt)))),it=it._next;return rt},b.getById=function(_e){for(var et=this.getChildren(1,1,1),tt=et.length;tt--;)if(et[tt].vars.id===_e)return et[tt]},b.remove=function(_e){return _isString$1(_e)?this.removeLabel(_e):_isFunction$1(_e)?this.killTweensOf(_e):(_removeLinkedListItem(this,_e),_e===this._recent&&(this._recent=this._last),_uncache(this))},b.totalTime=function(_e,et){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?_e/this._ts:(this.totalDuration()-_e)/-this._ts))),j.prototype.totalTime.call(this,_e,et),this._forcing=0,this):this._tTime},b.addLabel=function(_e,et){return this.labels[_e]=_parsePosition$1(this,et),this},b.removeLabel=function(_e){return delete this.labels[_e],this},b.addPause=function(_e,et,tt){var nt=Tween.delayedCall(0,et||_emptyFunc,tt);return nt.data="isPause",this._hasPause=1,_addToTimeline(this,nt,_parsePosition$1(this,_e))},b.removePause=function(_e){var et=this._first;for(_e=_parsePosition$1(this,_e);et;)et._start===_e&&et.data==="isPause"&&_removeFromParent(et),et=et._next},b.killTweensOf=function(_e,et,tt){for(var nt=this.getTweensOf(_e,tt),rt=nt.length;rt--;)_overwritingTween!==nt[rt]&&nt[rt].kill(_e,et);return this},b.getTweensOf=function(_e,et){for(var tt=[],nt=toArray(_e),rt=this._first,it=_isNumber$1(et),ot;rt;)rt instanceof Tween?_arrayContainsAny(rt._targets,nt)&&(it?(!_overwritingTween||rt._initted&&rt._ts)&&rt.globalTime(0)<=et&&rt.globalTime(rt.totalDuration())>et:!et||rt.isActive())&&tt.push(rt):(ot=rt.getTweensOf(nt,et)).length&&tt.push.apply(tt,ot),rt=rt._next;return tt},b.tweenTo=function(_e,et){et=et||{};var tt=this,nt=_parsePosition$1(tt,_e),rt=et,it=rt.startAt,ot=rt.onStart,st=rt.onStartParams,at=rt.immediateRender,lt,ut=Tween.to(tt,_setDefaults$1({ease:et.ease||"none",lazy:!1,immediateRender:!1,time:nt,overwrite:"auto",duration:et.duration||Math.abs((nt-(it&&"time"in it?it.time:tt._time))/tt.timeScale())||_tinyNum,onStart:function(){if(tt.pause(),!lt){var ft=et.duration||Math.abs((nt-(it&&"time"in it?it.time:tt._time))/tt.timeScale());ut._dur!==ft&&_setDuration(ut,ft,0,1).render(ut._time,!0,!0),lt=1}ot&&ot.apply(ut,st||[])}},et));return at?ut.render(0):ut},b.tweenFromTo=function(_e,et,tt){return this.tweenTo(et,_setDefaults$1({startAt:{time:_parsePosition$1(this,_e)}},tt))},b.recent=function(){return this._recent},b.nextLabel=function(_e){return _e===void 0&&(_e=this._time),_getLabelInDirection(this,_parsePosition$1(this,_e))},b.previousLabel=function(_e){return _e===void 0&&(_e=this._time),_getLabelInDirection(this,_parsePosition$1(this,_e),1)},b.currentLabel=function(_e){return arguments.length?this.seek(_e,!0):this.previousLabel(this._time+_tinyNum)},b.shiftChildren=function(_e,et,tt){tt===void 0&&(tt=0);for(var nt=this._first,rt=this.labels,it;nt;)nt._start>=tt&&(nt._start+=_e,nt._end+=_e),nt=nt._next;if(et)for(it in rt)rt[it]>=tt&&(rt[it]+=_e);return _uncache(this)},b.invalidate=function(){var _e=this._first;for(this._lock=0;_e;)_e.invalidate(),_e=_e._next;return j.prototype.invalidate.call(this)},b.clear=function(_e){_e===void 0&&(_e=!0);for(var et=this._first,tt;et;)tt=et._next,this.remove(et),et=tt;return this._dp&&(this._time=this._tTime=this._pTime=0),_e&&(this.labels={}),_uncache(this)},b.totalDuration=function(_e){var et=0,tt=this,nt=tt._last,rt=_bigNum$1,it,ot,st;if(arguments.length)return tt.timeScale((tt._repeat<0?tt.duration():tt.totalDuration())/(tt.reversed()?-_e:_e));if(tt._dirty){for(st=tt.parent;nt;)it=nt._prev,nt._dirty&&nt.totalDuration(),ot=nt._start,ot>rt&&tt._sort&&nt._ts&&!tt._lock?(tt._lock=1,_addToTimeline(tt,nt,ot-nt._delay,1)._lock=0):rt=ot,ot<0&&nt._ts&&(et-=ot,(!st&&!tt._dp||st&&st.smoothChildTiming)&&(tt._start+=ot/tt._ts,tt._time-=ot,tt._tTime-=ot),tt.shiftChildren(-ot,!1,-1/0),rt=0),nt._end>et&&nt._ts&&(et=nt._end),nt=it;_setDuration(tt,tt===_globalTimeline&&tt._time>et?tt._time:et,1,1),tt._dirty=0}return tt._tDur},g.updateRoot=function(_e){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(_e,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var et=_globalTimeline._first;if((!et||!et._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;et&&!et._ts;)et=et._next;et||_ticker.sleep()}}},g}(Animation);_setDefaults$1(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function(g,b,$,_e,et,tt,nt){var rt=new PropTween(this._pt,g,b,0,1,_renderComplexString,null,et),it=0,ot=0,st,at,lt,ut,ct,ft,ht,dt;for(rt.b=$,rt.e=_e,$+="",_e+="",(ht=~_e.indexOf("random("))&&(_e=_replaceRandom(_e)),tt&&(dt=[$,_e],tt(dt,g,b),$=dt[0],_e=dt[1]),at=$.match(_complexStringNumExp)||[];st=_complexStringNumExp.exec(_e);)ut=st[0],ct=_e.substring(it,st.index),lt?lt=(lt+1)%5:ct.substr(-5)==="rgba("&&(lt=1),ut!==at[ot++]&&(ft=parseFloat(at[ot-1])||0,rt._pt={_next:rt._pt,p:ct||ot===1?ct:",",s:ft,c:ut.charAt(1)==="="?_parseRelative(ft,ut)-ft:parseFloat(ut)-ft,m:lt&&lt<4?Math.round:0},it=_complexStringNumExp.lastIndex);return rt.c=it<_e.length?_e.substring(it,_e.length):"",rt.fp=nt,(_relExp.test(_e)||ht)&&(rt.e=0),this._pt=rt,rt},_addPropTween=function(g,b,$,_e,et,tt,nt,rt,it,ot){_isFunction$1(_e)&&(_e=_e(et||0,g,tt));var st=g[b],at=$!=="get"?$:_isFunction$1(st)?it?g[b.indexOf("set")||!_isFunction$1(g["get"+b.substr(3)])?b:"get"+b.substr(3)](it):g[b]():st,lt=_isFunction$1(st)?it?_setterFuncWithParam:_setterFunc:_setterPlain,ut;if(_isString$1(_e)&&(~_e.indexOf("random(")&&(_e=_replaceRandom(_e)),_e.charAt(1)==="="&&(ut=_parseRelative(at,_e)+(getUnit(at)||0),(ut||ut===0)&&(_e=ut))),!ot||at!==_e||_forceAllPropTweens)return!isNaN(at*_e)&&_e!==""?(ut=new PropTween(this._pt,g,b,+at||0,_e-(at||0),typeof st=="boolean"?_renderBoolean:_renderPlain,0,lt),it&&(ut.fp=it),nt&&ut.modifier(nt,this,g),this._pt=ut):(!st&&!(b in g)&&_missingPlugin(b,_e),_addComplexStringPropTween.call(this,g,b,at,_e,lt,rt||_config.stringFilter,it))},_processVars=function(g,b,$,_e,et){if(_isFunction$1(g)&&(g=_parseFuncOrString(g,et,b,$,_e)),!_isObject$1(g)||g.style&&g.nodeType||_isArray$1(g)||_isTypedArray(g))return _isString$1(g)?_parseFuncOrString(g,et,b,$,_e):g;var tt={},nt;for(nt in g)tt[nt]=_parseFuncOrString(g[nt],et,b,$,_e);return tt},_checkPlugin=function(g,b,$,_e,et,tt){var nt,rt,it,ot;if(_plugins[g]&&(nt=new _plugins[g]).init(et,nt.rawVars?b[g]:_processVars(b[g],_e,et,tt,$),$,_e,tt)!==!1&&($._pt=rt=new PropTween($._pt,et,g,0,1,nt.render,nt,0,nt.priority),$!==_quickTween))for(it=$._ptLookup[$._targets.indexOf(et)],ot=nt._props.length;ot--;)it[nt._props[ot]]=rt;return nt},_overwritingTween,_forceAllPropTweens,_initTween=function j(g,b){var $=g.vars,_e=$.ease,et=$.startAt,tt=$.immediateRender,nt=$.lazy,rt=$.onUpdate,it=$.onUpdateParams,ot=$.callbackScope,st=$.runBackwards,at=$.yoyoEase,lt=$.keyframes,ut=$.autoRevert,ct=g._dur,ft=g._startAt,ht=g._targets,dt=g.parent,pt=dt&&dt.data==="nested"?dt.vars.targets:ht,mt=g._overwrite==="auto"&&!_suppressOverwrites$1,gt=g.timeline,yt,_t,vt,At,bt,xt,Et,Mt,Tt,Lt,Ot,Rt,Ct;if(gt&&(!lt||!_e)&&(_e="none"),g._ease=_parseEase(_e,_defaults$1.ease),g._yEase=at?_invertEase(_parseEase(at===!0?_e:at,_defaults$1.ease)):0,at&&g._yoyo&&!g._repeat&&(at=g._yEase,g._yEase=g._ease,g._ease=at),g._from=!gt&&!!$.runBackwards,!gt||lt&&!$.stagger){if(Mt=ht[0]?_getCache(ht[0]).harness:0,Rt=Mt&&$[Mt.prop],yt=_copyExcluding($,_reservedProps),ft&&(b<0&&st&&tt&&!ut?ft.render(-1,!0):ft.revert(st&&ct?_revertConfig:_startAtRevertConfig),ft._lazy=0),et){if(_removeFromParent(g._startAt=Tween.set(ht,_setDefaults$1({data:"isStart",overwrite:!1,parent:dt,immediateRender:!0,lazy:_isNotFalse(nt),startAt:null,delay:0,onUpdate:rt,onUpdateParams:it,callbackScope:ot,stagger:0},et))),b<0&&(_reverting$1||!tt&&!ut)&&g._startAt.revert(_revertConfig),tt&&ct&&b<=0){b&&(g._zTime=b);return}}else if(st&&ct&&!ft){if(b&&(tt=!1),vt=_setDefaults$1({overwrite:!1,data:"isFromStart",lazy:tt&&_isNotFalse(nt),immediateRender:tt,stagger:0,parent:dt},yt),Rt&&(vt[Mt.prop]=Rt),_removeFromParent(g._startAt=Tween.set(ht,vt)),b<0&&(_reverting$1?g._startAt.revert(_revertConfig):g._startAt.render(-1,!0)),g._zTime=b,!tt)j(g._startAt,_tinyNum);else if(!b)return}for(g._pt=g._ptCache=0,nt=ct&&_isNotFalse(nt)||nt&&!ct,_t=0;_t<ht.length;_t++){if(bt=ht[_t],Et=bt._gsap||_harness(ht)[_t]._gsap,g._ptLookup[_t]=Lt={},_lazyLookup[Et.id]&&_lazyTweens.length&&_lazyRender(),Ot=pt===ht?_t:pt.indexOf(bt),Mt&&(Tt=new Mt).init(bt,Rt||yt,g,Ot,pt)!==!1&&(g._pt=At=new PropTween(g._pt,bt,Tt.name,0,1,Tt.render,Tt,0,Tt.priority),Tt._props.forEach(function(Dt){Lt[Dt]=At}),Tt.priority&&(xt=1)),!Mt||Rt)for(vt in yt)_plugins[vt]&&(Tt=_checkPlugin(vt,yt,g,Ot,bt,pt))?Tt.priority&&(xt=1):Lt[vt]=At=_addPropTween.call(g,bt,vt,"get",yt[vt],Ot,pt,0,$.stringFilter);g._op&&g._op[_t]&&g.kill(bt,g._op[_t]),mt&&g._pt&&(_overwritingTween=g,_globalTimeline.killTweensOf(bt,Lt,g.globalTime(b)),Ct=!g.parent,_overwritingTween=0),g._pt&&nt&&(_lazyLookup[Et.id]=1)}xt&&_sortPropTweensByPriority(g),g._onInit&&g._onInit(g)}g._onUpdate=rt,g._initted=(!g._op||g._pt)&&!Ct,lt&&b<=0&&gt.render(_bigNum$1,!0,!0)},_updatePropTweens=function(g,b,$,_e,et,tt,nt){var rt=(g._pt&&g._ptCache||(g._ptCache={}))[b],it,ot,st,at;if(!rt)for(rt=g._ptCache[b]=[],st=g._ptLookup,at=g._targets.length;at--;){if(it=st[at][b],it&&it.d&&it.d._pt)for(it=it.d._pt;it&&it.p!==b&&it.fp!==b;)it=it._next;if(!it)return _forceAllPropTweens=1,g.vars[b]="+=0",_initTween(g,nt),_forceAllPropTweens=0,1;rt.push(it)}for(at=rt.length;at--;)ot=rt[at],it=ot._pt||ot,it.s=(_e||_e===0)&&!et?_e:it.s+(_e||0)+tt*it.c,it.c=$-it.s,ot.e&&(ot.e=_round$1($)+getUnit(ot.e)),ot.b&&(ot.b=it.s+getUnit(ot.b))},_addAliasesToVars=function(g,b){var $=g[0]?_getCache(g[0]).harness:0,_e=$&&$.aliases,et,tt,nt,rt;if(!_e)return b;et=_merge({},b);for(tt in _e)if(tt in et)for(rt=_e[tt].split(","),nt=rt.length;nt--;)et[rt[nt]]=et[tt];return et},_parseKeyframe=function(g,b,$,_e){var et=b.ease||_e||"power1.inOut",tt,nt;if(_isArray$1(b))nt=$[g]||($[g]=[]),b.forEach(function(rt,it){return nt.push({t:it/(b.length-1)*100,v:rt,e:et})});else for(tt in b)nt=$[tt]||($[tt]=[]),tt==="ease"||nt.push({t:parseFloat(g),v:b[tt],e:et})},_parseFuncOrString=function(g,b,$,_e,et){return _isFunction$1(g)?g.call(b,$,_e,et):_isString$1(g)&&~g.indexOf("random(")?_replaceRandom(g):g},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(j){return _staggerPropsToSkip[j]=1});var Tween=function(j){_inheritsLoose(g,j);function g($,_e,et,tt){var nt;typeof _e=="number"&&(et.duration=_e,_e=et,et=null),nt=j.call(this,tt?_e:_inheritDefaults(_e))||this;var rt=nt.vars,it=rt.duration,ot=rt.delay,st=rt.immediateRender,at=rt.stagger,lt=rt.overwrite,ut=rt.keyframes,ct=rt.defaults,ft=rt.scrollTrigger,ht=rt.yoyoEase,dt=_e.parent||_globalTimeline,pt=(_isArray$1($)||_isTypedArray($)?_isNumber$1($[0]):"length"in _e)?[$]:toArray($),mt,gt,yt,_t,vt,At,bt,xt;if(nt._targets=pt.length?_harness(pt):_warn("GSAP target "+$+" not found. https://greensock.com",!_config.nullTargetWarn)||[],nt._ptLookup=[],nt._overwrite=lt,ut||at||_isFuncOrString(it)||_isFuncOrString(ot)){if(_e=nt.vars,mt=nt.timeline=new Timeline({data:"nested",defaults:ct||{},targets:dt&&dt.data==="nested"?dt.vars.targets:pt}),mt.kill(),mt.parent=mt._dp=_assertThisInitialized(nt),mt._start=0,at||_isFuncOrString(it)||_isFuncOrString(ot)){if(_t=pt.length,bt=at&&distribute(at),_isObject$1(at))for(vt in at)~_staggerTweenProps.indexOf(vt)&&(xt||(xt={}),xt[vt]=at[vt]);for(gt=0;gt<_t;gt++)yt=_copyExcluding(_e,_staggerPropsToSkip),yt.stagger=0,ht&&(yt.yoyoEase=ht),xt&&_merge(yt,xt),At=pt[gt],yt.duration=+_parseFuncOrString(it,_assertThisInitialized(nt),gt,At,pt),yt.delay=(+_parseFuncOrString(ot,_assertThisInitialized(nt),gt,At,pt)||0)-nt._delay,!at&&_t===1&&yt.delay&&(nt._delay=ot=yt.delay,nt._start+=ot,yt.delay=0),mt.to(At,yt,bt?bt(gt,At,pt):0),mt._ease=_easeMap.none;mt.duration()?it=ot=0:nt.timeline=0}else if(ut){_inheritDefaults(_setDefaults$1(mt.vars.defaults,{ease:"none"})),mt._ease=_parseEase(ut.ease||_e.ease||"none");var Et=0,Mt,Tt,Lt;if(_isArray$1(ut))ut.forEach(function(Ot){return mt.to(pt,Ot,">")}),mt.duration();else{yt={};for(vt in ut)vt==="ease"||vt==="easeEach"||_parseKeyframe(vt,ut[vt],yt,ut.easeEach);for(vt in yt)for(Mt=yt[vt].sort(function(Ot,Rt){return Ot.t-Rt.t}),Et=0,gt=0;gt<Mt.length;gt++)Tt=Mt[gt],Lt={ease:Tt.e,duration:(Tt.t-(gt?Mt[gt-1].t:0))/100*it},Lt[vt]=Tt.v,mt.to(pt,Lt,Et),Et+=Lt.duration;mt.duration()<it&&mt.to({},{duration:it-mt.duration()})}}it||nt.duration(it=mt.duration())}else nt.timeline=0;return lt===!0&&!_suppressOverwrites$1&&(_overwritingTween=_assertThisInitialized(nt),_globalTimeline.killTweensOf(pt),_overwritingTween=0),_addToTimeline(dt,_assertThisInitialized(nt),et),_e.reversed&&nt.reverse(),_e.paused&&nt.paused(!0),(st||!it&&!ut&&nt._start===_roundPrecise(dt._time)&&_isNotFalse(st)&&_hasNoPausedAncestors(_assertThisInitialized(nt))&&dt.data!=="nested")&&(nt._tTime=-_tinyNum,nt.render(Math.max(0,-ot))),ft&&_scrollTrigger(_assertThisInitialized(nt),ft),nt}var b=g.prototype;return b.render=function(_e,et,tt){var nt=this._time,rt=this._tDur,it=this._dur,ot=_e<0,st=_e>rt-_tinyNum&&!ot?rt:_e<_tinyNum?0:_e,at,lt,ut,ct,ft,ht,dt,pt,mt;if(!it)_renderZeroDurationTween(this,_e,et,tt);else if(st!==this._tTime||!_e||tt||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==ot){if(at=st,pt=this.timeline,this._repeat){if(ct=it+this._rDelay,this._repeat<-1&&ot)return this.totalTime(ct*100+_e,et,tt);if(at=_roundPrecise(st%ct),st===rt?(ut=this._repeat,at=it):(ut=~~(st/ct),ut&&ut===st/ct&&(at=it,ut--),at>it&&(at=it)),ht=this._yoyo&&ut&1,ht&&(mt=this._yEase,at=it-at),ft=_animationCycle(this._tTime,ct),at===nt&&!tt&&this._initted)return this._tTime=st,this;ut!==ft&&(pt&&this._yEase&&_propagateYoyoEase(pt,ht),this.vars.repeatRefresh&&!ht&&!this._lock&&(this._lock=tt=1,this.render(_roundPrecise(ct*ut),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,ot?_e:at,tt,et))return this._tTime=0,this;if(nt!==this._time)return this;if(it!==this._dur)return this.render(_e,et,tt)}if(this._tTime=st,this._time=at,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=dt=(mt||this._ease)(at/it),this._from&&(this.ratio=dt=1-dt),at&&!nt&&!et&&(_callback$1(this,"onStart"),this._tTime!==st))return this;for(lt=this._pt;lt;)lt.r(dt,lt.d),lt=lt._next;pt&&pt.render(_e<0?_e:!at&&ht?-_tinyNum:pt._dur*pt._ease(at/this._dur),et,tt)||this._startAt&&(this._zTime=_e),this._onUpdate&&!et&&(ot&&_rewindStartAt(this,_e,et,tt),_callback$1(this,"onUpdate")),this._repeat&&ut!==ft&&this.vars.onRepeat&&!et&&this.parent&&_callback$1(this,"onRepeat"),(st===this._tDur||!st)&&this._tTime===st&&(ot&&!this._onUpdate&&_rewindStartAt(this,_e,!0,!0),(_e||!it)&&(st===this._tDur&&this._ts>0||!st&&this._ts<0)&&_removeFromParent(this,1),!et&&!(ot&&!nt)&&(st||nt)&&(_callback$1(this,st===rt?"onComplete":"onReverseComplete",!0),this._prom&&!(st<rt&&this.timeScale()>0)&&this._prom()))}return this},b.targets=function(){return this._targets},b.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),j.prototype.invalidate.call(this)},b.resetTo=function(_e,et,tt,nt){_tickerActive||_ticker.wake(),this._ts||this.play();var rt=Math.min(this._dur,(this._dp._time-this._start)*this._ts),it;return this._initted||_initTween(this,rt),it=this._ease(rt/this._dur),_updatePropTweens(this,_e,et,tt,nt,it,rt)?this.resetTo(_e,et,tt,nt):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},b.kill=function(_e,et){if(et===void 0&&(et="all"),!_e&&(!et||et==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this;if(this.timeline){var tt=this.timeline.totalDuration();return this.timeline.killTweensOf(_e,et,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&tt!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/tt,0,1),this}var nt=this._targets,rt=_e?toArray(_e):nt,it=this._ptLookup,ot=this._pt,st,at,lt,ut,ct,ft,ht;if((!et||et==="all")&&_arraysMatch(nt,rt))return et==="all"&&(this._pt=0),_interrupt(this);for(st=this._op=this._op||[],et!=="all"&&(_isString$1(et)&&(ct={},_forEachName(et,function(dt){return ct[dt]=1}),et=ct),et=_addAliasesToVars(nt,et)),ht=nt.length;ht--;)if(~rt.indexOf(nt[ht])){at=it[ht],et==="all"?(st[ht]=et,ut=at,lt={}):(lt=st[ht]=st[ht]||{},ut=et);for(ct in ut)ft=at&&at[ct],ft&&((!("kill"in ft.d)||ft.d.kill(ct)===!0)&&_removeLinkedListItem(this,ft,"_pt"),delete at[ct]),lt!=="all"&&(lt[ct]=1)}return this._initted&&!this._pt&&ot&&_interrupt(this),this},g.to=function(_e,et){return new g(_e,et,arguments[2])},g.from=function(_e,et){return _createTweenType(1,arguments)},g.delayedCall=function(_e,et,tt,nt){return new g(et,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:_e,onComplete:et,onReverseComplete:et,onCompleteParams:tt,onReverseCompleteParams:tt,callbackScope:nt})},g.fromTo=function(_e,et,tt){return _createTweenType(2,arguments)},g.set=function(_e,et){return et.duration=0,et.repeatDelay||(et.repeat=0),new g(_e,et)},g.killTweensOf=function(_e,et,tt){return _globalTimeline.killTweensOf(_e,et,tt)},g}(Animation);_setDefaults$1(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName("staggerTo,staggerFrom,staggerFromTo",function(j){Tween[j]=function(){var g=new Timeline,b=_slice$1.call(arguments,0);return b.splice(j==="staggerFromTo"?5:4,0,0),g[j].apply(g,b)}});var _setterPlain=function(g,b,$){return g[b]=$},_setterFunc=function(g,b,$){return g[b]($)},_setterFuncWithParam=function(g,b,$,_e){return g[b](_e.fp,$)},_setterAttribute=function(g,b,$){return g.setAttribute(b,$)},_getSetter=function(g,b){return _isFunction$1(g[b])?_setterFunc:_isUndefined(g[b])&&g.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function(g,b){return b.set(b.t,b.p,Math.round((b.s+b.c*g)*1e6)/1e6,b)},_renderBoolean=function(g,b){return b.set(b.t,b.p,!!(b.s+b.c*g),b)},_renderComplexString=function(g,b){var $=b._pt,_e="";if(!g&&b.b)_e=b.b;else if(g===1&&b.e)_e=b.e;else{for(;$;)_e=$.p+($.m?$.m($.s+$.c*g):Math.round(($.s+$.c*g)*1e4)/1e4)+_e,$=$._next;_e+=b.c}b.set(b.t,b.p,_e,b)},_renderPropTweens=function(g,b){for(var $=b._pt;$;)$.r(g,$.d),$=$._next},_addPluginModifier=function(g,b,$,_e){for(var et=this._pt,tt;et;)tt=et._next,et.p===_e&&et.modifier(g,b,$),et=tt},_killPropTweensOf=function(g){for(var b=this._pt,$,_e;b;)_e=b._next,b.p===g&&!b.op||b.op===g?_removeLinkedListItem(this,b,"_pt"):b.dep||($=1),b=_e;return!$},_setterWithModifier=function(g,b,$,_e){_e.mSet(g,b,_e.m.call(_e.tween,$,_e.mt),_e)},_sortPropTweensByPriority=function(g){for(var b=g._pt,$,_e,et,tt;b;){for($=b._next,_e=et;_e&&_e.pr>b.pr;)_e=_e._next;(b._prev=_e?_e._prev:tt)?b._prev._next=b:et=b,(b._next=_e)?_e._prev=b:tt=b,b=$}g._pt=et},PropTween=function(){function j(b,$,_e,et,tt,nt,rt,it,ot){this.t=$,this.s=et,this.c=tt,this.p=_e,this.r=nt||_renderPlain,this.d=rt||this,this.set=it||_setterPlain,this.pr=ot||0,this._next=b,b&&(b._prev=this)}var g=j.prototype;return g.modifier=function($,_e,et){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=$,this.mt=et,this.tween=_e},j}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(j){return _reservedProps[j]=1});_globals.TweenMax=_globals.TweenLite=Tween;_globals.TimelineLite=_globals.TimelineMax=Timeline;_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults$1,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_config.stringFilter=_colorStringFilter;var _media=[],_listeners$2={},_emptyArray$1=[],_lastMediaTime=0,_dispatch$1=function(g){return(_listeners$2[g]||_emptyArray$1).map(function(b){return b()})},_onMediaChange=function(){var g=Date.now(),b=[];g-_lastMediaTime>2&&(_dispatch$1("matchMediaInit"),_media.forEach(function($){var _e=$.queries,et=$.conditions,tt,nt,rt,it;for(nt in _e)tt=_win$4.matchMedia(_e[nt]).matches,tt&&(rt=1),tt!==et[nt]&&(et[nt]=tt,it=1);it&&($.revert(),rt&&b.push($))}),_dispatch$1("matchMediaRevert"),b.forEach(function($){return $.onMatch($)}),_lastMediaTime=g,_dispatch$1("matchMedia"))},Context=function(){function j(b,$){this.selector=$&&selector($),this.data=[],this._r=[],this.isReverted=!1,b&&this.add(b)}var g=j.prototype;return g.add=function($,_e,et){_isFunction$1($)&&(et=_e,_e=$,$=_isFunction$1);var tt=this,nt=function(){var it=_context$2,ot=tt.selector,st;return it&&it!==tt&&it.data.push(tt),et&&(tt.selector=selector(et)),_context$2=tt,st=_e.apply(tt,arguments),_isFunction$1(st)&&tt._r.push(st),_context$2=it,tt.selector=ot,tt.isReverted=!1,st};return tt.last=nt,$===_isFunction$1?nt(tt):$?tt[$]=nt:nt},g.ignore=function($){var _e=_context$2;_context$2=null,$(this),_context$2=_e},g.getTweens=function(){var $=[];return this.data.forEach(function(_e){return _e instanceof j?$.push.apply($,_e.getTweens()):_e instanceof Tween&&$.push(_e)}),$},g.clear=function(){this._r.length=this.data.length=0},g.kill=function($,_e){var et=this;if($?(this.getTweens().map(function(nt){return{g:nt.globalTime(0),t:nt}}).sort(function(nt,rt){return rt.g-nt.g||-1}).forEach(function(nt){return nt.t.revert($)}),this.data.forEach(function(nt){return!(nt instanceof Animation)&&nt.revert&&nt.revert($)}),this._r.forEach(function(nt){return nt($,et)}),this.isReverted=!0):this.data.forEach(function(nt){return nt.kill&&nt.kill()}),this.clear(),_e){var tt=_media.indexOf(this);~tt&&_media.splice(tt,1)}},g.revert=function($){this.kill($||{})},j}(),MatchMedia=function(){function j(b){this.contexts=[],this.scope=b}var g=j.prototype;return g.add=function($,_e,et){_isObject$1($)||($={matches:$});var tt=new Context(0,et||this.scope),nt=tt.conditions={},rt,it,ot;this.contexts.push(tt),_e=tt.add("onMatch",_e),tt.queries=$;for(it in $)it==="all"?ot=1:(rt=_win$4.matchMedia($[it]),rt&&(_media.indexOf(tt)<0&&_media.push(tt),(nt[it]=rt.matches)&&(ot=1),rt.addListener?rt.addListener(_onMediaChange):rt.addEventListener("change",_onMediaChange)));return ot&&_e(tt),this},g.revert=function($){this.kill($||{})},g.kill=function($){this.contexts.forEach(function(_e){return _e.kill($,!0)})},j}(),_gsap={registerPlugin:function(){for(var g=arguments.length,b=new Array(g),$=0;$<g;$++)b[$]=arguments[$];b.forEach(function(_e){return _createPlugin(_e)})},timeline:function(g){return new Timeline(g)},getTweensOf:function(g,b){return _globalTimeline.getTweensOf(g,b)},getProperty:function(g,b,$,_e){_isString$1(g)&&(g=toArray(g)[0]);var et=_getCache(g||{}).get,tt=$?_passThrough$1:_numericIfPossible;return $==="native"&&($=""),g&&(b?tt((_plugins[b]&&_plugins[b].get||et)(g,b,$,_e)):function(nt,rt,it){return tt((_plugins[nt]&&_plugins[nt].get||et)(g,nt,rt,it))})},quickSetter:function(g,b,$){if(g=toArray(g),g.length>1){var _e=g.map(function(ot){return gsap$2.quickSetter(ot,b,$)}),et=_e.length;return function(ot){for(var st=et;st--;)_e[st](ot)}}g=g[0]||{};var tt=_plugins[b],nt=_getCache(g),rt=nt.harness&&(nt.harness.aliases||{})[b]||b,it=tt?function(ot){var st=new tt;_quickTween._pt=0,st.init(g,$?ot+$:ot,_quickTween,0,[g]),st.render(1,st),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:nt.set(g,rt);return tt?it:function(ot){return it(g,rt,$?ot+$:ot,nt,1)}},quickTo:function(g,b,$){var _e,et=gsap$2.to(g,_merge((_e={},_e[b]="+=0.1",_e.paused=!0,_e),$||{})),tt=function(rt,it,ot){return et.resetTo(b,rt,it,ot)};return tt.tween=et,tt},isTweening:function(g){return _globalTimeline.getTweensOf(g,!0).length>0},defaults:function(g){return g&&g.ease&&(g.ease=_parseEase(g.ease,_defaults$1.ease)),_mergeDeep(_defaults$1,g||{})},config:function(g){return _mergeDeep(_config,g||{})},registerEffect:function(g){var b=g.name,$=g.effect,_e=g.plugins,et=g.defaults,tt=g.extendTimeline;(_e||"").split(",").forEach(function(nt){return nt&&!_plugins[nt]&&!_globals[nt]&&_warn(b+" effect requires "+nt+" plugin.")}),_effects[b]=function(nt,rt,it){return $(toArray(nt),_setDefaults$1(rt||{},et),it)},tt&&(Timeline.prototype[b]=function(nt,rt,it){return this.add(_effects[b](nt,_isObject$1(rt)?rt:(it=rt)&&{},this),it)})},registerEase:function(g,b){_easeMap[g]=_parseEase(b)},parseEase:function(g,b){return arguments.length?_parseEase(g,b):_easeMap},getById:function(g){return _globalTimeline.getById(g)},exportRoot:function(g,b){g===void 0&&(g={});var $=new Timeline(g),_e,et;for($.smoothChildTiming=_isNotFalse(g.smoothChildTiming),_globalTimeline.remove($),$._dp=0,$._time=$._tTime=_globalTimeline._time,_e=_globalTimeline._first;_e;)et=_e._next,(b||!(!_e._dur&&_e instanceof Tween&&_e.vars.onComplete===_e._targets[0]))&&_addToTimeline($,_e,_e._start-_e._delay),_e=et;return _addToTimeline(_globalTimeline,$,0),$},context:function(g,b){return g?new Context(g,b):_context$2},matchMedia:function(g){return new MatchMedia(g)},matchMediaRefresh:function(){return _media.forEach(function(g){var b=g.conditions,$,_e;for(_e in b)b[_e]&&(b[_e]=!1,$=1);$&&g.revert()})||_onMediaChange()},addEventListener:function(g,b){var $=_listeners$2[g]||(_listeners$2[g]=[]);~$.indexOf(b)||$.push(b)},removeEventListener:function(g,b){var $=_listeners$2[g],_e=$&&$.indexOf(b);_e>=0&&$.splice(_e,1)},utils:{wrap,wrapYoyo,distribute,random,snap,normalize,getUnit,clamp:clamp$2,splitColor,toArray,selector,mapRange,pipe,unitize,interpolate,shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween,globals:_addGlobal,Tween,Timeline,Animation,getCache:_getCache,_removeLinkedListItem,reverting:function(){return _reverting$1},context:function(g){return g&&_context$2&&(_context$2.data.push(g),g._ctx=_context$2),_context$2},suppressOverwrites:function(g){return _suppressOverwrites$1=g}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(j){return _gsap[j]=Tween[j]});_ticker.add(Timeline.updateRoot);_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function(g,b){for(var $=g._pt;$&&$.p!==b&&$.op!==b&&$.fp!==b;)$=$._next;return $},_addModifiers=function(g,b){var $=g._targets,_e,et,tt;for(_e in b)for(et=$.length;et--;)tt=g._ptLookup[et][_e],tt&&(tt=tt.d)&&(tt._pt&&(tt=_getPluginPropTween(tt,_e)),tt&&tt.modifier&&tt.modifier(b[_e],g,$[et],_e))},_buildModifierPlugin=function(g,b){return{name:g,rawVars:1,init:function(_e,et,tt){tt._onInit=function(nt){var rt,it;if(_isString$1(et)&&(rt={},_forEachName(et,function(ot){return rt[ot]=1}),et=rt),b){rt={};for(it in et)rt[it]=b(et[it]);et=rt}_addModifiers(nt,et)}}}},gsap$2=_gsap.registerPlugin({name:"attr",init:function(g,b,$,_e,et){var tt,nt,rt;this.tween=$;for(tt in b)rt=g.getAttribute(tt)||"",nt=this.add(g,"setAttribute",(rt||0)+"",b[tt],_e,et,0,0,tt),nt.op=tt,nt.b=rt,this._props.push(tt)},render:function(g,b){for(var $=b._pt;$;)_reverting$1?$.set($.t,$.p,$.b,$):$.r(g,$.d),$=$._next}},{name:"endArray",init:function(g,b){for(var $=b.length;$--;)this.add(g,$,g[$]||0,b[$],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap$2.version="3.11.1";_coreReady=1;_windowExists$2()&&_wake();_easeMap.Power0;_easeMap.Power1;_easeMap.Power2;_easeMap.Power3;_easeMap.Power4;_easeMap.Linear;_easeMap.Quad;_easeMap.Cubic;_easeMap.Quart;_easeMap.Quint;_easeMap.Strong;_easeMap.Elastic;_easeMap.Back;_easeMap.SteppedEase;_easeMap.Bounce;_easeMap.Sine;_easeMap.Expo;_easeMap.Circ;/*!
 * CSSPlugin 3.11.1
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _win$3,_doc$3,_docElement,_pluginInitted,_tempDiv,_recentSetterPlugin,_reverting,_windowExists$1=function(){return typeof window!="undefined"},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum=1e8,_capsExp$1=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function(g,b){return b.set(b.t,b.p,Math.round((b.s+b.c*g)*1e4)/1e4+b.u,b)},_renderPropWithEnd=function(g,b){return b.set(b.t,b.p,g===1?b.e:Math.round((b.s+b.c*g)*1e4)/1e4+b.u,b)},_renderCSSPropWithBeginning=function(g,b){return b.set(b.t,b.p,g?Math.round((b.s+b.c*g)*1e4)/1e4+b.u:b.b,b)},_renderRoundedCSSProp=function(g,b){var $=b.s+b.c*g;b.set(b.t,b.p,~~($+($<0?-.5:.5))+b.u,b)},_renderNonTweeningValue=function(g,b){return b.set(b.t,b.p,g?b.e:b.b,b)},_renderNonTweeningValueOnlyAtEnd=function(g,b){return b.set(b.t,b.p,g!==1?b.b:b.e,b)},_setterCSSStyle=function(g,b,$){return g.style[b]=$},_setterCSSProp=function(g,b,$){return g.style.setProperty(b,$)},_setterTransform=function(g,b,$){return g._gsap[b]=$},_setterScale=function(g,b,$){return g._gsap.scaleX=g._gsap.scaleY=$},_setterScaleWithRender=function(g,b,$,_e,et){var tt=g._gsap;tt.scaleX=tt.scaleY=$,tt.renderTransform(et,tt)},_setterTransformWithRender=function(g,b,$,_e,et){var tt=g._gsap;tt[b]=$,tt.renderTransform(et,tt)},_transformProp$1="transform",_transformOriginProp=_transformProp$1+"Origin",_saveStyle=function(g){var b=this,$=this.target,_e=$.style;if(g in _transformProps){if(this.tfm=this.tfm||{},g!=="transform"&&(g=_propertyAliases[g]||g,~g.indexOf(",")?g.split(",").forEach(function(et){return b.tfm[et]=_get($,et)}):this.tfm[g]=$._gsap.x?$._gsap[g]:_get($,g)),this.props.indexOf(_transformProp$1)>=0)return;$._gsap.svg&&(this.svgo=$.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp,"")),g=_transformProp$1}_e&&this.props.push(g,_e[g])},_removeIndependentTransforms=function(g){g.translate&&(g.removeProperty("translate"),g.removeProperty("scale"),g.removeProperty("rotate"))},_revertStyle=function(){var g=this.props,b=this.target,$=b.style,_e=b._gsap,et,tt;for(et=0;et<g.length;et+=2)g[et+1]?$[g[et]]=g[et+1]:$.removeProperty(g[et].replace(_capsExp$1,"-$1").toLowerCase());if(this.tfm){for(tt in this.tfm)_e[tt]=this.tfm[tt];_e.svg&&(_e.renderTransform(),b.setAttribute("data-svg-origin",this.svgo||"")),et=_reverting(),et&&!et.isStart&&!$[_transformProp$1]&&(_removeIndependentTransforms($),_e.uncache=1)}},_getStyleSaver=function(g,b){var $={target:g,props:[],revert:_revertStyle,save:_saveStyle};return b&&b.split(",").forEach(function(_e){return $.save(_e)}),$},_supports3D,_createElement=function(g,b){var $=_doc$3.createElementNS?_doc$3.createElementNS((b||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),g):_doc$3.createElement(g);return $.style?$:_doc$3.createElement(g)},_getComputedProperty=function j(g,b,$){var _e=getComputedStyle(g);return _e[b]||_e.getPropertyValue(b.replace(_capsExp$1,"-$1").toLowerCase())||_e.getPropertyValue(b)||!$&&j(g,_checkPropPrefix(b)||b,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function(g,b,$){var _e=b||_tempDiv,et=_e.style,tt=5;if(g in et&&!$)return g;for(g=g.charAt(0).toUpperCase()+g.substr(1);tt--&&!(_prefixes[tt]+g in et););return tt<0?null:(tt===3?"ms":tt>=0?_prefixes[tt]:"")+g},_initCore$2=function(){_windowExists$1()&&window.document&&(_win$3=window,_doc$3=_win$3.document,_docElement=_doc$3.documentElement,_tempDiv=_createElement("div")||{style:{}},_createElement("div"),_transformProp$1=_checkPropPrefix(_transformProp$1),_transformOriginProp=_transformProp$1+"Origin",_tempDiv.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D=!!_checkPropPrefix("perspective"),_reverting=gsap$2.core.reverting,_pluginInitted=1)},_getBBoxHack=function j(g){var b=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),$=this.parentNode,_e=this.nextSibling,et=this.style.cssText,tt;if(_docElement.appendChild(b),b.appendChild(this),this.style.display="block",g)try{tt=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=j}catch{}else this._gsapBBox&&(tt=this._gsapBBox());return $&&(_e?$.insertBefore(this,_e):$.appendChild(this)),_docElement.removeChild(b),this.style.cssText=et,tt},_getAttributeFallbacks=function(g,b){for(var $=b.length;$--;)if(g.hasAttribute(b[$]))return g.getAttribute(b[$])},_getBBox=function(g){var b;try{b=g.getBBox()}catch{b=_getBBoxHack.call(g,!0)}return b&&(b.width||b.height)||g.getBBox===_getBBoxHack||(b=_getBBoxHack.call(g,!0)),b&&!b.width&&!b.x&&!b.y?{x:+_getAttributeFallbacks(g,["x","cx","x1"])||0,y:+_getAttributeFallbacks(g,["y","cy","y1"])||0,width:0,height:0}:b},_isSVG=function(g){return!!(g.getCTM&&(!g.parentNode||g.ownerSVGElement)&&_getBBox(g))},_removeProperty=function(g,b){if(b){var $=g.style;b in _transformProps&&b!==_transformOriginProp&&(b=_transformProp$1),$.removeProperty?((b.substr(0,2)==="ms"||b.substr(0,6)==="webkit")&&(b="-"+b),$.removeProperty(b.replace(_capsExp$1,"-$1").toLowerCase())):$.removeAttribute(b)}},_addNonTweeningPT=function(g,b,$,_e,et,tt){var nt=new PropTween(g._pt,b,$,0,1,tt?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return g._pt=nt,nt.b=_e,nt.e=et,g._props.push($),nt},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function j(g,b,$,_e){var et=parseFloat($)||0,tt=($+"").trim().substr((et+"").length)||"px",nt=_tempDiv.style,rt=_horizontalExp.test(b),it=g.tagName.toLowerCase()==="svg",ot=(it?"client":"offset")+(rt?"Width":"Height"),st=100,at=_e==="px",lt=_e==="%",ut,ct,ft,ht;return _e===tt||!et||_nonConvertibleUnits[_e]||_nonConvertibleUnits[tt]?et:(tt!=="px"&&!at&&(et=j(g,b,$,"px")),ht=g.getCTM&&_isSVG(g),(lt||tt==="%")&&(_transformProps[b]||~b.indexOf("adius"))?(ut=ht?g.getBBox()[rt?"width":"height"]:g[ot],_round$1(lt?et/ut*st:et/100*ut)):(nt[rt?"width":"height"]=st+(at?tt:_e),ct=~b.indexOf("adius")||_e==="em"&&g.appendChild&&!it?g:g.parentNode,ht&&(ct=(g.ownerSVGElement||{}).parentNode),(!ct||ct===_doc$3||!ct.appendChild)&&(ct=_doc$3.body),ft=ct._gsap,ft&&lt&&ft.width&&rt&&ft.time===_ticker.time&&!ft.uncache?_round$1(et/ft.width*st):((lt||tt==="%")&&!_nonStandardLayouts[_getComputedProperty(ct,"display")]&&(nt.position=_getComputedProperty(g,"position")),ct===g&&(nt.position="static"),ct.appendChild(_tempDiv),ut=_tempDiv[ot],ct.removeChild(_tempDiv),nt.position="absolute",rt&&lt&&(ft=_getCache(ct),ft.time=_ticker.time,ft.width=ct[ot]),_round$1(at?ut*et/st:ut&&et?st/ut*et:0))))},_get=function(g,b,$,_e){var et;return _pluginInitted||_initCore$2(),b in _propertyAliases&&b!=="transform"&&(b=_propertyAliases[b],~b.indexOf(",")&&(b=b.split(",")[0])),_transformProps[b]&&b!=="transform"?(et=_parseTransform(g,_e),et=b!=="transformOrigin"?et[b]:et.svg?et.origin:_firstTwoOnly(_getComputedProperty(g,_transformOriginProp))+" "+et.zOrigin+"px"):(et=g.style[b],(!et||et==="auto"||_e||~(et+"").indexOf("calc("))&&(et=_specialProps[b]&&_specialProps[b](g,b,$)||_getComputedProperty(g,b)||_getProperty(g,b)||(b==="opacity"?1:0))),$&&!~(et+"").trim().indexOf(" ")?_convertToUnit(g,b,et,$)+$:et},_tweenComplexCSSString=function(g,b,$,_e){if(!$||$==="none"){var et=_checkPropPrefix(b,g,1),tt=et&&_getComputedProperty(g,et,1);tt&&tt!==$?(b=et,$=tt):b==="borderColor"&&($=_getComputedProperty(g,"borderTopColor"))}var nt=new PropTween(this._pt,g.style,b,0,1,_renderComplexString),rt=0,it=0,ot,st,at,lt,ut,ct,ft,ht,dt,pt,mt,gt;if(nt.b=$,nt.e=_e,$+="",_e+="",_e==="auto"&&(g.style[b]=_e,_e=_getComputedProperty(g,b)||_e,g.style[b]=$),ot=[$,_e],_colorStringFilter(ot),$=ot[0],_e=ot[1],at=$.match(_numWithUnitExp)||[],gt=_e.match(_numWithUnitExp)||[],gt.length){for(;st=_numWithUnitExp.exec(_e);)ft=st[0],dt=_e.substring(rt,st.index),ut?ut=(ut+1)%5:(dt.substr(-5)==="rgba("||dt.substr(-5)==="hsla(")&&(ut=1),ft!==(ct=at[it++]||"")&&(lt=parseFloat(ct)||0,mt=ct.substr((lt+"").length),ft.charAt(1)==="="&&(ft=_parseRelative(lt,ft)+mt),ht=parseFloat(ft),pt=ft.substr((ht+"").length),rt=_numWithUnitExp.lastIndex-pt.length,pt||(pt=pt||_config.units[b]||mt,rt===_e.length&&(_e+=pt,nt.e+=pt)),mt!==pt&&(lt=_convertToUnit(g,b,ct,pt)||0),nt._pt={_next:nt._pt,p:dt||it===1?dt:",",s:lt,c:ht-lt,m:ut&&ut<4||b==="zIndex"?Math.round:0});nt.c=rt<_e.length?_e.substring(rt,_e.length):""}else nt.r=b==="display"&&_e==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(_e)&&(nt.e=0),this._pt=nt,nt},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function(g){var b=g.split(" "),$=b[0],_e=b[1]||"50%";return($==="top"||$==="bottom"||_e==="left"||_e==="right")&&(g=$,$=_e,_e=g),b[0]=_keywordToPercent[$]||$,b[1]=_keywordToPercent[_e]||_e,b.join(" ")},_renderClearProps=function(g,b){if(b.tween&&b.tween._time===b.tween._dur){var $=b.t,_e=$.style,et=b.u,tt=$._gsap,nt,rt,it;if(et==="all"||et===!0)_e.cssText="",rt=1;else for(et=et.split(","),it=et.length;--it>-1;)nt=et[it],_transformProps[nt]&&(rt=1,nt=nt==="transformOrigin"?_transformOriginProp:_transformProp$1),_removeProperty($,nt);rt&&(_removeProperty($,_transformProp$1),tt&&(tt.svg&&$.removeAttribute("transform"),_parseTransform($,1),tt.uncache=1,_removeIndependentTransforms(_e)))}},_specialProps={clearProps:function(g,b,$,_e,et){if(et.data!=="isFromStart"){var tt=g._pt=new PropTween(g._pt,b,$,0,0,_renderClearProps);return tt.u=_e,tt.pr=-10,tt.tween=et,g._props.push($),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function(g){return g==="matrix(1, 0, 0, 1, 0, 0)"||g==="none"||!g},_getComputedTransformMatrixAsArray=function(g){var b=_getComputedProperty(g,_transformProp$1);return _isNullTransform(b)?_identity2DMatrix:b.substr(7).match(_numExp).map(_round$1)},_getMatrix=function(g,b){var $=g._gsap||_getCache(g),_e=g.style,et=_getComputedTransformMatrixAsArray(g),tt,nt,rt,it;return $.svg&&g.getAttribute("transform")?(rt=g.transform.baseVal.consolidate().matrix,et=[rt.a,rt.b,rt.c,rt.d,rt.e,rt.f],et.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:et):(et===_identity2DMatrix&&!g.offsetParent&&g!==_docElement&&!$.svg&&(rt=_e.display,_e.display="block",tt=g.parentNode,(!tt||!g.offsetParent)&&(it=1,nt=g.nextElementSibling,_docElement.appendChild(g)),et=_getComputedTransformMatrixAsArray(g),rt?_e.display=rt:_removeProperty(g,"display"),it&&(nt?tt.insertBefore(g,nt):tt?tt.appendChild(g):_docElement.removeChild(g))),b&&et.length>6?[et[0],et[1],et[4],et[5],et[12],et[13]]:et)},_applySVGOrigin=function(g,b,$,_e,et,tt){var nt=g._gsap,rt=et||_getMatrix(g,!0),it=nt.xOrigin||0,ot=nt.yOrigin||0,st=nt.xOffset||0,at=nt.yOffset||0,lt=rt[0],ut=rt[1],ct=rt[2],ft=rt[3],ht=rt[4],dt=rt[5],pt=b.split(" "),mt=parseFloat(pt[0])||0,gt=parseFloat(pt[1])||0,yt,_t,vt,At;$?rt!==_identity2DMatrix&&(_t=lt*ft-ut*ct)&&(vt=mt*(ft/_t)+gt*(-ct/_t)+(ct*dt-ft*ht)/_t,At=mt*(-ut/_t)+gt*(lt/_t)-(lt*dt-ut*ht)/_t,mt=vt,gt=At):(yt=_getBBox(g),mt=yt.x+(~pt[0].indexOf("%")?mt/100*yt.width:mt),gt=yt.y+(~(pt[1]||pt[0]).indexOf("%")?gt/100*yt.height:gt)),_e||_e!==!1&&nt.smooth?(ht=mt-it,dt=gt-ot,nt.xOffset=st+(ht*lt+dt*ct)-ht,nt.yOffset=at+(ht*ut+dt*ft)-dt):nt.xOffset=nt.yOffset=0,nt.xOrigin=mt,nt.yOrigin=gt,nt.smooth=!!_e,nt.origin=b,nt.originIsAbsolute=!!$,g.style[_transformOriginProp]="0px 0px",tt&&(_addNonTweeningPT(tt,nt,"xOrigin",it,mt),_addNonTweeningPT(tt,nt,"yOrigin",ot,gt),_addNonTweeningPT(tt,nt,"xOffset",st,nt.xOffset),_addNonTweeningPT(tt,nt,"yOffset",at,nt.yOffset)),g.setAttribute("data-svg-origin",mt+" "+gt)},_parseTransform=function(g,b){var $=g._gsap||new GSCache(g);if("x"in $&&!b&&!$.uncache)return $;var _e=g.style,et=$.scaleX<0,tt="px",nt="deg",rt=getComputedStyle(g),it=_getComputedProperty(g,_transformOriginProp)||"0",ot,st,at,lt,ut,ct,ft,ht,dt,pt,mt,gt,yt,_t,vt,At,bt,xt,Et,Mt,Tt,Lt,Ot,Rt,Ct,Dt,Bt,kt,zt,Ft,It,Ut;return ot=st=at=ct=ft=ht=dt=pt=mt=0,lt=ut=1,$.svg=!!(g.getCTM&&_isSVG(g)),rt.translate&&((rt.translate!=="none"||rt.scale!=="none"||rt.rotate!=="none")&&(_e[_transformProp$1]=(rt.translate!=="none"?"translate3d("+(rt.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(rt.rotate!=="none"?"rotate("+rt.rotate+") ":"")+(rt.scale!=="none"?"scale("+rt.scale.split(" ").join(",")+") ":"")+rt[_transformProp$1]),_e.scale=_e.rotate=_e.translate="none"),_t=_getMatrix(g,$.svg),$.svg&&($.uncache?(Ct=g.getBBox(),it=$.xOrigin-Ct.x+"px "+($.yOrigin-Ct.y)+"px",Rt=""):Rt=!b&&g.getAttribute("data-svg-origin"),_applySVGOrigin(g,Rt||it,!!Rt||$.originIsAbsolute,$.smooth!==!1,_t)),gt=$.xOrigin||0,yt=$.yOrigin||0,_t!==_identity2DMatrix&&(xt=_t[0],Et=_t[1],Mt=_t[2],Tt=_t[3],ot=Lt=_t[4],st=Ot=_t[5],_t.length===6?(lt=Math.sqrt(xt*xt+Et*Et),ut=Math.sqrt(Tt*Tt+Mt*Mt),ct=xt||Et?_atan2(Et,xt)*_RAD2DEG:0,dt=Mt||Tt?_atan2(Mt,Tt)*_RAD2DEG+ct:0,dt&&(ut*=Math.abs(Math.cos(dt*_DEG2RAD))),$.svg&&(ot-=gt-(gt*xt+yt*Mt),st-=yt-(gt*Et+yt*Tt))):(Ut=_t[6],Ft=_t[7],Bt=_t[8],kt=_t[9],zt=_t[10],It=_t[11],ot=_t[12],st=_t[13],at=_t[14],vt=_atan2(Ut,zt),ft=vt*_RAD2DEG,vt&&(At=Math.cos(-vt),bt=Math.sin(-vt),Rt=Lt*At+Bt*bt,Ct=Ot*At+kt*bt,Dt=Ut*At+zt*bt,Bt=Lt*-bt+Bt*At,kt=Ot*-bt+kt*At,zt=Ut*-bt+zt*At,It=Ft*-bt+It*At,Lt=Rt,Ot=Ct,Ut=Dt),vt=_atan2(-Mt,zt),ht=vt*_RAD2DEG,vt&&(At=Math.cos(-vt),bt=Math.sin(-vt),Rt=xt*At-Bt*bt,Ct=Et*At-kt*bt,Dt=Mt*At-zt*bt,It=Tt*bt+It*At,xt=Rt,Et=Ct,Mt=Dt),vt=_atan2(Et,xt),ct=vt*_RAD2DEG,vt&&(At=Math.cos(vt),bt=Math.sin(vt),Rt=xt*At+Et*bt,Ct=Lt*At+Ot*bt,Et=Et*At-xt*bt,Ot=Ot*At-Lt*bt,xt=Rt,Lt=Ct),ft&&Math.abs(ft)+Math.abs(ct)>359.9&&(ft=ct=0,ht=180-ht),lt=_round$1(Math.sqrt(xt*xt+Et*Et+Mt*Mt)),ut=_round$1(Math.sqrt(Ot*Ot+Ut*Ut)),vt=_atan2(Lt,Ot),dt=Math.abs(vt)>2e-4?vt*_RAD2DEG:0,mt=It?1/(It<0?-It:It):0),$.svg&&(Rt=g.getAttribute("transform"),$.forceCSS=g.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(g,_transformProp$1)),Rt&&g.setAttribute("transform",Rt))),Math.abs(dt)>90&&Math.abs(dt)<270&&(et?(lt*=-1,dt+=ct<=0?180:-180,ct+=ct<=0?180:-180):(ut*=-1,dt+=dt<=0?180:-180)),b=b||$.uncache,$.x=ot-(($.xPercent=ot&&(!b&&$.xPercent||(Math.round(g.offsetWidth/2)===Math.round(-ot)?-50:0)))?g.offsetWidth*$.xPercent/100:0)+tt,$.y=st-(($.yPercent=st&&(!b&&$.yPercent||(Math.round(g.offsetHeight/2)===Math.round(-st)?-50:0)))?g.offsetHeight*$.yPercent/100:0)+tt,$.z=at+tt,$.scaleX=_round$1(lt),$.scaleY=_round$1(ut),$.rotation=_round$1(ct)+nt,$.rotationX=_round$1(ft)+nt,$.rotationY=_round$1(ht)+nt,$.skewX=dt+nt,$.skewY=pt+nt,$.transformPerspective=mt+tt,($.zOrigin=parseFloat(it.split(" ")[2])||0)&&(_e[_transformOriginProp]=_firstTwoOnly(it)),$.xOffset=$.yOffset=0,$.force3D=_config.force3D,$.renderTransform=$.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms,$.uncache=0,$},_firstTwoOnly=function(g){return(g=g.split(" "))[0]+" "+g[1]},_addPxTranslate=function(g,b,$){var _e=getUnit(b);return _round$1(parseFloat(b)+parseFloat(_convertToUnit(g,"x",$+"px",_e)))+_e},_renderNon3DTransforms=function(g,b){b.z="0px",b.rotationY=b.rotationX="0deg",b.force3D=0,_renderCSSTransforms(g,b)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function(g,b){var $=b||this,_e=$.xPercent,et=$.yPercent,tt=$.x,nt=$.y,rt=$.z,it=$.rotation,ot=$.rotationY,st=$.rotationX,at=$.skewX,lt=$.skewY,ut=$.scaleX,ct=$.scaleY,ft=$.transformPerspective,ht=$.force3D,dt=$.target,pt=$.zOrigin,mt="",gt=ht==="auto"&&g&&g!==1||ht===!0;if(pt&&(st!==_zeroDeg||ot!==_zeroDeg)){var yt=parseFloat(ot)*_DEG2RAD,_t=Math.sin(yt),vt=Math.cos(yt),At;yt=parseFloat(st)*_DEG2RAD,At=Math.cos(yt),tt=_addPxTranslate(dt,tt,_t*At*-pt),nt=_addPxTranslate(dt,nt,-Math.sin(yt)*-pt),rt=_addPxTranslate(dt,rt,vt*At*-pt+pt)}ft!==_zeroPx&&(mt+="perspective("+ft+_endParenthesis),(_e||et)&&(mt+="translate("+_e+"%, "+et+"%) "),(gt||tt!==_zeroPx||nt!==_zeroPx||rt!==_zeroPx)&&(mt+=rt!==_zeroPx||gt?"translate3d("+tt+", "+nt+", "+rt+") ":"translate("+tt+", "+nt+_endParenthesis),it!==_zeroDeg&&(mt+="rotate("+it+_endParenthesis),ot!==_zeroDeg&&(mt+="rotateY("+ot+_endParenthesis),st!==_zeroDeg&&(mt+="rotateX("+st+_endParenthesis),(at!==_zeroDeg||lt!==_zeroDeg)&&(mt+="skew("+at+", "+lt+_endParenthesis),(ut!==1||ct!==1)&&(mt+="scale("+ut+", "+ct+_endParenthesis),dt.style[_transformProp$1]=mt||"translate(0, 0)"},_renderSVGTransforms=function(g,b){var $=b||this,_e=$.xPercent,et=$.yPercent,tt=$.x,nt=$.y,rt=$.rotation,it=$.skewX,ot=$.skewY,st=$.scaleX,at=$.scaleY,lt=$.target,ut=$.xOrigin,ct=$.yOrigin,ft=$.xOffset,ht=$.yOffset,dt=$.forceCSS,pt=parseFloat(tt),mt=parseFloat(nt),gt,yt,_t,vt,At;rt=parseFloat(rt),it=parseFloat(it),ot=parseFloat(ot),ot&&(ot=parseFloat(ot),it+=ot,rt+=ot),rt||it?(rt*=_DEG2RAD,it*=_DEG2RAD,gt=Math.cos(rt)*st,yt=Math.sin(rt)*st,_t=Math.sin(rt-it)*-at,vt=Math.cos(rt-it)*at,it&&(ot*=_DEG2RAD,At=Math.tan(it-ot),At=Math.sqrt(1+At*At),_t*=At,vt*=At,ot&&(At=Math.tan(ot),At=Math.sqrt(1+At*At),gt*=At,yt*=At)),gt=_round$1(gt),yt=_round$1(yt),_t=_round$1(_t),vt=_round$1(vt)):(gt=st,vt=at,yt=_t=0),(pt&&!~(tt+"").indexOf("px")||mt&&!~(nt+"").indexOf("px"))&&(pt=_convertToUnit(lt,"x",tt,"px"),mt=_convertToUnit(lt,"y",nt,"px")),(ut||ct||ft||ht)&&(pt=_round$1(pt+ut-(ut*gt+ct*_t)+ft),mt=_round$1(mt+ct-(ut*yt+ct*vt)+ht)),(_e||et)&&(At=lt.getBBox(),pt=_round$1(pt+_e/100*At.width),mt=_round$1(mt+et/100*At.height)),At="matrix("+gt+","+yt+","+_t+","+vt+","+pt+","+mt+")",lt.setAttribute("transform",At),dt&&(lt.style[_transformProp$1]=At)},_addRotationalPropTween=function(g,b,$,_e,et){var tt=360,nt=_isString$1(et),rt=parseFloat(et)*(nt&&~et.indexOf("rad")?_RAD2DEG:1),it=rt-_e,ot=_e+it+"deg",st,at;return nt&&(st=et.split("_")[1],st==="short"&&(it%=tt,it!==it%(tt/2)&&(it+=it<0?tt:-tt)),st==="cw"&&it<0?it=(it+tt*_bigNum)%tt-~~(it/tt)*tt:st==="ccw"&&it>0&&(it=(it-tt*_bigNum)%tt-~~(it/tt)*tt)),g._pt=at=new PropTween(g._pt,b,$,_e,it,_renderPropWithEnd),at.e=ot,at.u="deg",g._props.push($),at},_assign=function(g,b){for(var $ in b)g[$]=b[$];return g},_addRawTransformPTs=function(g,b,$){var _e=_assign({},$._gsap),et="perspective,force3D,transformOrigin,svgOrigin",tt=$.style,nt,rt,it,ot,st,at,lt,ut;_e.svg?(it=$.getAttribute("transform"),$.setAttribute("transform",""),tt[_transformProp$1]=b,nt=_parseTransform($,1),_removeProperty($,_transformProp$1),$.setAttribute("transform",it)):(it=getComputedStyle($)[_transformProp$1],tt[_transformProp$1]=b,nt=_parseTransform($,1),tt[_transformProp$1]=it);for(rt in _transformProps)it=_e[rt],ot=nt[rt],it!==ot&&et.indexOf(rt)<0&&(lt=getUnit(it),ut=getUnit(ot),st=lt!==ut?_convertToUnit($,rt,it,ut):parseFloat(it),at=parseFloat(ot),g._pt=new PropTween(g._pt,nt,rt,st,at-st,_renderCSSProp),g._pt.u=ut||0,g._props.push(rt));_assign(nt,_e)};_forEachName("padding,margin,Width,Radius",function(j,g){var b="Top",$="Right",_e="Bottom",et="Left",tt=(g<3?[b,$,_e,et]:[b+et,b+$,_e+$,_e+et]).map(function(nt){return g<2?j+nt:"border"+nt+j});_specialProps[g>1?"border"+j:j]=function(nt,rt,it,ot,st){var at,lt;if(arguments.length<4)return at=tt.map(function(ut){return _get(nt,ut,it)}),lt=at.join(" "),lt.split(at[0]).length===5?at[0]:lt;at=(ot+"").split(" "),lt={},tt.forEach(function(ut,ct){return lt[ut]=at[ct]=at[ct]||at[(ct-1)/2|0]}),nt.init(rt,lt,st)}});var CSSPlugin={name:"css",register:_initCore$2,targetTest:function(g){return g.style&&g.nodeType},init:function(g,b,$,_e,et){var tt=this._props,nt=g.style,rt=$.vars.startAt,it,ot,st,at,lt,ut,ct,ft,ht,dt,pt,mt,gt,yt,_t,vt;_pluginInitted||_initCore$2(),this.styles=this.styles||_getStyleSaver(g),vt=this.styles.props,this.tween=$;for(ct in b)if(ct!=="autoRound"&&(ot=b[ct],!(_plugins[ct]&&_checkPlugin(ct,b,$,_e,g,et)))){if(lt=typeof ot,ut=_specialProps[ct],lt==="function"&&(ot=ot.call($,_e,g,et),lt=typeof ot),lt==="string"&&~ot.indexOf("random(")&&(ot=_replaceRandom(ot)),ut)ut(this,g,ct,ot,$)&&(_t=1);else if(ct.substr(0,2)==="--")it=(getComputedStyle(g).getPropertyValue(ct)+"").trim(),ot+="",_colorExp.lastIndex=0,_colorExp.test(it)||(ft=getUnit(it),ht=getUnit(ot)),ht?ft!==ht&&(it=_convertToUnit(g,ct,it,ht)+ht):ft&&(ot+=ft),this.add(nt,"setProperty",it,ot,_e,et,0,0,ct),tt.push(ct),vt.push(ct,nt[ct]);else if(lt!=="undefined"){if(rt&&ct in rt?(it=typeof rt[ct]=="function"?rt[ct].call($,_e,g,et):rt[ct],_isString$1(it)&&~it.indexOf("random(")&&(it=_replaceRandom(it)),getUnit(it+"")||(it+=_config.units[ct]||getUnit(_get(g,ct))||""),(it+"").charAt(1)==="="&&(it=_get(g,ct))):it=_get(g,ct),at=parseFloat(it),dt=lt==="string"&&ot.charAt(1)==="="&&ot.substr(0,2),dt&&(ot=ot.substr(2)),st=parseFloat(ot),ct in _propertyAliases&&(ct==="autoAlpha"&&(at===1&&_get(g,"visibility")==="hidden"&&st&&(at=0),vt.push("visibility",nt.visibility),_addNonTweeningPT(this,nt,"visibility",at?"inherit":"hidden",st?"inherit":"hidden",!st)),ct!=="scale"&&ct!=="transform"&&(ct=_propertyAliases[ct],~ct.indexOf(",")&&(ct=ct.split(",")[0]))),pt=ct in _transformProps,pt){if(this.styles.save(ct),mt||(gt=g._gsap,gt.renderTransform&&!b.parseTransform||_parseTransform(g,b.parseTransform),yt=b.smoothOrigin!==!1&&gt.smooth,mt=this._pt=new PropTween(this._pt,nt,_transformProp$1,0,1,gt.renderTransform,gt,0,-1),mt.dep=1),ct==="scale")this._pt=new PropTween(this._pt,gt,"scaleY",gt.scaleY,(dt?_parseRelative(gt.scaleY,dt+st):st)-gt.scaleY||0,_renderCSSProp),this._pt.u=0,tt.push("scaleY",ct),ct+="X";else if(ct==="transformOrigin"){vt.push(_transformOriginProp,nt[_transformOriginProp]),ot=_convertKeywordsToPercentages(ot),gt.svg?_applySVGOrigin(g,ot,0,yt,0,this):(ht=parseFloat(ot.split(" ")[2])||0,ht!==gt.zOrigin&&_addNonTweeningPT(this,gt,"zOrigin",gt.zOrigin,ht),_addNonTweeningPT(this,nt,ct,_firstTwoOnly(it),_firstTwoOnly(ot)));continue}else if(ct==="svgOrigin"){_applySVGOrigin(g,ot,1,yt,0,this);continue}else if(ct in _rotationalProperties){_addRotationalPropTween(this,gt,ct,at,dt?_parseRelative(at,dt+ot):ot);continue}else if(ct==="smoothOrigin"){_addNonTweeningPT(this,gt,"smooth",gt.smooth,ot);continue}else if(ct==="force3D"){gt[ct]=ot;continue}else if(ct==="transform"){_addRawTransformPTs(this,ot,g);continue}}else ct in nt||(ct=_checkPropPrefix(ct)||ct);if(pt||(st||st===0)&&(at||at===0)&&!_complexExp.test(ot)&&ct in nt)ft=(it+"").substr((at+"").length),st||(st=0),ht=getUnit(ot)||(ct in _config.units?_config.units[ct]:ft),ft!==ht&&(at=_convertToUnit(g,ct,it,ht)),this._pt=new PropTween(this._pt,pt?gt:nt,ct,at,(dt?_parseRelative(at,dt+st):st)-at,!pt&&(ht==="px"||ct==="zIndex")&&b.autoRound!==!1?_renderRoundedCSSProp:_renderCSSProp),this._pt.u=ht||0,ft!==ht&&ht!=="%"&&(this._pt.b=it,this._pt.r=_renderCSSPropWithBeginning);else if(ct in nt)_tweenComplexCSSString.call(this,g,ct,it,dt?dt+ot:ot);else if(ct in g)this.add(g,ct,it||g[ct],dt?dt+ot:ot,_e,et);else{_missingPlugin(ct,ot);continue}pt||vt.push(ct,nt[ct]),tt.push(ct)}}_t&&_sortPropTweensByPriority(this)},render:function(g,b){if(b.tween._time||!_reverting())for(var $=b._pt;$;)$.r(g,$.d),$=$._next;else b.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function(g,b,$){var _e=_propertyAliases[b];return _e&&_e.indexOf(",")<0&&(b=_e),b in _transformProps&&b!==_transformOriginProp&&(g._gsap.x||_get(g,"x"))?$&&_recentSetterPlugin===$?b==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=$||{})&&(b==="scale"?_setterScaleWithRender:_setterTransformWithRender):g.style&&!_isUndefined(g.style[b])?_setterCSSStyle:~b.indexOf("-")?_setterCSSProp:_getSetter(g,b)},core:{_removeProperty,_getMatrix}};gsap$2.utils.checkPrefix=_checkPropPrefix;gsap$2.core.getStyleSaver=_getStyleSaver;(function(j,g,b,$){var _e=_forEachName(j+","+g+","+b,function(et){_transformProps[et]=1});_forEachName(g,function(et){_config.units[et]="deg",_rotationalProperties[et]=1}),_propertyAliases[_e[13]]=j+","+g,_forEachName($,function(et){var tt=et.split(":");_propertyAliases[tt[1]]=_e[tt[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(j){_config.units[j]="px"});gsap$2.registerPlugin(CSSPlugin);var gsapWithCSS=gsap$2.registerPlugin(CSSPlugin)||gsap$2;gsapWithCSS.core.Tween;const DefaultPagePlayOut=j=>()=>new Promise(g=>{gsapWithCSS.to(j,{opacity:0,duration:.6,stagger:.3,ease:"Power3.Out",onComplete:()=>{dispatchInstructionsEventManager({}),g()}})}),DefaultBackButtonPlayIn=(j,g=0)=>{gsapWithCSS.fromTo(j,{autoAlpha:0,y:15},{autoAlpha:1,y:0,delay:g,duration:.8,ease:"power3.out"})},DefaultBackButtonPlayOut=(j,g=0)=>()=>new Promise(b=>{gsapWithCSS.to(j,{autoAlpha:0,delay:g,duration:.8,ease:"power3.out",onComplete:()=>b()})}),titlePlayIn=j=>{gsapWithCSS.timeline().fromTo(j,{yPercent:-110,rotate:-3,autoAlpha:0},{yPercent:0,rotate:0,autoAlpha:1,duration:1.8,ease:"expo.out"},"<")},textPlayIn=(j,g=0)=>{gsapWithCSS.fromTo(j,{yPercent:110,autoAlpha:0},{yPercent:0,autoAlpha:1,delay:g,duration:1.8,ease:"expo.out"})};var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react.exports,k=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$2=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(j,g,b){var $,_e={},et=null,tt=null;b!==void 0&&(et=""+b),g.key!==void 0&&(et=""+g.key),g.ref!==void 0&&(tt=g.ref);for($ in g)m$1.call(g,$)&&!p.hasOwnProperty($)&&(_e[$]=g[$]);if(j&&j.defaultProps)for($ in g=j.defaultProps,g)_e[$]===void 0&&(_e[$]=g[$]);return{$$typeof:k,type:j,key:et,ref:tt,props:_e,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Fragment=jsxRuntime.exports.Fragment,componentName$P="HomePage";debug(`front:${componentName$P}`);const HomePage=react.exports.forwardRef((j,g)=>{const b=react.exports.useRef(null),{appDataContext:$}=react.exports.useContext(AppDataContext),_e=react.exports.useRef([]),et=react.exports.useRef(!1),{dictionary:tt}=$,nt=()=>new Promise(it=>{gsapWithCSS.fromTo(_e.current,{autoAlpha:0,y:30},{autoAlpha:1,y:0,duration:.4,stagger:.3,ease:"Power3.In",onComplete:()=>{dispatchInstructionsEventManager({label:tt==null?void 0:tt.home_instruction,logo:ELottieInstruction.CLOSER}),et.current=!0,it()}})}),rt=DefaultPagePlayOut(_e.current);return K({componentName:componentName$P,handleRef:g,rootRef:b,playIn:nt,playOut:rt}),react.exports.useEffect(()=>{!et.current||($.isMenuOpened?rt():nt())},[$.isMenuOpened]),jsx("div",{className:css$t.root,ref:b,children:jsxs("div",{className:css$t.wrapper,children:[jsx("h1",{className:css$t.title,ref:it=>{_e.current[0]=it},children:tt.home_title}),jsx("p",{className:css$t.description,ref:it=>{_e.current[1]=it},children:tt.home_description})]})})});HomePage.displayName=componentName$P;const root$h="_8w2m6",iconWrapper$2="zPBTB",root_next="Jea48",root_isDisable$1="Bv-x5",wrapper$e="agGe7",icon$5="Vsojk";var css$s={root:root$h,iconWrapper:iconWrapper$2,root_next,root_isDisable:root_isDisable$1,wrapper:wrapper$e,icon:icon$5};function Signal(){let j=[];const g=$=>j=j.filter(_e=>_e[0]!==$);function b($,_e,et=!1){return j.push([$,_e]),et&&$.apply(null,Array.isArray(et)?et:null),()=>g($)}return{add($,_e=!1){return b($,!1,_e)},once($){return b($,!0)},remove:g,dispatch:(...$)=>j.map(_e=>(_e[1]&&g(_e[0]),_e[0](...$))),clear(){j=[]},get listeners(){return j.map($=>$[0])}}}function StateSignal(j=null,g=Signal()){return{...g,get state(){return j},add(b,$=!1){return g.add(b,$===!0?[j]:!1)},once(b){return g.once(b)},dispatch(b){return j=b,g.dispatch(b)},clear(){g.clear(),j=null}}}function e$2(){const j={};return j.promise=new Promise((g,b)=>{j.resolve=g,j.reject=b}),j}var howler={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(j){(function(){var g=function(){this.init()};g.prototype={init:function(){var st=this||b;return st._counter=1e3,st._html5AudioPool=[],st.html5PoolSize=10,st._codecs={},st._howls=[],st._muted=!1,st._volume=1,st._canPlayEvent="canplaythrough",st._navigator=typeof window!="undefined"&&window.navigator?window.navigator:null,st.masterGain=null,st.noAudio=!1,st.usingWebAudio=!0,st.autoSuspend=!0,st.ctx=null,st.autoUnlock=!0,st._setup(),st},volume:function(st){var at=this||b;if(st=parseFloat(st),at.ctx||ot(),typeof st!="undefined"&&st>=0&&st<=1){if(at._volume=st,at._muted)return at;at.usingWebAudio&&at.masterGain.gain.setValueAtTime(st,b.ctx.currentTime);for(var lt=0;lt<at._howls.length;lt++)if(!at._howls[lt]._webAudio)for(var ut=at._howls[lt]._getSoundIds(),ct=0;ct<ut.length;ct++){var ft=at._howls[lt]._soundById(ut[ct]);ft&&ft._node&&(ft._node.volume=ft._volume*st)}return at}return at._volume},mute:function(st){var at=this||b;at.ctx||ot(),at._muted=st,at.usingWebAudio&&at.masterGain.gain.setValueAtTime(st?0:at._volume,b.ctx.currentTime);for(var lt=0;lt<at._howls.length;lt++)if(!at._howls[lt]._webAudio)for(var ut=at._howls[lt]._getSoundIds(),ct=0;ct<ut.length;ct++){var ft=at._howls[lt]._soundById(ut[ct]);ft&&ft._node&&(ft._node.muted=st?!0:ft._muted)}return at},stop:function(){for(var st=this||b,at=0;at<st._howls.length;at++)st._howls[at].stop();return st},unload:function(){for(var st=this||b,at=st._howls.length-1;at>=0;at--)st._howls[at].unload();return st.usingWebAudio&&st.ctx&&typeof st.ctx.close!="undefined"&&(st.ctx.close(),st.ctx=null,ot()),st},codecs:function(st){return(this||b)._codecs[st.replace(/^x-/,"")]},_setup:function(){var st=this||b;if(st.state=st.ctx&&st.ctx.state||"suspended",st._autoSuspend(),!st.usingWebAudio)if(typeof Audio!="undefined")try{var at=new Audio;typeof at.oncanplaythrough=="undefined"&&(st._canPlayEvent="canplay")}catch{st.noAudio=!0}else st.noAudio=!0;try{var at=new Audio;at.muted&&(st.noAudio=!0)}catch{}return st.noAudio||st._setupCodecs(),st},_setupCodecs:function(){var st=this||b,at=null;try{at=typeof Audio!="undefined"?new Audio:null}catch{return st}if(!at||typeof at.canPlayType!="function")return st;var lt=at.canPlayType("audio/mpeg;").replace(/^no$/,""),ut=st._navigator?st._navigator.userAgent:"",ct=ut.match(/OPR\/([0-6].)/g),ft=ct&&parseInt(ct[0].split("/")[1],10)<33,ht=ut.indexOf("Safari")!==-1&&ut.indexOf("Chrome")===-1,dt=ut.match(/Version\/(.*?) /),pt=ht&&dt&&parseInt(dt[1],10)<15;return st._codecs={mp3:!!(!ft&&(lt||at.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!lt,opus:!!at.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!at.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!at.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(at.canPlayType('audio/wav; codecs="1"')||at.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!at.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!at.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(at.canPlayType("audio/x-m4a;")||at.canPlayType("audio/m4a;")||at.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(at.canPlayType("audio/x-m4b;")||at.canPlayType("audio/m4b;")||at.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(at.canPlayType("audio/x-mp4;")||at.canPlayType("audio/mp4;")||at.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!pt&&at.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!pt&&at.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!at.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(at.canPlayType("audio/x-flac;")||at.canPlayType("audio/flac;")).replace(/^no$/,"")},st},_unlockAudio:function(){var st=this||b;if(!(st._audioUnlocked||!st.ctx)){st._audioUnlocked=!1,st.autoUnlock=!1,!st._mobileUnloaded&&st.ctx.sampleRate!==44100&&(st._mobileUnloaded=!0,st.unload()),st._scratchBuffer=st.ctx.createBuffer(1,1,22050);var at=function(lt){for(;st._html5AudioPool.length<st.html5PoolSize;)try{var ut=new Audio;ut._unlocked=!0,st._releaseHtml5Audio(ut)}catch{st.noAudio=!0;break}for(var ct=0;ct<st._howls.length;ct++)if(!st._howls[ct]._webAudio)for(var ft=st._howls[ct]._getSoundIds(),ht=0;ht<ft.length;ht++){var dt=st._howls[ct]._soundById(ft[ht]);dt&&dt._node&&!dt._node._unlocked&&(dt._node._unlocked=!0,dt._node.load())}st._autoResume();var pt=st.ctx.createBufferSource();pt.buffer=st._scratchBuffer,pt.connect(st.ctx.destination),typeof pt.start=="undefined"?pt.noteOn(0):pt.start(0),typeof st.ctx.resume=="function"&&st.ctx.resume(),pt.onended=function(){pt.disconnect(0),st._audioUnlocked=!0,document.removeEventListener("touchstart",at,!0),document.removeEventListener("touchend",at,!0),document.removeEventListener("click",at,!0),document.removeEventListener("keydown",at,!0);for(var mt=0;mt<st._howls.length;mt++)st._howls[mt]._emit("unlock")}};return document.addEventListener("touchstart",at,!0),document.addEventListener("touchend",at,!0),document.addEventListener("click",at,!0),document.addEventListener("keydown",at,!0),st}},_obtainHtml5Audio:function(){var st=this||b;if(st._html5AudioPool.length)return st._html5AudioPool.pop();var at=new Audio().play();return at&&typeof Promise!="undefined"&&(at instanceof Promise||typeof at.then=="function")&&at.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(st){var at=this||b;return st._unlocked&&at._html5AudioPool.push(st),at},_autoSuspend:function(){var st=this;if(!(!st.autoSuspend||!st.ctx||typeof st.ctx.suspend=="undefined"||!b.usingWebAudio)){for(var at=0;at<st._howls.length;at++)if(st._howls[at]._webAudio){for(var lt=0;lt<st._howls[at]._sounds.length;lt++)if(!st._howls[at]._sounds[lt]._paused)return st}return st._suspendTimer&&clearTimeout(st._suspendTimer),st._suspendTimer=setTimeout(function(){if(!!st.autoSuspend){st._suspendTimer=null,st.state="suspending";var ut=function(){st.state="suspended",st._resumeAfterSuspend&&(delete st._resumeAfterSuspend,st._autoResume())};st.ctx.suspend().then(ut,ut)}},3e4),st}},_autoResume:function(){var st=this;if(!(!st.ctx||typeof st.ctx.resume=="undefined"||!b.usingWebAudio))return st.state==="running"&&st.ctx.state!=="interrupted"&&st._suspendTimer?(clearTimeout(st._suspendTimer),st._suspendTimer=null):st.state==="suspended"||st.state==="running"&&st.ctx.state==="interrupted"?(st.ctx.resume().then(function(){st.state="running";for(var at=0;at<st._howls.length;at++)st._howls[at]._emit("resume")}),st._suspendTimer&&(clearTimeout(st._suspendTimer),st._suspendTimer=null)):st.state==="suspending"&&(st._resumeAfterSuspend=!0),st}};var b=new g,$=function(st){var at=this;if(!st.src||st.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}at.init(st)};$.prototype={init:function(st){var at=this;return b.ctx||ot(),at._autoplay=st.autoplay||!1,at._format=typeof st.format!="string"?st.format:[st.format],at._html5=st.html5||!1,at._muted=st.mute||!1,at._loop=st.loop||!1,at._pool=st.pool||5,at._preload=typeof st.preload=="boolean"||st.preload==="metadata"?st.preload:!0,at._rate=st.rate||1,at._sprite=st.sprite||{},at._src=typeof st.src!="string"?st.src:[st.src],at._volume=st.volume!==void 0?st.volume:1,at._xhr={method:st.xhr&&st.xhr.method?st.xhr.method:"GET",headers:st.xhr&&st.xhr.headers?st.xhr.headers:null,withCredentials:st.xhr&&st.xhr.withCredentials?st.xhr.withCredentials:!1},at._duration=0,at._state="unloaded",at._sounds=[],at._endTimers={},at._queue=[],at._playLock=!1,at._onend=st.onend?[{fn:st.onend}]:[],at._onfade=st.onfade?[{fn:st.onfade}]:[],at._onload=st.onload?[{fn:st.onload}]:[],at._onloaderror=st.onloaderror?[{fn:st.onloaderror}]:[],at._onplayerror=st.onplayerror?[{fn:st.onplayerror}]:[],at._onpause=st.onpause?[{fn:st.onpause}]:[],at._onplay=st.onplay?[{fn:st.onplay}]:[],at._onstop=st.onstop?[{fn:st.onstop}]:[],at._onmute=st.onmute?[{fn:st.onmute}]:[],at._onvolume=st.onvolume?[{fn:st.onvolume}]:[],at._onrate=st.onrate?[{fn:st.onrate}]:[],at._onseek=st.onseek?[{fn:st.onseek}]:[],at._onunlock=st.onunlock?[{fn:st.onunlock}]:[],at._onresume=[],at._webAudio=b.usingWebAudio&&!at._html5,typeof b.ctx!="undefined"&&b.ctx&&b.autoUnlock&&b._unlockAudio(),b._howls.push(at),at._autoplay&&at._queue.push({event:"play",action:function(){at.play()}}),at._preload&&at._preload!=="none"&&at.load(),at},load:function(){var st=this,at=null;if(b.noAudio){st._emit("loaderror",null,"No audio support.");return}typeof st._src=="string"&&(st._src=[st._src]);for(var lt=0;lt<st._src.length;lt++){var ut,ct;if(st._format&&st._format[lt])ut=st._format[lt];else{if(ct=st._src[lt],typeof ct!="string"){st._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}ut=/^data:audio\/([^;,]+);/i.exec(ct),ut||(ut=/\.([^.]+)$/.exec(ct.split("?",1)[0])),ut&&(ut=ut[1].toLowerCase())}if(ut||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),ut&&b.codecs(ut)){at=st._src[lt];break}}if(!at){st._emit("loaderror",null,"No codec support for selected audio sources.");return}return st._src=at,st._state="loading",window.location.protocol==="https:"&&at.slice(0,5)==="http:"&&(st._html5=!0,st._webAudio=!1),new _e(st),st._webAudio&&tt(st),st},play:function(st,at){var lt=this,ut=null;if(typeof st=="number")ut=st,st=null;else{if(typeof st=="string"&&lt._state==="loaded"&&!lt._sprite[st])return null;if(typeof st=="undefined"&&(st="__default",!lt._playLock)){for(var ct=0,ft=0;ft<lt._sounds.length;ft++)lt._sounds[ft]._paused&&!lt._sounds[ft]._ended&&(ct++,ut=lt._sounds[ft]._id);ct===1?st=null:ut=null}}var ht=ut?lt._soundById(ut):lt._inactiveSound();if(!ht)return null;if(ut&&!st&&(st=ht._sprite||"__default"),lt._state!=="loaded"){ht._sprite=st,ht._ended=!1;var dt=ht._id;return lt._queue.push({event:"play",action:function(){lt.play(dt)}}),dt}if(ut&&!ht._paused)return at||lt._loadQueue("play"),ht._id;lt._webAudio&&b._autoResume();var pt=Math.max(0,ht._seek>0?ht._seek:lt._sprite[st][0]/1e3),mt=Math.max(0,(lt._sprite[st][0]+lt._sprite[st][1])/1e3-pt),gt=mt*1e3/Math.abs(ht._rate),yt=lt._sprite[st][0]/1e3,_t=(lt._sprite[st][0]+lt._sprite[st][1])/1e3;ht._sprite=st,ht._ended=!1;var vt=function(){ht._paused=!1,ht._seek=pt,ht._start=yt,ht._stop=_t,ht._loop=!!(ht._loop||lt._sprite[st][2])};if(pt>=_t){lt._ended(ht);return}var At=ht._node;if(lt._webAudio){var bt=function(){lt._playLock=!1,vt(),lt._refreshBuffer(ht);var Tt=ht._muted||lt._muted?0:ht._volume;At.gain.setValueAtTime(Tt,b.ctx.currentTime),ht._playStart=b.ctx.currentTime,typeof At.bufferSource.start=="undefined"?ht._loop?At.bufferSource.noteGrainOn(0,pt,86400):At.bufferSource.noteGrainOn(0,pt,mt):ht._loop?At.bufferSource.start(0,pt,86400):At.bufferSource.start(0,pt,mt),gt!==1/0&&(lt._endTimers[ht._id]=setTimeout(lt._ended.bind(lt,ht),gt)),at||setTimeout(function(){lt._emit("play",ht._id),lt._loadQueue()},0)};b.state==="running"&&b.ctx.state!=="interrupted"?bt():(lt._playLock=!0,lt.once("resume",bt),lt._clearTimer(ht._id))}else{var xt=function(){At.currentTime=pt,At.muted=ht._muted||lt._muted||b._muted||At.muted,At.volume=ht._volume*b.volume(),At.playbackRate=ht._rate;try{var Tt=At.play();if(Tt&&typeof Promise!="undefined"&&(Tt instanceof Promise||typeof Tt.then=="function")?(lt._playLock=!0,vt(),Tt.then(function(){lt._playLock=!1,At._unlocked=!0,at?lt._loadQueue():lt._emit("play",ht._id)}).catch(function(){lt._playLock=!1,lt._emit("playerror",ht._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),ht._ended=!0,ht._paused=!0})):at||(lt._playLock=!1,vt(),lt._emit("play",ht._id)),At.playbackRate=ht._rate,At.paused){lt._emit("playerror",ht._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}st!=="__default"||ht._loop?lt._endTimers[ht._id]=setTimeout(lt._ended.bind(lt,ht),gt):(lt._endTimers[ht._id]=function(){lt._ended(ht),At.removeEventListener("ended",lt._endTimers[ht._id],!1)},At.addEventListener("ended",lt._endTimers[ht._id],!1))}catch(Lt){lt._emit("playerror",ht._id,Lt)}};At.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(At.src=lt._src,At.load());var Et=window&&window.ejecta||!At.readyState&&b._navigator.isCocoonJS;if(At.readyState>=3||Et)xt();else{lt._playLock=!0,lt._state="loading";var Mt=function(){lt._state="loaded",xt(),At.removeEventListener(b._canPlayEvent,Mt,!1)};At.addEventListener(b._canPlayEvent,Mt,!1),lt._clearTimer(ht._id)}}return ht._id},pause:function(st){var at=this;if(at._state!=="loaded"||at._playLock)return at._queue.push({event:"pause",action:function(){at.pause(st)}}),at;for(var lt=at._getSoundIds(st),ut=0;ut<lt.length;ut++){at._clearTimer(lt[ut]);var ct=at._soundById(lt[ut]);if(ct&&!ct._paused&&(ct._seek=at.seek(lt[ut]),ct._rateSeek=0,ct._paused=!0,at._stopFade(lt[ut]),ct._node))if(at._webAudio){if(!ct._node.bufferSource)continue;typeof ct._node.bufferSource.stop=="undefined"?ct._node.bufferSource.noteOff(0):ct._node.bufferSource.stop(0),at._cleanBuffer(ct._node)}else(!isNaN(ct._node.duration)||ct._node.duration===1/0)&&ct._node.pause();arguments[1]||at._emit("pause",ct?ct._id:null)}return at},stop:function(st,at){var lt=this;if(lt._state!=="loaded"||lt._playLock)return lt._queue.push({event:"stop",action:function(){lt.stop(st)}}),lt;for(var ut=lt._getSoundIds(st),ct=0;ct<ut.length;ct++){lt._clearTimer(ut[ct]);var ft=lt._soundById(ut[ct]);ft&&(ft._seek=ft._start||0,ft._rateSeek=0,ft._paused=!0,ft._ended=!0,lt._stopFade(ut[ct]),ft._node&&(lt._webAudio?ft._node.bufferSource&&(typeof ft._node.bufferSource.stop=="undefined"?ft._node.bufferSource.noteOff(0):ft._node.bufferSource.stop(0),lt._cleanBuffer(ft._node)):(!isNaN(ft._node.duration)||ft._node.duration===1/0)&&(ft._node.currentTime=ft._start||0,ft._node.pause(),ft._node.duration===1/0&&lt._clearSound(ft._node))),at||lt._emit("stop",ft._id))}return lt},mute:function(st,at){var lt=this;if(lt._state!=="loaded"||lt._playLock)return lt._queue.push({event:"mute",action:function(){lt.mute(st,at)}}),lt;if(typeof at=="undefined")if(typeof st=="boolean")lt._muted=st;else return lt._muted;for(var ut=lt._getSoundIds(at),ct=0;ct<ut.length;ct++){var ft=lt._soundById(ut[ct]);ft&&(ft._muted=st,ft._interval&&lt._stopFade(ft._id),lt._webAudio&&ft._node?ft._node.gain.setValueAtTime(st?0:ft._volume,b.ctx.currentTime):ft._node&&(ft._node.muted=b._muted?!0:st),lt._emit("mute",ft._id))}return lt},volume:function(){var st=this,at=arguments,lt,ut;if(at.length===0)return st._volume;if(at.length===1||at.length===2&&typeof at[1]=="undefined"){var ct=st._getSoundIds(),ft=ct.indexOf(at[0]);ft>=0?ut=parseInt(at[0],10):lt=parseFloat(at[0])}else at.length>=2&&(lt=parseFloat(at[0]),ut=parseInt(at[1],10));var ht;if(typeof lt!="undefined"&&lt>=0&&lt<=1){if(st._state!=="loaded"||st._playLock)return st._queue.push({event:"volume",action:function(){st.volume.apply(st,at)}}),st;typeof ut=="undefined"&&(st._volume=lt),ut=st._getSoundIds(ut);for(var dt=0;dt<ut.length;dt++)ht=st._soundById(ut[dt]),ht&&(ht._volume=lt,at[2]||st._stopFade(ut[dt]),st._webAudio&&ht._node&&!ht._muted?ht._node.gain.setValueAtTime(lt,b.ctx.currentTime):ht._node&&!ht._muted&&(ht._node.volume=lt*b.volume()),st._emit("volume",ht._id))}else return ht=ut?st._soundById(ut):st._sounds[0],ht?ht._volume:0;return st},fade:function(st,at,lt,ut){var ct=this;if(ct._state!=="loaded"||ct._playLock)return ct._queue.push({event:"fade",action:function(){ct.fade(st,at,lt,ut)}}),ct;st=Math.min(Math.max(0,parseFloat(st)),1),at=Math.min(Math.max(0,parseFloat(at)),1),lt=parseFloat(lt),ct.volume(st,ut);for(var ft=ct._getSoundIds(ut),ht=0;ht<ft.length;ht++){var dt=ct._soundById(ft[ht]);if(dt){if(ut||ct._stopFade(ft[ht]),ct._webAudio&&!dt._muted){var pt=b.ctx.currentTime,mt=pt+lt/1e3;dt._volume=st,dt._node.gain.setValueAtTime(st,pt),dt._node.gain.linearRampToValueAtTime(at,mt)}ct._startFadeInterval(dt,st,at,lt,ft[ht],typeof ut=="undefined")}}return ct},_startFadeInterval:function(st,at,lt,ut,ct,ft){var ht=this,dt=at,pt=lt-at,mt=Math.abs(pt/.01),gt=Math.max(4,mt>0?ut/mt:ut),yt=Date.now();st._fadeTo=lt,st._interval=setInterval(function(){var _t=(Date.now()-yt)/ut;yt=Date.now(),dt+=pt*_t,dt=Math.round(dt*100)/100,pt<0?dt=Math.max(lt,dt):dt=Math.min(lt,dt),ht._webAudio?st._volume=dt:ht.volume(dt,st._id,!0),ft&&(ht._volume=dt),(lt<at&&dt<=lt||lt>at&&dt>=lt)&&(clearInterval(st._interval),st._interval=null,st._fadeTo=null,ht.volume(lt,st._id),ht._emit("fade",st._id))},gt)},_stopFade:function(st){var at=this,lt=at._soundById(st);return lt&&lt._interval&&(at._webAudio&&lt._node.gain.cancelScheduledValues(b.ctx.currentTime),clearInterval(lt._interval),lt._interval=null,at.volume(lt._fadeTo,st),lt._fadeTo=null,at._emit("fade",st)),at},loop:function(){var st=this,at=arguments,lt,ut,ct;if(at.length===0)return st._loop;if(at.length===1)if(typeof at[0]=="boolean")lt=at[0],st._loop=lt;else return ct=st._soundById(parseInt(at[0],10)),ct?ct._loop:!1;else at.length===2&&(lt=at[0],ut=parseInt(at[1],10));for(var ft=st._getSoundIds(ut),ht=0;ht<ft.length;ht++)ct=st._soundById(ft[ht]),ct&&(ct._loop=lt,st._webAudio&&ct._node&&ct._node.bufferSource&&(ct._node.bufferSource.loop=lt,lt&&(ct._node.bufferSource.loopStart=ct._start||0,ct._node.bufferSource.loopEnd=ct._stop,st.playing(ft[ht])&&(st.pause(ft[ht],!0),st.play(ft[ht],!0)))));return st},rate:function(){var st=this,at=arguments,lt,ut;if(at.length===0)ut=st._sounds[0]._id;else if(at.length===1){var ct=st._getSoundIds(),ft=ct.indexOf(at[0]);ft>=0?ut=parseInt(at[0],10):lt=parseFloat(at[0])}else at.length===2&&(lt=parseFloat(at[0]),ut=parseInt(at[1],10));var ht;if(typeof lt=="number"){if(st._state!=="loaded"||st._playLock)return st._queue.push({event:"rate",action:function(){st.rate.apply(st,at)}}),st;typeof ut=="undefined"&&(st._rate=lt),ut=st._getSoundIds(ut);for(var dt=0;dt<ut.length;dt++)if(ht=st._soundById(ut[dt]),ht){st.playing(ut[dt])&&(ht._rateSeek=st.seek(ut[dt]),ht._playStart=st._webAudio?b.ctx.currentTime:ht._playStart),ht._rate=lt,st._webAudio&&ht._node&&ht._node.bufferSource?ht._node.bufferSource.playbackRate.setValueAtTime(lt,b.ctx.currentTime):ht._node&&(ht._node.playbackRate=lt);var pt=st.seek(ut[dt]),mt=(st._sprite[ht._sprite][0]+st._sprite[ht._sprite][1])/1e3-pt,gt=mt*1e3/Math.abs(ht._rate);(st._endTimers[ut[dt]]||!ht._paused)&&(st._clearTimer(ut[dt]),st._endTimers[ut[dt]]=setTimeout(st._ended.bind(st,ht),gt)),st._emit("rate",ht._id)}}else return ht=st._soundById(ut),ht?ht._rate:st._rate;return st},seek:function(){var st=this,at=arguments,lt,ut;if(at.length===0)st._sounds.length&&(ut=st._sounds[0]._id);else if(at.length===1){var ct=st._getSoundIds(),ft=ct.indexOf(at[0]);ft>=0?ut=parseInt(at[0],10):st._sounds.length&&(ut=st._sounds[0]._id,lt=parseFloat(at[0]))}else at.length===2&&(lt=parseFloat(at[0]),ut=parseInt(at[1],10));if(typeof ut=="undefined")return 0;if(typeof lt=="number"&&(st._state!=="loaded"||st._playLock))return st._queue.push({event:"seek",action:function(){st.seek.apply(st,at)}}),st;var ht=st._soundById(ut);if(ht)if(typeof lt=="number"&&lt>=0){var dt=st.playing(ut);dt&&st.pause(ut,!0),ht._seek=lt,ht._ended=!1,st._clearTimer(ut),!st._webAudio&&ht._node&&!isNaN(ht._node.duration)&&(ht._node.currentTime=lt);var pt=function(){dt&&st.play(ut,!0),st._emit("seek",ut)};if(dt&&!st._webAudio){var mt=function(){st._playLock?setTimeout(mt,0):pt()};setTimeout(mt,0)}else pt()}else if(st._webAudio){var gt=st.playing(ut)?b.ctx.currentTime-ht._playStart:0,yt=ht._rateSeek?ht._rateSeek-ht._seek:0;return ht._seek+(yt+gt*Math.abs(ht._rate))}else return ht._node.currentTime;return st},playing:function(st){var at=this;if(typeof st=="number"){var lt=at._soundById(st);return lt?!lt._paused:!1}for(var ut=0;ut<at._sounds.length;ut++)if(!at._sounds[ut]._paused)return!0;return!1},duration:function(st){var at=this,lt=at._duration,ut=at._soundById(st);return ut&&(lt=at._sprite[ut._sprite][1]/1e3),lt},state:function(){return this._state},unload:function(){for(var st=this,at=st._sounds,lt=0;lt<at.length;lt++)at[lt]._paused||st.stop(at[lt]._id),st._webAudio||(st._clearSound(at[lt]._node),at[lt]._node.removeEventListener("error",at[lt]._errorFn,!1),at[lt]._node.removeEventListener(b._canPlayEvent,at[lt]._loadFn,!1),at[lt]._node.removeEventListener("ended",at[lt]._endFn,!1),b._releaseHtml5Audio(at[lt]._node)),delete at[lt]._node,st._clearTimer(at[lt]._id);var ut=b._howls.indexOf(st);ut>=0&&b._howls.splice(ut,1);var ct=!0;for(lt=0;lt<b._howls.length;lt++)if(b._howls[lt]._src===st._src||st._src.indexOf(b._howls[lt]._src)>=0){ct=!1;break}return et&&ct&&delete et[st._src],b.noAudio=!1,st._state="unloaded",st._sounds=[],st=null,null},on:function(st,at,lt,ut){var ct=this,ft=ct["_on"+st];return typeof at=="function"&&ft.push(ut?{id:lt,fn:at,once:ut}:{id:lt,fn:at}),ct},off:function(st,at,lt){var ut=this,ct=ut["_on"+st],ft=0;if(typeof at=="number"&&(lt=at,at=null),at||lt)for(ft=0;ft<ct.length;ft++){var ht=lt===ct[ft].id;if(at===ct[ft].fn&&ht||!at&&ht){ct.splice(ft,1);break}}else if(st)ut["_on"+st]=[];else{var dt=Object.keys(ut);for(ft=0;ft<dt.length;ft++)dt[ft].indexOf("_on")===0&&Array.isArray(ut[dt[ft]])&&(ut[dt[ft]]=[])}return ut},once:function(st,at,lt){var ut=this;return ut.on(st,at,lt,1),ut},_emit:function(st,at,lt){for(var ut=this,ct=ut["_on"+st],ft=ct.length-1;ft>=0;ft--)(!ct[ft].id||ct[ft].id===at||st==="load")&&(setTimeout(function(ht){ht.call(this,at,lt)}.bind(ut,ct[ft].fn),0),ct[ft].once&&ut.off(st,ct[ft].fn,ct[ft].id));return ut._loadQueue(st),ut},_loadQueue:function(st){var at=this;if(at._queue.length>0){var lt=at._queue[0];lt.event===st&&(at._queue.shift(),at._loadQueue()),st||lt.action()}return at},_ended:function(st){var at=this,lt=st._sprite;if(!at._webAudio&&st._node&&!st._node.paused&&!st._node.ended&&st._node.currentTime<st._stop)return setTimeout(at._ended.bind(at,st),100),at;var ut=!!(st._loop||at._sprite[lt][2]);if(at._emit("end",st._id),!at._webAudio&&ut&&at.stop(st._id,!0).play(st._id),at._webAudio&&ut){at._emit("play",st._id),st._seek=st._start||0,st._rateSeek=0,st._playStart=b.ctx.currentTime;var ct=(st._stop-st._start)*1e3/Math.abs(st._rate);at._endTimers[st._id]=setTimeout(at._ended.bind(at,st),ct)}return at._webAudio&&!ut&&(st._paused=!0,st._ended=!0,st._seek=st._start||0,st._rateSeek=0,at._clearTimer(st._id),at._cleanBuffer(st._node),b._autoSuspend()),!at._webAudio&&!ut&&at.stop(st._id,!0),at},_clearTimer:function(st){var at=this;if(at._endTimers[st]){if(typeof at._endTimers[st]!="function")clearTimeout(at._endTimers[st]);else{var lt=at._soundById(st);lt&&lt._node&&lt._node.removeEventListener("ended",at._endTimers[st],!1)}delete at._endTimers[st]}return at},_soundById:function(st){for(var at=this,lt=0;lt<at._sounds.length;lt++)if(st===at._sounds[lt]._id)return at._sounds[lt];return null},_inactiveSound:function(){var st=this;st._drain();for(var at=0;at<st._sounds.length;at++)if(st._sounds[at]._ended)return st._sounds[at].reset();return new _e(st)},_drain:function(){var st=this,at=st._pool,lt=0,ut=0;if(!(st._sounds.length<at)){for(ut=0;ut<st._sounds.length;ut++)st._sounds[ut]._ended&&lt++;for(ut=st._sounds.length-1;ut>=0;ut--){if(lt<=at)return;st._sounds[ut]._ended&&(st._webAudio&&st._sounds[ut]._node&&st._sounds[ut]._node.disconnect(0),st._sounds.splice(ut,1),lt--)}}},_getSoundIds:function(st){var at=this;if(typeof st=="undefined"){for(var lt=[],ut=0;ut<at._sounds.length;ut++)lt.push(at._sounds[ut]._id);return lt}else return[st]},_refreshBuffer:function(st){var at=this;return st._node.bufferSource=b.ctx.createBufferSource(),st._node.bufferSource.buffer=et[at._src],st._panner?st._node.bufferSource.connect(st._panner):st._node.bufferSource.connect(st._node),st._node.bufferSource.loop=st._loop,st._loop&&(st._node.bufferSource.loopStart=st._start||0,st._node.bufferSource.loopEnd=st._stop||0),st._node.bufferSource.playbackRate.setValueAtTime(st._rate,b.ctx.currentTime),at},_cleanBuffer:function(st){var at=this,lt=b._navigator&&b._navigator.vendor.indexOf("Apple")>=0;if(b._scratchBuffer&&st.bufferSource&&(st.bufferSource.onended=null,st.bufferSource.disconnect(0),lt))try{st.bufferSource.buffer=b._scratchBuffer}catch{}return st.bufferSource=null,at},_clearSound:function(st){var at=/MSIE |Trident\//.test(b._navigator&&b._navigator.userAgent);at||(st.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var _e=function(st){this._parent=st,this.init()};_e.prototype={init:function(){var st=this,at=st._parent;return st._muted=at._muted,st._loop=at._loop,st._volume=at._volume,st._rate=at._rate,st._seek=0,st._paused=!0,st._ended=!0,st._sprite="__default",st._id=++b._counter,at._sounds.push(st),st.create(),st},create:function(){var st=this,at=st._parent,lt=b._muted||st._muted||st._parent._muted?0:st._volume;return at._webAudio?(st._node=typeof b.ctx.createGain=="undefined"?b.ctx.createGainNode():b.ctx.createGain(),st._node.gain.setValueAtTime(lt,b.ctx.currentTime),st._node.paused=!0,st._node.connect(b.masterGain)):b.noAudio||(st._node=b._obtainHtml5Audio(),st._errorFn=st._errorListener.bind(st),st._node.addEventListener("error",st._errorFn,!1),st._loadFn=st._loadListener.bind(st),st._node.addEventListener(b._canPlayEvent,st._loadFn,!1),st._endFn=st._endListener.bind(st),st._node.addEventListener("ended",st._endFn,!1),st._node.src=at._src,st._node.preload=at._preload===!0?"auto":at._preload,st._node.volume=lt*b.volume(),st._node.load()),st},reset:function(){var st=this,at=st._parent;return st._muted=at._muted,st._loop=at._loop,st._volume=at._volume,st._rate=at._rate,st._seek=0,st._rateSeek=0,st._paused=!0,st._ended=!0,st._sprite="__default",st._id=++b._counter,st},_errorListener:function(){var st=this;st._parent._emit("loaderror",st._id,st._node.error?st._node.error.code:0),st._node.removeEventListener("error",st._errorFn,!1)},_loadListener:function(){var st=this,at=st._parent;at._duration=Math.ceil(st._node.duration*10)/10,Object.keys(at._sprite).length===0&&(at._sprite={__default:[0,at._duration*1e3]}),at._state!=="loaded"&&(at._state="loaded",at._emit("load"),at._loadQueue()),st._node.removeEventListener(b._canPlayEvent,st._loadFn,!1)},_endListener:function(){var st=this,at=st._parent;at._duration===1/0&&(at._duration=Math.ceil(st._node.duration*10)/10,at._sprite.__default[1]===1/0&&(at._sprite.__default[1]=at._duration*1e3),at._ended(st)),st._node.removeEventListener("ended",st._endFn,!1)}};var et={},tt=function(st){var at=st._src;if(et[at]){st._duration=et[at].duration,it(st);return}if(/^data:[^;]+;base64,/.test(at)){for(var lt=atob(at.split(",")[1]),ut=new Uint8Array(lt.length),ct=0;ct<lt.length;++ct)ut[ct]=lt.charCodeAt(ct);rt(ut.buffer,st)}else{var ft=new XMLHttpRequest;ft.open(st._xhr.method,at,!0),ft.withCredentials=st._xhr.withCredentials,ft.responseType="arraybuffer",st._xhr.headers&&Object.keys(st._xhr.headers).forEach(function(ht){ft.setRequestHeader(ht,st._xhr.headers[ht])}),ft.onload=function(){var ht=(ft.status+"")[0];if(ht!=="0"&&ht!=="2"&&ht!=="3"){st._emit("loaderror",null,"Failed loading audio file with status: "+ft.status+".");return}rt(ft.response,st)},ft.onerror=function(){st._webAudio&&(st._html5=!0,st._webAudio=!1,st._sounds=[],delete et[at],st.load())},nt(ft)}},nt=function(st){try{st.send()}catch{st.onerror()}},rt=function(st,at){var lt=function(){at._emit("loaderror",null,"Decoding audio data failed.")},ut=function(ct){ct&&at._sounds.length>0?(et[at._src]=ct,it(at,ct)):lt()};typeof Promise!="undefined"&&b.ctx.decodeAudioData.length===1?b.ctx.decodeAudioData(st).then(ut).catch(lt):b.ctx.decodeAudioData(st,ut,lt)},it=function(st,at){at&&!st._duration&&(st._duration=at.duration),Object.keys(st._sprite).length===0&&(st._sprite={__default:[0,st._duration*1e3]}),st._state!=="loaded"&&(st._state="loaded",st._emit("load"),st._loadQueue())},ot=function(){if(!!b.usingWebAudio){try{typeof AudioContext!="undefined"?b.ctx=new AudioContext:typeof webkitAudioContext!="undefined"?b.ctx=new webkitAudioContext:b.usingWebAudio=!1}catch{b.usingWebAudio=!1}b.ctx||(b.usingWebAudio=!1);var st=/iP(hone|od|ad)/.test(b._navigator&&b._navigator.platform),at=b._navigator&&b._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),lt=at?parseInt(at[1],10):null;if(st&&lt&&lt<9){var ut=/safari/.test(b._navigator&&b._navigator.userAgent.toLowerCase());b._navigator&&!ut&&(b.usingWebAudio=!1)}b.usingWebAudio&&(b.masterGain=typeof b.ctx.createGain=="undefined"?b.ctx.createGainNode():b.ctx.createGain(),b.masterGain.gain.setValueAtTime(b._muted?0:b._volume,b.ctx.currentTime),b.masterGain.connect(b.ctx.destination)),b._setup()}};j.Howler=b,j.Howl=$,typeof commonjsGlobal!="undefined"?(commonjsGlobal.HowlerGlobal=g,commonjsGlobal.Howler=b,commonjsGlobal.Howl=$,commonjsGlobal.Sound=_e):typeof window!="undefined"&&(window.HowlerGlobal=g,window.Howler=b,window.Howl=$,window.Sound=_e)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(b){var $=this;if(!$.ctx||!$.ctx.listener)return $;for(var _e=$._howls.length-1;_e>=0;_e--)$._howls[_e].stereo(b);return $},HowlerGlobal.prototype.pos=function(b,$,_e){var et=this;if(!et.ctx||!et.ctx.listener)return et;if($=typeof $!="number"?et._pos[1]:$,_e=typeof _e!="number"?et._pos[2]:_e,typeof b=="number")et._pos=[b,$,_e],typeof et.ctx.listener.positionX!="undefined"?(et.ctx.listener.positionX.setTargetAtTime(et._pos[0],Howler.ctx.currentTime,.1),et.ctx.listener.positionY.setTargetAtTime(et._pos[1],Howler.ctx.currentTime,.1),et.ctx.listener.positionZ.setTargetAtTime(et._pos[2],Howler.ctx.currentTime,.1)):et.ctx.listener.setPosition(et._pos[0],et._pos[1],et._pos[2]);else return et._pos;return et},HowlerGlobal.prototype.orientation=function(b,$,_e,et,tt,nt){var rt=this;if(!rt.ctx||!rt.ctx.listener)return rt;var it=rt._orientation;if($=typeof $!="number"?it[1]:$,_e=typeof _e!="number"?it[2]:_e,et=typeof et!="number"?it[3]:et,tt=typeof tt!="number"?it[4]:tt,nt=typeof nt!="number"?it[5]:nt,typeof b=="number")rt._orientation=[b,$,_e,et,tt,nt],typeof rt.ctx.listener.forwardX!="undefined"?(rt.ctx.listener.forwardX.setTargetAtTime(b,Howler.ctx.currentTime,.1),rt.ctx.listener.forwardY.setTargetAtTime($,Howler.ctx.currentTime,.1),rt.ctx.listener.forwardZ.setTargetAtTime(_e,Howler.ctx.currentTime,.1),rt.ctx.listener.upX.setTargetAtTime(et,Howler.ctx.currentTime,.1),rt.ctx.listener.upY.setTargetAtTime(tt,Howler.ctx.currentTime,.1),rt.ctx.listener.upZ.setTargetAtTime(nt,Howler.ctx.currentTime,.1)):rt.ctx.listener.setOrientation(b,$,_e,et,tt,nt);else return it;return rt},Howl.prototype.init=function(b){return function($){var _e=this;return _e._orientation=$.orientation||[1,0,0],_e._stereo=$.stereo||null,_e._pos=$.pos||null,_e._pannerAttr={coneInnerAngle:typeof $.coneInnerAngle!="undefined"?$.coneInnerAngle:360,coneOuterAngle:typeof $.coneOuterAngle!="undefined"?$.coneOuterAngle:360,coneOuterGain:typeof $.coneOuterGain!="undefined"?$.coneOuterGain:0,distanceModel:typeof $.distanceModel!="undefined"?$.distanceModel:"inverse",maxDistance:typeof $.maxDistance!="undefined"?$.maxDistance:1e4,panningModel:typeof $.panningModel!="undefined"?$.panningModel:"HRTF",refDistance:typeof $.refDistance!="undefined"?$.refDistance:1,rolloffFactor:typeof $.rolloffFactor!="undefined"?$.rolloffFactor:1},_e._onstereo=$.onstereo?[{fn:$.onstereo}]:[],_e._onpos=$.onpos?[{fn:$.onpos}]:[],_e._onorientation=$.onorientation?[{fn:$.onorientation}]:[],b.call(this,$)}}(Howl.prototype.init),Howl.prototype.stereo=function(b,$){var _e=this;if(!_e._webAudio)return _e;if(_e._state!=="loaded")return _e._queue.push({event:"stereo",action:function(){_e.stereo(b,$)}}),_e;var et=typeof Howler.ctx.createStereoPanner=="undefined"?"spatial":"stereo";if(typeof $=="undefined")if(typeof b=="number")_e._stereo=b,_e._pos=[b,0,0];else return _e._stereo;for(var tt=_e._getSoundIds($),nt=0;nt<tt.length;nt++){var rt=_e._soundById(tt[nt]);if(rt)if(typeof b=="number")rt._stereo=b,rt._pos=[b,0,0],rt._node&&(rt._pannerAttr.panningModel="equalpower",(!rt._panner||!rt._panner.pan)&&g(rt,et),et==="spatial"?typeof rt._panner.positionX!="undefined"?(rt._panner.positionX.setValueAtTime(b,Howler.ctx.currentTime),rt._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),rt._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):rt._panner.setPosition(b,0,0):rt._panner.pan.setValueAtTime(b,Howler.ctx.currentTime)),_e._emit("stereo",rt._id);else return rt._stereo}return _e},Howl.prototype.pos=function(b,$,_e,et){var tt=this;if(!tt._webAudio)return tt;if(tt._state!=="loaded")return tt._queue.push({event:"pos",action:function(){tt.pos(b,$,_e,et)}}),tt;if($=typeof $!="number"?0:$,_e=typeof _e!="number"?-.5:_e,typeof et=="undefined")if(typeof b=="number")tt._pos=[b,$,_e];else return tt._pos;for(var nt=tt._getSoundIds(et),rt=0;rt<nt.length;rt++){var it=tt._soundById(nt[rt]);if(it)if(typeof b=="number")it._pos=[b,$,_e],it._node&&((!it._panner||it._panner.pan)&&g(it,"spatial"),typeof it._panner.positionX!="undefined"?(it._panner.positionX.setValueAtTime(b,Howler.ctx.currentTime),it._panner.positionY.setValueAtTime($,Howler.ctx.currentTime),it._panner.positionZ.setValueAtTime(_e,Howler.ctx.currentTime)):it._panner.setPosition(b,$,_e)),tt._emit("pos",it._id);else return it._pos}return tt},Howl.prototype.orientation=function(b,$,_e,et){var tt=this;if(!tt._webAudio)return tt;if(tt._state!=="loaded")return tt._queue.push({event:"orientation",action:function(){tt.orientation(b,$,_e,et)}}),tt;if($=typeof $!="number"?tt._orientation[1]:$,_e=typeof _e!="number"?tt._orientation[2]:_e,typeof et=="undefined")if(typeof b=="number")tt._orientation=[b,$,_e];else return tt._orientation;for(var nt=tt._getSoundIds(et),rt=0;rt<nt.length;rt++){var it=tt._soundById(nt[rt]);if(it)if(typeof b=="number")it._orientation=[b,$,_e],it._node&&(it._panner||(it._pos||(it._pos=tt._pos||[0,0,-.5]),g(it,"spatial")),typeof it._panner.orientationX!="undefined"?(it._panner.orientationX.setValueAtTime(b,Howler.ctx.currentTime),it._panner.orientationY.setValueAtTime($,Howler.ctx.currentTime),it._panner.orientationZ.setValueAtTime(_e,Howler.ctx.currentTime)):it._panner.setOrientation(b,$,_e)),tt._emit("orientation",it._id);else return it._orientation}return tt},Howl.prototype.pannerAttr=function(){var b=this,$=arguments,_e,et,tt;if(!b._webAudio)return b;if($.length===0)return b._pannerAttr;if($.length===1)if(typeof $[0]=="object")_e=$[0],typeof et=="undefined"&&(_e.pannerAttr||(_e.pannerAttr={coneInnerAngle:_e.coneInnerAngle,coneOuterAngle:_e.coneOuterAngle,coneOuterGain:_e.coneOuterGain,distanceModel:_e.distanceModel,maxDistance:_e.maxDistance,refDistance:_e.refDistance,rolloffFactor:_e.rolloffFactor,panningModel:_e.panningModel}),b._pannerAttr={coneInnerAngle:typeof _e.pannerAttr.coneInnerAngle!="undefined"?_e.pannerAttr.coneInnerAngle:b._coneInnerAngle,coneOuterAngle:typeof _e.pannerAttr.coneOuterAngle!="undefined"?_e.pannerAttr.coneOuterAngle:b._coneOuterAngle,coneOuterGain:typeof _e.pannerAttr.coneOuterGain!="undefined"?_e.pannerAttr.coneOuterGain:b._coneOuterGain,distanceModel:typeof _e.pannerAttr.distanceModel!="undefined"?_e.pannerAttr.distanceModel:b._distanceModel,maxDistance:typeof _e.pannerAttr.maxDistance!="undefined"?_e.pannerAttr.maxDistance:b._maxDistance,refDistance:typeof _e.pannerAttr.refDistance!="undefined"?_e.pannerAttr.refDistance:b._refDistance,rolloffFactor:typeof _e.pannerAttr.rolloffFactor!="undefined"?_e.pannerAttr.rolloffFactor:b._rolloffFactor,panningModel:typeof _e.pannerAttr.panningModel!="undefined"?_e.pannerAttr.panningModel:b._panningModel});else return tt=b._soundById(parseInt($[0],10)),tt?tt._pannerAttr:b._pannerAttr;else $.length===2&&(_e=$[0],et=parseInt($[1],10));for(var nt=b._getSoundIds(et),rt=0;rt<nt.length;rt++)if(tt=b._soundById(nt[rt]),tt){var it=tt._pannerAttr;it={coneInnerAngle:typeof _e.coneInnerAngle!="undefined"?_e.coneInnerAngle:it.coneInnerAngle,coneOuterAngle:typeof _e.coneOuterAngle!="undefined"?_e.coneOuterAngle:it.coneOuterAngle,coneOuterGain:typeof _e.coneOuterGain!="undefined"?_e.coneOuterGain:it.coneOuterGain,distanceModel:typeof _e.distanceModel!="undefined"?_e.distanceModel:it.distanceModel,maxDistance:typeof _e.maxDistance!="undefined"?_e.maxDistance:it.maxDistance,refDistance:typeof _e.refDistance!="undefined"?_e.refDistance:it.refDistance,rolloffFactor:typeof _e.rolloffFactor!="undefined"?_e.rolloffFactor:it.rolloffFactor,panningModel:typeof _e.panningModel!="undefined"?_e.panningModel:it.panningModel};var ot=tt._panner;ot?(ot.coneInnerAngle=it.coneInnerAngle,ot.coneOuterAngle=it.coneOuterAngle,ot.coneOuterGain=it.coneOuterGain,ot.distanceModel=it.distanceModel,ot.maxDistance=it.maxDistance,ot.refDistance=it.refDistance,ot.rolloffFactor=it.rolloffFactor,ot.panningModel=it.panningModel):(tt._pos||(tt._pos=b._pos||[0,0,-.5]),g(tt,"spatial"))}return b},Sound.prototype.init=function(b){return function(){var $=this,_e=$._parent;$._orientation=_e._orientation,$._stereo=_e._stereo,$._pos=_e._pos,$._pannerAttr=_e._pannerAttr,b.call(this),$._stereo?_e.stereo($._stereo):$._pos&&_e.pos($._pos[0],$._pos[1],$._pos[2],$._id)}}(Sound.prototype.init),Sound.prototype.reset=function(b){return function(){var $=this,_e=$._parent;return $._orientation=_e._orientation,$._stereo=_e._stereo,$._pos=_e._pos,$._pannerAttr=_e._pannerAttr,$._stereo?_e.stereo($._stereo):$._pos?_e.pos($._pos[0],$._pos[1],$._pos[2],$._id):$._panner&&($._panner.disconnect(0),$._panner=void 0,_e._refreshBuffer($)),b.call(this)}}(Sound.prototype.reset);var g=function(b,$){$=$||"spatial",$==="spatial"?(b._panner=Howler.ctx.createPanner(),b._panner.coneInnerAngle=b._pannerAttr.coneInnerAngle,b._panner.coneOuterAngle=b._pannerAttr.coneOuterAngle,b._panner.coneOuterGain=b._pannerAttr.coneOuterGain,b._panner.distanceModel=b._pannerAttr.distanceModel,b._panner.maxDistance=b._pannerAttr.maxDistance,b._panner.refDistance=b._pannerAttr.refDistance,b._panner.rolloffFactor=b._pannerAttr.rolloffFactor,b._panner.panningModel=b._pannerAttr.panningModel,typeof b._panner.positionX!="undefined"?(b._panner.positionX.setValueAtTime(b._pos[0],Howler.ctx.currentTime),b._panner.positionY.setValueAtTime(b._pos[1],Howler.ctx.currentTime),b._panner.positionZ.setValueAtTime(b._pos[2],Howler.ctx.currentTime)):b._panner.setPosition(b._pos[0],b._pos[1],b._pos[2]),typeof b._panner.orientationX!="undefined"?(b._panner.orientationX.setValueAtTime(b._orientation[0],Howler.ctx.currentTime),b._panner.orientationY.setValueAtTime(b._orientation[1],Howler.ctx.currentTime),b._panner.orientationZ.setValueAtTime(b._orientation[2],Howler.ctx.currentTime)):b._panner.setOrientation(b._orientation[0],b._orientation[1],b._orientation[2])):(b._panner=Howler.ctx.createStereoPanner(),b._panner.pan.setValueAtTime(b._stereo,Howler.ctx.currentTime)),b._panner.connect(b._node),b._paused||b._parent.pause(b._id,!0).play(b._id,!0)}})()})(howler);const log$g=debug("AudioManager"),MUTE_AUDIO_SIGNAL=StateSignal(!1);class AudioManager{constructor(g,b={}){sn(this,"url");sn(this,"options");sn(this,"audioCtx");sn(this,"panner");sn(this,"listener");sn(this,"sound");sn(this,"isLoading");sn(this,"isLoaded");sn(this,"isPlaying");sn(this,"isMuted");sn(this,"id",null);sn(this,"canplayPromise");sn(this,"endedPromise");sn(this,"handleMuteAll",g=>{g?this.mute():this.unmute()});sn(this,"handleEnded",()=>{log$g(this.id,"ended"),this.isPlaying=!1,this.endedPromise.resolve()});this.url=g;const $={volume:1,autoplay:!1,loop:!1,preload:!0,html5:!1,delay:0};this.options={...$,...b},log$g(this.id,"options",this.options),this.isPlaying=!1,this.isLoading=!0,this.isLoaded=!1,this.isMuted=!1,this.canplayPromise=e$2(),this.endedPromise=e$2(),this.load(),this.initEvents()}load(){this.sound=new howler.Howl({src:[this.url],...this.options,onload:()=>{log$g(this.id,"canplay handler, audio is ready"),this.isLoaded=!0,this.canplayPromise.resolve(),this.isLoading=!1,this.isLoaded=!0,this.isMuted&&this.mute()}})}initEvents(){MUTE_AUDIO_SIGNAL.add(this.handleMuteAll),this.sound.on("end",this.handleEnded)}destroy(){log$g(this.id,"destroy"),this.sound.unload(),MUTE_AUDIO_SIGNAL.remove(this.handleMuteAll)}async play(){return log$g(this.id,"waiting for canplayPromise..."),await this.canplayPromise.promise,this.endedPromise=e$2(),log$g(this.id,"play",this.options),await new Promise(g=>setTimeout(g,this.options.delay)),this.id=this.sound.play(),this.isPlaying=!0,this.endedPromise.promise}pause(){!this.isPlaying||!this.isLoaded||this.sound.pause()}async stop(){log$g(this.id,"stop"),this.sound.stop(this.id),this.isPlaying=!1}replay(){log$g(this.id,"replay"),this.stop(),this.play()}async loop(){this.sound.loop(!0),this.isPlaying=!0}mute(){log$g(this.id,"mute"),!this.isMuted&&(this.sound.mute(!0),this.isMuted=!0)}unmute(){log$g(this.id,"unmute"),this.isMuted&&(this.sound.mute(!1),this.isMuted=!1)}async fade(g,b,$=1e3){return log$g(this.id,"fade >",g,b,this.options),this.isPlaying||this.play(),this.sound.fade(g,b,$),new Promise(_e=>setTimeout(_e,$))}async fadeIn(g=1e3){return this.id=this.sound.play(),log$g(this.id,`fadeIn 0 -> ${this.options.volume}`),this.isPlaying=!0,this.sound.fade(0,this.options.volume,g),new Promise(b=>setTimeout($=>{log$g(this.id,"fadeIn ended"),$()},g))}async fadeOut(g=1e3){return log$g(this.id,`fadeOut ${this.options.volume} -> 0`),this.sound.fade(this.options.volume,0,g),new Promise(b=>setTimeout(()=>{log$g(this.id,"fadeOut ended"),this.stop(),b()},g))}enableLoop(){console.warn("deprecated"),this.sound.loop()}disableLoop(){console.warn("deprecated")}pan(g){log$g(this.id,"pan",g),console.warn("deprecated")}}debug("AudioManager:hooks");var soundHoverAsset="/LOreal_Bouton02.960bb2b2.mp3",soundClickAsset="/LOreal_Bouton01.88379038.mp3",soundHoverPortalAsset="/LOreal_HoverPortail_03.d265553c.mp3",soundCameraMove="/LOreal_Transition_01.6c0b5b19.mp3",soundRoomTransitionAsset="/LOreal_Transition_02.2b0318fc.mp3",soundAmbiant="/LOreal_MusiqueCourte-ALT1.c5a01795.mp3",ESoundType=(j=>(j.HOVER="hover",j.CLICK="click",j.HOVER_3D="hover_portal",j.TRANSITION="transition",j.CAMERA="camera",j.AMBIENT="ambient",j))(ESoundType||{});const SOUNDS_DATA_PER_TYPE={hover:{assetUrl:soundHoverAsset,options:{volume:.2}},click:{assetUrl:soundClickAsset,options:{volume:.3}},hover_portal:{assetUrl:soundHoverPortalAsset,options:{volume:.2}},transition:{assetUrl:soundRoomTransitionAsset,options:{volume:.5}},camera:{assetUrl:soundCameraMove,options:{volume:.4}},ambient:{assetUrl:soundAmbiant,options:{loop:!0,volume:.15}}};class SoundService{constructor(){sn(this,"sounds",new Map);sn(this,"_blurMuted");sn(this,"_userMuted");sn(this,"_muted",!1);for(const[g,b]of Object.entries(SOUNDS_DATA_PER_TYPE)){const $=b;this.sounds.set(g,new AudioManager($.assetUrl,{loop:!1,...$.options}))}this._init()}set muted(g){MUTE_AUDIO_SIGNAL.dispatch(g),this._muted=g}get muted(){return this._muted}get userMuted(){return this._userMuted}_init(){this._addListenersFocusTab()}userMuteAll(){this.muted=!0,this._userMuted=!0}userUnmuteAll(){this.muted=!1,this._userMuted=!1}_addListenersFocusTab(){window.addEventListener("blur",()=>{this.muted=!0,this._blurMuted=!0}),window.addEventListener("focus",()=>{!this._userMuted&&this._muted&&this._blurMuted&&(this._blurMuted=!1,this.muted=!1)})}play(g){this.sounds.get(g).play()}pause(g){this.sounds.get(g).pause()}stop(g){this.sounds.get(g).stop()}enableLoop(g){this.sounds.get(g).enableLoop()}}const soundService=new SoundService,componentName$O="ArrowButton";debug(`front:${componentName$O}`);function ArrowButton(j){const g=()=>{var $;($=j.onMouseEnter)==null||$.call(j),soundService.play(ESoundType.HOVER)},b=()=>{var $;($=j.onClick)==null||$.call(j),soundService.play(ESoundType.CLICK)};return jsx("div",{className:merge([css$s.root,j.className,j.isDisable&&css$s.root_isDisable,css$s[`root_${j.type}`]]),onClick:b,onMouseEnter:g,children:jsx("div",{className:css$s.wrapper,children:jsx("div",{className:css$s.iconWrapper,children:jsx("svg",{className:css$s.icon,width:"36",height:"10",viewBox:"0 0 36 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{d:"M36 5L1 5M1 5C2.53333 5.13333 6.6 6.32 6.6 10M1 5C2.53333 4.9 6.6 3.76 6.6 -2.57023e-06",stroke:"#3D3D3D"})})})})})}const root$g="lDobA",root_isAnimating="MnWN4",root_isDisable="nz2ad",wrapper$d="_5UW6Q",text$2="Q4vTe",root_borderWhite="rxmFe",root_borderGray="_-0LfX",iconWrapper$1="THqUj",icon$4="fmp42";var css$r={root:root$g,root_isAnimating,root_isDisable,wrapper:wrapper$d,text:text$2,root_borderWhite,root_borderGray,iconWrapper:iconWrapper$1,icon:icon$4};const componentName$N="SecondaryButton";debug(`front:${componentName$N}`);const SecondaryButton=react.exports.forwardRef((j,g)=>{var $;const{appDataContext:b}=react.exports.useContext(AppDataContext);return jsx(B,{className:merge([css$r.root,css$r.root_link,j.className,j.disabled&&css$r.root_isDisable,j.hasBorder?css$r.root_borderGray:css$r.root_borderWhite,j.isAnimating&&css$r.root_isAnimating]),to:j.to,onClick:_e=>{var et;return(et=j.onClick)==null?void 0:et.call(j,_e)},"aria-label":($=b.dictionary)==null?void 0:$.backLabelButton,ref:g,children:jsxs("div",{className:css$r.wrapper,children:[jsx("div",{className:css$r.iconWrapper,children:jsx("svg",{className:css$r.icon,width:"36",height:"10",viewBox:"0 0 36 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{d:"M36 5L1 5M1 5C2.53333 5.13333 6.6 6.32 6.6 10M1 5C2.53333 4.9 6.6 3.76 6.6 -2.57023e-06",stroke:"#3D3D3D"})})}),jsx("span",{className:css$r.text,children:j.label})]})})}),content$7="aZt37",roomTitle="usMHo",innovationTitle="s559U",backButton$2="zkwPj",arrowButton="Z3rnU",arrowButton_prev="FccZK",arrowButton_next="CXmsA";var css$q={content:content$7,roomTitle,innovationTitle,backButton:backButton$2,arrowButton,arrowButton_prev,arrowButton_next};const componentName$M="InnovationPage";debug(`front:${componentName$M}`);const InnovationPage=react.exports.forwardRef((j,g)=>{var gt;const b=react.exports.useRef(null),$=react.exports.useRef(null),{appDataContext:_e}=react.exports.useContext(AppDataContext),{rooms:et}=_e,tt=et.find(yt=>yt.slug===j.params.roomId);tt==null||tt.innovations.find(yt=>yt.slug===j.params.innovationId);const[nt,rt]=A();react.exports.useEffect(()=>{const yt=_t=>{_t.key==="ArrowUp"?it():_t.key==="ArrowDown"&&ot()};return document.addEventListener("keydown",yt),()=>{document.removeEventListener("keydown",yt)}},[]);function it(){const yt=at(j.params.innovationId,-1);yt&&st(j.params.roomId,yt.slug)}function ot(){const yt=at(j.params.innovationId,1);yt&&st(j.params.roomId,yt.slug)}function st(yt,_t){rt(`/room/${yt}/${_t}`)}function at(yt,_t){const vt=tt==null?void 0:tt.innovations.findIndex(bt=>bt.slug===yt);return tt==null?void 0:tt.innovations[vt+_t]}const lt=()=>new Promise(yt=>{var _t;dispatchInstructionsEventManager({label:(_t=_e.dictionary)==null?void 0:_t.innovation_instruction,logo:ELottieInstruction.DRAG}),DefaultBackButtonPlayIn($.current,.25),yt()}),ut=DefaultBackButtonPlayOut($.current);K({componentName:componentName$M,handleRef:g,rootRef:b,playIn:lt,playOut:ut});const[ct,ft]=react.exports.useState(null),[ht,dt]=react.exports.useState(null);react.exports.useEffect(()=>{const yt=at(j.params.innovationId,-1),_t=at(j.params.innovationId,1);ft(!!yt),dt(!!_t)},[]);const pt=()=>{it()},mt=()=>{ot()};return jsxs("div",{className:css$q.root,ref:b,children:[jsx(SecondaryButton,{className:css$q.backButton,label:(gt=_e.dictionary)==null?void 0:gt.back,to:{name:EPages.ROOM,params:{roomId:j.params.roomId}},hasBorder:!1,isAnimating:!0,ref:$}),jsx(ArrowButton,{className:merge([css$q.arrowButton,css$q.arrowButton_prev]),type:"prev",isDisable:!ct,onClick:pt}),jsx(ArrowButton,{className:merge([css$q.arrowButton,css$q.arrowButton_next]),type:"next",isDisable:!ht,onClick:mt})]})});InnovationPage.displayName=componentName$M;const root$f="Iqx1L",wrapper$c="_8dchw",title$5="Efo0d",text$1="rAVIl",button$3="V6NEl",image$3="puJoU",urbainImage="q3MSC",floatWithTranslateX="gw1Lu",futureImage="WfrIB",float="al-t9",naturalImage="SRaIr";var css$p={root:root$f,wrapper:wrapper$c,title:title$5,text:text$1,button:button$3,image:image$3,urbainImage,floatWithTranslateX,futureImage,float,naturalImage};const root$e="_7dSo0";var css$o={root:root$e,"root-isDisable":"Gupcr","root-light":"zADlm"};const componentName$L="MainButton";debug(`front:${componentName$L}`);function MainButton(j){const g=()=>{soundService.play(ESoundType.HOVER)},b=$=>{soundService.play(ESoundType.CLICK),j==null||j.onClick($)};return j.href?jsx("a",{href:j.href,target:"_blank",className:merge([css$o.root,j.className,j.disabled&&css$o["root-isDisable"],css$o[`root-${j.style}`]]),onMouseEnter:g,onClick:b,children:j.label}):jsx("button",{className:merge([css$o.root,j.className,j.disabled&&css$o["root-isDisable"],css$o[`root-${j.style}`]]),onClick:j.onClick,children:j.label})}MainButton.defaultProps={buttonValue:"main_button"};var urbainArea="/zone_urbaine.ff6a82ec.jpg",naturalArea="/zone_naturelle.14ff9950.jpg",futureArea="/zone_futuriste.095e977f.jpg";const componentName$K="NotFoundPage";debug(`front:${componentName$K}`);const NotFoundPage=react.exports.forwardRef((j,g)=>{const b=react.exports.useRef(null),{appDataContext:$}=react.exports.useContext(AppDataContext),[_e,et]=A();K({componentName:componentName$K,handleRef:g,rootRef:b,playIn:()=>Promise.resolve(),playOut:()=>Promise.resolve()});const rt=()=>{et({name:EPages.HOME})};return jsx("div",{className:css$p.root,ref:b,children:jsxs("div",{className:css$p.wrapper,children:[jsx("h1",{className:css$p.title,children:"404"}),jsx("p",{className:css$p.text,children:$.dictionary.not_found_text}),jsx(MainButton,{label:$.dictionary.back_to_home,className:css$p.button,style:"light",onClick:rt}),jsxs("div",{className:css$p.imageWrapper,children:[jsx("img",{className:merge([css$p.image,css$p.urbainImage]),src:urbainArea,alt:"Area"}),jsx("img",{className:merge([css$p.image,css$p.futureImage]),src:futureArea,alt:"Area"}),jsx("img",{className:merge([css$p.image,css$p.naturalImage]),src:naturalArea,alt:"Area"})]})]})})});NotFoundPage.displayName=componentName$K;const root$d="WGS6c",content$6="EJI1Y",contentWrapper$2="DdW4-",backButtonWrapper$1="_09zGG",video$3="TlpCB";var css$n={root:root$d,content:content$6,contentWrapper:contentWrapper$2,backButtonWrapper:backButtonWrapper$1,video:video$3};const log$f=debug("front:useFetchApiHook"),DATA_CACHE={},useFetchApi=(j,g=!0)=>{const b=(nt,rt)=>{switch(rt.type){case 0:return{...nt,isLoading:!0,isError:!1,isSuccess:!1};case 1:return{...nt,isLoading:!1,isError:!1,isSuccess:!0,response:rt.payload};case 2:return{...nt,isLoading:!1,isError:!0,isSuccess:!1,errorMessage:rt.errorMessage};default:throw new Error}},[$,_e]=react.exports.useReducer(b,{isLoading:!0,isError:!1,isSuccess:!1,errorMessage:null,response:null}),et=(nt=j)=>{if(!Object.keys(DATA_CACHE).some(ot=>ot===nt))return log$f(`"${nt}" data isn't in DATA_CACHE, we need to request the API. return.`),null;const it=DATA_CACHE[nt];return log$f("current page data is already in DATA_CACHE, we use it.",it),it},tt=(nt,rt=j)=>{DATA_CACHE[rt]=nt,log$f("DATA_CACHE after set",DATA_CACHE)};return react.exports.useEffect(()=>{(async()=>{_e({type:0});const rt=et();if(rt&&g)_e({type:1,payload:rt});else try{const it=await fetch(j).then(ot=>{if(!ot.ok)throw new Error(`Unable to fetch "${j}", status: ${ot.status}`);return ot.json()});log$f("request result",it),g&&tt(it),_e({type:1,payload:it})}catch(it){_e({type:2,errorMessage:it})}})()},[j,g]),$},buildApiUrl=(j,g=(_e=>(_e=($=>($=c$1.langService)==null?void 0:$.currentLang)())==null?void 0:_e.key)(),b="/data")=>[b,"/",g,g?"/":null,j].filter(tt=>tt).join("").replace(/(https?:\/\/)|(\/)+/g,"$1$2"),block="_3peO9",block_arrow="S-YMK",block_video="D-2bq",block_alternanceImageText="-Zji-";var css$m={block,block_arrow,block_video,block_alternanceImageText},EBlockType=(j=>(j.ARROW="arrow",j.ALTERNATE="alternance",j.VIDEO="video",j.CARDS="cards",j))(EBlockType||{});const root$c="Yp3kO",wrapper$b="x3z6W",wrapperArrow="khn5s",wrapperArrowText="YmqPA",arrow="M1QNS",title$4="LRAYh",description$2="Td4zo",image$2="ok0dH",imageWrapper$1="ZYFjr",imageThumbnail="ctYxU",imageBackground="UfBhi";var css$l={root:root$c,wrapper:wrapper$b,wrapperArrow,wrapperArrowText,arrow,title:title$4,description:description$2,image:image$2,imageWrapper:imageWrapper$1,imageThumbnail,imageBackground};const l$1={w:"width",x:"density"},n$1=j=>j.reduce((g,b)=>(g.width||0)>b.width?g:b,j[0]),o$1={LAZY_LOAD:"lazyload",LAZY_LOADING:"lazyloading",LAZY_LOADED:"lazyloaded"};class c{constructor({$root:g=document.body,$element:b,srcset:$,additonalUrl:_e,lazyCallback:et=()=>{},observerOptions:tt={},bigQuality:nt=!1}={}){this.dataSrcsetAttr="data-background-srcset",this.dataIdAttr="data-background-id",this.observer=void 0,this.storeImageList=[],this.ID=0,this.$root=void 0,this.$element=void 0,this.srcset=void 0,this.additonalUrl=void 0,this.lazyCallback=void 0,this.observerOptions=void 0,this.bigQuality=void 0,this._handlResize=()=>{this.update()},this._observeOnChangeCallBack=rt=>{const it=this;rt==null||rt.forEach(function(ot){try{var st;const at=ot.target;if(it._switchLazyState(at,o$1.LAZY_LOAD),!ot.isIntersecting)return Promise.resolve();const lt=it._getImageInformations(at),ut=at.getAttribute(it.dataIdAttr);return ut?it.storeImageList[ut]=lt==null?void 0:lt.imageDataObject:(at.setAttribute(it.dataIdAttr,`${it.ID}`),it.storeImageList[it.ID]=lt==null?void 0:lt.imageDataObject,it.ID++),lt!=null&&(st=lt.imageDataObject)!=null&&st.url?(it._switchLazyState(at,o$1.LAZY_LOADING),Promise.resolve(it._preloadImage(at,lt.imageDataObject.url)).then(function(){it._switchLazyState(at,o$1.LAZY_LOADED),it._replaceBackgroundImageUrl(at,lt.imageDataObject),it.observer.unobserve(at)})):Promise.resolve()}catch(at){return Promise.reject(at)}})},this.$root=g,this.$element=b,this.srcset=$,this.additonalUrl=_e,this.lazyCallback=et,this.observerOptions=tt,this.bigQuality=nt}start(){this._observe(),window.addEventListener("resize",this._handlResize)}update(){this.stop(),this.start()}stop(){this.observer.disconnect(),window.removeEventListener("resize",this._handlResize)}_getElementsWithDataAttr(){const g=this.$root.querySelectorAll(`[${this.dataSrcsetAttr}]:not(img):not(figure)`);return g!=null&&g.length?[...g]:null}_observe(){if(!("IntersectionObserver"in window))return;this.observer=new IntersectionObserver(this._observeOnChangeCallBack,this.observerOptions);const g=this.$element||this.srcset?this.$element?[this.$element]:null:this._getElementsWithDataAttr();g==null||g.forEach(b=>{var $;const _e=this._getImageInformations(b),et=($=this.storeImageList)==null?void 0:$[b.getAttribute(this.dataIdAttr)];(!et||(et==null?void 0:et.width)<_e.width&&_e.width<=_e.biggestImageDataOject.width)&&this.observer.observe(b)})}_getImageInformations(g){var b;const $=((b=g.getBoundingClientRect())==null?void 0:b.width)||window.innerWidth,_e=this.srcset||g.getAttribute(this.dataSrcsetAttr),et=((nt,rt)=>{let it=null,ot=[];for(;(it=rt.exec(nt))!==null;)ot.push(it);return ot})(_e,/(\S*[^,\s])(\s+([\d.]+)(x|w))?/g).map(([,nt,,rt,it])=>{let ot=l$1[it];return ot?{url:nt,[ot]:parseFloat(rt)}:{url:nt}}),tt=function(nt,rt,it=!1){if(!nt)return;const ot=nt.map(lt=>lt==null?void 0:lt.width).sort((lt,ut)=>lt-ut).filter(lt=>lt>rt),st=n$1(nt),at=nt.map(lt=>lt.width===ot[it&&ot.length>1?1:0]?lt:st.width<=rt?st:void 0).filter(lt=>lt);return at.length>0?at[0]:null}(et,$,this.bigQuality);return{width:$,dataSrcset:_e,imageDataObject:tt,biggestImageDataOject:n$1(et)}}_replaceBackgroundImageUrl(g,b){g.style.backgroundImage=[`url('${b.url}')`,this.additonalUrl&&`, url('${this.additonalUrl}')`].filter($=>$).join("")}_preloadImage(g,b){return new Promise($=>{const _e=document.createElement("img");_e.src=b,_e.onload=()=>{$()}})}_switchLazyState(g,b){Object.values(o$1).forEach($=>{g.classList.remove($)}),g.classList.add(b),this.lazyCallback(b)}}class d{constructor({$element:g,srcset:b,src:$,$root:_e=document.body,lazyCallback:et=()=>{},observerOptions:tt={}}={}){this.dataSrcsetAttr="data-srcset",this.dataSrcAttr="data-src",this.observer=void 0,this.isSpecificElement=void 0,this.$element=void 0,this.srcset=void 0,this.src=void 0,this.$root=void 0,this.lazyCallback=void 0,this.observerOptions=void 0,this._observeOnChangeCallBack=nt=>{const rt=this;nt.forEach(function(it){try{const ot=it.target;rt._switchLazyState(ot,"lazyload");const st=function(){if(it.isIntersecting)return rt.observer.unobserve(ot),rt._switchLazyState(ot,"lazyloading"),Promise.resolve(rt._preloadImage(ot)).then(function(){rt._switchLazyState(ot,"lazyloaded")})}();return Promise.resolve(st&&st.then?st.then(function(){}):void 0)}catch(ot){return Promise.reject(ot)}})},this.$element=g,this.src=$,this.$root=_e,this.lazyCallback=et,this.observerOptions=tt,this.isSpecificElement=!!g||!!$||!!b}start(){this._observe()}update(){this.stop(),this.start()}stop(){this.observer.disconnect()}_getElementsWithDataAttr(){const g=[...this.$root.querySelectorAll(`[${this.dataSrcsetAttr}]`)||[],...this.$root.querySelectorAll(`[${this.dataSrcAttr}]`)||[]];return g!=null&&g.length?g:null}_observe(){if(!("IntersectionObserver"in window))return;this.observer=new IntersectionObserver(this._observeOnChangeCallBack,this.observerOptions);const g=this.isSpecificElement?this.$element?[this.$element]:null:this._getElementsWithDataAttr();g==null||g.forEach(b=>this.observer.observe(b))}_preloadImage(g){return new Promise(b=>{const $=this.src||g.getAttribute(this.dataSrcAttr),_e=this.srcset||g.getAttribute(this.dataSrcsetAttr),et=document.createElement("img");$&&(et.src=$),_e&&(et.srcset=_e),et.onload=()=>{$&&(g.src=$),_e&&(g.srcset=_e),b()}})}_switchLazyState(g,b){Object.values(o$1).forEach($=>{g.classList.remove($)}),g.classList.add(b),this.lazyCallback(b)}}const h$3="Image";function u$1(j){var g,b;const $=react.exports.useRef(null),_e=react.exports.useRef(null),[et,tt]=react.exports.useState("lazyload"),nt=react.exports.useMemo(()=>{var at;return(at=j.data)==null?void 0:at.map(lt=>`${lt.url} ${lt.width}w`).join(", ")},[j.data]),[rt,it]=react.exports.useState(null),[ot,st]=react.exports.useState({width:(g=window)==null?void 0:g.innerWidth,height:(b=window)==null?void 0:b.innerHeight});return react.exports.useEffect(()=>{const at=()=>{var lt,ut;st({width:(lt=window)==null?void 0:lt.innerWidth,height:(ut=window)==null?void 0:ut.innerHeight})};return at(),window.addEventListener("resize",at),()=>{window.removeEventListener("resize",at)}},[]),react.exports.useEffect(()=>{$.current!=null&&it($.current.offsetWidth)},[ot]),react.exports.useLayoutEffect(()=>(_e.current=new d({$element:$.current,srcset:nt||j.srcset,src:j.src,observerOptions:j.observerOptions||{},lazyCallback:at=>{j.lazyCallback==null||j.lazyCallback(at),tt(at)}}),_e.current.start(),()=>_e.current.stop()),[nt,j.srcset,j.src,j.lazyCallback,j.observerOptions]),React.createElement("img",{ref:$,className:[h$3,j.className,et].filter(at=>at).join(" "),alt:j.alt,style:j.style,width:j.width,height:j.height,sizes:rt&&`${rt}px`,src:j.srcPlaceholder||"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==","data-srcset":nt||j.srcset,"data-src":j.src,"aria-label":j.ariaLabel})}const v$3="BackgroundImage";function m(j){const g=react.exports.useRef(null),b=react.exports.useRef(null),[$,_e]=react.exports.useState("lazyload");return react.exports.useLayoutEffect(()=>{var et;let tt=((et=j.data)==null?void 0:et.map(nt=>`${nt.url} ${nt.width}w`).join(", "))||j.srcset||j.src;return b.current=new c({$element:g.current,srcset:tt,bigQuality:j.bigQuality||!1,observerOptions:j.observerOptions||{},lazyCallback:nt=>{j.lazyCallback==null||j.lazyCallback(nt),_e(nt)}}),b.current.start(),()=>b.current.stop()},[j.data,j.srcset,j.src,j.lazyCallback,j.observerOptions]),React.createElement("div",{ref:g,className:[v$3,j.className,$].filter(et=>et).join(" "),style:{backgroundImage:`url(${j.srcPlaceholder||"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="})`,...j.style||{}},"aria-label":j.ariaLabel})}var blueArrow=`<svg width="79" height="510" viewBox="0 0 79 510" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_8_174)">
<path d="M40 0V510M40 510C41.0667 494.962 50.56 455.077 80 455.077M40 510C39.2 494.962 30.08 455.077 0 455.077" stroke="#548EFF"/>
</g>
<defs>
<clipPath id="clip0_8_174">
<rect width="79" height="510" fill="white"/>
</clipPath>
</defs>
</svg>
`;function pathJoin(...j){return j.map((g,b)=>b===0?g.trim().replace(/[\/]*$/g,""):g.trim().replace(/(^[\/]*|[\/]*$)/g,"")).filter(g=>g.length).join("/")}const getAssetFullPath=j=>{const g="/";return j.indexOf("http://")===0||j.indexOf("https://")===0||j.includes("/")?j:pathJoin(g,j)};/*!
 * strings: 3.11.1
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var emojiExp=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function getText(j){var g=j.nodeType,b="";if(g===1||g===9||g===11){if(typeof j.textContent=="string")return j.textContent;for(j=j.firstChild;j;j=j.nextSibling)b+=getText(j)}else if(g===3||g===4)return j.nodeValue;return b}/*!
 * SplitText: 3.11.1
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _doc$2,_win$2,_coreInitted$2,_stripExp=/(?:\r|\n|\t\t)/g,_multipleSpacesExp=/(?:\s\s+)/g,_initCore$1=function(){_doc$2=document,_win$2=window,_coreInitted$2=1},_getComputedStyle$1=function(g){return _win$2.getComputedStyle(g)},_isArray=Array.isArray,_slice=[].slice,_toArray$1=function(g,b){var $;return _isArray(g)?g:($=typeof g)=="string"&&!b&&g?_slice.call(_doc$2.querySelectorAll(g),0):g&&$==="object"&&"length"in g?_slice.call(g,0):g?[g]:[]},_isAbsolute=function(g){return g.position==="absolute"||g.absolute===!0},_findSpecialChars=function(g,b){for(var $=b.length,_e;--$>-1;)if(_e=b[$],g.substr(0,_e.length)===_e)return _e.length},_divStart=" style='position:relative;display:inline-block;'",_cssClassFunc=function(g,b){g===void 0&&(g="");var $=~g.indexOf("++"),_e=1;return $&&(g=g.split("++").join("")),function(){return"<"+b+_divStart+(g?" class='"+g+($?_e++:"")+"'>":">")}},_swapText=function j(g,b,$){var _e=g.nodeType;if(_e===1||_e===9||_e===11)for(g=g.firstChild;g;g=g.nextSibling)j(g,b,$);else(_e===3||_e===4)&&(g.nodeValue=g.nodeValue.split(b).join($))},_pushReversed=function(g,b){for(var $=b.length;--$>-1;)g.push(b[$])},_isBeforeWordDelimiter=function(g,b,$){for(var _e;g&&g!==b;){if(_e=g._next||g.nextSibling,_e)return _e.textContent.charAt(0)===$;g=g.parentNode||g._parent}},_deWordify=function j(g){var b=_toArray$1(g.childNodes),$=b.length,_e,et;for(_e=0;_e<$;_e++)et=b[_e],et._isSplit?j(et):_e&&et.previousSibling&&et.previousSibling.nodeType===3?(et.previousSibling.nodeValue+=et.nodeType===3?et.nodeValue:et.firstChild.nodeValue,g.removeChild(et)):et.nodeType!==3&&(g.insertBefore(et.firstChild,et),g.removeChild(et))},_getStyleAsNumber=function(g,b){return parseFloat(b[g])||0},_setPositionsAfterSplit=function(g,b,$,_e,et,tt,nt){var rt=_getComputedStyle$1(g),it=_getStyleAsNumber("paddingLeft",rt),ot=-999,st=_getStyleAsNumber("borderBottomWidth",rt)+_getStyleAsNumber("borderTopWidth",rt),at=_getStyleAsNumber("borderLeftWidth",rt)+_getStyleAsNumber("borderRightWidth",rt),lt=_getStyleAsNumber("paddingTop",rt)+_getStyleAsNumber("paddingBottom",rt),ut=_getStyleAsNumber("paddingLeft",rt)+_getStyleAsNumber("paddingRight",rt),ct=_getStyleAsNumber("fontSize",rt)*(b.lineThreshold||.2),ft=rt.textAlign,ht=[],dt=[],pt=[],mt=b.wordDelimiter||" ",gt=b.tag?b.tag:b.span?"span":"div",yt=b.type||b.split||"chars,words,lines",_t=et&&~yt.indexOf("lines")?[]:null,vt=~yt.indexOf("words"),At=~yt.indexOf("chars"),bt=_isAbsolute(b),xt=b.linesClass,Et=~(xt||"").indexOf("++"),Mt=[],Tt=rt.display==="flex",Lt=g.style.display,Ot,Rt,Ct,Dt,Bt,kt,zt,Ft,It,Ut,Gt,jt;for(Et&&(xt=xt.split("++").join("")),Tt&&(g.style.display="block"),Rt=g.getElementsByTagName("*"),Ct=Rt.length,Bt=[],Ot=0;Ot<Ct;Ot++)Bt[Ot]=Rt[Ot];if(_t||bt)for(Ot=0;Ot<Ct;Ot++)Dt=Bt[Ot],kt=Dt.parentNode===g,(kt||bt||At&&!vt)&&(jt=Dt.offsetTop,_t&&kt&&Math.abs(jt-ot)>ct&&(Dt.nodeName!=="BR"||Ot===0)&&(zt=[],_t.push(zt),ot=jt),bt&&(Dt._x=Dt.offsetLeft,Dt._y=jt,Dt._w=Dt.offsetWidth,Dt._h=Dt.offsetHeight),_t&&((Dt._isSplit&&kt||!At&&kt||vt&&kt||!vt&&Dt.parentNode.parentNode===g&&!Dt.parentNode._isSplit)&&(zt.push(Dt),Dt._x-=it,_isBeforeWordDelimiter(Dt,g,mt)&&(Dt._wordEnd=!0)),Dt.nodeName==="BR"&&(Dt.nextSibling&&Dt.nextSibling.nodeName==="BR"||Ot===0)&&_t.push([])));for(Ot=0;Ot<Ct;Ot++){if(Dt=Bt[Ot],kt=Dt.parentNode===g,Dt.nodeName==="BR"){_t||bt?(Dt.parentNode&&Dt.parentNode.removeChild(Dt),Bt.splice(Ot--,1),Ct--):vt||g.appendChild(Dt);continue}if(bt&&(It=Dt.style,!vt&&!kt&&(Dt._x+=Dt.parentNode._x,Dt._y+=Dt.parentNode._y),It.left=Dt._x+"px",It.top=Dt._y+"px",It.position="absolute",It.display="block",It.width=Dt._w+1+"px",It.height=Dt._h+"px"),!vt&&At)if(Dt._isSplit)for(Dt._next=Rt=Dt.nextSibling,Dt.parentNode.appendChild(Dt);Rt&&Rt.nodeType===3&&Rt.textContent===" ";)Dt._next=Rt.nextSibling,Dt.parentNode.appendChild(Rt),Rt=Rt.nextSibling;else Dt.parentNode._isSplit?(Dt._parent=Dt.parentNode,!Dt.previousSibling&&Dt.firstChild&&(Dt.firstChild._isFirst=!0),Dt.nextSibling&&Dt.nextSibling.textContent===" "&&!Dt.nextSibling.nextSibling&&Mt.push(Dt.nextSibling),Dt._next=Dt.nextSibling&&Dt.nextSibling._isFirst?null:Dt.nextSibling,Dt.parentNode.removeChild(Dt),Bt.splice(Ot--,1),Ct--):kt||(jt=!Dt.nextSibling&&_isBeforeWordDelimiter(Dt.parentNode,g,mt),Dt.parentNode._parent&&Dt.parentNode._parent.appendChild(Dt),jt&&Dt.parentNode.appendChild(_doc$2.createTextNode(" ")),gt==="span"&&(Dt.style.display="inline"),ht.push(Dt));else Dt.parentNode._isSplit&&!Dt._isSplit&&Dt.innerHTML!==""?dt.push(Dt):At&&!Dt._isSplit&&(gt==="span"&&(Dt.style.display="inline"),ht.push(Dt))}for(Ot=Mt.length;--Ot>-1;)Mt[Ot].parentNode.removeChild(Mt[Ot]);if(_t){for(bt&&(Ut=_doc$2.createElement(gt),g.appendChild(Ut),Gt=Ut.offsetWidth+"px",jt=Ut.offsetParent===g?0:g.offsetLeft,g.removeChild(Ut)),It=g.style.cssText,g.style.cssText="display:none;";g.firstChild;)g.removeChild(g.firstChild);for(Ft=mt===" "&&(!bt||!vt&&!At),Ot=0;Ot<_t.length;Ot++){for(zt=_t[Ot],Ut=_doc$2.createElement(gt),Ut.style.cssText="display:block;text-align:"+ft+";position:"+(bt?"absolute;":"relative;"),xt&&(Ut.className=xt+(Et?Ot+1:"")),pt.push(Ut),Ct=zt.length,Rt=0;Rt<Ct;Rt++)zt[Rt].nodeName!=="BR"&&(Dt=zt[Rt],Ut.appendChild(Dt),Ft&&Dt._wordEnd&&Ut.appendChild(_doc$2.createTextNode(" ")),bt&&(Rt===0&&(Ut.style.top=Dt._y+"px",Ut.style.left=it+jt+"px"),Dt.style.top="0px",jt&&(Dt.style.left=Dt._x-jt+"px")));Ct===0?Ut.innerHTML="&nbsp;":!vt&&!At&&(_deWordify(Ut),_swapText(Ut,String.fromCharCode(160)," ")),bt&&(Ut.style.width=Gt,Ut.style.height=Dt._h+"px"),g.appendChild(Ut)}g.style.cssText=It}bt&&(nt>g.clientHeight&&(g.style.height=nt-lt+"px",g.clientHeight<nt&&(g.style.height=nt+st+"px")),tt>g.clientWidth&&(g.style.width=tt-ut+"px",g.clientWidth<tt&&(g.style.width=tt+at+"px"))),Tt&&(Lt?g.style.display=Lt:g.style.removeProperty("display")),_pushReversed($,ht),vt&&_pushReversed(_e,dt),_pushReversed(et,pt)},_splitRawText=function(g,b,$,_e){var et=b.tag?b.tag:b.span?"span":"div",tt=b.type||b.split||"chars,words,lines",nt=~tt.indexOf("chars"),rt=_isAbsolute(b),it=b.wordDelimiter||" ",ot=it!==" "?"":rt?"&#173; ":" ",st="</"+et+">",at=1,lt=b.specialChars?typeof b.specialChars=="function"?b.specialChars:_findSpecialChars:null,ut,ct,ft,ht,dt,pt,mt,gt,yt=_doc$2.createElement("div"),_t=g.parentNode;for(_t.insertBefore(yt,g),yt.textContent=g.nodeValue,_t.removeChild(g),g=yt,ut=getText(g),mt=ut.indexOf("<")!==-1,b.reduceWhiteSpace!==!1&&(ut=ut.replace(_multipleSpacesExp," ").replace(_stripExp,"")),mt&&(ut=ut.split("<").join("{{LT}}")),dt=ut.length,ct=(ut.charAt(0)===" "?ot:"")+$(),ft=0;ft<dt;ft++)if(pt=ut.charAt(ft),lt&&(gt=lt(ut.substr(ft),b.specialChars)))pt=ut.substr(ft,gt||1),ct+=nt&&pt!==" "?_e()+pt+"</"+et+">":pt,ft+=gt-1;else if(pt===it&&ut.charAt(ft-1)!==it&&ft){for(ct+=at?st:"",at=0;ut.charAt(ft+1)===it;)ct+=ot,ft++;ft===dt-1?ct+=ot:ut.charAt(ft+1)!==")"&&(ct+=ot+$(),at=1)}else pt==="{"&&ut.substr(ft,6)==="{{LT}}"?(ct+=nt?_e()+"{{LT}}</"+et+">":"{{LT}}",ft+=5):pt.charCodeAt(0)>=55296&&pt.charCodeAt(0)<=56319||ut.charCodeAt(ft+1)>=65024&&ut.charCodeAt(ft+1)<=65039?(ht=((ut.substr(ft,12).split(emojiExp)||[])[1]||"").length||2,ct+=nt&&pt!==" "?_e()+ut.substr(ft,ht)+"</"+et+">":ut.substr(ft,ht),ft+=ht-1):ct+=nt&&pt!==" "?_e()+pt+"</"+et+">":pt;g.outerHTML=ct+(at?st:""),mt&&_swapText(_t,"{{LT}}","<")},_split=function j(g,b,$,_e){var et=_toArray$1(g.childNodes),tt=et.length,nt=_isAbsolute(b),rt,it;if(g.nodeType!==3||tt>1){for(b.absolute=!1,rt=0;rt<tt;rt++)it=et[rt],it._next=it._isFirst=it._parent=it._wordEnd=null,(it.nodeType!==3||/\S+/.test(it.nodeValue))&&(nt&&it.nodeType!==3&&_getComputedStyle$1(it).display==="inline"&&(it.style.display="inline-block",it.style.position="relative"),it._isSplit=!0,j(it,b,$,_e));b.absolute=nt,g._isSplit=!0;return}_splitRawText(g,b,$,_e)},SplitText=function(){function j(b,$){_coreInitted$2||_initCore$1(),this.elements=_toArray$1(b),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=$||{},this.split($)}var g=j.prototype;return g.split=function($){this.isSplit&&this.revert(),this.vars=$=$||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var _e=this.elements.length,et=$.tag?$.tag:$.span?"span":"div",tt=_cssClassFunc($.wordsClass,et),nt=_cssClassFunc($.charsClass,et),rt,it,ot;--_e>-1;)ot=this.elements[_e],this._originals[_e]=ot.innerHTML,rt=ot.clientHeight,it=ot.clientWidth,_split(ot,$,tt,nt),_setPositionsAfterSplit(ot,$,this.chars,this.words,this.lines,it,rt);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},g.revert=function(){var $=this._originals;if(!$)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(_e,et){return _e.innerHTML=$[et]}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},j.create=function($,_e){return new j($,_e)},j}();SplitText.version="3.11.1";const defaultOptions={type:"char",overflow:"visible"},Cr=class{constructor(g,b){sn(this,"_element");sn(this,"_originalHTML");sn(this,"_options");sn(this,"_elements");this._element=g,this._options={...Cr._optionsDefault,...b},this._originalHTML=g.innerHTML,this._elements=Cr.splitText(g,this._options),this._addEventListeners()}get elements(){return this._elements}reset(){this._element.innerHTML=this._originalHTML}_resizeHandler(){this.reset(),this._elements=Cr.splitText(this._element,this._options)}_addEventListeners(){this._options.type==="line"&&window.addEventListener("resize",this._resizeHandler.bind(this))}static splitText(g,b=Cr._optionsDefault){if(g.innerHTML==="")return;g.innerHTML=this._splitHTMLByWords(g.innerHTML,b);const $=b.type==="char"?this._letterClassName:this._wordClassName;let _e=Array.from(g.querySelectorAll(`.${$}`));if(b.type==="line"){const et=this._getLinesFromSplittedWords(_e);g.innerHTML=this._splitLinesInTag(et,b),_e=Array.from(g.querySelectorAll(`.${this._lineClassName}`))}return _e}static separateWordsAndTags(g){return g.match(/<[\s]*[^>][^>]*>|[^\r\n\t\f\v <]+|(#.*?#)|(\[.*?\])/gm)}static _getLinesFromSplittedWords(g){const b=[];let $,_e=0;return g.forEach(et=>{et.offsetTop!=_e?(_e=et.offsetTop,$=[],$.push(et),b.push($)):$.push(et)}),b}static _splitLinesInTag(g,b=Cr._optionsDefault){return g.map($=>this._wrapLineInTag($,b)).join("")}static _wrapLineInTag(g,b=Cr._optionsDefault){return`<div class="${Cr._lineWrapperClassName}" style="overflow: ${b.overflow};">
        <div class="${Cr._lineClassName}">${g.map($=>$.innerHTML).join(" ")}</div>
      </div>`}static _splitHTMLByWords(g,b=Cr._optionsDefault){const $=Cr.separateWordsAndTags(g);return $.map((_e,et)=>{var nt;return((nt=_e.match(/<[\s/]*[^>][^>]*>/g))==null?void 0:nt.length)>0?_e:Cr._wrapWordInTag(_e,et!=$.length-1,b)}).join("")}static _wrapWordInTag(g,b=!0,$=Cr._optionsDefault){const _e=$.type==="char"?this.splitLettersInTag(g):`<div class="${Cr._wordClassName}">${g}</div>`;return`<div class="${Cr._wordWrapperClassName}" style="display: inline-flex; overflow: ${$.overflow}; flex-wrap: nowrap;">
      ${_e}${b?"&nbsp;":""}
    </div>`}static _wrapLetterInTag(g){return`<div class="${Cr._letterClassName}">
            ${g.replace(" ","&nbsp;")}
          </div>`}static splitLettersInTag(g){return g.split("").map(b=>this._wrapLetterInTag(b)).join("")}};let Splittor=Cr;sn(Splittor,"_optionsDefault",defaultOptions),sn(Splittor,"_letterClassName","splittedChar"),sn(Splittor,"_wordWrapperClassName","splittedWordWrapper"),sn(Splittor,"_wordClassName","splittedWord"),sn(Splittor,"_lineWrapperClassName","splittedLineWrapper"),sn(Splittor,"_lineClassName","splittedLine");function useIntersectionObserver(j,{threshold:g=0,root:b=null,rootMargin:$="0%",freezeOnceVisible:_e=!1}){const[et,tt]=react.exports.useState(),nt=(et==null?void 0:et.isIntersecting)&&_e,rt=([it])=>{tt(it)};return react.exports.useEffect(()=>{const it=j==null?void 0:j.current;if(!!!window.IntersectionObserver||nt||!it)return;const st={threshold:g,root:b,rootMargin:$},at=new IntersectionObserver(rt,st);return at.observe(it),()=>at.disconnect()},[j,JSON.stringify(g),b,$,nt]),et}const root$b="mzbPe";var css$k={root:root$b};function useWindowSize(){const[j,g]=react.exports.useState({width:window==null?void 0:window.innerWidth,height:window==null?void 0:window.innerHeight});return react.exports.useEffect(()=>{const b=()=>{g({width:window==null?void 0:window.innerWidth,height:window==null?void 0:window.innerHeight})};return b(),window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[]),j}const componentName$J="ScrollBackgroundPosition";debug(`front:${componentName$J}`);const SCROLL_BACKGROUND_CLASS="scroll-background-position";function ScrollBackgroundPosition(j){const g=react.exports.useRef(null),b=useWindowSize(),$=(et=g.current.querySelector(`.${SCROLL_BACKGROUND_CLASS}`))=>{if(!et)return;const tt=et.getBoundingClientRect(),nt={min:0,variable:(tt.y+(tt==null?void 0:tt.height)/3)/b.height*100,max:80};return`50% ${Math.max(nt.min,Math.min(nt.variable,nt.max))}%`},_e=()=>{var tt;const et=(tt=g.current)==null?void 0:tt.querySelector(`.${SCROLL_BACKGROUND_CLASS}`);!et||gsapWithCSS.set(et,{backgroundPosition:$()})};return react.exports.useEffect(()=>{const et=document==null?void 0:document.querySelector(`.${POI_CONTENT}`);if(!!et)return _e(),et.addEventListener("scroll",_e),()=>{et.removeEventListener("scroll",_e)}},[]),jsx("div",{className:merge([css$k.root,j.className]),ref:g,children:j.children})}const root$a="q85cV";var css$j={root:root$a};const componentName$I="BlockWrapper";debug(`front:${componentName$I}`);function BlockWrapper(j){return j.children?jsx("div",{className:merge([css$j.root,j.className]),children:j.children}):null}gsapWithCSS.registerPlugin(SplitText);const componentName$H="BlockArrow";debug(`front:${componentName$H}`);function BlockArrow(j){const g=react.exports.useRef(null),b=react.exports.useRef(null),$=react.exports.useRef(null),_e=react.exports.useRef(null),et=react.exports.useRef(null),tt=react.exports.useRef(null),nt=react.exports.useRef(null),rt=useIntersectionObserver(g,{threshold:.2}),it=!!(rt!=null&&rt.isIntersecting),ot=react.exports.useRef(!1),st=document==null?void 0:document.querySelector(`.${POI_CONTENT}`);react.exports.useEffect(()=>{it&&!ot.current&&(gsapWithCSS.set(g.current,{autoAlpha:1}),tt.current=new Splittor(et.current,{overflow:"hidden",type:"line"}),_e.current=new SplitText($.current.querySelectorAll("p, h3"),{type:"lines,words"}),gsapWithCSS.set(_e.current.lines,{overflow:"hidden"}),titlePlayIn(tt.current.elements),textPlayIn(_e.current.words,.25),gsapWithCSS.timeline().fromTo(b.current,{clipPath:"inset(0 0 100% 0)"},{clipPath:"inset(0 0 0% 0)",duration:.7,ease:"Power3.Out"}).fromTo(nt.current,{scale:1.5},{scale:1,ease:"Power3.Out",delay:.2,duration:.6,onComplete:()=>{ot.current=!0}},"<"))},[it]);const at=()=>{const lt=st.querySelector(`.block-${j.index+1}`);st.scrollTo({left:0,top:lt.getBoundingClientRect().top+st.scrollTop,behavior:"smooth"})};return jsx("div",{ref:g,className:merge([css$l.root,j.className]),children:jsx(BlockWrapper,{children:jsxs("div",{className:css$l.content,children:[jsxs("h1",{ref:et,className:css$l.title,children:[jsx("br",{}),j.data.title]}),jsxs("div",{className:css$l.wrapperArrow,children:[jsxs("div",{className:css$l.wrapperArrowText,children:[jsx("span",{onClick:at,ref:b,"aria-label":"",className:css$l.arrow,dangerouslySetInnerHTML:{__html:blueArrow}}),jsx("div",{ref:$,className:css$l.description,dangerouslySetInnerHTML:{__html:j.data.description}})]}),jsx(ScrollBackgroundPosition,{className:css$l.image,children:jsx("div",{className:css$l.imageWrapper,ref:nt,children:jsx("div",{className:css$l.imageThumbnail,children:jsx(m,{className:merge([css$l.imageBackground,SCROLL_BACKGROUND_CLASS]),src:getAssetFullPath(j.data.image.url)})})})})]})]})})})}const wrapper$a="RPl7j",content$5="oHp8Y",title$3="u9BMg",description$1="t4Su3",video$2="gCs1G";var css$i={wrapper:wrapper$a,content:content$5,title:title$3,description:description$1,video:video$2};function _defineProperties(j,g){for(var b=0;b<g.length;b++){var $=g[b];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(j,$.key,$)}}function _createClass(j,g,b){return g&&_defineProperties(j.prototype,g),b&&_defineProperties(j,b),j}/*!
 * Observer 3.11.1
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$1,_coreInitted$1,_win$1,_doc$1,_docEl$1,_body$1,_isTouch,_pointerType,ScrollTrigger$1,_root$1,_normalizer$1,_eventTypes,_getGSAP$1=function(){return gsap$1||typeof window!="undefined"&&(gsap$1=window.gsap)&&gsap$1.registerPlugin&&gsap$1},_startup$1=1,_observers=[],_scrollers=[],_proxies=[],_getTime$1=Date.now,_bridge=function(g,b){return b},_integrate=function(){var g=ScrollTrigger$1.core,b=g.bridge||{},$=g._scrollers,_e=g._proxies;$.push.apply($,_scrollers),_e.push.apply(_e,_proxies),_scrollers=$,_proxies=_e,_bridge=function(tt,nt){return b[tt](nt)}},_getProxyProp=function(g,b){return~_proxies.indexOf(g)&&_proxies[_proxies.indexOf(g)+1][b]},_isViewport$1=function(g){return!!~_root$1.indexOf(g)},_addListener$2=function(g,b,$,_e,et){return g.addEventListener(b,$,{passive:!_e,capture:!!et})},_removeListener$1=function(g,b,$,_e){return g.removeEventListener(b,$,!!_e)},_scrollLeft="scrollLeft",_scrollTop="scrollTop",_onScroll$1=function(){return _normalizer$1&&_normalizer$1.isPressed||_scrollers.cache++},_scrollCacheFunc=function(g,b){var $=function _e(et){if(et||et===0){_startup$1&&(_win$1.history.scrollRestoration="manual");var tt=_normalizer$1&&_normalizer$1.isPressed;et=_e.v=Math.round(et)||(_normalizer$1&&_normalizer$1.iOS?1:0),g(et),_e.cacheID=_scrollers.cache,tt&&_bridge("ss",et)}else(b||_scrollers.cache!==_e.cacheID||_bridge("ref"))&&(_e.cacheID=_scrollers.cache,_e.v=g());return _e.v+_e.offset};return $.offset=0,g&&$},_horizontal={s:_scrollLeft,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:_scrollCacheFunc(function(j){return arguments.length?_win$1.scrollTo(j,_vertical.sc()):_win$1.pageXOffset||_doc$1[_scrollLeft]||_docEl$1[_scrollLeft]||_body$1[_scrollLeft]||0})},_vertical={s:_scrollTop,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:_horizontal,sc:_scrollCacheFunc(function(j){return arguments.length?_win$1.scrollTo(_horizontal.sc(),j):_win$1.pageYOffset||_doc$1[_scrollTop]||_docEl$1[_scrollTop]||_body$1[_scrollTop]||0})},_getTarget=function(g){return gsap$1.utils.toArray(g)[0]||(typeof g=="string"&&gsap$1.config().nullTargetWarn!==!1?console.warn("Element not found:",g):null)},_getScrollFunc=function(g,b){var $=b.s,_e=b.sc,et=_scrollers.indexOf(g),tt=_e===_vertical.sc?1:2;return!~et&&(et=_scrollers.push(g)-1),_scrollers[et+tt]||(_scrollers[et+tt]=_scrollCacheFunc(_getProxyProp(g,$),!0)||(_isViewport$1(g)?_e:_scrollCacheFunc(function(nt){return arguments.length?g[$]=nt:g[$]})))},_getVelocityProp=function(g,b,$){var _e=g,et=g,tt=_getTime$1(),nt=tt,rt=b||50,it=Math.max(500,rt*3),ot=function(ut,ct){var ft=_getTime$1();ct||ft-tt>rt?(et=_e,_e=ut,nt=tt,tt=ft):$?_e+=ut:_e=et+(ut-et)/(ft-nt)*(tt-nt)},st=function(){et=_e=$?0:_e,nt=tt=0},at=function(ut){var ct=nt,ft=et,ht=_getTime$1();return(ut||ut===0)&&ut!==_e&&ot(ut),tt===nt||ht-nt>it?0:(_e+($?ft:-ft))/(($?ht:tt)-ct)*1e3};return{update:ot,reset:st,getVelocity:at}},_getEvent=function(g,b){return b&&!g._gsapAllow&&g.preventDefault(),g.changedTouches?g.changedTouches[0]:g},_getAbsoluteMax=function(g){var b=Math.max.apply(Math,g),$=Math.min.apply(Math,g);return Math.abs(b)>=Math.abs($)?b:$},_setScrollTrigger=function(){ScrollTrigger$1=gsap$1.core.globals().ScrollTrigger,ScrollTrigger$1&&ScrollTrigger$1.core&&_integrate()},_initCore=function(g){return gsap$1=g||_getGSAP$1(),gsap$1&&typeof document!="undefined"&&document.body&&(_win$1=window,_doc$1=document,_docEl$1=_doc$1.documentElement,_body$1=_doc$1.body,_root$1=[_win$1,_doc$1,_docEl$1,_body$1],gsap$1.utils.clamp,_pointerType="onpointerenter"in _body$1?"pointer":"mouse",_isTouch=Observer.isTouch=_win$1.matchMedia&&_win$1.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in _win$1||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,_eventTypes=Observer.eventTypes=("ontouchstart"in _docEl$1?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in _docEl$1?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return _startup$1=0},500),_setScrollTrigger(),_coreInitted$1=1),_coreInitted$1};_horizontal.op=_vertical;_scrollers.cache=0;var Observer=function(){function j(b){this.init(b)}var g=j.prototype;return g.init=function($){_coreInitted$1||_initCore(gsap$1)||console.warn("Please gsap.registerPlugin(Observer)"),ScrollTrigger$1||_setScrollTrigger();var _e=$.tolerance,et=$.dragMinimum,tt=$.type,nt=$.target,rt=$.lineHeight,it=$.debounce,ot=$.preventDefault,st=$.onStop,at=$.onStopDelay,lt=$.ignore,ut=$.wheelSpeed,ct=$.event,ft=$.onDragStart,ht=$.onDragEnd,dt=$.onDrag,pt=$.onPress,mt=$.onRelease,gt=$.onRight,yt=$.onLeft,_t=$.onUp,vt=$.onDown,At=$.onChangeX,bt=$.onChangeY,xt=$.onChange,Et=$.onToggleX,Mt=$.onToggleY,Tt=$.onHover,Lt=$.onHoverEnd,Ot=$.onMove,Rt=$.ignoreCheck,Ct=$.isNormalizer,Dt=$.onGestureStart,Bt=$.onGestureEnd,kt=$.onWheel,zt=$.onEnable,Ft=$.onDisable,It=$.onClick,Ut=$.scrollSpeed,Gt=$.capture,jt=$.allowClicks,Yt=$.lockAxis,Qt=$.onLockAxis;this.target=nt=_getTarget(nt)||_docEl$1,this.vars=$,lt&&(lt=gsap$1.utils.toArray(lt)),_e=_e||1e-9,et=et||0,ut=ut||1,Ut=Ut||1,tt=tt||"wheel,touch,pointer",it=it!==!1,rt||(rt=parseFloat(_win$1.getComputedStyle(_body$1).lineHeight)||22);var ln,Zt,Wt,qt,Xt,vn,gn,en=this,hn=0,rn=0,un=_getScrollFunc(nt,_horizontal),Nt=_getScrollFunc(nt,_vertical),Vt=un(),cn=Nt(),dn=~tt.indexOf("touch")&&!~tt.indexOf("pointer")&&_eventTypes[0]==="pointerdown",mn=_isViewport$1(nt),bn=nt.ownerDocument||_doc$1,Cn=[0,0,0],an=[0,0,0],Tn=0,Dn=function(){return Tn=_getTime$1()},Sn=function(Mn,On){return(en.event=Mn)&&lt&&~lt.indexOf(Mn.target)||On&&dn&&Mn.pointerType!=="touch"||Rt&&Rt(Mn,On)},Ln=function(){en._vx.reset(),en._vy.reset(),Zt.pause(),st&&st(en)},nn=function(){var Mn=en.deltaX=_getAbsoluteMax(Cn),On=en.deltaY=_getAbsoluteMax(an),Un=Math.abs(Mn)>=_e,$n=Math.abs(On)>=_e;xt&&(Un||$n)&&xt(en,Mn,On,Cn,an),Un&&(gt&&en.deltaX>0&&gt(en),yt&&en.deltaX<0&&yt(en),At&&At(en),Et&&en.deltaX<0!=hn<0&&Et(en),hn=en.deltaX,Cn[0]=Cn[1]=Cn[2]=0),$n&&(vt&&en.deltaY>0&&vt(en),_t&&en.deltaY<0&&_t(en),bt&&bt(en),Mt&&en.deltaY<0!=rn<0&&Mt(en),rn=en.deltaY,an[0]=an[1]=an[2]=0),(qt||Wt)&&(Ot&&Ot(en),Wt&&(dt(en),Wt=!1),qt=!1),vn&&!(vn=!1)&&Qt&&Qt(en),Xt&&(kt(en),Xt=!1),ln=0},En=function(Mn,On,Un){Cn[Un]+=Mn,an[Un]+=On,en._vx.update(Mn),en._vy.update(On),it?ln||(ln=requestAnimationFrame(nn)):nn()},wn=function(Mn,On){Yt&&!gn&&(en.axis=gn=Math.abs(Mn)>Math.abs(On)?"x":"y",vn=!0),gn!=="y"&&(Cn[2]+=Mn,en._vx.update(Mn,!0)),gn!=="x"&&(an[2]+=On,en._vy.update(On,!0)),it?ln||(ln=requestAnimationFrame(nn)):nn()},In=function(Mn){if(!Sn(Mn,1)){Mn=_getEvent(Mn,ot);var On=Mn.clientX,Un=Mn.clientY,$n=On-en.x,sr=Un-en.y,$t=en.isDragging;en.x=On,en.y=Un,($t||Math.abs(en.startX-On)>=et||Math.abs(en.startY-Un)>=et)&&(dt&&(Wt=!0),$t||(en.isDragging=!0),wn($n,sr),$t||ft&&ft(en))}},Rn=en.onPress=function(Zn){Sn(Zn,1)||(en.axis=gn=null,Zt.pause(),en.isPressed=!0,Zn=_getEvent(Zn),hn=rn=0,en.startX=en.x=Zn.clientX,en.startY=en.y=Zn.clientY,en._vx.reset(),en._vy.reset(),_addListener$2(Ct?nt:bn,_eventTypes[1],In,ot,!0),en.deltaX=en.deltaY=0,pt&&pt(en))},Pn=function(Mn){if(!Sn(Mn,1)){_removeListener$1(Ct?nt:bn,_eventTypes[1],In,!0);var On=en.isDragging&&(Math.abs(en.x-en.startX)>3||Math.abs(en.y-en.startY)>3),Un=_getEvent(Mn);On||(en._vx.reset(),en._vy.reset(),ot&&jt&&gsap$1.delayedCall(.08,function(){if(_getTime$1()-Tn>300&&!Mn.defaultPrevented){if(Mn.target.click)Mn.target.click();else if(bn.createEvent){var $n=bn.createEvent("MouseEvents");$n.initMouseEvent("click",!0,!0,_win$1,1,Un.screenX,Un.screenY,Un.clientX,Un.clientY,!1,!1,!1,!1,0,null),Mn.target.dispatchEvent($n)}}})),en.isDragging=en.isGesturing=en.isPressed=!1,st&&!Ct&&Zt.restart(!0),ht&&On&&ht(en),mt&&mt(en,On)}},Gn=function(Mn){return Mn.touches&&Mn.touches.length>1&&(en.isGesturing=!0)&&Dt(Mn,en.isDragging)},zn=function(){return(en.isGesturing=!1)||Bt(en)},ar=function(Mn){if(!Sn(Mn)){var On=un(),Un=Nt();En((On-Vt)*Ut,(Un-cn)*Ut,1),Vt=On,cn=Un,st&&Zt.restart(!0)}},ir=function(Mn){if(!Sn(Mn)){Mn=_getEvent(Mn,ot),kt&&(Xt=!0);var On=(Mn.deltaMode===1?rt:Mn.deltaMode===2?_win$1.innerHeight:1)*ut;En(Mn.deltaX*On,Mn.deltaY*On,0),st&&!Ct&&Zt.restart(!0)}},rr=function(Mn){if(!Sn(Mn)){var On=Mn.clientX,Un=Mn.clientY,$n=On-en.x,sr=Un-en.y;en.x=On,en.y=Un,qt=!0,($n||sr)&&wn($n,sr)}},mr=function(Mn){en.event=Mn,Tt(en)},cr=function(Mn){en.event=Mn,Lt(en)},tr=function(Mn){return Sn(Mn)||_getEvent(Mn,ot)&&It(en)};Zt=en._dc=gsap$1.delayedCall(at||.25,Ln).pause(),en.deltaX=en.deltaY=0,en._vx=_getVelocityProp(0,50,!0),en._vy=_getVelocityProp(0,50,!0),en.scrollX=un,en.scrollY=Nt,en.isDragging=en.isGesturing=en.isPressed=!1,en.enable=function(Zn){return en.isEnabled||(_addListener$2(mn?bn:nt,"scroll",_onScroll$1),tt.indexOf("scroll")>=0&&_addListener$2(mn?bn:nt,"scroll",ar,ot,Gt),tt.indexOf("wheel")>=0&&_addListener$2(nt,"wheel",ir,ot,Gt),(tt.indexOf("touch")>=0&&_isTouch||tt.indexOf("pointer")>=0)&&(_addListener$2(nt,_eventTypes[0],Rn,ot,Gt),_addListener$2(bn,_eventTypes[2],Pn),_addListener$2(bn,_eventTypes[3],Pn),jt&&_addListener$2(nt,"click",Dn,!1,!0),It&&_addListener$2(nt,"click",tr),Dt&&_addListener$2(bn,"gesturestart",Gn),Bt&&_addListener$2(bn,"gestureend",zn),Tt&&_addListener$2(nt,_pointerType+"enter",mr),Lt&&_addListener$2(nt,_pointerType+"leave",cr),Ot&&_addListener$2(nt,_pointerType+"move",rr)),en.isEnabled=!0,Zn&&Zn.type&&Rn(Zn),zt&&zt(en)),en},en.disable=function(){en.isEnabled&&(_observers.filter(function(Zn){return Zn!==en&&_isViewport$1(Zn.target)}).length||_removeListener$1(mn?bn:nt,"scroll",_onScroll$1),en.isPressed&&(en._vx.reset(),en._vy.reset(),_removeListener$1(Ct?nt:bn,_eventTypes[1],In,!0)),_removeListener$1(mn?bn:nt,"scroll",ar,Gt),_removeListener$1(nt,"wheel",ir,Gt),_removeListener$1(nt,_eventTypes[0],Rn,Gt),_removeListener$1(bn,_eventTypes[2],Pn),_removeListener$1(bn,_eventTypes[3],Pn),_removeListener$1(nt,"click",Dn,!0),_removeListener$1(nt,"click",tr),_removeListener$1(bn,"gesturestart",Gn),_removeListener$1(bn,"gestureend",zn),_removeListener$1(nt,_pointerType+"enter",mr),_removeListener$1(nt,_pointerType+"leave",cr),_removeListener$1(nt,_pointerType+"move",rr),en.isEnabled=en.isPressed=en.isDragging=!1,Ft&&Ft(en))},en.kill=function(){en.disable();var Zn=_observers.indexOf(en);Zn>=0&&_observers.splice(Zn,1),_normalizer$1===en&&(_normalizer$1=0)},_observers.push(en),Ct&&_isViewport$1(nt)&&(_normalizer$1=en),en.enable(ct)},_createClass(j,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),j}();Observer.version="3.11.1";Observer.create=function(j){return new Observer(j)};Observer.register=_initCore;Observer.getAll=function(){return _observers.slice()};Observer.getById=function(j){return _observers.filter(function(g){return g.vars.id===j})[0]};_getGSAP$1()&&gsap$1.registerPlugin(Observer);/*!
 * ScrollTrigger 3.11.1
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap,_coreInitted,_win,_doc,_docEl,_body,_root,_resizeDelay,_toArray,_clamp,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites,_ignoreResize,_normalizer,_ignoreMobileResize,_baseScreenHeight,_baseScreenWidth,_fixIOSBug,_context$1,_limitCallbacks,_startup=1,_getTime=Date.now,_time1=_getTime(),_lastScrollTime=0,_enabled=0,_pointerDownHandler=function(){return _pointerIsDown=1},_pointerUpHandler=function(){return _pointerIsDown=0},_passThrough=function(g){return g},_round=function(g){return Math.round(g*1e5)/1e5||0},_windowExists=function(){return typeof window!="undefined"},_getGSAP=function(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_isViewport=function(g){return!!~_root.indexOf(g)},_getBoundsFunc=function(g){return _getProxyProp(g,"getBoundingClientRect")||(_isViewport(g)?function(){return _winOffsets.width=_win.innerWidth,_winOffsets.height=_win.innerHeight,_winOffsets}:function(){return _getBounds(g)})},_getSizeFunc=function(g,b,$){var _e=$.d,et=$.d2,tt=$.a;return(tt=_getProxyProp(g,"getBoundingClientRect"))?function(){return tt()[_e]}:function(){return(b?_win["inner"+et]:g["client"+et])||0}},_getOffsetsFunc=function(g,b){return!b||~_proxies.indexOf(g)?_getBoundsFunc(g):function(){return _winOffsets}},_maxScroll=function(g,b){var $=b.s,_e=b.d2,et=b.d,tt=b.a;return($="scroll"+_e)&&(tt=_getProxyProp(g,$))?tt()-_getBoundsFunc(g)()[et]:_isViewport(g)?(_docEl[$]||_body[$])-(_win["inner"+_e]||_docEl["client"+_e]||_body["client"+_e]):g[$]-g["offset"+_e]},_iterateAutoRefresh=function(g,b){for(var $=0;$<_autoRefresh.length;$+=3)(!b||~b.indexOf(_autoRefresh[$+1]))&&g(_autoRefresh[$],_autoRefresh[$+1],_autoRefresh[$+2])},_isString=function(g){return typeof g=="string"},_isFunction=function(g){return typeof g=="function"},_isNumber=function(g){return typeof g=="number"},_isObject=function(g){return typeof g=="object"},_endAnimation=function(g,b,$){return g&&g.progress(b?0:1)&&$&&g.pause()},_callback=function(g,b){if(g.enabled){var $=b(g);$&&$.totalTime&&(g.callbackAnimation=$)}},_abs=Math.abs,_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_getComputedStyle=function(g){return _win.getComputedStyle(g)},_makePositionable=function(g){var b=_getComputedStyle(g).position;g.style.position=b==="absolute"||b==="fixed"?b:"relative"},_setDefaults=function(g,b){for(var $ in b)$ in g||(g[$]=b[$]);return g},_getBounds=function(g,b){var $=b&&_getComputedStyle(g)[_transformProp]!=="matrix(1, 0, 0, 1, 0, 0)"&&gsap.to(g,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),_e=g.getBoundingClientRect();return $&&$.progress(0).kill(),_e},_getSize=function(g,b){var $=b.d2;return g["offset"+$]||g["client"+$]||0},_getLabelRatioArray=function(g){var b=[],$=g.labels,_e=g.duration(),et;for(et in $)b.push($[et]/_e);return b},_getClosestLabel=function(g){return function(b){return gsap.utils.snap(_getLabelRatioArray(g),b)}},_snapDirectional=function(g){var b=gsap.utils.snap(g),$=Array.isArray(g)&&g.slice(0).sort(function(_e,et){return _e-et});return $?function(_e,et,tt){tt===void 0&&(tt=.001);var nt;if(!et)return b(_e);if(et>0){for(_e-=tt,nt=0;nt<$.length;nt++)if($[nt]>=_e)return $[nt];return $[nt-1]}else for(nt=$.length,_e+=tt;nt--;)if($[nt]<=_e)return $[nt];return $[0]}:function(_e,et,tt){tt===void 0&&(tt=.001);var nt=b(_e);return!et||Math.abs(nt-_e)<tt||nt-_e<0==et<0?nt:b(et<0?_e-g:_e+g)}},_getLabelAtDirection=function(g){return function(b,$){return _snapDirectional(_getLabelRatioArray(g))(b,$.direction)}},_multiListener=function(g,b,$,_e){return $.split(",").forEach(function(et){return g(b,et,_e)})},_addListener$1=function(g,b,$,_e,et){return g.addEventListener(b,$,{passive:!_e,capture:!!et})},_removeListener=function(g,b,$,_e){return g.removeEventListener(b,$,!!_e)},_wheelListener=function(g,b,$){return $&&$.wheelHandler&&g(b,"wheel",$)},_markerDefaults={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_defaults={toggleActions:"play",anticipatePin:0},_keywords={top:0,left:0,center:.5,bottom:1,right:1},_offsetToPx=function(g,b){if(_isString(g)){var $=g.indexOf("="),_e=~$?+(g.charAt($-1)+1)*parseFloat(g.substr($+1)):0;~$&&(g.indexOf("%")>$&&(_e*=b/100),g=g.substr(0,$-1)),g=_e+(g in _keywords?_keywords[g]*b:~g.indexOf("%")?parseFloat(g)*b/100:parseFloat(g)||0)}return g},_createMarker=function(g,b,$,_e,et,tt,nt,rt){var it=et.startColor,ot=et.endColor,st=et.fontSize,at=et.indent,lt=et.fontWeight,ut=_doc.createElement("div"),ct=_isViewport($)||_getProxyProp($,"pinType")==="fixed",ft=g.indexOf("scroller")!==-1,ht=ct?_body:$,dt=g.indexOf("start")!==-1,pt=dt?it:ot,mt="border-color:"+pt+";font-size:"+st+";color:"+pt+";font-weight:"+lt+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return mt+="position:"+((ft||rt)&&ct?"fixed;":"absolute;"),(ft||rt||!ct)&&(mt+=(_e===_vertical?_right:_bottom)+":"+(tt+parseFloat(at))+"px;"),nt&&(mt+="box-sizing:border-box;text-align:left;width:"+nt.offsetWidth+"px;"),ut._isStart=dt,ut.setAttribute("class","gsap-marker-"+g+(b?" marker-"+b:"")),ut.style.cssText=mt,ut.innerText=b||b===0?g+"-"+b:g,ht.children[0]?ht.insertBefore(ut,ht.children[0]):ht.appendChild(ut),ut._offset=ut["offset"+_e.op.d2],_positionMarker(ut,0,_e,dt),ut},_positionMarker=function(g,b,$,_e){var et={display:"block"},tt=$[_e?"os2":"p2"],nt=$[_e?"p2":"os2"];g._isFlipped=_e,et[$.a+"Percent"]=_e?-100:0,et[$.a]=_e?"1px":0,et["border"+tt+_Width]=1,et["border"+nt+_Width]=0,et[$.p]=b+"px",gsap.set(g,et)},_triggers=[],_ids={},_rafID,_sync=function(){return _getTime()-_lastScrollTime>34&&_updateAll()},_onScroll=function(){(!_normalizer||!_normalizer.isPressed||_normalizer.startX>_body.clientWidth)&&(_scrollers.cache++,_rafID||(_rafID=requestAnimationFrame(_updateAll)),_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime())},_setBaseDimensions=function(){_baseScreenWidth=_win.innerWidth,_baseScreenHeight=_win.innerHeight},_onResize=function(){_scrollers.cache++,!_refreshing&&!_ignoreResize&&!_doc.fullscreenElement&&!_doc.webkitFullscreenElement&&(!_ignoreMobileResize||_baseScreenWidth!==_win.innerWidth||Math.abs(_win.innerHeight-_baseScreenHeight)>_win.innerHeight*.25)&&_resizeDelay.restart(!0)},_listeners$1={},_emptyArray=[],_softRefresh=function j(){return _removeListener(ScrollTrigger,"scrollEnd",j)||_refreshAll(!0)},_dispatch=function(g){return _listeners$1[g]&&_listeners$1[g].map(function(b){return b()})||_emptyArray},_savedStyles=[],_revertRecorded=function(g){for(var b=0;b<_savedStyles.length;b+=5)(!g||_savedStyles[b+4]&&_savedStyles[b+4].query===g)&&(_savedStyles[b].style.cssText=_savedStyles[b+1],_savedStyles[b].getBBox&&_savedStyles[b].setAttribute("transform",_savedStyles[b+2]||""),_savedStyles[b+3].uncache=1)},_revertAll=function(g,b){var $;for(_i=0;_i<_triggers.length;_i++)$=_triggers[_i],$&&(!b||$._ctx===b)&&(g?$.kill(1):$.revert(!0,!0));b&&_revertRecorded(b),b||_dispatch("revert")},_clearScrollMemory=function(){return _scrollers.cache++&&_scrollers.forEach(function(g){return typeof g=="function"&&(g.rec=0)})},_refreshingAll,_refreshID=0,_refreshAll=function(g,b){if(_lastScrollTime&&!g){_addListener$1(ScrollTrigger,"scrollEnd",_softRefresh);return}_refreshingAll=!0;var $=_dispatch("refreshInit");_sort&&ScrollTrigger.sort(),b||_revertAll(),_triggers.slice(0).forEach(function(_e){return _e.refresh()}),_triggers.forEach(function(_e){return _e.vars.end==="max"&&_e.setPositions(_e.start,Math.max(_e.start+1,_maxScroll(_e.scroller,_e._dir)))}),$.forEach(function(_e){return _e&&_e.render&&_e.render(-1)}),_scrollers.forEach(function(_e){return typeof _e=="function"&&_e(_e.rec)}),_clearScrollMemory(),_resizeDelay.pause(),_refreshID++,_refreshingAll=!1,_dispatch("refresh")},_lastScroll=0,_direction=1,_primary,_updateAll=function(){if(!_refreshingAll){ScrollTrigger.isUpdating=!0,_primary&&_primary.update(0);var g=_triggers.length,b=_getTime(),$=b-_time1>=50,_e=g&&_triggers[0].scroll();if(_direction=_lastScroll>_e?-1:1,_lastScroll=_e,$&&(_lastScrollTime&&!_pointerIsDown&&b-_lastScrollTime>200&&(_lastScrollTime=0,_dispatch("scrollEnd")),_time2=_time1,_time1=b),_direction<0){for(_i=g;_i-- >0;)_triggers[_i]&&_triggers[_i].update(0,$);_direction=1}else for(_i=0;_i<g;_i++)_triggers[_i]&&_triggers[_i].update(0,$);ScrollTrigger.isUpdating=!1}_rafID=0},_propNamesToCopy=[_left,_top,_bottom,_right,_margin+_Bottom,_margin+_Right,_margin+_Top,_margin+_Left,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],_stateProps=_propNamesToCopy.concat([_width,_height,"boxSizing","max"+_Width,"max"+_Height,"position",_margin,_padding,_padding+_Top,_padding+_Right,_padding+_Bottom,_padding+_Left]),_swapPinOut=function(g,b,$){_setState($);var _e=g._gsap;if(_e.spacerIsNative)_setState(_e.spacerState);else if(g._gsap.swappedIn){var et=b.parentNode;et&&(et.insertBefore(g,b),et.removeChild(b))}g._gsap.swappedIn=!1},_swapPinIn=function(g,b,$,_e){if(!g._gsap.swappedIn){for(var et=_propNamesToCopy.length,tt=b.style,nt=g.style,rt;et--;)rt=_propNamesToCopy[et],tt[rt]=$[rt];tt.position=$.position==="absolute"?"absolute":"relative",$.display==="inline"&&(tt.display="inline-block"),nt[_bottom]=nt[_right]="auto",tt.flexBasis=$.flexBasis||"auto",tt.overflow="visible",tt.boxSizing="border-box",tt[_width]=_getSize(g,_horizontal)+_px,tt[_height]=_getSize(g,_vertical)+_px,tt[_padding]=nt[_margin]=nt[_top]=nt[_left]="0",_setState(_e),nt[_width]=nt["max"+_Width]=$[_width],nt[_height]=nt["max"+_Height]=$[_height],nt[_padding]=$[_padding],g.parentNode!==b&&(g.parentNode.insertBefore(b,g),b.appendChild(g)),g._gsap.swappedIn=!0}},_capsExp=/([A-Z])/g,_setState=function(g){if(g){var b=g.t.style,$=g.length,_e=0,et,tt;for((g.t._gsap||gsap.core.getCache(g.t)).uncache=1;_e<$;_e+=2)tt=g[_e+1],et=g[_e],tt?b[et]=tt:b[et]&&b.removeProperty(et.replace(_capsExp,"-$1").toLowerCase())}},_getState=function(g){for(var b=_stateProps.length,$=g.style,_e=[],et=0;et<b;et++)_e.push(_stateProps[et],$[_stateProps[et]]);return _e.t=g,_e},_copyState=function(g,b,$){for(var _e=[],et=g.length,tt=$?8:0,nt;tt<et;tt+=2)nt=g[tt],_e.push(nt,nt in b?b[nt]:g[tt+1]);return _e.t=g.t,_e},_winOffsets={left:0,top:0},_parsePosition=function(g,b,$,_e,et,tt,nt,rt,it,ot,st,at,lt){_isFunction(g)&&(g=g(rt)),_isString(g)&&g.substr(0,3)==="max"&&(g=at+(g.charAt(4)==="="?_offsetToPx("0"+g.substr(3),$):0));var ut=lt?lt.time():0,ct,ft,ht;if(lt&&lt.seek(0),_isNumber(g))nt&&_positionMarker(nt,$,_e,!0);else{_isFunction(b)&&(b=b(rt));var dt=(g||"0").split(" "),pt,mt,gt,yt;ht=_getTarget(b)||_body,pt=_getBounds(ht)||{},(!pt||!pt.left&&!pt.top)&&_getComputedStyle(ht).display==="none"&&(yt=ht.style.display,ht.style.display="block",pt=_getBounds(ht),yt?ht.style.display=yt:ht.style.removeProperty("display")),mt=_offsetToPx(dt[0],pt[_e.d]),gt=_offsetToPx(dt[1]||"0",$),g=pt[_e.p]-it[_e.p]-ot+mt+et-gt,nt&&_positionMarker(nt,gt,_e,$-gt<20||nt._isStart&&gt>20),$-=$-gt}if(tt){var _t=g+$,vt=tt._isStart;ct="scroll"+_e.d2,_positionMarker(tt,_t,_e,vt&&_t>20||!vt&&(st?Math.max(_body[ct],_docEl[ct]):tt.parentNode[ct])<=_t+1),st&&(it=_getBounds(nt),st&&(tt.style[_e.op.p]=it[_e.op.p]-_e.op.m-tt._offset+_px))}return lt&&ht&&(ct=_getBounds(ht),lt.seek(at),ft=_getBounds(ht),lt._caScrollDist=ct[_e.p]-ft[_e.p],g=g/lt._caScrollDist*at),lt&&lt.seek(ut),lt?g:Math.round(g)},_prefixExp=/(webkit|moz|length|cssText|inset)/i,_reparent=function(g,b,$,_e){if(g.parentNode!==b){var et=g.style,tt,nt;if(b===_body){g._stOrig=et.cssText,nt=_getComputedStyle(g);for(tt in nt)!+tt&&!_prefixExp.test(tt)&&nt[tt]&&typeof et[tt]=="string"&&tt!=="0"&&(et[tt]=nt[tt]);et.top=$,et.left=_e}else et.cssText=g._stOrig;gsap.core.getCache(g).uncache=1,b.appendChild(g)}},_getTweenCreator=function(g,b){var $=_getScrollFunc(g,b),_e="_scroll"+b.p2,et,tt,nt=function rt(it,ot,st,at,lt){var ut=rt.tween,ct=ot.onComplete,ft={};return st=st||$(),lt=at&&lt||0,at=at||it-st,ut&&ut.kill(),et=Math.round(st),ot[_e]=it,ot.modifiers=ft,ft[_e]=function(ht){return ht=Math.round($()),ht!==et&&ht!==tt&&Math.abs(ht-et)>3&&Math.abs(ht-tt)>3?(ut.kill(),rt.tween=0):ht=st+at*ut.ratio+lt*ut.ratio*ut.ratio,tt=et,et=Math.round(ht)},ot.onComplete=function(){rt.tween=0,ct&&ct.call(ut)},ut=rt.tween=gsap.to(g,ot),ut};return g[_e]=$,$.wheelHandler=function(){return nt.tween&&nt.tween.kill()&&(nt.tween=0)},_addListener$1(g,"wheel",$.wheelHandler),nt},ScrollTrigger=function(){function j(b,$){_coreInitted||j.register(gsap)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(b,$)}var g=j.prototype;return g.init=function($,_e){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!_enabled){this.update=this.refresh=this.kill=_passThrough;return}$=_setDefaults(_isString($)||_isNumber($)||$.nodeType?{trigger:$}:$,_defaults);var et=$,tt=et.onUpdate,nt=et.toggleClass,rt=et.id,it=et.onToggle,ot=et.onRefresh,st=et.scrub,at=et.trigger,lt=et.pin,ut=et.pinSpacing,ct=et.invalidateOnRefresh,ft=et.anticipatePin,ht=et.onScrubComplete,dt=et.onSnapComplete,pt=et.once,mt=et.snap,gt=et.pinReparent,yt=et.pinSpacer,_t=et.containerAnimation,vt=et.fastScrollEnd,At=et.preventOverlaps,bt=$.horizontal||$.containerAnimation&&$.horizontal!==!1?_horizontal:_vertical,xt=!st&&st!==0,Et=_getTarget($.scroller||_win),Mt=gsap.core.getCache(Et),Tt=_isViewport(Et),Lt=("pinType"in $?$.pinType:_getProxyProp(Et,"pinType")||Tt&&"fixed")==="fixed",Ot=[$.onEnter,$.onLeave,$.onEnterBack,$.onLeaveBack],Rt=xt&&$.toggleActions.split(" "),Ct="markers"in $?$.markers:_defaults.markers,Dt=Tt?0:parseFloat(_getComputedStyle(Et)["border"+bt.p2+_Width])||0,Bt=this,kt=$.onRefreshInit&&function(){return $.onRefreshInit(Bt)},zt=_getSizeFunc(Et,Tt,bt),Ft=_getOffsetsFunc(Et,Tt),It=0,Ut=0,Gt=_getScrollFunc(Et,bt),jt,Yt,Qt,ln,Zt,Wt,qt,Xt,vn,gn,en,hn,rn,un,Nt,Vt,cn,dn,mn,bn,Cn,an,Tn,Dn,Sn,Ln,nn,En,wn,In,Rn,Pn,Gn,zn,ar,ir,rr,mr;if(_context$1(Bt),Bt._dir=bt,ft*=45,Bt.scroller=Et,Bt.scroll=_t?_t.time.bind(_t):Gt,ln=Gt(),Bt.vars=$,_e=_e||$.animation,"refreshPriority"in $&&(_sort=1,$.refreshPriority===-9999&&(_primary=Bt)),Mt.tweenScroll=Mt.tweenScroll||{top:_getTweenCreator(Et,_vertical),left:_getTweenCreator(Et,_horizontal)},Bt.tweenTo=jt=Mt.tweenScroll[bt.p],Bt.scrubDuration=function(Mn){Rn=_isNumber(Mn)&&Mn,Rn?In?In.duration(Mn):In=gsap.to(_e,{ease:"expo",totalProgress:"+=0.001",duration:Rn,paused:!0,onComplete:function(){return ht&&ht(Bt)}}):(In&&In.progress(1).kill(),In=0)},_e&&(_e.vars.lazy=!1,_e._initted||_e.vars.immediateRender!==!1&&$.immediateRender!==!1&&_e.render(0,!0,!0),Bt.animation=_e.pause(),_e.scrollTrigger=Bt,Bt.scrubDuration(st),En=0,rt||(rt=_e.vars.id)),_triggers.push(Bt),mt&&((!_isObject(mt)||mt.push)&&(mt={snapTo:mt}),"scrollBehavior"in _body.style&&gsap.set(Tt?[_body,_docEl]:Et,{scrollBehavior:"auto"}),Qt=_isFunction(mt.snapTo)?mt.snapTo:mt.snapTo==="labels"?_getClosestLabel(_e):mt.snapTo==="labelsDirectional"?_getLabelAtDirection(_e):mt.directional!==!1?function(Mn,On){return _snapDirectional(mt.snapTo)(Mn,_getTime()-Ut<500?0:On.direction)}:gsap.utils.snap(mt.snapTo),Pn=mt.duration||{min:.1,max:2},Pn=_isObject(Pn)?_clamp(Pn.min,Pn.max):_clamp(Pn,Pn),Gn=gsap.delayedCall(mt.delay||Rn/2||.1,function(){var Mn=Gt(),On=_getTime()-Ut<500,Un=jt.tween;if((On||Math.abs(Bt.getVelocity())<10)&&!Un&&!_pointerIsDown&&It!==Mn){var $n=(Mn-Wt)/rn,sr=_e&&!xt?_e.totalProgress():$n,$t=On?0:(sr-wn)/(_getTime()-_time2)*1e3||0,pn=gsap.utils.clamp(-$n,1-$n,_abs($t/2)*$t/.185),yn=$n+(mt.inertia===!1?0:pn),_n=_clamp(0,1,Qt(yn,Bt)),xn=Math.round(Wt+_n*rn),Hn=mt,Kn=Hn.onStart,Wn=Hn.onInterrupt,Vn=Hn.onComplete;if(Mn<=qt&&Mn>=Wt&&xn!==Mn){if(Un&&!Un._initted&&Un.data<=_abs(xn-Mn))return;mt.inertia===!1&&(pn=_n-$n),jt(xn,{duration:Pn(_abs(Math.max(_abs(yn-sr),_abs(_n-sr))*.185/$t/.05||0)),ease:mt.ease||"power3",data:_abs(xn-Mn),onInterrupt:function(){return Gn.restart(!0)&&Wn&&Wn(Bt)},onComplete:function(){Bt.update(),It=Gt(),En=wn=_e&&!xt?_e.totalProgress():Bt.progress,dt&&dt(Bt),Vn&&Vn(Bt)}},Mn,pn*rn,xn-Mn-pn*rn),Kn&&Kn(Bt,jt.tween)}}else Bt.isActive&&It!==Mn&&Gn.restart(!0)}).pause()),rt&&(_ids[rt]=Bt),at=Bt.trigger=_getTarget(at||lt),mr=at&&at._gsap&&at._gsap.stRevert,mr&&(mr=mr(Bt)),lt=lt===!0?at:_getTarget(lt),_isString(nt)&&(nt={targets:at,className:nt}),lt&&(ut===!1||ut===_margin||(ut=!ut&&_getComputedStyle(lt.parentNode).display==="flex"?!1:_padding),Bt.pin=lt,$.force3D!==!1&&gsap.set(lt,{force3D:!0}),Yt=gsap.core.getCache(lt),Yt.spacer?un=Yt.pinState:(yt&&(yt=_getTarget(yt),yt&&!yt.nodeType&&(yt=yt.current||yt.nativeElement),Yt.spacerIsNative=!!yt,yt&&(Yt.spacerState=_getState(yt))),Yt.spacer=cn=yt||_doc.createElement("div"),cn.classList.add("pin-spacer"),rt&&cn.classList.add("pin-spacer-"+rt),Yt.pinState=un=_getState(lt)),Bt.spacer=cn=Yt.spacer,nn=_getComputedStyle(lt),Tn=nn[ut+bt.os2],mn=gsap.getProperty(lt),bn=gsap.quickSetter(lt,bt.a,_px),_swapPinIn(lt,cn,nn),Vt=_getState(lt)),Ct){hn=_isObject(Ct)?_setDefaults(Ct,_markerDefaults):_markerDefaults,gn=_createMarker("scroller-start",rt,Et,bt,hn,0),en=_createMarker("scroller-end",rt,Et,bt,hn,0,gn),dn=gn["offset"+bt.op.d2];var cr=_getTarget(_getProxyProp(Et,"content")||Et);Xt=this.markerStart=_createMarker("start",rt,cr,bt,hn,dn,0,_t),vn=this.markerEnd=_createMarker("end",rt,cr,bt,hn,dn,0,_t),_t&&(rr=gsap.quickSetter([Xt,vn],bt.a,_px)),!Lt&&!(_proxies.length&&_getProxyProp(Et,"fixedMarkers")===!0)&&(_makePositionable(Tt?_body:Et),gsap.set([gn,en],{force3D:!0}),Sn=gsap.quickSetter(gn,bt.a,_px),Ln=gsap.quickSetter(en,bt.a,_px))}if(_t){var tr=_t.vars.onUpdate,Zn=_t.vars.onUpdateParams;_t.eventCallback("onUpdate",function(){Bt.update(0,0,1),tr&&tr.apply(Zn||[])})}Bt.previous=function(){return _triggers[_triggers.indexOf(Bt)-1]},Bt.next=function(){return _triggers[_triggers.indexOf(Bt)+1]},Bt.revert=function(Mn,On){if(!On)return Bt.kill(!0);var Un=Mn!==!1||!Bt.enabled,$n=_refreshing;Un!==Bt.isReverted&&(Un&&(!Bt.scroll.rec&&(_refreshing||_refreshingAll)&&(Bt.scroll.rec=Gt(),_refreshingAll&&Gt(0)),ar=Math.max(Gt(),Bt.scroll.rec||0),zn=Bt.progress,ir=_e&&_e.progress()),Xt&&[Xt,vn,gn,en].forEach(function(sr){return sr.style.display=Un?"none":"block"}),Un&&(_refreshing=1),Bt.update(Un),_refreshing=$n,lt&&(Un?_swapPinOut(lt,cn,un):(!gt||!Bt.isActive)&&_swapPinIn(lt,cn,_getComputedStyle(lt),Dn)),Bt.isReverted=Un)},Bt.refresh=function(Mn,On){if(!((_refreshing||!Bt.enabled)&&!On)){if(lt&&Mn&&_lastScrollTime){_addListener$1(j,"scrollEnd",_softRefresh);return}!_refreshingAll&&kt&&kt(Bt),_refreshing=1,Ut=_getTime(),jt.tween&&(jt.tween.kill(),jt.tween=0),In&&In.pause(),ct&&_e&&_e.revert().invalidate(),Bt.isReverted||Bt.revert(!0,!0);for(var Un=zt(),$n=Ft(),sr=_t?_t.duration():_maxScroll(Et,bt),$t=0,pn=0,yn=$.end,_n=$.endTrigger||at,xn=$.start||($.start===0||!at?0:lt?"0 0":"0 100%"),Hn=Bt.pinnedContainer=$.pinnedContainer&&_getTarget($.pinnedContainer),Kn=at&&Math.max(0,_triggers.indexOf(Bt))||0,Wn=Kn,Vn,qn,Yn,nr,er,hr,vr,Sr,xr,or;Wn--;)hr=_triggers[Wn],hr.end||hr.refresh(0,1)||(_refreshing=1),vr=hr.pin,vr&&(vr===at||vr===lt)&&!hr.isReverted&&(or||(or=[]),or.unshift(hr),hr.revert(!0,!0)),hr!==_triggers[Wn]&&(Kn--,Wn--);for(_isFunction(xn)&&(xn=xn(Bt)),Wt=_parsePosition(xn,at,Un,bt,Gt(),Xt,gn,Bt,$n,Dt,Lt,sr,_t)||(lt?-.001:0),_isFunction(yn)&&(yn=yn(Bt)),_isString(yn)&&!yn.indexOf("+=")&&(~yn.indexOf(" ")?yn=(_isString(xn)?xn.split(" ")[0]:"")+yn:($t=_offsetToPx(yn.substr(2),Un),yn=_isString(xn)?xn:Wt+$t,_n=at)),qt=Math.max(Wt,_parsePosition(yn||(_n?"100% 0":sr),_n,Un,bt,Gt()+$t,vn,en,Bt,$n,Dt,Lt,sr,_t))||-.001,rn=qt-Wt||(Wt-=.01)&&.001,$t=0,Wn=Kn;Wn--;)hr=_triggers[Wn],vr=hr.pin,vr&&hr.start-hr._pinPush<Wt&&!_t&&hr.end>0&&(Vn=hr.end-hr.start,(vr===at||vr===Hn)&&!_isNumber(xn)&&($t+=Vn*(1-hr.progress)),vr===lt&&(pn+=Vn));if(Wt+=$t,qt+=$t,Bt._pinPush=pn,Xt&&$t&&(Vn={},Vn[bt.a]="+="+$t,Hn&&(Vn[bt.p]="-="+Gt()),gsap.set([Xt,vn],Vn)),lt)Vn=_getComputedStyle(lt),nr=bt===_vertical,Yn=Gt(),Cn=parseFloat(mn(bt.a))+pn,!sr&&qt>1&&((Tt?_body:Et).style["overflow-"+bt.a]="scroll"),_swapPinIn(lt,cn,Vn),Vt=_getState(lt),qn=_getBounds(lt,!0),Sr=Lt&&_getScrollFunc(Et,nr?_horizontal:_vertical)(),ut&&(Dn=[ut+bt.os2,rn+pn+_px],Dn.t=cn,Wn=ut===_padding?_getSize(lt,bt)+rn+pn:0,Wn&&Dn.push(bt.d,Wn+_px),_setState(Dn),Lt&&Gt(ar)),Lt&&(er={top:qn.top+(nr?Yn-Wt:Sr)+_px,left:qn.left+(nr?Sr:Yn-Wt)+_px,boxSizing:"border-box",position:"fixed"},er[_width]=er["max"+_Width]=Math.ceil(qn.width)+_px,er[_height]=er["max"+_Height]=Math.ceil(qn.height)+_px,er[_margin]=er[_margin+_Top]=er[_margin+_Right]=er[_margin+_Bottom]=er[_margin+_Left]="0",er[_padding]=Vn[_padding],er[_padding+_Top]=Vn[_padding+_Top],er[_padding+_Right]=Vn[_padding+_Right],er[_padding+_Bottom]=Vn[_padding+_Bottom],er[_padding+_Left]=Vn[_padding+_Left],Nt=_copyState(un,er,gt),_refreshingAll&&Gt(0)),_e?(xr=_e._initted,_suppressOverwrites(1),_e.render(_e.duration(),!0,!0),an=mn(bt.a)-Cn+rn+pn,rn!==an&&Lt&&Nt.splice(Nt.length-2,2),_e.render(0,!0,!0),xr||_e.invalidate(),_suppressOverwrites(0)):an=rn;else if(at&&Gt()&&!_t)for(qn=at.parentNode;qn&&qn!==_body;)qn._pinOffset&&(Wt-=qn._pinOffset,qt-=qn._pinOffset),qn=qn.parentNode;or&&or.forEach(function(jn){return jn.revert(!1,!0)}),Bt.start=Wt,Bt.end=qt,ln=Zt=Gt(),!_t&&!_refreshingAll&&(ln<ar&&Gt(ar),Bt.scroll.rec=0),Bt.revert(!1,!0),Gn&&(It=-1,Bt.isActive&&Gt(Wt+rn*zn),Gn.restart(!0)),_refreshing=0,_e&&xt&&(_e._initted||ir)&&_e.progress()!==ir&&_e.progress(ir,!0).render(_e.time(),!0,!0),(zn!==Bt.progress||_t)&&(_e&&!xt&&_e.totalProgress(zn,!0),Bt.progress=(ln-Wt)/rn===zn?0:zn,Bt.update(0,0,1)),lt&&ut&&(cn._pinOffset=Math.round(Bt.progress*an)),ot&&ot(Bt)}},Bt.getVelocity=function(){return(Gt()-Zt)/(_getTime()-_time2)*1e3||0},Bt.endAnimation=function(){_endAnimation(Bt.callbackAnimation),_e&&(In?In.progress(1):_e.paused()?xt||_endAnimation(_e,Bt.direction<0,1):_endAnimation(_e,_e.reversed()))},Bt.labelToScroll=function(Mn){return _e&&_e.labels&&(Wt||Bt.refresh()||Wt)+_e.labels[Mn]/_e.duration()*rn||0},Bt.getTrailing=function(Mn){var On=_triggers.indexOf(Bt),Un=Bt.direction>0?_triggers.slice(0,On).reverse():_triggers.slice(On+1);return(_isString(Mn)?Un.filter(function($n){return $n.vars.preventOverlaps===Mn}):Un).filter(function($n){return Bt.direction>0?$n.end<=Wt:$n.start>=qt})},Bt.update=function(Mn,On,Un){if(!(_t&&!Un&&!Mn)){var $n=Bt.scroll(),sr=Mn?0:($n-Wt)/rn,$t=sr<0?0:sr>1?1:sr||0,pn=Bt.progress,yn,_n,xn,Hn,Kn,Wn,Vn,qn;if(On&&(Zt=ln,ln=_t?Gt():$n,mt&&(wn=En,En=_e&&!xt?_e.totalProgress():$t)),ft&&!$t&&lt&&!_refreshing&&!_startup&&_lastScrollTime&&Wt<$n+($n-Zt)/(_getTime()-_time2)*ft&&($t=1e-4),$t!==pn&&Bt.enabled){if(yn=Bt.isActive=!!$t&&$t<1,_n=!!pn&&pn<1,Wn=yn!==_n,Kn=Wn||!!$t!=!!pn,Bt.direction=$t>pn?1:-1,Bt.progress=$t,Kn&&!_refreshing&&(xn=$t&&!pn?0:$t===1?1:pn===1?2:3,xt&&(Hn=!Wn&&Rt[xn+1]!=="none"&&Rt[xn+1]||Rt[xn],qn=_e&&(Hn==="complete"||Hn==="reset"||Hn in _e))),At&&(Wn||qn)&&(qn||st||!_e)&&(_isFunction(At)?At(Bt):Bt.getTrailing(At).forEach(function(hr){return hr.endAnimation()})),xt||(In&&!_refreshing&&!_startup?((_t||_primary&&_primary!==Bt)&&In.render(In._dp._time-In._start),In.resetTo?In.resetTo("totalProgress",$t,_e._tTime/_e._tDur):(In.vars.totalProgress=$t,In.invalidate().restart())):_e&&_e.totalProgress($t,!!_refreshing)),lt){if(Mn&&ut&&(cn.style[ut+bt.os2]=Tn),!Lt)bn(_round(Cn+an*$t));else if(Kn){if(Vn=!Mn&&$t>pn&&qt+1>$n&&$n+1>=_maxScroll(Et,bt),gt)if(!Mn&&(yn||Vn)){var Yn=_getBounds(lt,!0),nr=$n-Wt;_reparent(lt,_body,Yn.top+(bt===_vertical?nr:0)+_px,Yn.left+(bt===_vertical?0:nr)+_px)}else _reparent(lt,cn);_setState(yn||Vn?Nt:Vt),an!==rn&&$t<1&&yn||bn(Cn+($t===1&&!Vn?an:0))}}mt&&!jt.tween&&!_refreshing&&!_startup&&Gn.restart(!0),nt&&(Wn||pt&&$t&&($t<1||!_limitCallbacks))&&_toArray(nt.targets).forEach(function(hr){return hr.classList[yn||pt?"add":"remove"](nt.className)}),tt&&!xt&&!Mn&&tt(Bt),Kn&&!_refreshing?(xt&&(qn&&(Hn==="complete"?_e.pause().totalProgress(1):Hn==="reset"?_e.restart(!0).pause():Hn==="restart"?_e.restart(!0):_e[Hn]()),tt&&tt(Bt)),(Wn||!_limitCallbacks)&&(it&&Wn&&_callback(Bt,it),Ot[xn]&&_callback(Bt,Ot[xn]),pt&&($t===1?Bt.kill(!1,1):Ot[xn]=0),Wn||(xn=$t===1?1:3,Ot[xn]&&_callback(Bt,Ot[xn]))),vt&&!yn&&Math.abs(Bt.getVelocity())>(_isNumber(vt)?vt:2500)&&(_endAnimation(Bt.callbackAnimation),In?In.progress(1):_endAnimation(_e,Hn==="reverse"?1:!$t,1))):xt&&tt&&!_refreshing&&tt(Bt)}if(Ln){var er=_t?$n/_t.duration()*(_t._caScrollDist||0):$n;Sn(er+(gn._isFlipped?1:0)),Ln(er)}rr&&rr(-$n/_t.duration()*(_t._caScrollDist||0))}},Bt.enable=function(Mn,On){Bt.enabled||(Bt.enabled=!0,_addListener$1(Et,"resize",_onResize),_addListener$1(Tt?_doc:Et,"scroll",_onScroll),kt&&_addListener$1(j,"refreshInit",kt),Mn!==!1&&(Bt.progress=zn=0,ln=Zt=It=Gt()),On!==!1&&Bt.refresh())},Bt.getTween=function(Mn){return Mn&&jt?jt.tween:In},Bt.setPositions=function(Mn,On){lt&&(Cn+=Mn-Wt,an+=On-Mn-rn),Bt.start=Wt=Mn,Bt.end=qt=On,rn=On-Mn,Bt.update()},Bt.disable=function(Mn,On){if(Bt.enabled&&(Mn!==!1&&Bt.revert(!0,!0),Bt.enabled=Bt.isActive=!1,On||In&&In.pause(),ar=0,Yt&&(Yt.uncache=1),kt&&_removeListener(j,"refreshInit",kt),Gn&&(Gn.pause(),jt.tween&&jt.tween.kill()&&(jt.tween=0)),!Tt)){for(var Un=_triggers.length;Un--;)if(_triggers[Un].scroller===Et&&_triggers[Un]!==Bt)return;_removeListener(Et,"resize",_onResize),_removeListener(Et,"scroll",_onScroll)}},Bt.kill=function(Mn,On){Bt.disable(Mn,On),In&&!On&&In.kill(),rt&&delete _ids[rt];var Un=_triggers.indexOf(Bt);Un>=0&&_triggers.splice(Un,1),Un===_i&&_direction>0&&_i--,Un=0,_triggers.forEach(function($n){return $n.scroller===Bt.scroller&&(Un=1)}),Un||_refreshingAll||(Bt.scroll.rec=0),_e&&(_e.scrollTrigger=null,Mn&&_e.render(-1),On||_e.kill()),Xt&&[Xt,vn,gn,en].forEach(function($n){return $n.parentNode&&$n.parentNode.removeChild($n)}),_primary===Bt&&(_primary=0),lt&&(Yt&&(Yt.uncache=1),Un=0,_triggers.forEach(function($n){return $n.pin===lt&&Un++}),Un||(Yt.spacer=0)),$.onKill&&$.onKill(Bt)},Bt.enable(!1,!1),mr&&mr(Bt),!_e||!_e.add||rn?Bt.refresh():gsap.delayedCall(.01,function(){return Wt||qt||Bt.refresh()})&&(rn=.01)&&(Wt=qt=0)},j.register=function($){return _coreInitted||(gsap=$||_getGSAP(),_windowExists()&&window.document&&j.enable(),_coreInitted=_enabled),_coreInitted},j.defaults=function($){if($)for(var _e in $)_defaults[_e]=$[_e];return _defaults},j.disable=function($,_e){_enabled=0,_triggers.forEach(function(tt){return tt[_e?"kill":"disable"]($)}),_removeListener(_win,"wheel",_onScroll),_removeListener(_doc,"scroll",_onScroll),clearInterval(_syncInterval),_removeListener(_doc,"touchcancel",_passThrough),_removeListener(_body,"touchstart",_passThrough),_multiListener(_removeListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_removeListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_resizeDelay.kill(),_iterateAutoRefresh(_removeListener);for(var et=0;et<_scrollers.length;et+=3)_wheelListener(_removeListener,_scrollers[et],_scrollers[et+1]),_wheelListener(_removeListener,_scrollers[et],_scrollers[et+2])},j.enable=function(){if(_win=window,_doc=document,_docEl=_doc.documentElement,_body=_doc.body,gsap&&(_toArray=gsap.utils.toArray,_clamp=gsap.utils.clamp,_context$1=gsap.core.context||_passThrough,_suppressOverwrites=gsap.core.suppressOverwrites||_passThrough,gsap.core.globals("ScrollTrigger",j),_body)){_enabled=1,Observer.register(gsap),j.isTouch=Observer.isTouch,_fixIOSBug=Observer.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),_addListener$1(_win,"wheel",_onScroll),_root=[_win,_doc,_docEl,_body],gsap.matchMedia?(j.matchMedia=function(rt){var it=gsap.matchMedia(),ot;for(ot in rt)it.add(ot,rt[ot]);return it},gsap.addEventListener("matchMediaInit",function(){return _revertAll()}),gsap.addEventListener("matchMediaRevert",function(){return _revertRecorded()}),gsap.addEventListener("matchMedia",function(){_refreshAll(0,1),_dispatch("matchMedia")}),gsap.matchMedia("(orientation: portrait)",function(){return _setBaseDimensions(),_setBaseDimensions})):console.warn("Requires GSAP 3.11.0 or later"),_addListener$1(_doc,"scroll",_onScroll);var $=_body.style,_e=$.borderTopStyle,et=gsap.core.Animation.prototype,tt,nt;for(et.revert||Object.defineProperty(et,"revert",{value:function(){return this.time(-.01,!0)}}),$.borderTopStyle="solid",tt=_getBounds(_body),_vertical.m=Math.round(tt.top+_vertical.sc())||0,_horizontal.m=Math.round(tt.left+_horizontal.sc())||0,_e?$.borderTopStyle=_e:$.removeProperty("border-top-style"),_syncInterval=setInterval(_sync,250),gsap.delayedCall(.5,function(){return _startup=0}),_addListener$1(_doc,"touchcancel",_passThrough),_addListener$1(_body,"touchstart",_passThrough),_multiListener(_addListener$1,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_addListener$1,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_transformProp=gsap.utils.checkPrefix("transform"),_stateProps.push(_transformProp),_coreInitted=_getTime(),_resizeDelay=gsap.delayedCall(.2,_refreshAll).pause(),_autoRefresh=[_doc,"visibilitychange",function(){var rt=_win.innerWidth,it=_win.innerHeight;_doc.hidden?(_prevWidth=rt,_prevHeight=it):(_prevWidth!==rt||_prevHeight!==it)&&_onResize()},_doc,"DOMContentLoaded",_refreshAll,_win,"load",_refreshAll,_win,"resize",_onResize],_iterateAutoRefresh(_addListener$1),_triggers.forEach(function(rt){return rt.enable(0,1)}),nt=0;nt<_scrollers.length;nt+=3)_wheelListener(_removeListener,_scrollers[nt],_scrollers[nt+1]),_wheelListener(_removeListener,_scrollers[nt],_scrollers[nt+2])}},j.config=function($){"limitCallbacks"in $&&(_limitCallbacks=!!$.limitCallbacks);var _e=$.syncInterval;_e&&clearInterval(_syncInterval)||(_syncInterval=_e)&&setInterval(_sync,_e),"ignoreMobileResize"in $&&(_ignoreMobileResize=j.isTouch===1&&$.ignoreMobileResize),"autoRefreshEvents"in $&&(_iterateAutoRefresh(_removeListener)||_iterateAutoRefresh(_addListener$1,$.autoRefreshEvents||"none"),_ignoreResize=($.autoRefreshEvents+"").indexOf("resize")===-1)},j.scrollerProxy=function($,_e){var et=_getTarget($),tt=_scrollers.indexOf(et),nt=_isViewport(et);~tt&&_scrollers.splice(tt,nt?6:2),_e&&(nt?_proxies.unshift(_win,_e,_body,_e,_docEl,_e):_proxies.unshift(et,_e))},j.clearMatchMedia=function($){_triggers.forEach(function(_e){return _e._ctx&&_e._ctx.query===$&&_e._ctx.kill(!0,!0)})},j.isInViewport=function($,_e,et){var tt=(_isString($)?_getTarget($):$).getBoundingClientRect(),nt=tt[et?_width:_height]*_e||0;return et?tt.right-nt>0&&tt.left+nt<_win.innerWidth:tt.bottom-nt>0&&tt.top+nt<_win.innerHeight},j.positionInViewport=function($,_e,et){_isString($)&&($=_getTarget($));var tt=$.getBoundingClientRect(),nt=tt[et?_width:_height],rt=_e==null?nt/2:_e in _keywords?_keywords[_e]*nt:~_e.indexOf("%")?parseFloat(_e)*nt/100:parseFloat(_e)||0;return et?(tt.left+rt)/_win.innerWidth:(tt.top+rt)/_win.innerHeight},j.killAll=function($){if(_triggers.forEach(function(et){return et.vars.id!=="ScrollSmoother"&&et.kill()}),$!==!0){var _e=_listeners$1.killAll||[];_listeners$1={},_e.forEach(function(et){return et()})}},j}();ScrollTrigger.version="3.11.1";ScrollTrigger.saveStyles=function(j){return j?_toArray(j).forEach(function(g){if(g&&g.style){var b=_savedStyles.indexOf(g);b>=0&&_savedStyles.splice(b,5),_savedStyles.push(g,g.style.cssText,g.getBBox&&g.getAttribute("transform"),gsap.core.getCache(g),_context$1())}}):_savedStyles};ScrollTrigger.revert=function(j,g){return _revertAll(!j,g)};ScrollTrigger.create=function(j,g){return new ScrollTrigger(j,g)};ScrollTrigger.refresh=function(j){return j?_onResize():(_coreInitted||ScrollTrigger.register())&&_refreshAll(!0)};ScrollTrigger.update=_updateAll;ScrollTrigger.clearScrollMemory=_clearScrollMemory;ScrollTrigger.maxScroll=function(j,g){return _maxScroll(j,g?_horizontal:_vertical)};ScrollTrigger.getScrollFunc=function(j,g){return _getScrollFunc(_getTarget(j),g?_horizontal:_vertical)};ScrollTrigger.getById=function(j){return _ids[j]};ScrollTrigger.getAll=function(){return _triggers.filter(function(j){return j.vars.id!=="ScrollSmoother"})};ScrollTrigger.isScrolling=function(){return!!_lastScrollTime};ScrollTrigger.snapDirectional=_snapDirectional;ScrollTrigger.addEventListener=function(j,g){var b=_listeners$1[j]||(_listeners$1[j]=[]);~b.indexOf(g)||b.push(g)};ScrollTrigger.removeEventListener=function(j,g){var b=_listeners$1[j],$=b&&b.indexOf(g);$>=0&&b.splice($,1)};ScrollTrigger.batch=function(j,g){var b=[],$={},_e=g.interval||.016,et=g.batchMax||1e9,tt=function(it,ot){var st=[],at=[],lt=gsap.delayedCall(_e,function(){ot(st,at),st=[],at=[]}).pause();return function(ut){st.length||lt.restart(!0),st.push(ut.trigger),at.push(ut),et<=st.length&&lt.progress(1)}},nt;for(nt in g)$[nt]=nt.substr(0,2)==="on"&&_isFunction(g[nt])&&nt!=="onRefreshInit"?tt(nt,g[nt]):g[nt];return _isFunction(et)&&(et=et(),_addListener$1(ScrollTrigger,"refresh",function(){return et=g.batchMax()})),_toArray(j).forEach(function(rt){var it={};for(nt in $)it[nt]=$[nt];it.trigger=rt,b.push(ScrollTrigger.create(it))}),b};var _clampScrollAndGetDurationMultiplier=function(g,b,$,_e){return b>_e?g(_e):b<0&&g(0),$>_e?(_e-b)/($-b):$<0?b/(b-$):1},_allowNativePanning=function j(g,b){b===!0?g.style.removeProperty("touch-action"):g.style.touchAction=b===!0?"auto":b?"pan-"+b+(Observer.isTouch?" pinch-zoom":""):"none",g===_docEl&&j(_body,b)},_overflow={auto:1,scroll:1},_nestedScroll=function(g){var b=g.event,$=g.target,_e=g.axis,et=(b.changedTouches?b.changedTouches[0]:b).target,tt=et._gsap||gsap.core.getCache(et),nt=_getTime(),rt;if(!tt._isScrollT||nt-tt._isScrollT>2e3){for(;et&&et.scrollHeight<=et.clientHeight;)et=et.parentNode;tt._isScroll=et&&!_isViewport(et)&&et!==$&&(_overflow[(rt=_getComputedStyle(et)).overflowY]||_overflow[rt.overflowX]),tt._isScrollT=nt}(tt._isScroll||_e==="x")&&(b.stopPropagation(),b._gsapAllow=!0)},_inputObserver=function(g,b,$,_e){return Observer.create({target:g,capture:!0,debounce:!1,lockAxis:!0,type:b,onWheel:_e=_e&&_nestedScroll,onPress:_e,onDrag:_e,onScroll:_e,onEnable:function(){return $&&_addListener$1(_doc,Observer.eventTypes[0],_captureInputs,!1,!0)},onDisable:function(){return _removeListener(_doc,Observer.eventTypes[0],_captureInputs,!0)}})},_inputExp=/(input|label|select|textarea)/i,_inputIsFocused,_captureInputs=function(g){var b=_inputExp.test(g.target.tagName);(b||_inputIsFocused)&&(g._gsapAllow=!0,_inputIsFocused=b)},_getScrollNormalizer=function(g){_isObject(g)||(g={}),g.preventDefault=g.isNormalizer=g.allowClicks=!0,g.type||(g.type="wheel,touch"),g.debounce=!!g.debounce,g.id=g.id||"normalizer";var b=g,$=b.normalizeScrollX,_e=b.momentum,et=b.allowNestedScroll,tt,nt,rt=_getTarget(g.target)||_docEl,it=gsap.core.globals().ScrollSmoother,ot=it&&it.get(),st=_fixIOSBug&&(g.content&&_getTarget(g.content)||ot&&g.content!==!1&&!ot.smooth()&&ot.content()),at=_getScrollFunc(rt,_vertical),lt=_getScrollFunc(rt,_horizontal),ut=1,ct=(Observer.isTouch&&_win.visualViewport?_win.visualViewport.scale*_win.visualViewport.width:_win.outerWidth)/_win.innerWidth,ft=0,ht=_isFunction(_e)?function(){return _e(tt)}:function(){return _e||2.8},dt,pt,mt=_inputObserver(rt,g.type,!0,et),gt=function(){return pt=!1},yt=_passThrough,_t=_passThrough,vt=function(){nt=_maxScroll(rt,_vertical),_t=_clamp(_fixIOSBug?1:0,nt),$&&(yt=_clamp(0,_maxScroll(rt,_horizontal))),dt=_refreshID},At=function(){st._gsap.y=_round(parseFloat(st._gsap.y)+at.offset)+"px",st.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(st._gsap.y)+", 0, 1)",at.offset=at.cacheID=0},bt=function(){if(pt){requestAnimationFrame(gt);var Rt=_round(tt.deltaY/2),Ct=_t(at.v-Rt);if(st&&Ct!==at.v+at.offset){at.offset=Ct-at.v;var Dt=_round((parseFloat(st&&st._gsap.y)||0)-at.offset);st.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Dt+", 0, 1)",st._gsap.y=Dt+"px",at.cacheID=_scrollers.cache,_updateAll()}return!0}at.offset&&At(),pt=!0},xt,Et,Mt,Tt,Lt=function(){vt(),xt.isActive()&&xt.vars.scrollY>nt&&(at()>nt?xt.progress(1)&&at(nt):xt.resetTo("scrollY",nt))};return st&&gsap.set(st,{y:"+=0"}),g.ignoreCheck=function(Ot){return _fixIOSBug&&Ot.type==="touchmove"&&bt()||ut>1.05&&Ot.type!=="touchstart"||tt.isGesturing||Ot.touches&&Ot.touches.length>1},g.onPress=function(){var Ot=ut;ut=_round((_win.visualViewport&&_win.visualViewport.scale||1)/ct),xt.pause(),Ot!==ut&&_allowNativePanning(rt,ut>1.01?!0:$?!1:"x"),Et=lt(),Mt=at(),vt(),dt=_refreshID},g.onRelease=g.onGestureStart=function(Ot,Rt){if(at.offset&&At(),!Rt)Tt.restart(!0);else{_scrollers.cache++;var Ct=ht(),Dt,Bt;$&&(Dt=lt(),Bt=Dt+Ct*.05*-Ot.velocityX/.227,Ct*=_clampScrollAndGetDurationMultiplier(lt,Dt,Bt,_maxScroll(rt,_horizontal)),xt.vars.scrollX=yt(Bt)),Dt=at(),Bt=Dt+Ct*.05*-Ot.velocityY/.227,Ct*=_clampScrollAndGetDurationMultiplier(at,Dt,Bt,_maxScroll(rt,_vertical)),xt.vars.scrollY=_t(Bt),xt.invalidate().duration(Ct).play(.01),(_fixIOSBug&&xt.vars.scrollY>=nt||Dt>=nt-1)&&gsap.to({},{onUpdate:Lt,duration:Ct})}},g.onWheel=function(){xt._ts&&xt.pause(),_getTime()-ft>1e3&&(dt=0,ft=_getTime())},g.onChange=function(Ot,Rt,Ct,Dt,Bt){if(_refreshID!==dt&&vt(),Rt&&$&&lt(yt(Dt[2]===Rt?Et+(Ot.startX-Ot.x):lt()+Rt-Dt[1])),Ct){at.offset&&At();var kt=Bt[2]===Ct,zt=kt?Mt+Ot.startY-Ot.y:at()+Ct-Bt[1],Ft=_t(zt);kt&&zt!==Ft&&(Mt+=Ft-zt),at(Ft)}(Ct||Rt)&&_updateAll()},g.onEnable=function(){_allowNativePanning(rt,$?!1:"x"),_addListener$1(_win,"resize",Lt),mt.enable()},g.onDisable=function(){_allowNativePanning(rt,!0),_removeListener(_win,"resize",Lt),mt.kill()},g.lockAxis=g.lockAxis!==!1,tt=new Observer(g),tt.iOS=_fixIOSBug,_fixIOSBug&&!at()&&at(1),_fixIOSBug&&gsap.ticker.add(_passThrough),Tt=tt._dc,xt=gsap.to(tt,{ease:"power4",paused:!0,scrollX:$?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:Tt.vars.onComplete}),tt};ScrollTrigger.sort=function(j){return _triggers.sort(j||function(g,b){return(g.vars.refreshPriority||0)*-1e6+g.start-(b.start+(b.vars.refreshPriority||0)*-1e6)})};ScrollTrigger.observe=function(j){return new Observer(j)};ScrollTrigger.normalizeScroll=function(j){if(typeof j=="undefined")return _normalizer;if(j===!0&&_normalizer)return _normalizer.enable();if(j===!1)return _normalizer&&_normalizer.kill();var g=j instanceof Observer?j:_getScrollNormalizer(j);return _normalizer&&_normalizer.target===g.target&&_normalizer.kill(),_isViewport(g.target)&&(_normalizer=g),g};ScrollTrigger.core={_getVelocityProp,_inputObserver,_scrollers,_proxies,bridge:{ss:function(){_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime()},ref:function(){return _refreshing}}};_getGSAP()&&gsap.registerPlugin(ScrollTrigger);var css$h={},flowplayer$1=(()=>`:root{--fp-play-circle-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-2 -2 50 50' fill='white' %3E%3Ccircle cx='22.9' cy='22.9' r='23.5' stroke='white' fill='none' stroke-width='2'%3E%3C/circle%3E%3Cpath d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='translate(11.5, 9.8) scale(.57) rotate(90 20 25.4)'%3E%3C/path%3E%3C/svg%3E");--fp-play-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-2 -2 50 50' fill='white' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath id='fp-play-button' d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='rotate(90 20 25.4)' /%3E%3C/svg%3E");--fp-play-stroke-icon: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-2 -2 50 50' fill='none' stroke-width='2' stroke='white' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath id='fp-play-button' d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='rotate(90 20 25.4)' /%3E%3C/svg%3E");--fp-pause-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-2 -2 50 50' fill='white' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Crect x='8.5' y='5' width='11' height='36'/%3E%3Crect x='26.5' y='5' width='11' height='36'/%3E%3C/svg%3E");--fp-pause-stroke-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-2 -2 50 50' fill='none' stroke-width='2' stroke='white' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Crect x='8.5' y='5' width='11' height='36'/%3E%3Crect x='26.5' y='5' width='11' height='36'/%3E%3C/svg%3E");--fp-volume-icon: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-2 -2 36 58' fill='white' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath rx='1' ry='1' d='M0 15h30v24H0z' /%3E%3Cpath d='M1 27L31 0v54z' /%3E%3C/svg%3E");--fp-fs-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-1 -2 40 30' fill='none' stroke-width='2' stroke='white' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath id='FS' d='M1 9V1h12' /%3E%3Cpath id='FS' d='M1 9V1h12' transform='matrix(1 0 0 -1 0 26)' /%3E%3Cpath id='FS' d='M1 9V1h12' transform='matrix(-1 0 0 1 36 0)' /%3E%3Cpath id='FS' d='M1 9V1h12' transform='rotate(180 18 13)' /%3E%3C/svg%3E");--fp-fs-exit-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-1 -2 40 30' fill='none' stroke-width='2' stroke='white' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath id='FS' d='M1 9V1h12' transform='translate(22 17)' /%3E%3Cpath id='FS' d='M1 9V1h12' transform='matrix(-1 0 0 1 13 17)' /%3E%3Cpath id='FS' d='M1 9V1h12' transform='rotate(180 6.5 4.5)' /%3E%3Cpath id='FS' d='M1 9V1h12' transform='matrix(1 0 0 -1 22 9)' /%3E%3C/svg%3E");--fp-facebook-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-5 25 460 460' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath fill='%234469B0' d='M448 56.7v398.5c0 13.7-11.1 24.7-24.7 24.7H309.1V306.5h58.2l8.7-67.6h-67v-43.2c0-19.6 5.4-32.9 33.5-32.9h35.8v-60.5c-6.2-.8-27.4-2.7-52.2-2.7-51.6 0-87 31.5-87 89.4v49.9h-58.4v67.6h58.4V480H24.7C11.1 480 0 468.9 0 455.3V56.7C0 43.1 11.1 32 24.7 32h398.5c13.7 0 24.8 11.1 24.8 24.7z'/%3E%3C/svg%3E%0A");--fp-link-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='0 0 512 512' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath fill='white' d='M301.148 394.702l-79.2 79.19c-50.778 50.799-133.037 50.824-183.84 0-50.799-50.778-50.824-133.037 0-183.84l79.19-79.2a132.833 132.833 0 0 1 3.532-3.403c7.55-7.005 19.795-2.004 20.208 8.286.193 4.807.598 9.607 1.216 14.384.481 3.717-.746 7.447-3.397 10.096-16.48 16.469-75.142 75.128-75.3 75.286-36.738 36.759-36.731 96.188 0 132.94 36.759 36.738 96.188 36.731 132.94 0l79.2-79.2.36-.36c36.301-36.672 36.14-96.07-.37-132.58-8.214-8.214-17.577-14.58-27.585-19.109-4.566-2.066-7.426-6.667-7.134-11.67a62.197 62.197 0 0 1 2.826-15.259c2.103-6.601 9.531-9.961 15.919-7.28 15.073 6.324 29.187 15.62 41.435 27.868 50.688 50.689 50.679 133.17 0 183.851zm-90.296-93.554c12.248 12.248 26.362 21.544 41.435 27.868 6.388 2.68 13.816-.68 15.919-7.28a62.197 62.197 0 0 0 2.826-15.259c.292-5.003-2.569-9.604-7.134-11.67-10.008-4.528-19.371-10.894-27.585-19.109-36.51-36.51-36.671-95.908-.37-132.58l.36-.36 79.2-79.2c36.752-36.731 96.181-36.738 132.94 0 36.731 36.752 36.738 96.181 0 132.94-.157.157-58.819 58.817-75.3 75.286-2.651 2.65-3.878 6.379-3.397 10.096a163.156 163.156 0 0 1 1.216 14.384c.413 10.291 12.659 15.291 20.208 8.286a131.324 131.324 0 0 0 3.532-3.403l79.19-79.2c50.824-50.803 50.799-133.062 0-183.84-50.802-50.824-133.062-50.799-183.84 0l-79.2 79.19c-50.679 50.682-50.688 133.163 0 183.851z'/%3E%3C/svg%3E");--fp-share-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  fill='white' viewBox='0 0 448 512' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath d='M448 416c0 53.019-42.981 96-96 96s-96-42.981-96-96c0-12.965 2.576-25.327 7.235-36.61l-95.45-59.657C150.199 339.525 124.558 352 96 352c-53.019 0-96-42.981-96-96s42.981-96 96-96c28.558 0 54.199 12.475 71.784 32.267l95.45-59.657C258.576 121.327 256 108.965 256 96c0-53.019 42.981-96 96-96s96 42.981 96 96-42.981 96-96 96c-28.558 0-54.199-12.475-71.784-32.267l-95.451 59.656c9.661 23.396 9.641 49.87 0 73.22l95.451 59.656C297.801 332.475 323.442 320 352 320c53.019 0 96 42.981 96 96zM352 32c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64M96 192c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64m256 160c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64'/%3E%3C/svg%3E");--fp-embed-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  fill='white' viewBox='0 0 512 512' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath d='M448 416c0 53.019-42.981 96-96 96s-96-42.981-96-96c0-12.965 2.576-25.327 7.235-36.61l-95.45-59.657C150.199 339.525 124.558 352 96 352c-53.019 0-96-42.981-96-96s42.981-96 96-96c28.558 0 54.199 12.475 71.784 32.267l95.45-59.657C258.576 121.327 256 108.965 256 96c0-53.019 42.981-96 96-96s96 42.981 96 96-42.981 96-96 96c-28.558 0-54.199-12.475-71.784-32.267l-95.451 59.656c9.661 23.396 9.641 49.87 0 73.22l95.451 59.656C297.801 332.475 323.442 320 352 320c53.019 0 96 42.981 96 96zM352 32c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64M96 192c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64m256 160c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64'/%3E%3C/svg%3E");--fp-twitter-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='0 0 512 512' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath fill='%2329A3EF' d='M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z'/%3E%3C/svg%3E");--fp-airplay-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  fill='white' viewBox='0 0 512 512' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath d='M116.364 477.091h279.272L256 337.455z'/%3E%3Cpath d='M465.455 34.909H46.545C20.945 34.909 0 55.855 0 81.455v279.273c0 25.6 20.945 46.545 46.545 46.545h93.091v-46.545H46.545V81.455h418.909v279.273h-93.091v46.545h93.091c25.6 0 46.545-20.945 46.545-46.545V81.455c.001-25.6-20.944-46.546-46.544-46.546z'/%3E%3C/svg%3E");--fp-skip-prev-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 41 42' fill='%23fff' fill-rule='evenodd'%3E%3Cpath transform='rotate(180 21 21)' d='M33.23 22.696L3.56 41.223A2 2 0 0 1 .5 39.527V2.473A2 2 0 0 1 3.56.776l29.67 18.527a2 2 0 0 1 0 3.393z'/%3E%3Crect transform='rotate(180 21 21)' x='33' y='.5' width='7' height='41' rx='2'/%3E%3C/svg%3E");--fp-skip-next-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='0 0 41 42' fill='%23fff' fill-rule='evenodd' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath d='M33.23 22.696L3.56 41.223A2 2 0 0 1 .5 39.527V2.473A2 2 0 0 1 3.56.776l29.67 18.527a2 2 0 0 1 0 3.393z'/%3E%3Crect x='33' y='.5' width='7' height='41' rx='2'/%3E%3C/svg%3E");--fp-close-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='19 0 80 80' fill='%23fff' stroke='%23fff' stroke-width='5' stroke-linecap='round' stroke-linejoin='round' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath d='M 48.651772,50.269646 69.395223,25.971024'/%3E%3Cpath d='M 69.395223,50.269646 48.651772,25.971024'/%3E%3C/svg%3E");--fp-unmute-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-22 -22 122 122' fill='%23fff' stroke='%23fff' stroke-width='5' stroke-linecap='round' stroke-linejoin='round' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath d='M39.389,13.769 L22.235,28.606 L6,28.606 L6,47.699 L21.989,47.699 L39.389,62.75 L39.389,13.769z'/%3E%3Cpath fill='none' d='M48,27.6a19.5,19.5 0 0 1 0,21.4M55.1,20.5a30,30 0 0 1 0,35.6M61.6,14a38.8,38.8 0 0 1 0,48.6'/%3E%3C/svg%3E");--fp-mute-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='-22 -22 122 122' fill='%23fff' stroke='%23fff' stroke-width='5' stroke-linecap='round' stroke-linejoin='round' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath d='M39.389,13.769 L22.235,28.606 L6,28.606 L6,47.699 L21.989,47.699 L39.389,62.75 L39.389,13.769z'/%3E%3Cpath d='M 48.651772,50.269646 69.395223,25.971024'/%3E%3Cpath d='M 69.395223,50.269646 48.651772,25.971024'/%3E%3C/svg%3E");--fp-fast-forward-icon: url("data:image/svg+xml,%3Csvg fill='white' xmlns='http://www.w3.org/2000/svg'%3E%3Csvg viewBox='0 0 50 50' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='rotate(90 20 25.4)' /%3E%3C/svg%3E%3Csvg viewBox='-25 0 50 50' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='rotate(90 20 25.4)' /%3E%3C/svg%3E%3C/svg%3E");--fp-rewind-icon: url("data:image/svg+xml,%3Csvg fill='white' xmlns='http://www.w3.org/2000/svg'%3E%3Csvg viewBox='0 0 50 50' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='rotate(270 20 25.4)' /%3E%3C/svg%3E%3Csvg viewBox='-25 0 50 50' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='rotate(270 20 25.4)' /%3E%3C/svg%3E%3C/svg%3E");--fp-previous-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' version='1.1' viewBox='6 4 23 23'%3E%3Cpath d='M 19.41,20.09 14.83,15.5 19.41,10.91 18,9.5 l -6,6 6,6 z' fill='%23fff'%3E%3C/path%3E%3C/svg%3E");--fp-brand-color: #006680}.fp-fullscreen{background-image:var(--fp-fs-icon)}.fp-fullscreen-exit{background-image:var(--fp-fs-exit-icon)}.fp-play,.fp-pause{display:inline-block}.use-play-1 .fp-play,.fp-small-play{background-image:var(--fp-play-icon)}.use-play-3 .fp-play{background-image:var(--fp-play-circle-icon)}.use-play-1 .fp-pause,.fp-small-pause{background-image:var(--fp-pause-icon)}.use-play-2 .fp-play{background-image:var(--fp-play-stroke-icon)}.use-play-2 .fp-pause,.use-play-3 .fp-pause{background-image:var(--fp-pause-stroke-icon)}.fp-small-play,.fp-small-pause{width:1.8em;height:1.8em}.fp-pause,.fp-play{width:5em;height:5em}.fp-facebook{background-image:var(--fp-facebook-icon)}.fp-embed{background-image:var(--fp-embed-icon)}.fp-link{content:var(--fp-link-icon)}.fp-share{background-image:var(--fp-share-icon);display:inline-block}.fp-volume-mute-unmute{background-image:var(--fp-volume-icon);width:.7em;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:1.127em;display:-webkit-box;display:-ms-flexbox;display:flex}.fp-twitter{background-image:var(--fp-twitter-icon)}.fp-airplay{content:var(--fp-airplay-icon)}.fp-skip-next{background-image:var(--fp-skip-next-icon)}.fp-skip-prev{background-image:var(--fp-skip-prev-icon)}.fp-exit-float .fp-close{background-image:var(--fp-close-icon);display:block}.fp-mute{background-image:var(--fp-mute-icon)}.fp-unmute{background-image:var(--fp-unmute-icon)}.fp-fast-forward{width:4em;height:1em;background-image:var(--fp-fast-forward-icon);display:none}.fp-rewind{width:4em;height:1em;background-image:var(--fp-rewind-icon);display:none}.fp-previous,.fp-next{background-image:var(--fp-previous-icon);width:1.5em;height:1.5em;position:absolute;display:none;top:45%}.fp-previous:hover,.fp-next:hover{cursor:pointer}.fp-previous{left:0}.fp-next{right:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.flowplayer *{color:#fff;background-color:transparent;border:none;-webkit-user-select:none}.flowplayer ul,.flowplayer li{list-style-type:none}.flowplayer [role=button]{-webkit-appearance:none;-moz-appearance:none;appearance:none}#fp-icons{display:none}.flowplayer{font-family:work sans,avenir,sans-serif;background-repeat:no-repeat;background-position:center;background-size:cover;background-color:#333;display:inline-block;position:relative;text-align:left;overflow:hidden;font-size:16px;width:100%;color:#fff}.flowplayer,.flowplayer *{-webkit-box-sizing:border-box;box-sizing:border-box}.flowplayer.is-small{font-size:14px}.flowplayer.is-tiny{font-size:12px}.fp-engine,.fp-ui{position:absolute;height:100%;width:100%;left:0;top:0}.fp-ui{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-ms-flexbox;display:flex}.fp-header{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:1em;z-index:1;line-height:1;min-height:3.6em}.fp-header .fp-duration{background-color:rgba(0,0,0,.8);padding:.3rem .6rem;border-radius:2px;display:none}.fp-header .fp-left{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex:1;flex:1}.fp-header .fp-right{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:right}.fp-logo{position:absolute;max-width:20%;left:2em}.fp-fullscreen,.fp-fullscreen-exit{cursor:pointer;display:inline-block;width:2em;height:1.5em}.fp-fullscreen-exit{display:none}.fp-middle{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex:1;flex:1;direction:ltr}.fp-middle>*{width:33%}.fp-middle .fp-middle-zone{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1}.fp-footer{position:absolute;left:2.2em;bottom:2.2em;line-height:1.5;font-size:85%;max-width:70%;max-height:30%;z-index:1;display:none;-ms-overflow-style:-ms-autohiding-scrollbar}.fp-controls .fp-timestamp,.fp-controls .fp-elapsed,.fp-controls .fp-duration,.fp-controls .fp-title,.fp-controls .fp-desc,.fp-footer .fp-timestamp,.fp-footer .fp-elapsed,.fp-footer .fp-duration,.fp-footer .fp-title,.fp-footer .fp-desc{text-shadow:0 1px 2px black}.fp-title{text-transform:uppercase;letter-spacing:1px;font-weight:500;font-size:110%;white-space:nowrap;max-width:100%;overflow:hidden;text-overflow:ellipsis}.fp-desc{opacity:.8;max-height:6em;overflow:hidden}.fp-time{text-align:center}.fp-controls{padding:.72em;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:500;text-align:right;display:-webkit-box;display:-ms-flexbox;display:flex;z-index:1;direction:ltr;height:3.6em;position:static}.fp-controls *{position:static}.fp-controls>*{margin:0 .45em}.fp-controls>:empty :not(.fp-volume-mute-unmute){display:none}.fp-timeline{background-color:rgba(255,255,255,.1);position:relative;cursor:col-resize;height:.9em;-webkit-box-flex:1;-ms-flex:1;flex:1}.fp-timeline:before{content:"";bottom:-.9em;top:-.9em;left:0;right:0;position:absolute;z-index:-1}.fp-timeline>*{background-color:rgba(255,255,255,.2);position:absolute;height:100%}.fp-timeline>.fp-chapter{background-color:transparent;border-right:2px solid rgba(255,255,255,.4)}.fp-timeline>.fp-chapter:hover{background-color:var(--fp-brand-color)}.flowplayer:not(.is-seeking) .fp-progress,.flowplayer:not(.is-seeking) .fp-buffer{-webkit-transition:width .2s;transition:width .2s}.flowplayer:not(.is-starting){background-size:0 0}.fp-volume-control{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.fp-volume-mute-unmute{line-height:.5;cursor:pointer;margin-right:.9em}.fp-volume-mute-unmute:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.fp-volume-mute-unmute+.fp-volume{margin-left:-.45em}.fp-volume{display:-webkit-box;display:-ms-flexbox;display:flex;height:.9em;width:5em;cursor:pointer}.fp-tick{background-color:rgba(255,255,255,.1);display:inline-block;margin-left:4px;height:100%;width:100%}.fp-tick:hover{-webkit-transform:scale(1.2);transform:scale(1.2)}.fp-timestamp{top:-.9em;font-weight:400;background:none;font-size:80%;line-height:0}.fp-error-details{white-space:pre;line-height:0}.fp-chapter-info{padding:.9em .9em 0}.fp-icon{-webkit-filter:drop-shadow(0 0 2px rgba(0,0,0,.4));filter:drop-shadow(0 0 2px rgba(0,0,0,.4));background-repeat:no-repeat}.fp-color{background-color:var(--fp-brand-color, white)}.fp-color-text{color:#99c80c}.use-thin-controlbar .fp-timeline,.use-drag-handle .fp-timeline{-webkit-transition:height .2s;transition:height .2s;height:2px}.use-thin-controlbar .fp-controls:hover .fp-timeline,.use-drag-handle .fp-controls:hover .fp-timeline{height:.9em}.use-drag-handle .fp-dragger{display:inline-block;-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s;border-radius:3em;width:1em;height:1em;position:relative;top:-.44em}.use-drag-handle .fp-controls:hover .fp-timeline{height:.3em}.use-drag-handle .fp-controls:hover .fp-dragger{-webkit-transform:translateY(1px) scale(1.3);transform:translateY(1px) scale(1.3)}.use-drag-handle .fp-timestamp{margin-top:-1.8em;margin-left:.4rem}.use-muted-autoplay .fp-right,.use-muted-autoplay .fp-share-menu{display:none}.use-muted-autoplay .fp-controls{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;opacity:1}.use-muted-autoplay .fp-controls>*:not(.fp-volume-control){display:none}.use-muted-autoplay .fp-volume{display:none}.logo-on-right .fp-header{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.logo-on-right .fp-header .fp-left{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.logo-on-right .fp-header .fp-right{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;left:.7em;top:.7em}.logo-on-right .fp-header .fp-right>*{margin:.3em}.logo-on-right .fp-primary .fp-logo{right:1em;left:auto}.no-mute>.fp-ui .fp-volume-mute-unmute{display:none}.no-fullscreen .fp-right,.no-fullscreen .fp-share-menu{display:none}.no-volume>.fp-ui .fp-volume{display:none}.poor-flex .fp-ui{display:block}.poor-flex .fp-ui>*{position:absolute;width:100%}.poor-flex .fp-header{top:.45em;height:3em}.poor-flex .fp-middle{top:50px;height:65%}.poor-flex .fp-controls{height:3em;bottom:0}.has-poster.is-starting .fp-engine{display:none}.is-small .fp-play,.is-small .fp-pause{width:4em;height:4em}.is-small .fp-header{padding:.5em}.is-tiny .fp-play,.is-tiny .fp-pause{width:2.6em;height:2.6em}.is-tiny .fp-duration{display:none}.is-tiny .fp-timeline{margin:0 .45em}.is-tiny .fp-footer{left:1.2em;bottom:1.2em;font-size:65%}.fp-switch{will-change:transform,opacity;-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;margin-top:-.9em;display:inline;-webkit-transform:scale(.5);transform:scale(.5);opacity:0}.is-waiting .fp-switch,.is-seeking .fp-switch{-webkit-transition:none;transition:none;-webkit-transform:none;transform:none;opacity:0}.is-toggling:not(.is-seeking) .fp-switch{-webkit-transform:scale(1);transform:scale(1);opacity:1}.is-small.is-toggling:not(.is-seeking) .fp-switch{-webkit-transform:scale(.85);transform:scale(.85)}.is-tiny.is-toggling:not(.is-seeking) .fp-switch{-webkit-transform:scale(.7);transform:scale(.7)}.is-starting:not(.is-waiting) .fp-switch{-webkit-transform:scale(1);transform:scale(1);opacity:1}.is-small.is-starting:not(.is-waiting) .fp-switch{-webkit-transform:scale(.85);transform:scale(.85)}.is-tiny.is-starting:not(.is-waiting) .fp-switch{-webkit-transform:scale(.7);transform:scale(.7)}.is-touched:not(.is-seeking) .fp-switch{-webkit-transform:scale(1);transform:scale(1);opacity:1}.is-small.is-touched:not(.is-seeking) .fp-switch{-webkit-transform:scale(.85);transform:scale(.85)}.is-tiny.is-touched:not(.is-seeking) .fp-switch{-webkit-transform:scale(.7);transform:scale(.7)}.is-ended .fp-switch{-webkit-transform:scale(1);transform:scale(1);opacity:1}.is-small.is-ended .fp-switch{-webkit-transform:scale(.85);transform:scale(.85)}.is-tiny.is-ended .fp-switch{-webkit-transform:scale(.7);transform:scale(.7)}.is-touch-device .is-playing:not(.is-touched) .is-seeking .fp-pause,.is-touch-device .is-paused:not(.is-touched) .is-seeking .fp-play{width:0;height:0}.fp-small-switch{margin:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative}.fp-small-switch>*{display:none;cursor:pointer}.is-playing .fp-small-pause,.is-paused .fp-small-play,.is-ended:not(.is-waiting):not(.is-seeking) .fp-small-play{display:inline-block}.is-playing.is-touched .fp-play,.is-paused.is-touched .fp-pause{width:0;height:0}.is-paused:not(.is-touched):not(.is-starting) .fp-play{width:0;height:0}.is-playing:not(.is-touched) .fp-pause{width:0;height:0}.is-ended .fp-pause{width:0;height:0}.no-autoplay{background-color:#262626}.is-starting .fp-controls{visibility:hidden}.is-starting .fp-pause{width:0}.is-starting .fp-header .fp-duration{display:inline-block}.is-starting .fp-footer{display:block}.is-starting .fp-fullscreen{visibility:hidden}.is-starting .fp-left>:empty{display:none}.is-seamless .fp-pause,.is-seamless .fp-play,.is-autoplay.is-starting .fp-pause,.is-autoplay.is-starting .fp-play,.is-livecountdown .fp-pause,.is-livecountdown .fp-play{width:0;height:0}.fp-togglable{-webkit-transform:opacity .4s;transform:opacity .4s;will-change:opacity;opacity:0}.is-hovered .fp-togglable,.is-chromecast-playing .fp-togglable,.is-kb-active .fp-togglable,.has-menu-opened .fp-togglable,.is-paused .fp-togglable,.is-touched .fp-togglable{opacity:1}.is-hovered .fp-ui,.is-chromecast-playing .fp-ui,.is-kb-active .fp-ui,.has-menu-opened .fp-ui,.is-paused .fp-ui,.is-touched .fp-ui{background-image:-webkit-gradient(linear,left bottom,left top,from(rgba(0,0,0,.5)),color-stop(15%,transparent)),-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.5)),color-stop(20%,transparent));background-image:linear-gradient(to top,rgba(0,0,0,.5),transparent 15%),linear-gradient(to bottom,rgba(0,0,0,.5),transparent 20%)}.flowplayer.is-playing:not(.is-hovered):not(.is-chromecast-playing) *{cursor:none}.is-muted:not(.no-mute) .fp-volume{visibility:hidden}.is-muted:not(.no-mute) .fp-volume-mute-unmute{white-space:nowrap}.is-muted:not(.no-mute) .fp-volume-mute-unmute:after{content:"\\d7";font-weight:400;font-size:170%;line-height:0;margin-left:.4em}.is-fullscreen:not(.is-starting){background-image:none!important}.is-fullscreen{position:fixed;top:0!important;left:0!important;margin:0!important;width:100%!important;height:100%!important;max-width:100%!important;z-index:99999!important;border-radius:0!important;background-color:#262626}.is-fullscreen .fp-fullscreen{display:none}.is-fullscreen .fp-fullscreen-exit{display:inline-block}.fp-error{text-shadow:0 0 1px black;text-align:center;height:70%}.is-error .fp-togglable,.is-error .fp-middle{display:none}@-webkit-keyframes waiting{0%{-webkit-transform:scale(1);transform:scale(1)}20%{-webkit-transform:scale(1,2);transform:scaleY(2)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes waiting{0%{-webkit-transform:scale(1);transform:scale(1)}20%{-webkit-transform:scale(1,2);transform:scaleY(2)}40%{-webkit-transform:scale(1);transform:scale(1)}}.fp-wait{-webkit-transition:opacity .3s .1s;transition:opacity .3s .1s;position:absolute;opacity:0;height:2em}.is-waiting:not(.is-toggling):not(.is-livecountdown) .fp-wait,.is-seeking:not(.is-toggling):not(.is-starting) .fp-wait,.is-loading:not(.is-starting) .fp-wait{opacity:1}.is-waiting .fp-wait b,.is-seeking .fp-wait b,.is-loading .fp-wait b{-webkit-animation:waiting 1s ease-in-out infinite;animation:waiting 1s ease-in-out infinite}.fp-wait b{-webkit-box-shadow:0 0 .5rem #222;box-shadow:0 0 .5rem #222;background-color:#fff;display:inline-block;border-radius:.1em;margin:0 .2em;height:2em;width:.4em}.fp-wait b:nth-child(1){-webkit-animation-delay:0;animation-delay:0}.fp-wait b:nth-child(2){-webkit-animation-delay:.1s;animation-delay:.1s}.fp-wait b:nth-child(3){-webkit-animation-delay:.15s;animation-delay:.15s}.fp-wait b:nth-child(4){-webkit-animation-delay:.25s;animation-delay:.25s}.fp-live-status{display:none;margin:0 15px 0 7px}.fp-live-status .fp-live-indicator{border-radius:12px;margin:2px 5px 0;display:block;float:left;height:12px;width:12px;content:""}.fp-live-status .fp-live-text{float:right;text-transform:uppercase;letter-spacing:1px;font-size:85%}.is-live .fp-live-status{display:inline;cursor:pointer}.is-live .fp-buffer{display:none}.is-live .fp-progress{background-color:#fff}.is-live .fp-duration{min-width:2.8em}.is-live-seeked .fp-progress{background-color:#fff}.is-live-seeked .fp-live-status:hover{cursor:pointer}.is-live-seeked .fp-live-indicator{background-color:rgba(204,204,204,.5)}.no-timeline .fp-timeline{visibility:hidden}.has-chapters .fp-timeline>.fp-hover{display:none}.fp-livecountdown{position:absolute;top:0;right:0;left:0;bottom:0;background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.75)),color-stop(33%,transparent));background-image:linear-gradient(to bottom,rgba(0,0,0,.75),transparent 33%);color:#fff;text-transform:uppercase;text-align:center}.fp-livecountdown p{margin:0;padding:0 0 .45em}.fp-livecountdown .fp-inner{display:inline-block;padding-top:3.6em;font-size:85%;text-align:left;min-width:15em;font-weight:500;letter-spacing:1px}.fp-livecountdown .fp-countdown{font-size:230%;text-transform:none;font-weight:300}.fp-menu-container,.fp-menu-container:before{font-weight:600}.fp-menu-container summary{list-style:none}.fp-menu-container summary::-webkit-details-marker{display:none}.fp-menu-container:hover{cursor:pointer}.fp-menu ol{padding:0;margin:0}.fp-menu>h3:empty{display:none}.flowplayer .fp-menu{list-style-type:none;padding:0;margin:0 0 .9em;position:absolute;background:#010000;overflow-y:auto;overflow-x:hidden;display:block;bottom:2.52em;right:.9em;border-radius:.2em;max-height:80%}.fp-menu::-webkit-scrollbar{width:.2em}.fp-menu::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.fp-menu::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid slategrey}.fp-menu h3,.fp-menu li{padding:.9em 2.7em;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex;text-align:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-weight:700;color:#fdfdfd}.fp-menu h3{text-transform:uppercase;font-size:.99em}.fp-invis{display:none}.fp-menu h3{border-bottom:1px solid #232323;letter-spacing:1px}.fp-menu .fp-close{font-size:150%;position:absolute;right:.18em;top:0em;cursor:pointer;display:none;content:none}.fp-menu li.fp-on{background:#373737}.fp-menu li:hover{background:#505050;font-weight:900}.fp-menu li.on{background:#1D1D1D}.fp-menu li :not(span){display:inline-block;height:1.08em;width:1.08em;margin-right:.9em;vertical-align:top;max-width:2.7em}.fp-menu.fp-icons h3,.fp-menu.fp-icons li{text-align:left;white-space:nowrap}.is-small .fp-menu-container .fp-menu,.is-popped-out:not(.is-fullscreen) .fp-menu-container .fp-menu{position:absolute;font-size:110%;border-radius:0}.is-small .fp-menu-container .fp-menu h3,.is-popped-out:not(.is-fullscreen) .fp-menu-container .fp-menu h3{font-size:.9em;min-width:100%;padding-bottom:.45em}.is-small .fp-menu-container .fp-menu .fp-close,.is-popped-out:not(.is-fullscreen) .fp-menu-container .fp-menu .fp-close{display:block}.is-small .fp-menu-container .fp-menu,.is-popped-out:not(.is-fullscreen) .fp-menu-container .fp-menu{left:0!important;right:0!important;bottom:0!important;top:0!important;z-index:9999;max-height:100%!important;height:100%;margin-bottom:0}.is-small .fp-menu-container .fp-menu li,.is-popped-out:not(.is-fullscreen) .fp-menu-container .fp-menu li{padding:.45em .27em}.is-starting .fp-captions{display:none}.fp-captions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;width:100%;bottom:.9em}.is-hovered .fp-captions,.is-chromecast-playing .fp-captions,.is-touched .fp-captions,.is-paused .fp-captions{bottom:3.2em}.fp-captions:hover{cursor:pointer}.fp-captions pre{padding:.45em .9em;margin:0;white-space:normal;background-color:rgba(1,0,0,.4)}.video-buttons>*{height:0;width:0}.fp-playlist-controls{background:#333;color:#f1f1f1}.fp-playlist-controls ol{list-style-type:none;margin:0;padding:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.fp-playlist-controls li{cursor:pointer;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-height:5em;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.fp-playlist-controls li .fp-color{-webkit-transition:width .3s ease-out;transition:width .3s ease-out;height:100%}.fp-playlist-controls li:not(:last-child){border-bottom:1px solid #3d3d3d}.fp-playlist-controls li:hover .fp-color,.fp-playlist-controls li.is-current .fp-color{width:.3em}.fp-playlist-controls li:hover:not(.is-current){background:#4d4d4d}.fp-playlist-controls li.is-current{background:#404040}.fp-playlist-controls .video-info{padding:1em;-webkit-box-flex:4;-ms-flex-positive:4;flex-grow:4}.fp-playlist-controls .video-info .title{font-size:1.1em;font-weight:700;font-weight:500;margin:0 0 .5em}.fp-playlist-controls .video-info .description{font-size:.9em}.fp-playlist-controls .video-buttons{margin-right:.5em;padding:1em;width:5em;display:block;text-align:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-size:cover;min-height:66%}.fp-playlist-controls li.is-playing .fp-pause,.fp-playlist-controls li.is-queued .fp-play,.fp-playlist-controls li.is-paused .fp-play{height:2em;width:2em}.is-playlist .fp-playlist-prev-preview,.is-playlist .fp-playlist-next-preview{display:block;background-repeat:no-repeat;background-color:#000;background-position:center;background-size:contain;position:absolute;top:-2em;width:0;height:0;-webkit-transition:width .2s ease-in-out,height .2s ease-in-out,top .2s ease-in-out;transition:width .2s ease-in-out,height .2s ease-in-out,top .2s ease-in-out}.is-playlist .fp-playlist-prev-preview{left:.5em}.is-playlist .fp-playlist-next-preview{left:6.5em}.is-playlist .fp-skip-prev{display:inline-block;width:1.2em;height:1.229em;margin-left:.5em;margin-right:1.5em;fill:#fff}.is-playlist .fp-skip-prev:hover~.fp-playlist-prev-preview{width:8em;height:6em;top:-7em}.is-playlist .fp-skip-next{display:inline-block;width:1.2em;height:1.229em;margin-left:1.5em;margin-right:1em;fill:#fff}.is-playlist .fp-skip-next:hover~.fp-playlist-next-preview{width:8em;height:6em;top:-7em}.is-prev-button-disabled .fp-skip-prev{opacity:.5;cursor:default}.is-prev-button-disabled .fp-skip-prev~.fp-playlist-prev-preview{display:none!important}.is-next-button-disabled .fp-skip-next{opacity:.5;cursor:default}.is-next-button-disabled .fp-skip-next~.fp-playlist-next-preview{display:none!important}.flowplayer-fatal{background-color:rgba(38,38,38,.9);color:#a6a6a6;text-align:center;padding:8em 3em 3em}.flowplayer-fatal h2{color:#fff}.flowplayer-fatal .troubleshoot{display:block;border:1px solid #a6a6a6;width:10em;margin:1em auto 8em;color:#fff;padding:.5em;border-radius:.2em;text-decoration:none}.flowplayer-fatal img{height:1em}.fp-header .fp-share-menu{float:left}.fp-header .fp-share-menu .fp-share{width:.9em;height:1.028em}.fp-header .fp-share-menu .fp-menu{inset:auto auto auto 2em}.fp-share-menu h3,.fp-share-menu li{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.is-starting .fp-share{display:none}.is-small.is-share-menu .fp-controls,.is-popped-out:not(.is-fullscreen).is-share-menu .fp-controls{display:none!important}.is-small.is-share-menu .fp-share-menu,.is-popped-out:not(.is-fullscreen).is-share-menu .fp-share-menu{z-index:99999}.is-small .fp-share-menu li,.is-popped-out:not(.is-fullscreen) .fp-share-menu li{padding:.27em .27em .27em 1.62em!important}.is-small.is-share-menu.logo-on-right .fp-right{position:static}.is-small.is-share-menu:not(.logo-on-right) .fp-right{display:none}.fp-share-menu.webshare-enabled{display:inline-block}.fp-message{position:absolute;display:block;top:3.6em;left:0;right:0;max-height:0;overflow:hidden;-webkit-transition:max-height .3s ease-in-out;transition:max-height .3s ease-in-out;background-color:transparent;color:#fff;z-index:10}.fp-message.fp-shown{max-height:3em}.fp-message p{margin:1em;text-align:center;text-shadow:0 1px 2px black}.is-small .fp-message{top:2.7em}.is-small .fp-message.fp-shown{max-height:3em}.is-small .fp-message p{margin:.5em}.is-tiny .fp-message{top:1.8em}.is-tiny .fp-message.fp-shown{max-height:2em}.is-tiny .fp-message p{margin:.25em}.fp-airplay{width:0}.is-airplay-available .fp-airplay{width:2em;height:1.6em;margin-right:.6em;padding-top:.2em;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;fill:#fff;display:inline-block}.is-starting .fp-airplay{width:0}.fp-btns:focus .is-accessibility,.fp-middle:focus .is-accessibility .fp-switch,.fp-menu li:focus .is-accessibility{outline:auto 2px Highlight;outline:auto 5px -webkit-focus-ring-color}.fp-middle:focus .is-accessibility{outline:none}.is-accessibility a:focus>.fp-logo{background-color:gray}.flowplayer:not(.is-accessibility) *{outline:none}.up-next{display:none;color:#f1f1f1;grid-template-columns:50% 50%;-ms-flex-line-pack:center;align-content:center;width:100%;height:100%}.up-next .pane{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:1em;position:relative}.up-next .title{margin-bottom:.5em;font-weight:600}.up-next .description{font-weight:500;font-size:.85em}.up-next .poster{background-repeat:no-repeat;background-position:center;background-size:cover;padding-top:66%;position:relative}.up-next .poster:hover{cursor:pointer}.up-next .countdown{visibility:hidden}.up-next .countdown.go{display:block;visibility:visible;background-color:var(--fp-brand-color);height:3px;width:1%;-webkit-animation-name:countdown;animation-name:countdown;-webkit-animation-duration:var(--up-next-delay);animation-duration:var(--up-next-delay);-webkit-transform-origin:left center;transform-origin:left center}@-webkit-keyframes countdown{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}to{-webkit-transform:scaleX(100);transform:scaleX(100)}}@keyframes countdown{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}to{-webkit-transform:scaleX(100);transform:scaleX(100)}}.up-next.cancelled .cancel{display:none}.up-next .cancel{margin:2em 0 .5em}.up-next .cancel:hover{cursor:pointer}.up-next .poster .fp-play{position:absolute;top:45%;left:50%;margin-left:-2em;margin-top:-2em}.interstitial-grid{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-line-pack:center;align-content:center;display:none;background-color:#030303;height:100%;gap:.2em}.interstitial-grid .grid-item{overflow:hidden;position:relative;background-size:cover}.interstitial-grid .grid-item span{margin:.5em .5em 0}.interstitial-grid .grid-item .overlay{color:#f1f1f1;font-size:.8em;height:100%;position:relative;display:grid}.interstitial-grid .grid-item:hover{cursor:pointer;-webkit-transition:-webkit-transform .2s ease-in-out;transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out;-webkit-transform:scale(1.1);transform:scale(1.1)}.fp-endscreen,.fp-interstitial{display:none;left:0;top:0;position:absolute;background:#030303!important;width:100%;height:100%;padding:3.6em;z-index:2}.is-endscreen .fp-endscreen{display:block}.is-endscreen .fp-controls{z-index:3}.is-endscreen.is-up-next .up-next:not(.fp-interstitial){display:grid}.is-endscreen.is-grid .interstitial-grid,.is-interstitial .fp-interstitial{display:grid}.fp-cast-button{height:1.6em;width:1.8em;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;display:inline-block;cursor:pointer;-webkit-transition:-webkit-transform .2s ease-in;transition:-webkit-transform .2s ease-in;transition:transform .2s ease-in;transition:transform .2s ease-in,-webkit-transform .2s ease-in;margin-left:.2em;margin-right:.2em}.fp-cast-button:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.fp-cast-button google-cast-launcher{--disconnected-color: #fff}.fp-middle .fp-chromecast{display:none;position:absolute;left:0;right:0;top:0;bottom:0;color:#fff;background-color:rgba(0,0,0,.3);text-align:center;padding-top:3em;font-size:200%;background-size:cover;text-shadow:0 1px 2px black;width:100%}.is-chromecast-playing .fp-fullscreen,.is-chromecast-playing .fp-fullscreen-exit,.is-chromecast-playing .fp-volume-control{display:none}.is-chromecast-playing .fp-chromecast{display:block}.is-chromecast-playing.no-chromecast-controls .fp-controls{display:none!important}.flowplayer.is-flashls .fp-flashls{position:absolute}.flowplayer.is-flashls .fp-flashls.is-initialising{z-index:9999}.flowplayer.is-audio-player{background-size:cover}.flowplayer.is-audio-player .fp-engine,.flowplayer.is-audio-player .fp-fullscreen{display:none}.flowplayer.is-audio-player.is-paused .fp-togglable,.flowplayer.is-audio-player.is-playing .fp-togglable{opacity:1}.flowplayer.is-audio-player.show-controls-only{height:3.6em}.flowplayer.is-audio-player.show-controls-only.is-paused .fp-header,.flowplayer.is-audio-player.show-controls-only.is-paused .fp-middle,.flowplayer.is-audio-player.show-controls-only.is-playing .fp-header,.flowplayer.is-audio-player.show-controls-only.is-playing .fp-middle{display:none}.flowplayer.is-audio-player.show-controls-only.is-paused .fp-controls,.flowplayer.is-audio-player.show-controls-only.is-playing .fp-controls{height:100%}.flowplayer.is-audio-player.show-controls-only.is-starting{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-flow:row-reverse;flex-flow:row-reverse;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flowplayer.is-audio-player.show-controls-only.is-starting.is-paused .fp-middle{display:-webkit-box;display:-ms-flexbox;display:flex}.flowplayer.is-audio-player.show-controls-only.is-starting video{display:none}.flowplayer.is-audio-player.show-controls-only.is-starting .fp-ui,.flowplayer.is-audio-player.show-controls-only.is-starting .fp-footer{position:relative;left:auto;bottom:auto;right:auto;max-width:none;width:auto}.flowplayer.is-audio-player.show-controls-only.is-starting .fp-footer{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.flowplayer.is-audio-player.show-controls-only.is-starting .fp-ui .fp-header,.flowplayer.is-audio-player.show-controls-only.is-starting .fp-ui .fp-controls{display:none}.flowplayer.is-audio-player.show-controls-only.is-starting .fp-ui .fp-middle{max-height:3.6em}.flowplayer.is-audio-player.show-controls-only.is-starting .fp-ui .fp-middle .fp-switch{margin-top:.2em;-webkit-transform:scale(.6);transform:scale(.6)}#flowplayer-floating-placeholder{background-color:rgba(38,38,38,.9);color:#a6a6a6}#flowplayer-floating-placeholder p{display:block;text-align:center;margin:0 auto;color:#fff;padding:3em 0 0;font-size:1.2em;font-weight:600;text-decoration:none}.flowplayer.is-popped-out .fp-float-wrapper{position:fixed!important;width:100%;background-color:#333}.flowplayer.is-popped-out{z-index:10}body>#flowplayer-floating-container,.flowplayer.is-popped-out .fp-float-wrapper{max-width:33%;position:fixed;position:-webkit-sticky;position:sticky;bottom:1em;left:1em}@media screen and (orientation: portrait){body>#flowplayer-floating-container,.flowplayer.is-popped-out .fp-float-wrapper{bottom:0;left:0;right:0;max-width:none}}.no-standard-controls .fp-controls,.no-standard-controls .fp-header>*{display:none}.fp-exit-float{display:none}.fp-exit-float .fp-close:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.fp-mute-float,.fp-mute-float .fp-mute{display:none}.fp-mute-float .fp-unmute{display:block}.fp-mute-float .fp-mute:hover,.fp-mute-float .fp-unmute:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.is-muted .fp-mute-float .fp-mute{display:block}.is-muted .fp-mute-float .fp-unmute{display:none}.is-popped-out:not(.is-fullscreen) .fp-volume-control{display:none}.is-popped-out:not(.is-fullscreen) .fp-exit-float,.is-popped-out:not(.is-fullscreen) .fp-mute-float{display:block;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:1em;width:3.15em;height:2.925em;background-color:rgba(0,0,0,.333);border-radius:100%}@media screen and (orientation: portrait){.is-popped-out:not(.is-fullscreen) .fp-exit-float,.is-popped-out:not(.is-fullscreen) .fp-mute-float{right:1vw;width:12vw;height:12vw}}.is-popped-out:not(.is-fullscreen) .fp-exit-float>*,.is-popped-out:not(.is-fullscreen) .fp-mute-float>*{height:100%}.is-popped-out:not(.is-fullscreen) .fp-mute-float{left:1em}.fp-float-player-icons{fill:#fff;stroke:#fff;stroke-width:5;stroke-linecap:round;stroke-linejoin:round}.is-popped-out .fp-middle{position:absolute;height:100%;width:100%}.is-popped-out .fp-controls{position:absolute;width:100%;bottom:0}.is-ad-showing.is-popped-out:not(.is-fullscreen) .fp-exit-float{position:relative;width:1.6em;height:1.6em;margin-left:1.8em}.has-menu-opened.is-popped-out .fp-controls{position:static}.no-title .fp-title,.no-description .fp-desc,.no-controls .fp-controls{display:none}.no-controls .fp-middle{padding-bottom:3.6em}.no-duration .fp-header .fp-duration,.no-header .fp-header{display:none}.no-header .fp-middle{padding-top:3.6em}.fp-right-zone,.fp-left-zone{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-line-pack:center;align-content:center;background:transparent}.fp-right-zone .fp-zone-seconds,.fp-left-zone .fp-zone-seconds{-ms-flex-line-pack:center;align-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1.5em;font-weight:700;display:none;width:2em}.fp-right-zone .fp-zone-seconds:empty,.fp-left-zone .fp-zone-seconds:empty{visibility:hidden}.fp-left-zone{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.fp-left-zone .fp-zone-seconds:before{content:"-"}.fp-right-zone .fp-zone-seconds:before{content:"+"}.is-touched .fp-ui{background:rgba(0,0,0,.2)}.is-touched.is-seekable:not(.no-touch-zones):not(.no-timeline) .fp-left-zone .fp-rewind,.is-touched.is-seekable:not(.no-touch-zones):not(.no-timeline) .fp-left-zone .fp-zone-seconds{display:-webkit-box;display:-ms-flexbox;display:flex}.is-touched.is-seekable:not(.no-touch-zones):not(.no-timeline):not(.is-disabled) .fp-right-zone .fp-fast-forward,.is-touched.is-seekable:not(.no-touch-zones):not(.no-timeline):not(.is-disabled) .fp-right-zone .fp-zone-seconds{display:-webkit-box;display:-ms-flexbox;display:flex}.will-seek.forward .fp-right-zone .fp-fast-forward,.will-seek.forward .fp-right-zone .fp-zone-seconds,.will-seek.backward .fp-left-zone .fp-rewind,.will-seek.backward .fp-left-zone .fp-zone-seconds{display:-webkit-box;display:-ms-flexbox;display:flex}.fp-thumbnail-carousel{display:none}.is-hovered.with-thumbnails .fp-thumbnail-carousel,.with-thumbnails.is-chromecast-playing .fp-thumbnail-carousel{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:1em 0;bottom:3.6em;width:100%;position:absolute;left:0}.fp-thumbnail-carousel .thumbnail{margin:0 1em;-webkit-filter:drop-shadow(0 0 1em #000);filter:drop-shadow(0 0 1em #000)}.fp-thumbnail-carousel .thumbnail:first-child,.fp-thumbnail-carousel .thumbnail:last-child{-webkit-transform:scale(.6);transform:scale(.6)}.with-thumbnails .fp-ui{background:rgba(0,0,0,.2)}.ssai{--ssai-accent-color: #ffd700;--ssai-percent-complete: 0;--ssai-percent-previous: 0}.ad-ui.ssai{position:absolute;top:0;left:0;width:100%;height:100%;display:none}.ssai-ad-active{background:none!important}.ssai-ad-active .fp-engine{display:block!important}.ssai-ad-active .ad-ui.ssai{display:block}.ssai-ad-active .fp-ui,.ssai-ad-active .fp-footer{display:none}.ssai .timeline{background:var(--flowplayer-background-color, #333);height:6px;position:absolute;bottom:0;left:0;background-color:var(--ssai-accent-color);width:1%;-webkit-transform-origin:left;transform-origin:left;-webkit-transform:scaleX(var(--ssai-percent-previous));transform:scaleX(var(--ssai-percent-previous))}.ssai .timeline.go{-webkit-animation-name:progress;animation-name:progress;-webkit-animation-duration:.16s;animation-duration:.16s}.ssai .resume{display:none}.ssai .resume:hover{cursor:pointer}.is-paused .ssai .resume{display:block;position:absolute;top:0;left:0;height:100%;width:100%;z-index:1}@-webkit-keyframes progress{0%{-webkit-transform:scaleX(var(--ssai-percent-previous));transform:scaleX(var(--ssai-percent-previous))}to{-webkit-transform:scaleX(var(--ssai-percent-complete));transform:scaleX(var(--ssai-percent-complete))}}@keyframes progress{0%{-webkit-transform:scaleX(var(--ssai-percent-previous));transform:scaleX(var(--ssai-percent-previous))}to{-webkit-transform:scaleX(var(--ssai-percent-complete));transform:scaleX(var(--ssai-percent-complete))}}.fp-preview{width:100%;height:100%;position:absolute;-o-object-fit:contain;object-fit:contain;background:#333;display:none}.is-in-viewport.is-starting .in-viewport.fp-preview,.is-hovered.is-starting .fp-preview,.is-starting.is-chromecast-playing .fp-preview{display:block}flowplayer-ad-ui{--ad-accent-color: #ffd700;--ad-percent-complete: 0;--ad-percent-previous: 0}flowplayer-ad-ui{display:none;position:absolute;height:100%;width:100%;z-index:100;top:0}.fp-ad-container{position:absolute;height:100%;width:100%}.fp-ad-controls{z-index:1000;height:3em;padding:.72em 0 .72em 2em;position:absolute;bottom:.2em}.fp-ad-controls .fp-color-text{color:gold;font-weight:700;line-height:1.8em}.fp-ad-controls .ad-indicator{margin-right:1em}.fp-ad-controls .ad-indicator:before{margin-right:.5em}.fp-ad-controls .fp-volumebtn{width:1.12em;height:100%;margin-right:2.38em}.fp-ad-controls .fp-volumebtn:after{font-size:230%!important;line-height:inherit!important}.fp-ad-controls .fp-volume-mute-unmute{height:100%}.fp-ad-controls .fp-volume{display:none;margin-left:-2em}.fp-ad-controls .fp-togglable{opacity:1}.fp-ad-controls .fp-togglable .fp-fullscreen{visibility:visible}.non-linear flowplayer-ad-controls,.non-linear flowplayer-ad-countdown{display:none!important}.non-linear .fp-ad-container{position:relative;margin:auto}flowplayer-ad-controls{height:2em;line-height:2em;display:none;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.is-hovered flowplayer-ad-controls,.is-chromecast-playing flowplayer-ad-controls,.ad-paused flowplayer-ad-controls{display:-webkit-box;display:-ms-flexbox;display:flex}.is-hovered .linear .fp-ad-container,.is-chromecast-playing .linear .fp-ad-container{background-image:-webkit-gradient(linear,left bottom,left top,from(rgba(0,0,0,.5)),color-stop(15%,transparent)),-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.5)),color-stop(20%,transparent));background-image:linear-gradient(to top,rgba(0,0,0,.5),transparent 15%),linear-gradient(to bottom,rgba(0,0,0,.5),transparent 20%)}flowplayer-ad-ui.on{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}flowplayer-ad-ui.non-linear{top:100%;margin-top:-128px;width:100%}.ad-playback-controls>*{width:1.8em;height:1.8em;display:none;margin-right:1em}.ad-playback-controls>*:hover{cursor:pointer}.linear.ad-paused flowplayer-small-play-icon{display:inline-block}.linear.ad-playing flowplayer-small-play-icon{display:none}.linear.ad-playing flowplayer-small-pause-icon{display:inline-block}.ad-hide-first-frame .fp-wait{opacity:1}.ad-hide-first-frame .fp-engine{display:none}.ad-hide-first-frame>.fp-ui .fp-switch{display:none}flowplayer-ad-countdown{background:var(--flowplayer-background-color, #333);position:absolute;bottom:0px;left:0px;height:.2em;background-color:var(--ad-accent-color)!important;width:1%;-webkit-transform-origin:left;transform-origin:left;-webkit-transform:scaleX(var(--ad-percent-previous));transform:scaleX(var(--ad-percent-previous))}@-webkit-keyframes adProgress{0%{-webkit-transform:scaleX(var(--ad-percent-previous));transform:scaleX(var(--ad-percent-previous))}to{-webkit-transform:scaleX(var(--ad-percent-complete));transform:scaleX(var(--ad-percent-complete))}}@keyframes adProgress{0%{-webkit-transform:scaleX(var(--ad-percent-previous));transform:scaleX(var(--ad-percent-previous))}to{-webkit-transform:scaleX(var(--ad-percent-complete));transform:scaleX(var(--ad-percent-complete))}}flowplayer-ad-countdown.go{-webkit-animation-name:adProgress;animation-name:adProgress;-webkit-animation-duration:.15s;animation-duration:.15s}.is-popped-out .linear.on :not(.is-fullscreen) .fp-exit-float{position:relative;width:1.6em;height:1.6em;margin-left:1.8em}.debug-info{position:absolute;bottom:4em;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:1;background-color:rgba(0,0,0,.3)}.debug-info .row{padding:.5em;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.debug-info .row span{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.debug-info .attr{width:10em;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:end;padding-right:.5em}
`)(),_default={exports:{}};(function(j,g){(function(b,$){j.exports=$()})(commonjsGlobal,function(){const b=[],$=[];function _e(){const Pt=typeof document!="undefined"&&typeof window!="undefined",St=Pt?navigator.userAgent:"",wt=/iP(hone|od)/i.test(St)&&!/iPad/.test(St)&&!/IEMobile/i.test(St),Ht=/Android/.test(St)&&!/Firefox/.test(St),Kt=/^((?!chrome|android).)*safari/i.test(St),on=/SamsungBrowser/.test(St),Jt=on&&/SMART-TV/.test(St);return{controls:!wt,video:function(tn){return Pt&&document.createElement("video").canPlayType(tn)},lang:Pt&&window.navigator.language,android:Ht,iphone:wt,safari:Kt,ios:Pt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,samsung:on,samsung_tv:on&&Jt,touch:"ontouchstart"in window}}const et="error",tt="click",nt="dblclick",rt="load",it="mouseenter",ot="mouseleave",st="touchend",at="fullscreenenter",lt="fullscreenexit",ut="loadedmetadata",ct="loadeddata",ft="progress",ht="loadstart",dt="pause",pt="playing",mt="waiting",gt="canplay",yt="ended",_t="seeked",vt="seeking",At="src",bt="reap",xt="config",Et="landscape",Mt="portrait";var Tt=Object.freeze({__proto__:null,MOUNT:"mount",ERROR:et,CONTEXT_MENU:"contextmenu",CLICK:tt,DBL_CLICK:nt,KEYUP:"keyup",KEYDOWN:"keydown",LOAD:rt,MOUSE_ENTER:it,MOUSE_LEAVE:ot,MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:st,TOUCH_CANCEL:"touchcancel",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_ENTER:at,FULLSCREEN_EXIT:lt,FULLSCREEN_CHANGE:"fullscreenchange",WEBKIT_NEEDKEY:"webkitneedkey",METADATA:ut,DATA:ct,PROGRESS:ft,TIME_UPDATE:"timeupdate",LOAD_START:ht,VOLUME_CHANGE:"volumechange",PAUSE:dt,PLAYING:pt,PLAY:"play",WAITING:mt,CAN_PLAY:gt,ENDED:yt,SEEKED:_t,SEEKING:vt,DURATION_CHANGE:"durationchange",BEFORE_PLAY:"beforeplay",BEFORE_PAUSE:"beforepause",STATE:"state",CUEPOINTS:"cuepoints",CUEPOINT_START:"cuepointstart",CUEPOINT_END:"cuepointend",VIEW_ENTER:"viewenter",VIEW_LEAVE:"viewleave",SOURCE:At,RECOVER:"recover",REAP:bt,CONFIG:xt,QUALITIES:"qualities",SET_QUALITY:"quality:set",NON_RECOVERABLE_ERROR:"error:fatal",RECOMMENDATIONS_READY:"recommendationsready",AUDIO_ONLY_SOURCE:"audioonlysource",LANDSCAPE:Et,PORTRAIT:Mt,RENDER_PLUGIN:"renderplugin",DVR:"dvr",LIVE:"live",SEEK_QUEUED:"seek:queued",SEEK_CANCEL:"seek:cancel",PLUGIN_REGISTERED:"plugin:registered",REMOTE_SESSION_STARTED:"remotesession:started",REMOTE_SESSION_ENDED:"remotesession:ended",INTERSECTIONCHANGE:"intersectionchange"});const Lt="flowplayer-ui",Ot="flowplayer-control",Rt="flowplayer-live-status",Ct="flowplayer-elapsed-time",Dt="flowplayer-timeline-bar",Bt="flowplayer-volume-bar",kt="flowplayer-header",zt="flowplayer-primary",Ft="flowplayer-middle",It="flowplayer-middle-zone",Ut="flowplayer-wait",Gt="flowplayer-play-icon",jt="flowplayer-pause-icon",Yt="flowplayer-rewind-icon",Qt="flowplayer-volume-icon";var ln=Object.freeze({__proto__:null,SUBTITLES_MENU:"flowplayer-subtitles-menu",SHARE_MENU:"flowplayer-share-menu",SPEED_MENU:"flowplayer-speed-menu",QUALITY_MENU:"flowplayer-quality-menu",AUDIO_MENU:"flowplayer-audio-menu",UI:Lt,CONTROL:Ot,CONTROL_BUTTONS:"flowplayer-control-buttons",LIVE_STATUS:Rt,ELAPSED:Ct,TIMELINE:Dt,CONTROL_DURATION:"flowplayer-control-duration",VOLUME_CONTROL:"flowplayer-volume-control",VOLUME_BAR:Bt,HEADER:kt,HEADER_LEFT_ZONE:"flowplayer-header-left-zone",HEADER_RIGHT_ZONE:"flowplayer-header-right-zone",PRIMARY:zt,HEADER_DURATION:"flowplayer-header-duration",MIDDLE:Ft,MIDDLE_ZONE:It,WAIT:Ut,MIDDLE_BUTTONS:"flowplayer-middle-buttons",MIDDLE_LEFT_ZONE:"flowplayer-middle-left-zone",MIDDLE_RIGHT_ZONE:"flowplayer-middle-right-zone",ENDSCREEN_INTERSTITIAL:"flowplayer-endscreen-interstitial",ENDSCREEN_UP_NEXT:"flowplayer-endscreen-up-next",ENDSCREEN_GRID:"flowplayer-endscreen-grid",PLAYLIST_INTERSTITIAL:"flowplayer-playlist-interstitial",AIRPLAY_ICON:"flowplayer-airplay-icon",CHROMECAST_ICON:"flowplayer-chromecast-icon",SMALL_PLAY_ICON:"flowplayer-small-play-icon",SMALL_PAUSE_ICON:"flowplayer-small-pause-icon",PLAY_ICON:Gt,PAUSE_ICON:jt,FULLSCREEN_ENTER_ICON:"flowplayer-fullscreen-enter-icon",FULLSCREEN_EXIT_ICON:"flowplayer-fullscreen-exit-icon",SKIP_NEXT_ICON:"flowplayer-skip-next-icon",SKIP_PREVIOUS_ICON:"flowplayer-skip-previous-icon",FAST_FORWARD_ICON:"flowplayer-fast-forward-icon",REWIND_ICON:Yt,SHARE_ICON:"flowplayer-share-icon",VOLUME_ICON:Qt,MUTE_ICON:"flowplayer-mute-icon",UNMUTE_ICON:"flowplayer-unmute-icon",CLOSE_ICON:"flowplayer-close-icon",FACEBOOK_ICON:"flowplayer-facebook-icon",TWITTER_ICON:"flowplayer-twitter-icon",LINK_ICON:"flowplayer-link-icon",EMBED_ICON:"flowplayer-embed-icon",LIVE_COUNTDOWN:"flowplayer-live-countdown",PLAYLIST_CONTROLS:"flowplayer-playlist-controls",THUMBNAILS_CAROUSEL:"flowplayer-thumbnails-carousel"});const Zt="is-playing",Wt="is-paused",qt="is-loaded",Xt="is-loading",vn="is-starting",gn="is-seeking",en="is-ended",hn="is-live",rn="is-waiting",un="no-timeline",Nt="is-touched",Vt="is-in-viewport";var cn=Object.freeze({__proto__:null,PLAYING:Zt,FULLSCREEN:"is-fullscreen",PAUSED:Wt,MUTED:"is-muted",LOADED:qt,LOADING:Xt,STARTING:vn,SEEKING:gn,GRABBING:"is-grabbing",DISABLED:"is-disabled",SMALL:"is-small",TINY:"is-tiny",RTL:"is-rtl",ENDED:en,LIVE:hn,ERRORED:"is-error",WAITING:rn,AUTOPLAY:"is-autoplay",NO_AUTOPLAY:"no-autoplay",SEAMLESS:"is-seamless",TOGGLING:"is-toggling",LIVE_SEEKED:"is-live-seeked",NO_DVR:un,HAS_POSTER:"has-poster",MENU_OPENED:"has-menu-opened",TOUCHED:Nt,HOVERED:"is-hovered",TOUCH_DEVICE:"is-touch-device",WILL_SEEK:"will-seek",SEEKABLE:"is-seekable",IN_VIEWPORT:Vt});function dn(Pt){this.message=Pt}dn.prototype=new Error,dn.prototype.name="InvalidCharacterError";var mn=typeof window!="undefined"&&window.atob&&window.atob.bind(window)||function(Pt){var St=String(Pt).replace(/=+$/,"");if(St.length%4==1)throw new dn("'atob' failed: The string to be decoded is not correctly encoded.");for(var wt,Ht,Kt=0,on=0,Jt="";Ht=St.charAt(on++);~Ht&&(wt=Kt%4?64*wt+Ht:Ht,Kt++%4)?Jt+=String.fromCharCode(255&wt>>(-2*Kt&6)):0)Ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Ht);return Jt},bn=function(Pt){var St=Pt.replace(/-/g,"+").replace(/_/g,"/");switch(St.length%4){case 0:break;case 2:St+="==";break;case 3:St+="=";break;default:throw"Illegal base64url string!"}try{return function(wt){return decodeURIComponent(mn(wt).replace(/(.)/g,function(Ht,Kt){var on=Kt.charCodeAt(0).toString(16).toUpperCase();return on.length<2&&(on="0"+on),"%"+on}))}(St)}catch{return mn(St)}};function Cn(Pt){this.message=Pt}Cn.prototype=new Error,Cn.prototype.name="InvalidTokenError";var an=function(Pt,St){if(typeof Pt!="string")throw new Cn("Invalid token specified");var wt=(St=St||{}).header===!0?0:1;try{return JSON.parse(bn(Pt.split(".")[wt]))}catch(Ht){throw new Cn("Invalid token specified: "+Ht.message)}};an.InvalidTokenError=Cn;const Tn=new Map,Dn=(Pt,St)=>new(((wt,Ht)=>{const Kt=wt.get(Ht);if(!Kt)throw new Error(`no flowplayer component with the name ${Ht} exists`);const on=window.customElements.get(Ht);if(!on)throw new Error(`no default flowplayer component with the name ${Ht} exists`);const Jt=window.customElements.get(Kt);return typeof Jt!="function"?on:Jt})(Pt._customElements,St))(Pt),Sn=(Pt,St,wt)=>{window.customElements.get(St)||window.customElements.define(St,wt),Pt.customElements.get(St)||Pt.customElements.set(St,St)};var Ln,nn;(function(Pt){Pt[Pt.LOW=1]="LOW",Pt[Pt.MEDIUM=2]="MEDIUM",Pt[Pt.HIGH=4]="HIGH"})(Ln||(Ln={})),function(Pt){Pt[Pt.OFF=0]="OFF",Pt[Pt.ON=1]="ON",Pt[Pt.AUDIO_REQUIRED=2]="AUDIO_REQUIRED"}(nn||(nn={}));function En(Pt,St,wt){const Ht=typeof wt=="boolean";if(typeof wt!="boolean"&&(wt=Pt.paused),function(on,Jt,tn){const fn=on.poll(Jt?"beforeplay":"beforepause",{forced:tn});return fn&&fn.defaultPrevented}(Pt,wt,Ht))return;if(!wt)return Pt.hasState(hn)&&Pt.setState("is-live-seeked",!0),Pt.pause();if(Pt.reaper==0)return;const Kt=Pt.reaper.get("__pending_play");return Pt.paused!=0||Kt?Kt?(Kt.src!==In(Pt.original_src)&&wn(Pt),Kt):(function(on){return(on.networkState==0||on.readyState==0)&&on.currentSrc==In(on.original_src)}(Pt)&&wn(Pt),(on=>on.autoplay&&nn.AUDIO_REQUIRED&on.autoplay)(St)?function(on){return on.muted=!1,on.volume==0&&(on.volume=1),on.play().catch(Jt=>{console.warn(`[flowplayer/play] autoplay audio required
%s`,Jt.message)})}(Pt):(Pt.setState(vn,!1),Pt.play().catch(on=>(console.warn(`[flowplayer/play] attempting muted autoplay
%s`,on.message),Pt.muted=!0,Pt.volume=0,Pt.play())))):void 0}function wn(Pt){Pt.currentSrc.match(/^blob:/)||Pt.load()}function In(Pt){const St=document.createElement("a");return St.href=Pt,St.href}function Rn(Pt,St){var wt={};for(var Ht in Pt)Object.prototype.hasOwnProperty.call(Pt,Ht)&&St.indexOf(Ht)<0&&(wt[Ht]=Pt[Ht]);if(Pt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Kt=0;for(Ht=Object.getOwnPropertySymbols(Pt);Kt<Ht.length;Kt++)St.indexOf(Ht[Kt])<0&&Object.prototype.propertyIsEnumerable.call(Pt,Ht[Kt])&&(wt[Ht[Kt]]=Pt[Ht[Kt]])}return wt}function Pn(Pt){const St=document.createElement("a");St.href=Pt;const wt=St.pathname&&St.pathname.split(".");return wt.length>1&&wt[wt.length-1]}function Gn(Pt){switch(Pt){case"video/mpd":return"application/dash+xml";case"video/m3u8":return"application/x-mpegurl";default:return Pt}}const zn=Pt=>{var{src:St}=Pt,wt=Rn(Pt,["src"]);return[Object.assign({src:St,type:St?Gn("video/"+Pn(St)):""},wt)]};function ar(Pt){return zn({src:Pt})}function ir(Pt){var{src:St,type:wt}=Pt,Ht=Rn(Pt,["src","type"]);return St&&wt?[Object.assign({src:St,type:wt},Ht)]:wt&&!St?[Object.assign({type:wt},Ht)]:zn(Object.assign({src:St},Ht))}var rr;function mr(Pt,St,wt,Ht={safari:!1}){const Kt=function(on){return typeof on=="string"?ar(on):Array.isArray(on)||typeof on!="object"?on.reduce(function(Jt,tn){return typeof tn=="string"&&(tn=ar(tn)),typeof tn!="object"||Array.isArray(tn)||(tn=ir(tn)),Jt.concat(tn)},[]):ir(on)}(wt);return Pt.currentSrc&&(Pt.innerHTML="",Pt.setOpts({live:!1,dvr_window:void 0}),delete Pt.opts.live,delete Pt.opts.dvr),[gn,Zt,Wt,Xt,qt].forEach(on=>Pt.setState(on,!1)),St.autoplay||Pt.setState(vn,!0),Array(...Array(Kt.length)).map((on,Jt)=>Jt).some(on=>{const Jt=Kt[on];if(rr.Ok==function(tn,fn,An){tn.emit(At,An),typeof An.src=="string"&&(tn.original_src=An.src);const Bn=function(Nn,Fn,kn){return Nn.plugins.filter(Xn=>{return(Jn=Xn)&&"wants"in Jn;var Jn}).find(Xn=>Xn.wants(kn.src||"",kn,Fn))}(tn,fn,An);return Bn?(Bn.onload(fn,tn.root,tn,An),rr.Ok):rr.Err}(Pt,St,Jt)||rr.Ok==function(tn,fn,An,Bn={safari:!1}){var Nn;return/^audio\//.test(An.type||"")&&tn.emit("audioonlysource"),fn.start_time&&(An.src=An.src+"#t="+fn.start_time),tn.canPlayType(An.type||"")==""||An.drm&&(!An.drm["com.apple.fps.1_0"]||!Bn.safari)?rr.Err:(typeof An.src=="string"&&(tn.preload=fn.autoplay?"auto":(Nn=fn.preload)!==null&&Nn!==void 0?Nn:"auto",tn.src=An.src,tn.preload!=="none"&&tn.setState(Xt,!0)),rr.Ok)}(Pt,St,Jt,Ht))return!0;on==Kt.length-1&&typeof Jt.src=="string"&&(Pt.src=Jt.src)}),function(on,Jt){(function(tn,fn){!tn.currentSrc||tn.opt("preload")!="none"&&(fn.autoplay&&fn.autoplay>0||tn.load())})(on,Jt)}(Pt,St),Pt}(function(Pt){Pt[Pt.Err=0]="Err",Pt[Pt.Ok=1]="Ok"})(rr||(rr={}));const cr=[bt,vt,At,"seek:cancel"];var tr;function Zn(Pt,St,wt){return isNaN(Pt.duration)||isNaN(Pt.currentTime)?{}:(St.offset+=wt,St.offset==0?Mn(Pt,St):(St.timer&&clearTimeout(St.timer),St.timer=setTimeout(function(){Pt.reaper!=0&&(Pt.currentTime=function(Ht,Kt,on=0){return Math.max(Math.min(Kt,Ht),on)}(Pt.currentTime+St.offset,Pt.duration),St.timer=0,Mn(Pt,St))},1e3),function(Ht,Kt){Ht.setState("will-seek",!0),Ht.setState(tr.BACKWARD,Kt.offset<0),Ht.setState(tr.FORWARD,Kt.offset>0)}(Pt,St),Pt.emit("seek:queued",St),St))}function Mn(Pt,St){St.timer&&clearTimeout(St.timer),St.timer=St.offset=0,function(wt){wt.setState(tr.FORWARD,!1),wt.setState(tr.BACKWARD,!1),wt.setState("will-seek",!1)}(Pt)}function On(){if(typeof document=="undefined")return!1;const Pt=document.documentElement;return Pt&&Pt.getAttribute("dir")=="rtl"}function Un(...Pt){const St=document.createElement("div");return Pt.length==0||St.classList.add(...Pt),St}function $n(Pt,St,wt){const Ht=function(Kt){return Array.isArray(Kt)?Kt.slice(0):Kt.split(".")}(St);for(;Ht.length;){if(Pt==null)return wt;const Kt=Ht.shift();if(typeof Kt!="string")return wt;Pt=Pt[Kt]}return Pt==null?wt:Pt}function sr(Pt){const St=typeof Pt=="number"?Pt:parseInt(Pt,10);return(St>9?"":"0")+St}function $t(Pt){if(isNaN(Pt)||Pt>=Number.MAX_SAFE_INTEGER)return"";const St=Pt<0?"-":"";Pt=Math.round(Math.abs(Pt));const wt=Math.floor(Pt/3600);let Ht=Math.floor(Pt/60);return Pt-=60*Ht,wt>=1?(Ht-=60*wt,St+wt+":"+sr(Ht)+":"+sr(Pt)):St+sr(Ht)+":"+sr(Pt)}(function(Pt){Pt.FORWARD="forward",Pt.BACKWARD="backward"})(tr||(tr={}));const pn=navigator.languages||[navigator.language];function yn(Pt,St,wt){const Ht={};return wt=St.lang||wt,Pt[wt]&&(Ht[wt]=Pt[wt]),function(){try{return pn.reduce((Kt,on)=>~on.indexOf("-")?Kt.concat(on,on.split("-")[0]):Kt.concat(on),[])}catch{return[]}}().forEach(function(Kt){Pt[Kt]&&!Ht[Kt]&&(Ht[Kt]=Pt[Kt])}),Object.values(Ht)}const _n=[1e7]+""+-1e3+-4e3+-8e3+-1e11,xn=()=>typeof crypto=="undefined"?"":_n.replace(/[018]/g,Pt=>(Pt^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Pt/4).toString(16));let Hn="";(function(){let Pt=!1;try{const St=Object.defineProperty({},"passive",{get:function(){Pt=!0}});window.addEventListener("testPassive",null,St),window.removeEventListener("testPassive",null,St)}catch{}})();const Kn=["touchstart","touchmove"];function Wn(Pt,St){const wt=new CustomEvent(Pt,{detail:St,cancelable:!0});return St&&Object.defineProperty(wt,"data",{get:()=>St}),wt}function Vn(Pt,St,wt){const Ht=Wn(St,wt);return Pt.dispatchEvent(Ht),Pt}function qn(Pt,St,wt){const Ht=Wn(St,wt);return Pt.dispatchEvent(Ht),Ht}function Yn(Pt,St,wt,Ht){Array.isArray(St)?St.forEach(Kt=>nr(Pt,Kt,wt,Ht)):nr(Pt,St,wt,Ht)}function nr(Pt,St,wt,Ht){if(Kt=St,!~Kn.indexOf(Kt))return Pt.addEventListener(St,wt,Ht),Pt;var Kt;const on=Object.assign(Ht||{},{passive:!0});return Pt.addEventListener(St,wt,on),Pt}function er(Pt,St,wt,Ht){return Yn(Pt,St,wt,Object.assign(Ht||{},{once:!0}))}class hr{constructor(St,wt){this.implementation=St,wt&&wt.keys().forEach(Ht=>{typeof wt.implementation[Ht]=="string"&&this.implementation.setItem(Ht,wt.implementation[Ht])})}keys(){var St;const wt=[];for(var Ht=0;Ht<this.implementation.length;Ht++)!((St=this.implementation.key(Ht))===null||St===void 0)&&St.startsWith("flowplayer/")&&wt.push(this.implementation.key(Ht));return wt}removeItem(St){try{this.implementation.removeItem("flowplayer/"+St)}catch{}}getItem(St){try{return this.implementation.getItem("flowplayer/"+St)}catch{return null}}setItem(St,wt){try{this.implementation.setItem("flowplayer/"+St,wt)}catch{}}clear(){try{this.keys().forEach(St=>this.implementation.removeItem(St))}catch{}}get length(){try{return this.keys().length}catch{return 0}}key(St){try{return this.implementation.key(St)}catch{return null}}}class vr{constructor(){this.pairs=[]}get length(){return this.pairs.length}clear(){this.pairs=[]}getItem(St){var wt;return((wt=this.pairs.find(Ht=>Ht[0]===St))===null||wt===void 0?void 0:wt[1])||null}key(St){return this.pairs[St][0]||null}removeItem(St){this.pairs=this.pairs.filter(wt=>wt[0]!==St)}setItem(St,wt){this.removeItem(St),this.pairs.push([St,wt])}}const Sr={preload:"none",rtl:!1,controls:!0},xr=["loop","muted","preload"];function or(Pt,St,wt){wt._storage=new hr(["localStorage","sessionStorage"].map(Jt=>{try{const tn=window[Jt];return tn.getItem(""),tn}catch{return console.debug(`Access to window.${Jt} denied, trying next option`),null}}).find(Jt=>!!Jt)||new vr),wt.toJSON=function(){return{duration:wt.duration,volume:wt.volume,currentTime:wt.currentTime,states:wt.root.className}},wt.setSrc=function(Jt){return mr(wt,Pt,Jt,_e())},wt.playerState=wt.playerState||{},wt.setState=function(Jt,tn){if(wt.playerState[Jt]===!!tn)return wt;const fn=Object.assign({},wt.playerState,{[Jt]:tn});return fn[rn]&&(fn[Zt]=!1),wt.playerState=fn,Vn(wt,"state",wt.playerState),wt},wt.createComponents=function(...Jt){return Array.from({length:Jt.length}).map((tn,fn)=>Dn(this,Jt[fn]))},wt.hasState=function(Jt){return!!wt.playerState[Jt]},wt.transitionState=function(Jt,tn,fn){!wt.hasState(Jt)&&wt.hasState(tn)||(fn=0),fn&&wt.setState("is-toggling",!0),wt.setState(tn,!1),wt.setState(Jt,!0),fn&&setTimeout(function(){wt.setState("is-toggling",!1)},fn)},wt.emit=(Jt,tn)=>(Vn(wt,Jt,tn),wt),wt.on=(Jt,tn)=>(Yn(wt,Jt,tn),wt),wt.once=(Jt,tn)=>(er(wt,Jt,tn),wt),wt.off=(Jt,tn)=>{var fn,An;return fn=Jt,An=tn,wt.removeEventListener(fn,An),wt},wt.poll=(Jt,tn)=>qn(wt,Jt,tn),wt.togglePlay=function(Jt){return En(wt,Pt,Jt)},wt.toggleMute=function(Jt){Jt=Jt==null?!wt.muted:!!Jt,wt.muted=Jt,wt.muted||wt.volume||(wt.volume=1),Vn(wt,"volumechange")},wt.toggleDisable=function(Jt){Jt=Jt==null?!wt.disabled:!!Jt,wt.setState("is-disabled",Jt),wt.disabled=Jt},wt.destroy=function(){wt.pause();const Jt=$.indexOf(wt);~Jt&&$.splice(Jt,1),setTimeout(function(){wt.setSrc([]),wt.reaper&&wt.reaper.clear(),Vn(wt,bt)},0)},wt.setAttrs=function(Jt){return xr.forEach(tn=>{if(!(tn in Jt))return;const fn=Jt[tn];fn?wt.setAttribute(tn,fn.toString()):wt.removeAttribute(tn)}),wt},wt.opt=function(Jt,tn){return tn=tn===void 0?$n(Sr,Jt):tn,$n(Pt,Jt,tn)},wt.i18n=function(Jt,tn){if(!wt.reaper)return"";const fn=wt.reaper.get("translations");return fn?function An(Bn,Nn,Fn,kn){return(kn=kn||0)>=Bn.length?Fn:$n(Bn[kn],Nn,An(Bn,Nn,Fn,kn+1))}(fn,Jt,tn||""):tn||""},wt.setOpts=function(Jt){Object.assign(Pt,Jt),"disabled"in Jt&&Jt.disabled!==void 0&&wt.toggleDisable(Jt.disabled),"muted"in Jt&&Jt.muted!==void 0&&wt.toggleMute(Jt.muted);const tn=!!Pt.autoplay&&!wt.hasState("no-autoplay");wt.setState("is-autoplay",tn),wt.setState("is-rtl",wt.opt("rtl",function(fn){if(!fn)return On();const An=fn.getAttribute("dir");return An?An=="rtl":On()}(St))),wt.setState(hn,!!Pt.live),wt.setState(un,!(!Pt.live||Pt.dvr)),wt.setState("has-poster",typeof Pt.poster=="string"&&Pt.poster.length>0),wt.setState("is-seekable",!!Pt.seekable),St.style.backgroundImage=wt.hasState("has-poster")?"url('"+Pt.poster+"')":"",Vn(wt,xt,Pt)},wt.renderPlugin=function(Jt){qn(wt,"renderplugin",Jt).defaultPrevented||wt.root.appendChild(Jt)};const Ht={offset:0,timer:0};var Kt,on;on=Ht,(Kt=wt).on(cr,function(){Mn(Kt,on)}),wt.enqueueSeek=function(Jt){if(wt.opts.seekable!=0&&!(wt.opts.disabled==1&&Jt>0))return Zn(wt,Ht,Jt)},wt.deviceId=function(){return function(Jt){if(Hn)return Hn;try{const tn=Jt.getItem("flowplayer/uuid");if(tn)return tn;const fn=xn();return Jt.setItem("flowplayer/uuid",fn),fn}catch{return Hn=xn()}}(wt._storage)}}function jn(Pt,St){const wt=St.querySelector("video"),Ht=wt||(Pt._video_element_callback?Pt._video_element_callback(Pt):document.createElement("video"));return Ht.classList.add("fp-engine"),Ht.playsInline=!0,wt||St.append(Ht),Ht}var pr=typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{};function Pr(){return typeof window!="undefined"?window:pr!==void 0?pr:{}}const Tr=["localhost","127.0.0.1","0.0.0.0","s.codepen.io","cdpn.io","try.flowplayer.com"];function Ir(Pt,St){return!!~Tr.indexOf(Pt)||Pt.indexOf(St)===Pt.length-St.length}Ir.check_whitelist=function(Pt){return!!~Tr.indexOf(Pt)};const Nr="production";function dr(Pt,St){const wt={valid_jwt:!1,raw:"",data:{acl:0},exp:0};let Ht={c:"{}",exp:0};St=St||{};try{Ht=an(Pt),wt.valid_jwt=!0}catch{}return wt.raw=Pt,wt.data=JSON.parse(Ht.c),wt.exp=Ht.exp,St.require_valid_token&&dr.validate(wt),wt}function Fr(Pt){try{return dr.validate(Pt),{success:!0,message:""}}catch(St){return{success:!1,message:St.message}}}var Gr;function gr(Pt){return{grant:Pt,is_granted:St=>(Pt&St)===St}}function bs({root:Pt,video:St,data:wt}){St&&St.destroy(),console.error(new Error(wt.details||wt.reason)),Pt.innerHTML="",Pt.classList.remove("flowplayer"),Pt.classList.add("flowplayer-fatal"),Pt.style.removeProperty("background-image");const Ht=document.createElement("h2");Ht.textContent="Playback Error";const Kt=document.createElement("p");Kt.textContent="Are you the site owner?";const on=document.createElement("a");on.classList.add("troubleshoot"),on.target="_blank",on.href="https://docs.flowplayer.com/troubleshooting/player#"+wt.reason,on.textContent="Troubleshoot?";const Jt=document.createElement("img");Jt.src="https://flowplayer.com/user/pages/images/logo-white.png",Pt.append(Ht,Kt,on,Jt)}function cs(Pt,St){const wt=St.clientWidth;St.classList.toggle("is-small",wt<600),St.classList.toggle("is-tiny",wt<400)}function Us(Pt,St,wt){let Ht=!0;St.classList.add("flowplayer"),cs(0,St),Yn(wt,[ht,"resize"],function(){cs(0,St)}),Yn(wt,"state",function(){Object.entries(wt.playerState).forEach(function([Kt,on]){St.classList.toggle(Kt,on)})}),Yn(wt,"timeupdate",function(){wt.setState(rn,wt.readyState<3)}),Yn(wt,yt,function(Kt){setTimeout(function(){if(!Kt.defaultPrevented){if(Pt.rewind&&!wt.loop){const on=wt.src;Pt.autoplay&&(Pt.autoplay=0,wt.setState("is-autoplay",!1)),wt.setState(gn,!0),er(wt,_t,function(){on===wt.src&&(wt.setState(gn,!1),wt.pause(),wt.setState(vn,!0))}),wt.currentTime=0}er(wt,"timeupdate",function(){wt.setState(en,!1)}),wt.transitionState(en,Zt,Pt.loop||Pt.rewind?0:300)}},0)}),Yn(wt,[vt,_t],function(Kt){wt.setState(gn,Kt.type==vt),wt.setState(Wt,wt.paused),wt.setState(Zt,!wt.paused)}),Yn(wt,yt,function(){wt.setState(Zt,!1),Ht=!0}),Yn(wt,_e().ios?ut:ct,function(){var Kt,on;wt.setState(qt,!0),wt.setState(Xt,!1);const Jt=wt;((Kt=Jt.videoTracks)===null||Kt===void 0?void 0:Kt.length)===0&&((on=Jt.audioTracks)===null||on===void 0?void 0:on.length)>0&&wt.emit("audioonlysource")}),Yn(wt,[mt,gt,ht],function(Kt){if(!wt.hasState(gn)&&(Kt.type!=gt||Pt.autoplay||wt.setState(rn,!1),Kt.type!=ht||wt.opt("preload")!="none"||Pt.autoplay)){if(Kt.type==ht&&Pt.autoplay)return er(wt,pt,function(){wt.setState(rn,!1)});Kt.type==mt&&([Zt,Wt,vn].forEach(function(on){wt.setState(on,!1)}),wt.hasState(qt)||wt.setState(Xt,!0)),wt.setState(en,!1),wt.setState(rn,Kt.type==mt)}}),Yn(wt,[pt,dt],function(Kt){setTimeout(()=>{const Bn=new CustomEvent("flowplayer/"+Kt.type,{detail:wt});document.dispatchEvent(Bn)},0);const on=Kt.type==pt,Jt=wt.currentTime==wt.duration,tn=on&&Ht&&Pt.autoplay||wt.hasState(rn);if(on&&(wt.started=!0,Ht=!1),wt.setState(rn,!1).setState(vn,!1),Jt||wt.hasState(gn))return;const fn=on?Zt:Wt,An=on?Wt:Zt;wt.transitionState(fn,An,tn?0:300),on&&wt.setState("no-autoplay",!1)})}dr.validate=function(Pt){if(typeof Pt=="string"&&(Pt=dr(Pt)),!Pt||!Pt.raw){if(Ir.check_whitelist(window.location.hostname)||Nr.toString()==="dev")return!0;throw new Error("No token provided in configuration")}if(!Pt.valid_jwt)throw new Error("Invalid token provided");const St=window.location.hostname,wt=Ir.bind(null,St);if(Nr.toString()!=="dev"&&Pt.data.domain&&Pt.data.domain.length&&!Pt.data.domain.some(wt))throw new Error("Domain not allowed");if(Nr.toString()!=="dev"&&1e3*Pt.exp-Date.now()<0)throw new Error("Expired token");return!0},dr.id=function(Pt){if(Pt)return typeof Pt=="string"&&(Pt=dr(Pt)),Pt.data.id},function(Pt){Pt[Pt.ADS=2]="ADS",Pt[Pt.ANALYTICS=4]="ANALYTICS",Pt[Pt.NO_METERING=8]="NO_METERING",Pt[Pt.DEVELOPER_PLAN=16]="DEVELOPER_PLAN"}(Gr||(Gr={})),gr.of=gr,gr.from_token=function(Pt){const St=dr(Pt,{require_valid_token:!0});return gr.of(St.data.acl)},gr.permissions=Gr;const ns=[0].concat(Array.from({length:100}).map((Pt,St)=>(St+1)/100));function As(Pt,St,wt){if(!window.IntersectionObserver)return;const Ht={should_resume:!!Pt.autoplay,has_user_gesture:!1,locked:!1};[st,tt].forEach(on=>er(wt,on,()=>Ht.has_user_gesture=!0)),Yn(wt,"play",function(){Ht.locked||(Ht.should_resume=!0)}),Yn(wt,At,function(){Ht.should_resume=!!Pt.autoplay}),Yn(wt,dt,function(){Ht.locked||(Ht.should_resume=!1)}),Yn(wt,gt,function(on){if(Pt.autoplay)return wt.hasState(Vt)&&Ht.should_resume?wt.togglePlay(!0):void(Pt.autopause||wt.hasState(Vt)||!Ht.should_resume||er(wt,"viewenter",()=>{Pt.autoplay&&Ht.should_resume&&wt.togglePlay(!0)}))});const Kt=new IntersectionObserver(on=>{on.forEach(Jt=>{setTimeout(()=>{const tn=Jt.intersectionRatio,fn=wt.hasState(Vt);if(wt.setState(Vt,tn>=.2),wt.emit("intersectionchange",{ratio:tn}),fn===wt.hasState(Vt))return;const An=wt.hasState(Vt)?"viewenter":"viewleave";wt.emit(An)},0)})},{threshold:ns});Kt.observe(St),wt.on(bt,()=>Kt.disconnect()),Pt.autopause&&(Yn(wt,"viewenter",function(){Ht.should_resume&&Pt.autopause&&wt.togglePlay(!0)}),Yn(wt,"viewleave",function(){if(!Pt.autopause)return;const on=!wt.paused;Ht.locked=!0,wt.pause(),setTimeout(function(){Ht.should_resume=on,Ht.locked=!1},0)}))}function Yr(Pt,St){if(!window.ResizeObserver)return;const wt=new ResizeObserver(Ht=>{const Kt=Ht[Ht.length-1];St.emit("resize",Kt)});wt.observe(Pt),St.on(bt,()=>wt.disconnect())}function us(Pt){if(typeof Pt=="number"&&!isNaN(Pt))return Number(Pt);if(typeof Pt=="string"){const St=Pt.split(":");return Number(St[1])/Number(St[0])}return Pt}function ws(Pt,St,wt){const Ht=document.createElement("div");Ht.classList.add("fp-ratio"),St.append(Ht);let Kt=us(Pt.ratio||.5625);Ht.style.paddingTop=100*Kt+"%";const on=[ct,ut];wt.on(on,function(){const Jt=wt.videoHeight&&wt.videoWidth&&wt.videoHeight/wt.videoWidth;Jt&&wt.setOpts({ratio:Jt})}),wt.on(xt,function(){const Jt=wt.videoHeight&&wt.videoWidth&&wt.videoHeight/wt.videoWidth,tn=us((Pt==null?void 0:Pt.ratio)||Jt||.5625);Kt!==tn&&(Kt=tn,Ht.style.paddingTop=100*tn+"%")})}class Ss{constructor(){this.cleanUp=this.cleanUp.bind(this),this.render=this.render.bind(this),this.wireUp=this.wireUp.bind(this)}init(St,wt,Ht){this.root=wt,this.player=Ht,this.wireUp()}wireUp(){var St,wt;this.cleanUp(),(St=this.player)===null||St===void 0||St.once(pt,this.render),(wt=this.player)===null||wt===void 0||wt.once(yt,this.wireUp)}cleanUp(){var St,wt,Ht,Kt;(wt=(St=this._logo)===null||St===void 0?void 0:St.parentElement)===null||wt===void 0||wt.removeChild(this._logo),(Ht=this.player)===null||Ht===void 0||Ht.off(pt,this.render),(Kt=this.player)===null||Kt===void 0||Kt.off(yt,this.wireUp)}render(){var St,wt,Ht;(wt=(St=this._logo)===null||St===void 0?void 0:St.parentElement)===null||wt===void 0||wt.removeChild(this._logo);const Kt=((Ht=this.root)===null||Ht===void 0?void 0:Ht.querySelector(".fp-ui"))||this.root;if(!Kt)return;const on=this._logo=document.createElement("a");on.href="https://explorer.flowplayer.com",on.target="_blank",Object.entries(rs).forEach(([Jt,tn])=>{on.style.setProperty(Jt,tn,"important")}),Kt.appendChild(on)}}const rs={display:"block",opacity:"1",visibility:"visible",width:"33%","padding-top":"9%",position:"absolute","z-index":"9999",bottom:"25%",left:"10%","background-size":"cover","background-image":"url(https://static.flowplayer.com/explorer/explorer.svg)"},Gs="flowplayer/"+pt;function hs(Pt){const St=wt=>{wt.detail!==Pt&&Pt.opt("multiplay")===!1&&Pt.togglePlay(!1)};Pt.on(bt,()=>document.removeEventListener(Gs,St)),document.addEventListener(Gs,St)}function fs(Pt,St){const wt=[];Pt.addEventListener("contextmenu",Ht=>{const Kt=Ht.timeStamp;for(wt.push(Kt);wt.length>3;)wt.shift();wt.length>=3&&wt.every(on=>on-Kt<3e3)&&(console.debug("flowplayer/debug rendering info"),function(on,Jt){var tn;(function(Nn){const Fn=Nn.querySelector(".debug-info");Fn==null||Fn.remove()})(on);const fn=document.createElement("div");fn.classList.add("debug-info");const An=Qr("flowplayer.version","3.2.6");fn.append(An);const Bn=(tn=Jt==null?void 0:Jt.hls)===null||tn===void 0?void 0:tn.constructor;if(Bn&&Bn.version){const Nn=Qr("hls.version",Bn.version);fn.append(Nn)}on.appendChild(fn)}(Pt,St))})}const Qr=(Pt,St)=>{const wt=document.createElement("div");wt.classList.add("row",Pt);const Ht=document.createElement("span");Ht.classList.add("attr"),Ht.textContent=Pt;const Kt=document.createElement("span");return Kt.textContent=St,Kt.classList.add("value"),wt.append(Ht,Kt),wt},Hs=function(){const Pt=Pr(),St=Pt.flowplayer?Pt.flowplayer:{extensions:[]};return Array.isArray(St.extensions)||(St.extensions=[]),St}();function Br(Pt,St){if(typeof Pt=="function")return b.push(...[...arguments].filter(fn=>typeof fn=="function")),Br;typeof St=="string"&&(St={src:St}),St||(St={}),St.token||typeof window.__FLOWPLAYER_TOKEN!="string"||(St.token=window.__FLOWPLAYER_TOKEN);const wt=typeof Pt=="string"?document.querySelector(Pt):Pt;if(!wt)return console.error(new Error("Flowplayer: '"+Pt.toString()+"' not found"));const Ht=wt.querySelector("video.fp-engine");if(Ht)return Ht;const Kt=Fr(St.token);if(!Kt.success)return bs({root:wt,data:{reason:"token",details:Kt.message}});const on=new Map,Jt=jn(St,wt);Jt.reaper=on,Jt._customElements=Tn,Object.defineProperty(Jt,"token",{value:typeof St.token=="string"?dr.id(St.token):"",writable:!1}),Jt.addEventListener(bt,()=>{on.clear(),Jt.reaper=0,delete Jt.root}),Jt.root=wt,St.token&&gr.from_token(St.token).is_granted(gr.permissions.DEVELOPER_PLAN)&&b.push(Ss),!~$.indexOf(Jt)&&$.push(Jt),or(St,wt,Jt),Jt.setAttrs(St),Jt.plugins=Br.extensions.map(fn=>new fn(Br,Jt)),Us(St,wt,Jt),As(St,wt,Jt),Yr(wt,Jt),ws(St,wt,Jt),hs(Jt),fs(wt,Jt),Jt.plugins.forEach(fn=>{try{fn.init(St,wt,Jt)}catch(An){console.log("Error(plugin/%s)",fn.constructor.name,An)}}),Jt.setOpts(St),Jt.opts=St,St.src&&Jt.setSrc(St.src);const tn=Jt.readyState;return tn>0&&Jt.currentSrc&&Jt.emit(ut),tn>2&&Jt.currentSrc&&Jt.emit(gt),Jt.emit("mount"),Jt.on("error:fatal",function(fn){bs({root:wt,video:Jt,data:fn.data||{}})}),Jt}Object.assign(Br,Hs),function(Pt){Array.isArray(Pt.extensions)&&Pt.extensions.forEach(St=>b.push(St)),Pt.customElements=Tn,Pt.defaultElements=ln,Pt.version="3.2.6",Pt.commit="5a27b6794d5549b093e5031d144faffd489fa309",Pt.instances=$,Pt.extensions=b,Pt.support=_e,Pt.events=Tt,Pt.states=cn,Pt.jwt=an,Pt.autoplay=nn,Pt.quality=Ln}(Br),typeof document=="object"&&setTimeout(Vn,0,document,"flowplayer:umd",Br);var ur=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:{};function Or(Pt){var St={exports:{}};return Pt(St,St.exports),St.exports}var Es=Or(function(Pt,St){var wt=ur&&ur.__assign||function(){return(wt=Object.assign||function(Ht){for(var Kt,on=1,Jt=arguments.length;on<Jt;on++)for(var tn in Kt=arguments[on])Object.prototype.hasOwnProperty.call(Kt,tn)&&(Ht[tn]=Kt[tn]);return Ht}).apply(this,arguments)};St.__esModule=!0,St.remove=St.downcase=St.pluck=St.merge=void 0,St.merge=function(){for(var Ht=[],Kt=0;Kt<arguments.length;Kt++)Ht[Kt]=arguments[Kt];return Ht.reduce(function(on,Jt){return wt(wt({},on),Jt)},{})},St.pluck=function(Ht){for(var Kt=[],on=1;on<arguments.length;on++)Kt[on-1]=arguments[on];return Object.keys(Ht).filter(function(Jt){return~Kt.indexOf(Jt)}).reduce(function(Jt,tn){var fn;return St.merge(Jt,((fn={})[tn]=Ht[tn],fn))},{})},St.downcase=function(Ht){return(Ht||"").toString().toLowerCase()},St.remove=function(Ht,Kt){var on=Ht.lastIndexOf(Kt);return~on&&Ht.splice(on,1),Ht}}),Cs=Or(function(Pt,St){var wt=ur&&ur.__createBinding||(Object.create?function(tn,fn,An,Bn){Bn===void 0&&(Bn=An),Object.defineProperty(tn,Bn,{enumerable:!0,get:function(){return fn[An]}})}:function(tn,fn,An,Bn){Bn===void 0&&(Bn=An),tn[Bn]=fn[An]}),Ht=ur&&ur.__setModuleDefault||(Object.create?function(tn,fn){Object.defineProperty(tn,"default",{enumerable:!0,value:fn})}:function(tn,fn){tn.default=fn}),Kt=ur&&ur.__importStar||function(tn){if(tn&&tn.__esModule)return tn;var fn={};if(tn!=null)for(var An in tn)An!=="default"&&Object.hasOwnProperty.call(tn,An)&&wt(fn,tn,An);return Ht(fn,tn),fn};St.__esModule=!0;var on=Kt(Es),Jt=function(){function tn(){this.pending=[],this.open=[],this.stats={failures:0,ttl:0}}return tn.of=function(){return new tn},tn.is_empty=function(fn){return fn.pending.length==0},tn.is_high_water=function(fn){return fn.open.length==tn.MAX_OPEN_REQUESTS},tn.maybe_spawn_req=function(fn){if(tn.is_empty(fn)||tn.is_high_water(fn))return fn;try{var An=tn.lpop(fn);An&&tn.request(fn,An)}catch{}},tn.increment_failures=function(fn){return fn.stats.failures++,fn.stats.failures>tn.MAX_FAILURE_COUNT&&(fn.stats.ttl=Date.now()+tn.REQUEST_TTL_MS),fn},tn.handle_error=function(fn,An){tn.rm(fn,An),tn.increment_failures(fn)},tn.request=function(fn,An){var Bn=An[0],Nn=An[1],Fn=An[2];if(!(Date.now()<fn.stats.ttl)){var kn=new XMLHttpRequest;fn.open.push(kn),kn.timeout=tn.REQUEST_TIMEOUT_MS,kn.ontimeout=function(){tn.handle_error(fn,kn)},kn.onerror=function(Xn){tn.handle_error(fn,kn)},kn.onreadystatechange=function(){kn.readyState==XMLHttpRequest.DONE&&tn.rm(fn,kn),Math.floor(kn.status/100)},kn.onload=function(){tn.rm(fn,kn),fn.stats.failures&&fn.stats.failures--},kn.open(Nn,Bn),kn.setRequestHeader("Content-Type","text/plain;charset=UTF-8");try{kn.send(JSON.stringify(Fn))}catch{}}},tn.rpush=function(fn){for(var An=[],Bn=1;Bn<arguments.length;Bn++)An[Bn-1]=arguments[Bn];return An.forEach(function(Nn){fn.pending.length>=tn.MAX_PENDING||(fn.pending.push(Nn),tn.maybe_spawn_req(fn))}),fn},tn.lpop=function(fn){return fn.pending.shift()},tn.rm=function(fn,An){return on.remove(fn.open,An),fn},tn.MAX_OPEN_REQUESTS=3,tn.MAX_PENDING=5,tn.REQUEST_TIMEOUT_MS=4e3,tn.REQUEST_TTL_MS=5e3,tn.MAX_FAILURE_COUNT=3,tn}();St.default=Jt}),Ts=Or(function(Pt,St){var wt=ur&&ur.__importDefault||function(Kt){return Kt&&Kt.__esModule?Kt:{default:Kt}};St.__esModule=!0;var Ht=wt(Cs);St.default=Ht.default.of()}),Kr=Or(function(Pt,St){St.__esModule=!0,St.prepare_url=St.URL_PARAM=void 0,St.URL_PARAM=/:([a-zA-Z_]+)/g,St.prepare_url=function(wt,Ht){return wt.url.replace(St.URL_PARAM,function(Kt){if((Kt=Kt.slice(1,Kt.length))in Ht)return Ht[Kt].toString();wt.log.error(new Error(`
      preparing url[`+wt.url+`] failed
      
      parameter[`+Kt+`] not detected in params:
      
      `+JSON.stringify(Ht,null,2)+`
    `))})}}),Vs=Or(function(Pt,St){St.__esModule=!0,St.Log=void 0;var wt=function(){function Ht(Kt){this.emitter=Kt}return Ht.prepare=function(Kt,on){var Jt=document.createEvent("Event");return Jt.initEvent(Kt,!1,!0),Jt.ns=Kt,Jt.data=on,Jt},Ht.of=function(Kt){return new Ht(Kt)},Ht.prototype.info=function(Kt){this.emitter.dispatchEvent(Ht.prepare(Ht.NAMESPACE.INFO,Kt))},Ht.prototype.error=function(Kt){this.emitter.dispatchEvent(Ht.prepare(Ht.NAMESPACE.ERROR,Kt))},Ht.prototype.warn=function(Kt){this.emitter.dispatchEvent(Ht.prepare(Ht.NAMESPACE.WARN,Kt))},Ht.NAMESPACE={INFO:"tracker:info",ERROR:"tracker:err",WARN:"tracker:warn"},Ht}();St.Log=wt}),ds=Or(function(Pt,St){var wt;St.__esModule=!0,St.Verb=void 0,(wt=St.Verb||(St.Verb={})).POST="POST",wt.PUT="PUT",wt.GET="GET"}),Jr=Or(function(Pt,St){var wt=ur&&ur.__createBinding||(Object.create?function(Fn,kn,Xn,Jn){Jn===void 0&&(Jn=Xn),Object.defineProperty(Fn,Jn,{enumerable:!0,get:function(){return kn[Xn]}})}:function(Fn,kn,Xn,Jn){Jn===void 0&&(Jn=Xn),Fn[Jn]=kn[Xn]}),Ht=ur&&ur.__setModuleDefault||(Object.create?function(Fn,kn){Object.defineProperty(Fn,"default",{enumerable:!0,value:kn})}:function(Fn,kn){Fn.default=kn}),Kt=ur&&ur.__importStar||function(Fn){if(Fn&&Fn.__esModule)return Fn;var kn={};if(Fn!=null)for(var Xn in Fn)Xn!=="default"&&Object.hasOwnProperty.call(Fn,Xn)&&wt(kn,Fn,Xn);return Ht(kn,Fn),kn},on=ur&&ur.__spreadArrays||function(){for(var Fn=0,kn=0,Xn=arguments.length;kn<Xn;kn++)Fn+=arguments[kn].length;var Jn=Array(Fn),lr=0;for(kn=0;kn<Xn;kn++)for(var Er=arguments[kn],es=0,Ks=Er.length;es<Ks;es++,lr++)Jn[lr]=Er[es];return Jn},Jt=ur&&ur.__importDefault||function(Fn){return Fn&&Fn.__esModule?Fn:{default:Fn}};St.__esModule=!0;var tn=Jt(Ts),fn=Jt(Cs),An=Kt(Kr),Bn=Kt(Es),Nn=function(){function Fn(kn,Xn){var Jn=this;Xn===void 0&&(Xn={});var lr=this;if(this.emitter=kn,this.url=Xn.url,this.log=Vs.Log.of(this.emitter),this.verb=Xn.verb,this.metadata=Bn.merge({},Xn.metadata||{}),this.rq=Xn.rq||tn.default,this.events=Xn.events||[],this.required_keys=Xn.required_keys||[],this.optional_keys=Xn.optional_keys||[],this.listeners=[],this.valid_keys=this.required_keys.slice(0).concat(this.optional_keys),Fn.assert_emitter_api(this.emitter),Fn.verb[this.verb]===void 0)throw new Error("invalid HTTP verb["+this.verb+"] passed");if(typeof this.url!="string")throw new Error("invalid API url["+this.url+"] passed");Fn.TRACKERS.push(this),lr.events.forEach(function(Er){Fn.create_listener(Jn,Er,function(es){es===void 0&&(es={});var Ks=Bn.merge(lr.metadata,{event_type:Er},es.data||es),qo=An.prepare_url(lr,Ks),qs=Fn.pluck_valid_keys(lr,Ks),go=Fn.ensure_required_keys(lr,qs);if(go.length)return lr.log.error(`Tracker.validate_metadata() failed for 
            Event[`+Er+`]
            missing keys: `+go+`
            payload:
              `+JSON.stringify(qs,null,2));fn.default.rpush(Jn.rq,[qo,Jn.verb,qs])})})}return Fn.of=function(kn,Xn){return new Fn(kn,Xn)},Fn.ensure_required_keys=function(kn,Xn){return kn.required_keys.filter(function(Jn){return!(Jn in Xn)})},Fn.pluck_valid_keys=function(kn,Xn){return Bn.pluck.apply(Bn,on([Xn],kn.valid_keys))},Fn.merge_metadata=function(kn,Xn){return Xn===void 0&&(Xn={}),kn.metadata=Fn.pluck_valid_keys(kn,Bn.merge(kn.metadata,Xn)),kn},Fn.assert_emitter_api=function(kn){if(typeof(kn||{}).addEventListener!="function")throw new Error("Tracker() received an emitter that does not implement the addEventListener method");if(typeof(kn||{}).removeEventListener!="function")throw new Error("Tracker() received an emitter that does not implement the removeEventListener method")},Fn.create_listener=function(kn,Xn,Jn){kn.listeners.push([Xn,Jn]),kn.emitter.addEventListener(Xn,Jn)},Fn.prototype.destroy=function(){var kn=this;this.listeners.forEach(function(Xn){var Jn=Xn[0],lr=Xn[1];return kn.emitter.removeEventListener(Jn,lr)}),delete this.rq,delete this.emitter,Bn.remove(Fn.TRACKERS,this)},Fn.prototype.put=function(kn){return kn===void 0&&(kn={}),Fn.merge_metadata(this,kn),this},Fn.TRACKERS=[],Fn.QUEUE=tn.default,Fn.verb=ds.Verb,Fn}();St.default=Nn}),Vr=Or(function(Pt,St){var wt=ur&&ur.__createBinding||(Object.create?function(fn,An,Bn,Nn){Nn===void 0&&(Nn=Bn),Object.defineProperty(fn,Nn,{enumerable:!0,get:function(){return An[Bn]}})}:function(fn,An,Bn,Nn){Nn===void 0&&(Nn=Bn),fn[Nn]=An[Bn]}),Ht=ur&&ur.__setModuleDefault||(Object.create?function(fn,An){Object.defineProperty(fn,"default",{enumerable:!0,value:An})}:function(fn,An){fn.default=An}),Kt=ur&&ur.__importStar||function(fn){if(fn&&fn.__esModule)return fn;var An={};if(fn!=null)for(var Bn in fn)Bn!=="default"&&Object.hasOwnProperty.call(fn,Bn)&&wt(An,fn,Bn);return Ht(An,fn),An},on=ur&&ur.__importDefault||function(fn){return fn&&fn.__esModule?fn:{default:fn}};St.__esModule=!0,St.API=St.Tracker=void 0;var Jt=on(Jr);St.Tracker=Jt.default;var tn=Kt(Kr);St.API=tn}),zr="ping",Ms="display",Wr="view";const Ds=["sitegroup_id","session_id","media_id","site_id","player_id","video_type"],Ps=["created","position"],zs=["player_version","created","source","category","category_id","autoplay","muted","customer_user_id"];function Zr(Pt,St){return Pt.duration/1===Pt.duration&&Object.assign(St,function(wt){const Ht=wt/100;return{segment_duration:Ht,breakpoints:Array(...Array(100)).map(function(Kt,on){return Math.floor(on*Ht*1e3)/1e3})}}(Pt.duration))}function ps(Pt,St,wt){if(!St.segment_duration&&!Zr(Pt,St))return;const Ht=function(Kt,on,Jt){const tn=on.last_idx,fn=Jt?99:Bs(Kt,on);return on.last_idx=fn,fn<=tn?[]:on.breakpoints.slice(tn,fn==99?100:fn).map(function(An){return on.breakpoints.indexOf(An)})}(Pt,St,wt);Ht.length!=0&&Pt.emit(zr,{position:Ht})}function Bs(Pt,St){return Math.min(Math.floor(Pt.currentTime/St.segment_duration),99)}const Rr="vod",Ls="live",Rs=[Ms,zr,Wr];function ms(Pt,St,wt){switch(St==null?void 0:St.kind){case"live":return function(Ht,Kt){const on=Date.now();on-Kt.last_tracked_ts<6e4||(Kt.last_tracked_ts=on,++Kt.ticks,Ht.emit(zr,{position:60*Kt.ticks}))}(Pt,St);case"vod":return ps(Pt,St,typeof wt=="boolean"&&wt)}}function gs(Pt){const St=Pt.ads;return St!==void 0&&St.schedule!==void 0&&typeof St.hasPreroll=="function"&&(St.currentRequests?St.currentRequests:!!St.adPlaying||!(!St.hasPreroll()||St.nextIndex!=0))}function vs(){try{return window.location!==window.parent.location?document.referrer:document.location.href}catch{return!1}}class Ws{init(St,wt,Ht){if(!gr.from_token(St.token||"").is_granted(gr.permissions.ANALYTICS)||Ht.hasState("consent-no-tracking")||Ht.analytics)return;const Kt=Ht.analytics={ticker:void 0,last_media_id:"",ended:!1},on={locked:!1,ttl:6e3,task:()=>{ms(Ht,Kt.ticker)}},Jt={session_id:Ht.deviceId(),autoplay:Ht.autoplay,muted:Ht.muted,player_id:St.player_id,customer_user_id:St.customer_user_id,player_version:"3.2.6"},tn=Vr.Tracker.of(Ht,{verb:Vr.Tracker.verb.POST,url:"https://ptm.flowplayer.com/:video_type/:sitegroup_id/:event_type",events:Rs,required_keys:Ds,optional_keys:zs.concat(Ps).slice(0),metadata:Jt});Ht.on(bt,function(){tn&&tn.destroy()}),Ht.on(xt,function(An){if(!tn)return;const Bn=$n(An,"data.metadata",{});if(!Bn.media_id)return;const Nn=$n(tn,"metadata.media_id");if(Nn&&Bn.media_id==Nn)return;const Fn=$n(St,"analytics",{});tn.put(Bn),tn.put(Fn);const kn=$n(St,"metadata.live_start_time",St.live)?Ls:Rr;tn.put({video_type:kn,source:St.source||vs()||""}),Kt.ticker=St.live?{ticks:0,last_tracked_ts:Date.now(),kind:"live"}:{last_idx:0,segment_duration:0,breakpoints:[],kind:"vod"},Kt.ended=!1,Ht.emit(Ms)});let fn=0;Ht.on(pt,function(){if(!tn||fn||function(Bn,Nn){return Bn.metadata.media_id&&Bn.metadata.media_id==Nn.last_media_id}(tn,Kt))return;tn.put({muted:Ht.muted});const An=gs(Ht);if(An)return fn=Promise.resolve(An).then(function(){Kt.last_media_id=tn.metadata.media_id,Ht.emit(Wr),fn=0}).catch(function(){fn=0});Kt.last_media_id=tn.metadata.media_id,Ht.emit(Wr)}),Ht.on("timeupdate",function(){var An;tn&&(fn||gs(Ht)||Kt.ended||(!St.live&&Ht.currentTime+.25>=Ht.duration&&ms(Ht,Kt.ticker,!0),(An=on).locked||(An.locked=setTimeout(function(){return An.task(),function(Bn){return Bn.locked=!1,Bn}(An)},An.ttl))))}),Ht.on(_t,function(){tn&&Kt.ticker&&Kt.ticker.kind=="vod"&&function(An,Bn){Zr(An,Bn),Bn.last_idx=Bs(An,Bn)}(Ht,Kt.ticker)}),Ht.on(yt,function(){tn&&function(An,Bn){Bn.ended||(Bn.ended=!0,ms(An,Bn.ticker))}(Ht,Kt)})}}var br;function qr(Pt){switch(Pt){case br.MEDIA_PLAYBACK_ABORTED:return"media playback was aborted";case br.MEDIA_ERR_NETWORK:return"a network error occurred";case br.MEDIA_ERR_DECODE:return"unable to decode media content";case br.MEDIA_ERR_SRC_NOT_SUPPORTED:return"unsupported media type";case br.NO_INTERNET:return"no internet connection detected";case br.MIXED_CONTENT:return"cannot load insecure content in a secure context";default:return"an unknown error occurred"}}function Mr(){}function ks(Pt){try{return!!new URL(Pt)}catch{return!1}}typeof window!="undefined"&&window.matchMedia&&[Et,Mt].forEach(function(Pt){window.matchMedia("(orientation: "+Pt+")").addListener(function(St){$.length&&$.forEach(function(wt){St.matches&&wt.emit(Pt)})})}),function(Pt){Pt[Pt.UNKNOWN=-1]="UNKNOWN",Pt[Pt.MEDIA_PLAYBACK_ABORTED=1]="MEDIA_PLAYBACK_ABORTED",Pt[Pt.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",Pt[Pt.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",Pt[Pt.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",Pt[Pt.MIXED_CONTENT=1001]="MIXED_CONTENT",Pt[Pt.NO_INTERNET=1002]="NO_INTERNET"}(br||(br={}));const _s=()=>(navigator||{}).onLine===!0;function Is(Pt){try{return location.protocol==="https:"&&function(St){const wt=document.createElement("a");return wt.href=St,wt}(Pt).protocol=="http:"}catch{return!1}}function is(Pt,St,wt){wt.on(et,function(Ht){const Kt=Ht.data||wt.error||new Error,on=Ht.code||Kt.code,Jt=`Error: %s
`+((tn=new Error().stack)===null||tn===void 0?void 0:tn.split(`
`).slice(2).join(`
`));var tn;setTimeout(function(){if(Ht.defaultPrevented||Kt.name=="AbortError")return;wt.setState("is-error",!0),on===8||Kt.fatal||function(Nn){const Fn=Nn.togglePlay,kn=Nn.root;Nn.togglePlay=Mr,Nn.once("recover",function(){Nn.togglePlay=Fn,Nn.setState("is-error",!1);const Xn=kn.querySelector(".fp-error");Xn&&Xn.remove()})}(wt);const fn=function(Nn,Fn,kn){switch(Fn){case"http:0":return function(Xn){return Is(Xn.original_src)?{code:br.MIXED_CONTENT}:_s()?{code:br.MEDIA_ERR_NETWORK}:_s()?{code:br.UNKNOWN}:{code:br.NO_INTERNET}}(Nn);case br.MEDIA_ERR_SRC_NOT_SUPPORTED:return Nn.once(ht,function(){Nn.emit("recover")}),kn;default:return kn}}(wt,on,Kt),An=function(Nn,Fn){if(Fn.message)return Fn.message;if(Fn.stack)return Fn.stack;const kn=Fn.code||-1,Xn=qr(kn);return Nn.i18n("media_errors."+kn,Xn)}(wt,fn);console.error(Jt,An);const Bn=wt.reaper&&wt.reaper.get("ui");return Bn&&function(Nn,Fn,kn,Xn){if(!Nn)return;const Jn=document.createElement("div");if(Jn.classList.add("fp-error"),Jn.innerText=Fn,Xn){const lr=Nn.querySelector("#"+Xn);lr&&Nn.removeChild(lr),Jn.id=Xn}if(Nn.append(Jn),kn){const lr=document.createElement("div");lr.classList.add("fp-error-details"),lr.innerText=kn,Jn.append(lr)}}(Bn,An,Kt.details)})})}var js=Object.freeze({__proto__:null,NO_FULLSCREEN:1,NO_VOLUME_CONTROL:2,NO_MUTE:4,LOGO_ON_RIGHT:8,USE_DRAG_HANDLE:16,USE_PLAY_2:32,USE_PLAY_3:64,USE_THIN_CONTROLBAR:128,NO_TITLE:256,NO_DESCRIPTION:512,NO_CONTROLS:1024,NO_DURATION:2048,NO_HEADER:4096,AUDIO_ONLY:8192,NO_TOUCH_ZONES:16384});function ss(Pt,St,wt){let Ht=()=>document.fullscreenElement,Kt="fullscreenchange";if(!Element.prototype.requestFullscreen){const Jt=Element.prototype,tn=document;Jt.webkitRequestFullScreen&&(Jt.requestFullscreen=Jt.webkitRequestFullScreen,tn.fullscreenEnabled=!0),tn.webkitCancelFullScreen&&(document.exitFullscreen=tn.webkitCancelFullScreen),Kt="webkit"+Kt,Ht=()=>tn.webkitCurrentFullScreenElement}const on=()=>wt.getFullsceenTarget?wt.getFullsceenTarget():St;wt.toggleFullScreen=function(Jt,tn){if(wt.ios_fullscreen_disabled||(typeof Jt!="boolean"&&(Jt=!wt.hasState("is-fullscreen")),os(wt)&&(Jt?function(An){An.getAttribute("playsinline")&&An.removeAttribute("playsinline"),An.getAttribute("webkit-playsinline")&&An.removeAttribute("webkit-playsinline"),An.webkitEnterFullScreen()}(wt):function(An,Bn){An.getAttribute("playsinline")||An.setAttribute("playsinline",""),An.getAttribute("webkit-playsinline")||An.setAttribute("webkit-playsinline",""),Bn||An.webkitExitFullScreen(),An.togglePlay(!1),An.hasState(Nt)||An.setState(Nt,!0)}(wt,tn)),!document.fullscreenEnabled))return;const fn=on();Jt?fn.requestFullscreen():document.exitFullscreen()},os(wt)&&(wt.ios_fullscreen_disabled=!0,wt.once("beforeplay",function(){wt.ios_fullscreen_disabled=!1}),wt.on("webkitendfullscreen",function(){wt.toggleFullScreen(!1,!0)})),setTimeout(()=>{const Jt=on();Jt.addEventListener(Kt,function(){const tn=Ht(),fn=tn===Jt||tn==wt;wt.emit(fn?at:lt),wt.setState("is-fullscreen",fn)})},0),Pt.doubleclick!==!1&&St.addEventListener(nt,function(Jt){var tn;Jt.target&&((tn=Jt.target)===null||tn===void 0?void 0:tn.classList.contains("fp-ui"))&&wt.toggleFullScreen()})}function os(Pt){return _e().ios&&typeof Pt.webkitEnterFullScreen=="function"&&typeof Pt.webkitExitFullScreen=="function"}function _r(Pt,St){if(typeof Pt.opts!="object")return{head:0,tail:0};if(Pt.seekable.length==0)return{head:0,tail:0};const wt=St||Pt.opts.dvr_window,Ht=Pt.seekable.end(Pt.seekable.length-1);return{head:Ht,tail:wt?Ht-wt:Pt.seekable.start(0)}}function as(Pt){return Pt.opt("live",!1)||Pt.duration>=Number.MAX_SAFE_INTEGER}function jr(Pt){return isFinite(Pt.duration)?Pt.duration:Pt.seekable.length==0?0:_r(Pt).head}function ls(Pt){return $s(Pt)-.5}function Fs(Pt){return _r(Pt).tail}function $s(Pt){return _r(Pt).head}function $r(Pt){return Math.min(100,Math.max(0,(Pt.currentTime-Fs(Pt))/($s(Pt)-Fs(Pt))*100))}function wr(Pt,St,wt){if(!wt.reaper)return;const Ht=document.createDocumentFragment(),Kt=Dn(wt,Lt);Ht.appendChild(Kt),wt.reaper.set("ui",Kt),~St.className.indexOf("use-play-")||St.classList.add("use-play-1"),function(tn,fn,An){const Bn=Un("fp-footer");fn.append(Bn),An.on(xt,function(Nn){var Fn,kn;const Xn=(Fn=Nn.data)===null||Fn===void 0?void 0:Fn.description,Jn=(kn=Nn.data)===null||kn===void 0?void 0:kn.title;if(Bn.innerHTML="",typeof Jn=="string"){const lr=Un("fp-title");lr.innerText=Jn,Bn.append(lr)}if(typeof Xn=="string"){const lr=Xn.split(" "),Er=Un("fp-desc");for(Er.innerText=lr.join(" "),Bn.append(Er);lr.length>1&&Er.scrollHeight>Er.offsetHeight;)lr.pop(),Er.innerText=lr.join(" ")+"..."}})}(0,St,wt),is(0,0,wt),St.appendChild(Ht),[it,ot].forEach(tn=>{St.addEventListener(tn,function(fn){wt.setState("is-hovered",fn.type==it),wt.setState("is-accessibility",!1)})}),ss(Pt,St,wt),wt.on("volumechange",function(){const tn=wt.volume==0||wt.muted;wt.setState("is-muted",tn),wt._storage.setItem("mute",tn.toString())}),wt._storage.getItem("mute")=="true"&&(wt.muted=!0,wt.setState("is-muted",wt.muted));const on=wt._storage.getItem("volume");on&&!isNaN(Number(on))&&(wt.volume=Number(on)),wt.emit("volumechange"),wt.on("dvr/window",tn=>{var fn;Pt.live&&(!("dvr"in(fn=Pt))||fn.dvr==1)&&function(An,Bn,Nn){if(Bn==0)return!0;const Fn=_r(An,Nn);return Fn.head-Fn.tail>=Bn}(wt,Pt.seconds_to_dvr||60,tn.detail)&&(wt.setOpts({dvr:wt.seekable.length>0}),wt.seekable.length>0&&wt.setOpts({dvr_window:tn.detail}))}),wt.on("live",function(){wt.setState("is-live-seeked",!1)}),wt.on("seeking",function(){if(!as(wt)||wt.seekable.length==0||jr(wt)==0)return;const tn=ls(wt),fn=wt.currentTime>=tn?"live":"dvr";if(fn==="live")return wt.emit(fn);const An=jr(wt),Bn=_r(wt),Nn=(An-wt.currentTime)/(Bn.head-Bn.tail)*100,Fn=Math.round(Nn);wt.setState("is-live-seeked",Fn>0),wt.emit(fn,{offset:Fn})}),wt.on(ut,function(){wt.setOpts({live:as(wt)})}),wt.on("durationchange",function(tn){const fn=as(wt),An=fn?jr(wt):tn.data||wt.duration;isNaN(An)||wt.setOpts({live:fn,duration:An})}),wt.on(xt,function(tn){var fn,An;Pt.seekable=((fn=tn==null?void 0:tn.data)===null||fn===void 0?void 0:fn.seekable)===void 0||tn.data.seekable;const Bn=(An=tn.data)===null||An===void 0?void 0:An.ui;if(typeof Bn!="number")return;const Nn=St.classList;Nn.toggle("use-play-1",!(32&Bn||64&Bn)),Nn.toggle("use-play-2",(32&Bn)>0),Nn.toggle("use-play-3",(64&Bn)>0),Nn.toggle("use-thin-controlbar",(128&Bn)>0),Nn.toggle("no-title",(256&Bn)>0),Nn.toggle("no-description",(512&Bn)>0),Nn.toggle("logo-on-right",(8&Bn)>0),Nn.toggle("use-drag-handle",(16&Bn)>0),Nn.toggle("no-controls",(1024&Bn)>0),Nn.toggle("no-duration",(2048&Bn)>0),Nn.toggle("no-header",(4096&Bn)>0),Nn.toggle("no-mute",(4&Bn)>0),Nn.toggle("no-volume",(2&Bn)>0),Nn.toggle("no-fullscreen",(1&Bn)>0),Nn.toggle("no-touch-zones",(16384&Bn)>0)});let Jt=null;Kt.addEventListener("mousemove",function(){typeof Jt=="number"&&clearTimeout(Jt),wt.setState("is-hovered",!0),Jt=wt.paused==0&&setTimeout(function(){wt.setState("is-hovered",!1)},2e3)})}function kr(Pt,St,wt){if(gr.from_token(Pt.token||"").is_granted(gr.permissions.NO_METERING))return;const Ht=dr.id(Pt.token||"");Ht&&wt.once(pt,()=>function(Kt,on){fetch("https://pmi.flowplayer.com/in",{method:"POST",body:JSON.stringify({token_id:on,factor:1,rnd:Math.random().toString(36).substring(2)})}).then(Jt=>{Jt.status==401&&Kt.emit("error:fatal",{reason:"token",details:"The token online validation failed"})})}(wt,Ht))}var Dr={ads:{ad:"Ad",ads:"Ads",advertisement:"Advertisement"},audio:{button_txt:"Audio",menu_title:"Audio"},core:{exit_fullscreen:"Exit fullscreen",fullscreen:"Fullscreen",mute:"Mute",pause:"Pause",play:"Play",unmute:"Unmute",volume:"Volume"},ovp:{starting_in:"Countdown"},playlist:{cancel:"Cancel",up_next:"Up next"},qsel:{menu_title:"Quality"},share:{clipboard_failure:"Access to clipboard failed",clipboard_success:"The text is now on your clipboard",embed:"Embed",link:"Link",menu_title:"Share"},speed:{menu_title:"Speed"}};class Lr{init(St,wt,Ht){Ht.reaper&&Ht.reaper.set("translations",yn(Lr,St,"en"))}}Lr.en=Dr;const ys="rebuffer";var vo=Object.freeze({__proto__:null,RECORD:"health:record",REBUFFER:ys});function _o(Pt,St){const wt=function(){try{return localStorage.getItem("flowplayer/debug")}catch{return""}}(),Ht=(Kt,...on)=>{const Jt=(St==null?void 0:St.debug)||wt;Jt&&Pt.match(Jt)&&console.log(`${Pt} -- ${Kt}`,...on)};return Ht.log=Ht,Ht}const yo=navigator;function xo(Pt){var St,wt;const Ht=(St=Pt.hls)===null||St===void 0?void 0:St.bandwidthEstimate;return Ht?1e-6*Ht:((wt=yo.connection)===null||wt===void 0?void 0:wt.downlink)||-1}function bo(Pt,St){return function(wt,Ht){return typeof navigator.sendBeacon=="function"&&navigator.sendBeacon(wt,Ht)}(Pt,JSON.stringify({events:St}))}const Ao="https://ljsp.lwcdn.com".concat("/web/public/countdown/time.json"),to=window,Os=to._flowplayerTimekeeper||(to._flowplayerTimekeeper={}),wo=Pt=>{switch(Pt){case!0:return nn.ON;case!1:return nn.OFF;default:return Pt}},Xs=[];function Ns(Pt){if(Pt.suspended)return;const St=Xs.slice(0);Xs.length=0,St.length!=0&&(Pt.logger.log(`:dispatch events={${St.length}}`),bo("https://ihi.flowplayer.com/v1/health/events",St))}async function Ur(Pt,St,wt){const Ht=await Eo();Xs.push(Object.assign(St,Ht)),Pt.logger.log(":enqueue",St.event,St),Xs.length<10&&!wt||Ns(Pt)}const So=()=>{var Pt,St;try{const wt=window;return(St=(Pt=wt==null?void 0:wt.google)===null||Pt===void 0?void 0:Pt.ima)===null||St===void 0?void 0:St.VERSION}catch{return}},Eo=async()=>{try{const Pt=await async function(){const St=Os.cachedServerOffset;if(St)return St;const wt=Os.pendingRequest||(Os.pendingRequest=fetch(Ao)),Ht=await wt,Kt=parseInt(Ht.headers.get("age")||"0"),on=await Ht.json(),Jt=Date.now()-on.millisUtc-1e3*Kt;return Os.cachedServerOffset=Jt,Os.cachedServerOffset}();return{timestamp:Date.now()-Pt,adjusted_timestamp:!0}}catch{return{timestamp:Date.now(),adjusted_timestamp:!1}}},Ys=(Pt,St)=>Object.assign(Pt,{detail:St}),Hr=(Pt,{event:St,media_session_id:wt,session_id:Ht})=>({event:St,media_session_id:wt,session_id:Ht,device_id:Pt.deviceId(),version:"3.2.6",commit:"5a27b6794d5549b093e5031d144faffd489fa309",ima_sdk_version:So(),preload:Pt.opt("preload"),autoplay:wo(Pt.opt("autoplay")),live:Pt.opt("live"),dvr:Pt.opt("dvr"),source:Pt.original_src,downlink_mbs:xo(Pt),player_id:Pt.opt("metadata.player_id"),media_id:Pt.opt("metadata.media_id"),site_id:Pt.opt("metadata.site_id"),category_id:Pt.opt("metadata.category_id"),sitegroup_id:Pt.opt("metadata.sitegroup_id"),token:Pt.token,plugins:Pt.plugins.map(Kt=>Kt.constructor.name).sort((Kt,on)=>Kt.localeCompare(on)),current_time:Pt.currentTime,external_media_id:Pt.opt("external_media_id")}),no=Pt=>({bitrate:Pt==null?void 0:Pt.bitrate,resolution:Pt==null?void 0:Pt.attrs.RESOLUTION,frame_rate:Pt==null?void 0:Pt.attrs["FRAME-RATE"]});function Co(Pt,St,wt,Ht){const Kt=Hr(St,Pt.eventInfo(wt)),{before:on,after:Jt}=Ht;Ur(Pt,((tn,fn,An)=>Object.assign(tn,{state:{before:fn,after:An}}))(Kt,no(on),no(Jt)))}const ro=(Pt,St)=>{let wt=null;return(...Ht)=>{wt!==null&&(clearTimeout(wt),wt=null),wt=setTimeout(()=>St(...Ht),Pt)}},To=xn();class xs{constructor(St,wt){this.session_id=To,this.suspended=!1,this.logger=_o("health",wt.opts),this.media_session_id=xn(),this.analyticsLoop=setInterval(()=>Ns(this),2e3),wt.on(bt,()=>clearInterval(this.analyticsLoop));const Ht=this;if(wt.health={get media_session_id(){return Ht.media_session_id},set media_session_id(Kt){Ht.media_session_id=Kt},get session_id(){return Ht.session_id},set session_id(Kt){Ht.session_id=Kt},toggle(Kt){Kt?Ht.resume():Ht.suspend()}},!xs._UNLOAD_SUBSCRIBED){xs._UNLOAD_SUBSCRIBED=!0;const Kt=on=>St.instances.forEach(Jt=>Jt.emit(on.type));document.addEventListener("visibilitychange",on=>{document.visibilityState=="hidden"&&Kt(on)}),window.addEventListener("pagehide",Kt)}}eventInfo(St){return{event:St,media_session_id:this.media_session_id,session_id:this.session_id}}suspend(){this.suspended=!0,clearInterval(this.analyticsLoop)}resume(){this.suspended=!1,this.analyticsLoop=setInterval(()=>Ns(this),2e3)}init(St,wt,Ht){(function(on){on.on(mt,function(Jt){on.seeking||on.networkState===on.NETWORK_LOADING&&on.readyState!==on.HAVE_NOTHING&&on.emit(ys)})})(Ht),Ht.on("health:record",({detail:on})=>{const Jt=Hr(Ht,this.eventInfo(on.event));Object.assign(Jt,on.detail||{}),Ur(this,Jt)}),[gt,ht,rt,ut,ct,ft,mt,ys].forEach(on=>{Ht.on(on,Jt=>{Ur(this,Hr(Ht,this.eventInfo(Jt.type)))})}),[pt,dt,vt,_t,yt,at,lt].forEach(on=>{Ht.on(on,Jt=>{Ur(this,Hr(Ht,this.eventInfo(Jt.type)))})}),Ht.on("volumechange",ro(800,on=>{const Jt=Hr(Ht,this.eventInfo(on.type));Ur(this,Ys(Jt,{volume:parseFloat(Ht.volume.toFixed(2)),muted:Ht.muted}))})),Ht.on("resize",ro(800,on=>{const Jt=Hr(Ht,this.eventInfo(on.type));Ur(this,Ys(Jt,{height:wt.clientHeight,width:wt.clientWidth}))})),Ht.on("qualitychange",({type:on,detail:Jt})=>{switch(Jt.kind){case"hls":return Co(this,Ht,on,Jt)}});let Kt=Date.now()+5e3;Ht.on("timeupdate",on=>{if(Date.now()<Kt)return;Kt=Date.now()+5e3;const Jt=Hr(Ht,this.eventInfo(on.type));var tn;Ur(this,Ys(Jt,{duration:(tn=Ht.duration,Number.isFinite(tn)?tn:tn===1/0?-1:void 0)}))}),Ht.addEventListener(et,on=>{const Jt=Hr(Ht,this.eventInfo(on.type)),tn=on.error||Ht.error;if(!tn)return Ur(this,Jt,!0);const fn=tn.code,An={error_message:tn.message||qr(fn),error_code:fn,error_stack:tn.stack||""};return Ur(this,Ys(Jt,An),!0)}),Ht.on(At,on=>{var Jt;const tn=(Jt=on.detail)===null||Jt===void 0?void 0:Jt.src;typeof tn=="string"&&(!ks(Ht.original_src)||!ks(tn)||tn!=Ht.original_src&&(this.media_session_id=xn(),Ur(this,Hr(Ht,this.eventInfo(on.type))),Ns(this)))}),Ht.on("visibilitychange",on=>{Ur(this,Hr(Ht,this.eventInfo(on.type))),Ns(this)})}}xs.events=vo,xs._UNLOAD_SUBSCRIBED=!1;class Ar extends HTMLElement{constructor(St){super(),this.player=St}}class Mo extends Ar{constructor(St){super(St),this.classList.add("fp-primary");const wt={logo:""};St.on(xt,Ht=>{var Kt,on;const Jt=wt.logo,tn=((Kt=Ht==null?void 0:Ht.data)===null||Kt===void 0?void 0:Kt.logo)||"";Jt!=tn&&(wt.logo=tn,this.set_logo(tn,(on=Ht==null?void 0:Ht.data)===null||on===void 0?void 0:on.logo_href))})}set_logo(St,wt){if(this.innerHTML="",!St)return;const Ht=document.createElement("img");if(Ht.classList.add("fp-logo"),Ht.src=St,!wt)return this.append(Ht);const Kt=document.createElement("a");Kt.href=wt,Kt.append(Ht),this.append(Kt)}}class Do extends Ar{constructor(St){super(St),this.classList.add("fp-duration"),St.on(xt,wt=>{var Ht;const Kt=((Ht=wt==null?void 0:wt.data)===null||Ht===void 0?void 0:Ht.duration)||NaN;this.innerText=isFinite(Kt)?$t(Kt):""})}}const io={name:"fp-fullscreen",translation_key:"core.fullscreen"},Po={name:"fp-fullscreen-exit",translation_key:"core.exit_fullscreen"},Bo={name:"fp-play",translation_key:"core.play"},Lo={name:"fp-pause",translation_key:"core.pause"},Ro={translation_key:"core.mute",name:"fp-volume-mute-unmute"},ko={translation_key:"core.play",name:"fp-small-play"},Io={translation_key:"core.pause",name:"fp-small-pause"},Fo={name:"fp-fast-forward"},Oo={name:"fp-rewind"};class Xr extends Ar{constructor(St,wt){super(St),this.classList.add("fp-icon",wt.name),wt.title&&this.setAttribute("title",wt.title),wt.title&&this.setAttribute("aria-label",wt.title),this.setAttribute("tabindex","0"),this.setAttribute("focusable","true")}}document.addEventListener(tt,function(Pt){this.active_menu&&!Pt.composedPath().includes(this.active_menu)&&(Array.from(document.querySelectorAll(".fp-engine")).forEach(St=>{const wt=St.root.querySelector("details[open].fp-menu-container");wt&&(wt.open=!1,St.root.classList.toggle("has-menu-opened",!1))}),this.active_menu=void 0)});const Qs={passive:!0};var yr;function so(Pt,St){let wt=0,Ht=-1,Kt=-1;const on=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),Jt=Pt.classList;Pt.id=on,Jt.remove(yr.GRABBING),Jt.remove(yr.TOUCHING);const tn=St.onseek||Mr,fn=St.onstart||Mr,An=St.onend||Mr,Bn=St.onmouse||Mr,Nn=St.ontouch||Mr,Fn=St.ontouchend||Mr;function kn(Jn){(function(){const Er=Pt.getBoundingClientRect();wt=Er.left,Ht=Er.width})();let lr=(function(Er){return typeof window.TouchEvent=="function"&&Er instanceof TouchEvent}(Jn)?Jn.changedTouches[0].pageX:Jn.pageX)-wt;return lr>Ht&&(lr=Ht),lr<0&&(lr=0),lr/Ht*100}function Xn(Jn){const lr=kn(Jn);lr!=Kt&&(tn(Pt,lr),Kt=lr)}return Pt.addEventListener("touchstart",function(Jn){oo(Pt,Jn)&&(Jt.add(yr.TOUCHING),ao(Pt.parentElement)&&(Jt.add(yr.GRABBING),Nn(Pt,kn(Jn)),fn(Pt,kn(Jn)),Xn(Jn)))},Qs),Pt.addEventListener("touchmove",function(Jn){Xn(Jn),Bn(Pt,kn(Jn))},Qs),Pt.addEventListener(st,function(Jn){setTimeout(function(){Jt.remove(yr.TOUCHING)},500),oo(Pt,Jn)&&(Jt.remove(yr.GRABBING),Fn(Pt,kn(Jn)),An(Pt,kn(Jn)),Ht=0)},Qs),Pt.addEventListener("touchcancel",function(){Jt.remove(yr.GRABBING,yr.TOUCHING),Ht=0},Qs),Pt.addEventListener("mousedown",function(Jn){Jt.contains(yr.TOUCHING)||(document.addEventListener("mousemove",Xn),Jt.add(yr.GRABBING),fn(Pt,kn(Jn)),Jn.preventDefault(),Xn(Jn))}),Pt.addEventListener("mousemove",function(Jn){Jt.contains(yr.TOUCHING)||Bn(Pt,kn(Jn))}),document.addEventListener("mouseup",function(Jn){Jt.contains(yr.TOUCHING)||(document.removeEventListener("mousemove",Xn),Jt.contains(yr.GRABBING)&&(Jt.remove(yr.GRABBING),An(Pt,kn(Jn)),Ht=0))}),Pt}function oo(Pt,St){const wt=St.target;return!!wt&&(wt&&!wt.closest(Pt.id)||!ao(Pt.parentElement)||!Pt.classList.contains(yr.TOUCHING))}function ao(Pt){if(!Pt)return!1;const St=window.getComputedStyle(Pt);return St.width!=="0"&&St.height!=="0"&&St.opacity!=="0"&&St.display!=="none"&&St.visibility!=="hidden"}(function(Pt){Pt.GRABBING="has-grab",Pt.TOUCHING="has-touch"})(yr||(yr={}));class No extends Ar{constructor(St){super(St),this.className="fp-volume";const wt=St.root.classList,Ht=wt.contains("is-tiny")?6:wt.contains("is-small")?8:10,Kt=Array.from({length:Ht}).map(()=>{const on=document.createElement("i");return on.className="fp-tick",on});this.append(...Kt),so(this,{onseek:(on,Jt)=>{Jt>0&&(St.muted=!1,St._storage.removeItem("mute")),St._storage.setItem("volume",(St.volume=Jt/100).toString()),this.adjustVolumeSlider(St.volume)}}),this.setAttribute("tabindex","0"),this.setAttribute("role","slider"),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","1"),this.setAttribute("aria-label",St.i18n("core.volume","volume")),St.on("volumechange",()=>{const on=St.volume==0||St.muted;on&&this.adjustVolumeSlider(0);const Jt=St.opt("ui");this.classList.contains(yr.GRABBING)||on&&typeof Jt=="number"&&(4&Jt)>0||this.adjustVolumeSlider(St.volume)})}adjustVolumeSlider(St){this.setAttribute("aria-valuenow",St.toString());const wt=Array.from(this.querySelectorAll(".fp-tick")),Ht=Math.round(St*wt.length);wt.forEach((Kt,on)=>{Kt.classList.toggle("fp-color",on<Ht)})}}function Js(Pt,St){if(!Pt.parentElement)return;const wt=Pt.clientWidth/Pt.parentElement.clientWidth*100/2;Pt.style.left=St-wt+"%",Pt.style.display="block"}function Zs(Pt,St){if(isNaN(Pt.duration))return;const wt=Pt.buffered;wt.length&&(St.style.width=Math.min(wt.end(wt.length-1)/Pt.duration*100,100)+"%")}function lo(Pt,St){Pt.style.width="0",St.style.display="none"}function co(Pt,St,wt){if(!St.seekable||St.seekable.length==0)return;Js(wt,Pt);const Ht=_r(St),Kt=(100-Math.max(0,Math.min(Pt,100)))/100*(Ht.head-Ht.tail);wt.innerText="-"+$t(Kt)}function Uo(Pt,St){Pt/=100,St.currentTime=function(wt,Ht){if(Ht>1||Ht<0)return console.warn("cannot calculate a percent outside of range(0..1)"),0;const Kt=_r(wt);return Kt.tail+Ht*(Kt.head-Kt.tail)}(St,Pt)}function uo(Pt,St){Pt.style.width="0",St.style.display="none"}class ho extends Ar{constructor(St){let wt;super(St),this.bufferEle=Un("fp-buffer"),this.progress=Un("fp-progress","fp-color"),this.tooltipEle=Un("fp-timestamp"),this.proposedSeekBar=Un("fp-hover"),this.dragger=Un("fp-dragger","fp-color"),this.classList.add("fp-timeline","fp-bar"),this.tooltipEle.style.display="none",this.setAttribute("role","slider"),this.setAttribute("tabindex","0"),this.setAttribute("aria-label",St.i18n("timeline","Timeline")),this.progress.append(this.dragger),this.append(this.bufferEle,this.progress,this.proposedSeekBar,this.tooltipEle);let Ht=!1;const Kt=requestAnimationFrame;let on;const Jt=()=>{var fn;St.reaper==0||wt.live||(fn=St,this.progress.style.width=fn.currentTime/fn.duration*100+"%",on=void 0,St.paused||this.classList.contains(yr.GRABBING)||on||(on=setTimeout(Jt,200)))},tn=()=>!!this.player.opt("seekable",!0)&&!isNaN(this.player.duration);so(this,{onseek:(fn,An)=>{if(tn())switch(!!wt.live){case!0:co(An,St,this.tooltipEle);break;case!1:(function(Bn,Nn,Fn){const kn=Nn.duration*(Bn/100);if(Nn.disabled&&kn>Nn.currentTime)return!1;Fn.style.width=Bn+"%",Nn.currentTime=kn})(An,St,this.progress),Js(this.tooltipEle,An)}},onstart:()=>{tn()&&(St.emit("timeline/gesture/start"),St.setState(gn,!0),wt.live||function(fn){fn.style.display="block"}(this.tooltipEle))},onend:function(fn,An){Kt(Jt),wt.seekable!=0&&wt.live&&Uo(An,St)},ontouch:function(){St.paused||(Ht=!0,St.pause())},ontouchend:()=>{Ht&&(Ht=!1,St.play()),wt.live?uo(this.proposedSeekBar,this.tooltipEle):lo(this.proposedSeekBar,this.tooltipEle)},onmouse:(fn,An)=>{if(tn()&&!this.classList.contains(yr.GRABBING))switch(St.emit("timeline/gesture/move",{percent:An}),!!wt.live){case!0:(function(Bn,Nn){Nn.style.width=Bn+"%"})(An,this.proposedSeekBar),co(An,St,this.tooltipEle);break;case!1:(function(Bn,Nn){Nn.style.width=Bn+"%"})(An,this.proposedSeekBar),function(Bn,Nn,Fn){if(isNaN(Bn)||isNaN(Nn.duration))return;Js(Fn,Bn),Fn.innerHTML="";const kn=document.createElement("span");kn.innerText=$t(Bn/100*Nn.duration),Fn.append(kn)}(An,St,this.tooltipEle)}}}),St.on(xt,function(fn){fn.data&&(wt=fn.data)}),St.on(pt,()=>Kt(Jt)),St.on("live",()=>{this.progress.style.width="100%"}),St.on(ft,()=>{St.reaper==0||wt.live||Zs(St,this.bufferEle)}),St.on("dvr",fn=>{fn.detail&&(this.progress.style.width=100-fn.detail.offset+"%")}),St.on("timeupdate",()=>{St.reaper!=0&&(Kt(Jt),this.setAttribute("aria-valuenow",St.currentTime+""),wt.live||Zs(St,this.bufferEle))}),St.on(ut,()=>{St.reaper!=0&&(wt.live||Zs(St,this.bufferEle))}),St.on("durationchange",fn=>{if(St.reaper==0)return;const An=as(St)?jr(St):fn.data||St.duration;isNaN(An)||(this.setAttribute("aria-valuemax",An+""),this.setAttribute("aria-valuemin","0"))}),St.on(At,()=>{St.once("beforeplay",()=>{St.hasState(hn)&&!St.hasState(un)&&(this.progress.style.width=$r(St)+"%")})}),St.on(dt,()=>{if(!St.hasState(hn)||St.hasState(un))return;const fn=setInterval(()=>{if(St.hasState(un))return An();this.progress.style.width=$r(St)+"%"},1e4);function An(){clearInterval(fn),[pt,et,At,bt].forEach(Bn=>{St.removeEventListener(Bn,An)})}St.on([pt,et,At,bt],An)}),this.addEventListener(ot,()=>{St.emit("timeline/gesture/end"),wt.live?uo(this.proposedSeekBar,this.tooltipEle):lo(this.proposedSeekBar,this.tooltipEle)})}}class Go extends ho{constructor(St){super(St),this.handleChapters(St)}handleChapters(St){const wt=document.createElement("div");let Ht;this.addEventListener("chapters:new",Kt=>{wt.innerText="",this.querySelectorAll(".fp-chapter").forEach(on=>this.removeChild(on)),Kt.data&&Kt.data.forEach(on=>{const Jt=document.createElement("div");Jt.className="fp-chapter",Jt.style.left=on.left,Jt.style.bottom=Jt.style.top="0",Jt.style.width=on.width,Jt.title=on.title,Jt.onmouseover=()=>{wt.innerText=on.title},Jt.onmouseleave=()=>{wt.innerText=Ht||""},this.appendChild(Jt)})}),this.addEventListener("chapter:changed",Kt=>{var on;const Jt=Kt.data;Jt&&(wt.parentNode||((on=function(tn,fn){const An=tn._customElements.get(fn);return An&&tn.root.querySelector(An)||void 0}(St,Ot))===null||on===void 0||on.insertAdjacentElement("beforebegin",wt),wt.classList.toggle("fp-togglable",!0),wt.classList.toggle("fp-chapter-info",!0)),Ht=Jt,wt.innerText=Jt)})}}class Ho extends Ar{constructor(St){super(St),this.classList.add("fp-live-status");const wt=Un("fp-live-text"),Ht=Un("fp-live-indicator","fp-color");wt.textContent="live",this.append(Ht,wt),this.addEventListener(tt,function(){(function(Kt){try{if(!Kt.hasState("is-live-seeked"))return;Kt.emit("live"),Kt.dvr_offset=0,Kt.currentTime=ls(Kt)}catch(on){console.warn("failed to seek to now: %j",on)}})(St)})}}class Vo extends Ar{constructor(St){let wt;super(St),this.classList.add("fp-duration"),St.on(xt,Ht=>{if(St.reaper==0||!Ht.data)return;wt=Ht.data;const Kt=as(St)?NaN:Ht.data.duration||0;if(isNaN(Kt)||Kt>=Number.MAX_SAFE_INTEGER)return this.style.display="none";this.style.display="inline-block",this.innerText=$t(Kt)}),St.on(ut,()=>{var Ht,Kt;St.reaper==0||wt.live||(Kt=this,(Ht=St).duration&&(Kt.innerText=$t(Ht.duration)))})}}class zo extends Ar{constructor(St){let wt;super(St),this.classList.add("fp-elapsed"),this.innerText=$t(0),St.on(xt,Ht=>{Ht.data&&(wt=Ht.data)}),St.on("timeupdate",()=>{var Ht;St.reaper!=0&&(wt.live?(Ht=St,this.innerText=$t(Ht.currentTime)):function(Kt,on){on.innerText=$t(Kt.currentTime)}(St,this))})}}class Wo extends Ar{constructor(St){super(St),this.classList.add("fp-btns","fp-small-switch");const wt=Dn(St,"flowplayer-small-pause-icon"),Ht=Dn(St,"flowplayer-small-play-icon");wt.addEventListener("click",function(){St.togglePlay(),setTimeout(function(){Ht.focus&&Ht.focus()},100)}),Ht.addEventListener("click",function(){St.togglePlay(),setTimeout(function(){wt.focus&&wt.focus()},100)}),this.append(wt,Ht)}}class fo extends Ar{constructor(St,wt){super(St),this.classList.add(wt);const Ht=this.classList.contains("fp-left-zone")?-1:1,Kt=document.createElement("span"),on=Dn(St,this.classList.contains("fp-left-zone")?Yt:"flowplayer-fast-forward-icon");on.removeAttribute("tabindex"),Kt.classList.add("fp-zone-seconds"),this.append(Kt,on),St.on(_t,()=>{Kt.innerText=""}),St.on("seek:queued",Jt=>{const tn=Jt.data;if(!tn||typeof tn.offset!="number")return;const fn=tn.offset;if(fn==0)return this.reset_zone();fn>0&&this.classList.contains("fp-right-zone")||fn<0&&!this.classList.contains("fp-right-zone")?this.render_zone_state(fn):this.reset_zone()}),St.on("seek:cancel",()=>{this.reset_zone()}),this.reset_zone(),this.addEventListener(st,function(Jt){isNaN(St.duration)||isNaN(St.currentTime)||16384&St.opt("ui")||St.hasState(un)||!St.hasState("will-seek")&&!St.hasState(Nt)||St.enqueueSeek(5*Ht)&&(Jt.stopPropagation(),Jt.preventDefault())})}reset_zone(){const St=this.querySelector(".fp-zone-seconds");St&&(St.innerText="")}render_zone_state(St){const wt=this.querySelector(".fp-zone-seconds");wt&&(wt.innerText=Math.abs(St)+"")}}class po extends Ar{constructor(St,wt,...Ht){super(St),this.className=wt;const Kt=St.createComponents(...Ht);this.append(...Kt),wt!=="fp-left"&&Kt.forEach(on=>{on.addEventListener(tt,()=>St.toggleFullScreen())})}}class jo extends Ar{constructor(St){super(St),this.classList.add("fp-wait"),Array(...Array(4)).map((wt,Ht)=>Ht).forEach(()=>{this.append(document.createElement("b"))})}}class $o extends Ar{constructor(St){super(St),this.classList.add("fp-middle-zone");const wt=St.createComponents(Ut,"flowplayer-middle-buttons");this.append(...wt)}}class Xo extends Ar{constructor(St){super(St),this.classList.add("fp-switch"),[Gt,jt].forEach(wt=>{const Ht=Dn(St,wt);Ht.removeAttribute("tabindex"),this.append(Ht)})}}class Yo extends Ar{constructor(St){super(St),this.classList.add("fp-volume-control");const wt=Dn(St,Qt);this.append(wt),!_e().ios&&this.append(Dn(St,Bt)),wt instanceof Xr&&wt.addEventListener(tt,function(){St.toggleMute()})}}class Qo extends Ar{constructor(St){super(St),this.classList.add("fp-header"),this.append(...St.createComponents("flowplayer-header-left-zone","flowplayer-header-right-zone")),St.reaper&&St.reaper.set("header",this)}}class Ko extends Ar{constructor(St){super(St),this.classList.add("fp-controls","fp-togglable"),this.append(...St.createComponents("flowplayer-control-buttons",Rt,Ct,Dt,"flowplayer-control-duration","flowplayer-volume-control"))}}class mo extends Xr{constructor(St,wt){super(St,wt),this.setAttribute("role","button"),this.setAttribute("aria-label",St.i18n(wt==io?"core.fullscreen":"core.fullscreen_exit"))}}class Jo extends Ar{constructor(St){super(St),this.classList.add("fp-middle"),this.append(...St.createComponents("flowplayer-middle-left-zone",It,"flowplayer-middle-right-zone")),this.setAttribute("tabindex","0"),this.setAttribute("role","button"),this.setAttribute("aria-label",St.i18n("core.play")),St.reaper&&St.reaper.set("middle",this),this.handleClick(St),this.handleTouch(St),[pt,_t].forEach(wt=>St.once(wt,()=>{this.removeAttribute("tabindex"),this.removeAttribute("role"),this.removeAttribute("aria-label")}))}handleClick(St){[tt,nt].forEach(wt=>this.addEventListener(wt,function(Ht){if(!Ht.defaultPrevented&&!St.hasState("is-endscreen"))return Ht.preventDefault(),St.emit(Ht.type),!1})),St.on(tt,function(wt){setTimeout(function(){wt.defaultPrevented||St.hasState(rn)||St.togglePlay()},0)}),St.on(nt,function(wt){setTimeout(function(){wt.defaultPrevented||St.toggleFullScreen()},0)})}handleTouch(St){let wt=!1;this.addEventListener(st,function(Ht){Ht.cancelable&&!St.hasState("is-endscreen")&&(Ht.preventDefault(),St.emit(Ht.type,{source:Ht}))}),St.on(st,function(Ht){setTimeout(function(){if(Ht.defaultPrevented||St.hasState(rn))return;if(St.ended)return St.togglePlay(!0);const Kt=St.hasState(vn);wt&&clearTimeout(wt),(Kt||St.hasState(Nt)||St.hasState("no-autoplay"))&&(St.hasState(Nt)&&(St.setState(Nt,!1),St.setState("is-hovered",!1)),St.togglePlay(),Kt)||(St.setState(Nt,!0),St.paused||(wt=setTimeout(function(){wt=!1,St.setState(Nt,!1),St.setState("is-hovered",!1)},2e3)))},0)})}}class Zo extends Ar{constructor(St){super(St),this.classList.add("fp-ui"),this.append(...St.createComponents(kt,Ft,Ot))}}return Br.extensions.unshift.apply(Br.extensions,[Lr,Ws,xs,class{constructor(St){Sn(St,Lt,Zo),Sn(St,Ot,Ko),Sn(St,Rt,Ho),Sn(St,"flowplayer-control-duration",Vo),Sn(St,Dt,St.extensions.find(wt=>wt.name==="Chapters")?Go:ho),Sn(St,Ct,zo),Sn(St,Bt,No),Sn(St,"flowplayer-volume-control",Yo),Sn(St,"flowplayer-control-buttons",Wo),Sn(St,kt,Qo),Sn(St,zt,Mo),Sn(St,"flowplayer-header-duration",Do),Sn(St,"flowplayer-header-left-zone",class extends po{constructor(wt){super(wt,"fp-left",zt,"flowplayer-header-duration")}}),Sn(St,"flowplayer-header-right-zone",class extends po{constructor(wt){super(wt,"fp-right fp-togglable","flowplayer-fullscreen-enter-icon","flowplayer-fullscreen-exit-icon")}}),Sn(St,Ft,Jo),Sn(St,It,$o),Sn(St,Ut,jo),Sn(St,"flowplayer-middle-buttons",Xo),Sn(St,"flowplayer-middle-right-zone",class extends fo{constructor(wt){super(wt,"fp-right-zone")}}),Sn(St,"flowplayer-middle-left-zone",class extends fo{constructor(wt){super(wt,"fp-left-zone")}}),Sn(St,"flowplayer-small-play-icon",class extends Xr{constructor(wt){super(wt,ko),this.setAttribute("role","button")}}),Sn(St,"flowplayer-small-pause-icon",class extends Xr{constructor(wt){super(wt,Io),this.setAttribute("role","button")}}),Sn(St,Gt,class extends Xr{constructor(wt){super(wt,Bo)}}),Sn(St,jt,class extends Xr{constructor(wt){super(wt,Lo)}}),Sn(St,"flowplayer-fullscreen-enter-icon",class extends mo{constructor(wt){super(wt,io)}}),Sn(St,"flowplayer-fullscreen-exit-icon",class extends mo{constructor(wt){super(wt,Po)}}),Sn(St,"flowplayer-fast-forward-icon",class extends Xr{constructor(wt){super(wt,Fo)}}),Sn(St,Yt,class extends Xr{constructor(wt){super(wt,Oo)}}),Sn(St,Qt,class extends Xr{constructor(wt){super(wt,Ro),this.classList.add("fp-volumebtn"),wt.on("volumechange",()=>{const Ht=wt.volume==0||wt.muted;this.setAttribute("aria-label",Ht?wt.i18n("unmute","unmute"):wt.i18n("mute","mute"))})}})}init(St,wt,Ht){var Kt;kr(St,0,Ht),wr(St,wt,Ht),Kt=Ht,typeof window!="undefined"&&"ontouchstart"in window&&Kt.setState("is-touch-device",!0),Kt.setState("is-accessibility",!1)}}]),Object.assign(Br,{ui:js,i18n:Lr})})})(_default);var flowplayer=getDefaultExportFromCjs(_default.exports);class FlowplayerControlsService{constructor(){sn(this,"flowplayers",new Map([]))}add(g,b,$){this.flowplayers.set(g,flowplayer(`#${g}`,{token:"eyJraWQiOiJmTER0cEJYNFlESVUiLCJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiJ9.eyJjIjoie1wiYWNsXCI6NixcImlkXCI6XCJmTER0cEJYNFlESVVcIn0iLCJpc3MiOiJGbG93cGxheWVyIn0.wCJG_aHM0nXA-_gm8nAonP53cIIqs9MNmhZLz8498nxBxPRLapARhVmEE2tesp767TQT1N4aNufENV_p56sbwA",src:b,...$}))}get(g){var b;return(b=flowplayerControlsService.flowplayers)==null?void 0:b.get(g)}play(g){var b;(b=this.flowplayers.get(g))==null||b.play()}pause(g){var b;(b=this.flowplayers.get(g))==null||b.pause()}stop(g){var b;this.flowplayers.get(g).currentTime=0,(b=this.flowplayers.get(g))==null||b.pause()}toggleMute(g){var b;(b=this.flowplayers.get(g))==null||b.toggleMute()}toggleFullscreen(g){var b;(b=this.flowplayers.get(g))==null||b.toggleFullScreen()}destroy(g){var b;(b=this.flowplayers.get(g))==null||b.destroy(),this.flowplayers.delete(g)}}const flowplayerControlsService=new FlowplayerControlsService;var EFlowplayerUI=(j=>(j[j.NO_CONTROLS=1024]="NO_CONTROLS",j[j.NO_VOLUME_CONTROL=2]="NO_VOLUME_CONTROL",j[j.NO_MUTE=4]="NO_MUTE",j[j.NO_HEADER=4096]="NO_HEADER",j[j.NO_DESCRIPTION=512]="NO_DESCRIPTION",j[j.NO_DURATION=2048]="NO_DURATION",j[j.NO_FULLSCREEN=1]="NO_FULLSCREEN",j[j.NO_TITLE=256]="NO_TITLE",j))(EFlowplayerUI||{});const componentName$G="Video";debug(`front:${componentName$G}`);function Video(j){const g=react.exports.useRef(null);react.exports.useEffect(()=>{if(!!j.url)return flowplayerControlsService.add(j.playerId,j.url,j.config),g.current=flowplayerControlsService.get(j.playerId),g.current.on("playing",b),g.current.on("pause",b),()=>{flowplayerControlsService.destroy(j.playerId),g.current.off("playing",b),g.current.off("pause",b)}},[j.url]);const b=()=>{var $;($=j==null?void 0:j.onClick)==null||$.call(j)};return jsx("div",{className:merge([css$h.root,j.className]),children:jsx("div",{id:j.playerId,className:css$h.video})})}gsapWithCSS.registerPlugin(ScrollTrigger);const componentName$F="BlockVideo";debug(`front:${componentName$F}`);function BlockVideo(j){const g=react.exports.useRef(null),b=react.exports.useRef(null),$=react.exports.useRef(null),_e=useIntersectionObserver(b,{threshold:0}),et=!!(_e!=null&&_e.isIntersecting),tt=react.exports.useRef(null),nt=react.exports.useRef(null),rt=react.exports.useRef(null),it=react.exports.useRef(null),ot=document==null?void 0:document.querySelector(`.${POI_CONTENT}`);react.exports.useEffect(()=>{!ot||(rt.current||(rt.current=new Splittor(nt.current,{overflow:"hidden",type:"line"})),it.current||(it.current=new Splittor(tt.current,{overflow:"hidden",type:"line"})),gsapWithCSS.fromTo($.current,{y:0,scale:.8},{y:0,scale:1,scrollTrigger:{scroller:ot,trigger:$.current,start:"top bottom",end:"top 50",scrub:!0,toggleActions:"restart complete reverse reset"}}))},[et]);const st=lt=>{gsapWithCSS.to(g.current,{autoAlpha:lt?1:0,duration:.5,ease:`power3.${lt?"in":"out"}`})},at=()=>{const lt=flowplayerControlsService.get(j.idPlayer).paused;soundService.play(ESoundType.CLICK),st(lt),IS_VIDEO_PLAYING_SIGNAL.dispatch(!lt)};return react.exports.useEffect(()=>()=>{IS_VIDEO_PLAYING_SIGNAL.dispatch(!1)},[]),jsx("div",{ref:b,className:merge([css$i.root,j.className]),children:jsxs("div",{className:css$i.wrapper,ref:$,children:[jsx(Video,{className:css$i.video,url:j.data.video,playerId:j.idPlayer,config:{ui:EFlowplayerUI.NO_CONTROLS},onClick:at}),jsxs("div",{className:css$i.content,ref:g,children:[jsxs("h2",{className:css$i.title,ref:nt,children:[jsx("br",{}),j.data.title]}),jsx("div",{className:css$i.description,dangerouslySetInnerHTML:{__html:j.data.description},ref:tt})]})]})})}const root$9="BgmDF",wrapper$9="lN-QA",images="RwtIz",title$2="_8JYbA",wrapperImage="kBbtp",image$1="pzMFH",content$4="A4nyR",contentTitle$1="X8-a8",contentDescription$1="bnZJh",contentButton="xo1Aj";var css$g={root:root$9,wrapper:wrapper$9,"wrapper-reverse":"_8FR1H",images,"wrapper-double":"_4H5g5",title:title$2,wrapperImage,"images-double":"Y-Zge",image:image$1,"images-single":"i--Ag",content:content$4,contentTitle:contentTitle$1,contentDescription:contentDescription$1,contentButton};gsapWithCSS.registerPlugin(SplitText);const componentName$E="BlockAlternanceImageText";debug(`front:${componentName$E}`);function BlockAlternanceImageText(j){const g=react.exports.useRef(null),b=react.exports.useRef([]),$=react.exports.useRef(null),_e=react.exports.useRef(null),et=react.exports.useRef(null),tt=react.exports.useRef(null),nt=react.exports.useRef(null),rt=react.exports.useRef(null),it=useIntersectionObserver(g,{threshold:.2}),ot=!!(it!=null&&it.isIntersecting),st=react.exports.useRef(!1),at=useWindowSize();react.exports.useEffect(()=>{ot&&!st.current&&(gsapWithCSS.set(g.current,{autoAlpha:1}),_e.current=new Splittor($.current,{overflow:"hidden",type:"line"}),rt.current=new SplitText(nt.current.querySelectorAll("p, h3"),{type:"lines,words"}),gsapWithCSS.set(rt.current.lines,{overflow:"hidden"}),titlePlayIn(_e.current.elements),textPlayIn(rt.current.words,.25),gsapWithCSS.timeline().fromTo(et.current,{autoAlpha:1,clipPath:"inset(100% 0 0 0)"},{clipPath:"inset(0% 0 -25% 0)",duration:1,ease:"power3.out"}).fromTo(tt.current,{y:30,autoAlpha:0},{y:0,autoAlpha:1,duration:.4,ease:"power3.out"},"<"),st.current=!0)},[ot]);const lt=ct=>{const ft=ct.getBoundingClientRect(),ht={min:0,variable:(ft.y+(ft==null?void 0:ft.height)/3)/at.height*20,max:80};return Math.max(ht.min,Math.min(ht.variable,ht.max))},ut=()=>{b.current.forEach(ct=>{gsapWithCSS.set(ct,{yPercent:lt(ct)})})};return react.exports.useLayoutEffect(()=>{const ct=document==null?void 0:document.querySelector(`.${POI_CONTENT}`);if(!!ct&&ot&&j.data.images.length>1)return ut(),ct.addEventListener("scroll",ut),()=>{ct.removeEventListener("scroll",ut)}},[ot]),jsx("div",{ref:g,className:merge([css$g.root,j.className]),children:jsxs(BlockWrapper,{className:merge([css$g.wrapper,j.data.position=="right"&&css$g["wrapper-reverse"],j.data.images.length>1&&css$g["wrapper-double"]]),children:[jsx("div",{ref:et,className:merge([css$g.images,j.data.images.length>1?css$g["images-double"]:css$g["images-single"]]),children:j.data.images.map((ct,ft)=>j.data.images.length>1?jsx("div",{className:css$g.wrapperImage,ref:ht=>b.current.splice(ft,1,ht),children:jsx(u$1,{className:merge([css$g.image,css$g[`image-${ft}`]]),alt:ct.alt,src:getAssetFullPath(ct.url)})},ft):jsx(ScrollBackgroundPosition,{children:jsx(m,{className:merge([css$g.image,css$g[`image-${ft}`],SCROLL_BACKGROUND_CLASS]),src:getAssetFullPath(ct.url)})},ft))}),jsxs("div",{className:css$g.content,children:[jsxs("h2",{ref:$,className:css$g.contentTitle,children:[jsx("br",{}),j.data.title]}),jsx("div",{ref:nt,className:css$g.contentDescription,dangerouslySetInnerHTML:{__html:j.data.description}}),j.data.ctaLabel&&jsx("div",{ref:tt,children:jsx(MainButton,{className:css$g.contentButton,label:j.data.ctaLabel,href:j.data.ctaLink})})]})]})})}const root$8="l4Fyd",wrapper$8="xakm-",content$3="yjXnx",contentSubTitle="Qma4c",contentTitle="z2Rq4",contentDescription="tIRgm",slider="_2mhx8",sliderContent="_7RpFF",slide="_20NqE",image="CvF5E",imageWrapper="Lz34C",cardContent="RrleC",cardTitle="Q-j1w",cardDescription="_6Yjxs";var css$f={root:root$8,wrapper:wrapper$8,content:content$3,contentSubTitle,contentTitle,contentDescription,slider,sliderContent,slide,image,imageWrapper,cardContent,cardTitle,cardDescription};const componentName$D="BlockCards";debug(`front:${componentName$D}`);function BlockCards(j){const g=react.exports.useRef(null),b=react.exports.useRef([]),$=react.exports.useRef(-1),_e=react.exports.useRef(null),et=react.exports.useRef(null),tt=react.exports.useRef(!1),nt=react.exports.useRef(-1),rt=useIntersectionObserver(g,{threshold:.2}),it=!!(rt!=null&&rt.isIntersecting),ot=react.exports.useRef(!1),st=react.exports.useRef([]);react.exports.useEffect(()=>(et.current&&et.current.addEventListener("scroll",ht),()=>{_e.current&&_e.current.disconnect(),et.current&&et.current.removeEventListener("scroll",ht)}),[]),react.exports.useEffect(()=>{it&&!ot.current&&(gsapWithCSS.to(g.current,{autoAlpha:1,duration:.2,ease:"Power2.In"}),gsapWithCSS.timeline().fromTo(st.current,{y:30,autoAlpha:0},{y:0,autoAlpha:1,duration:.7,stagger:.05,ease:"Power3.Out",onComplete:()=>{at()}}))},[it]);const at=()=>{_e.current=new IntersectionObserver(lt,{threshold:.8}),b.current.forEach(dt=>_e.current.observe(dt))},lt=dt=>{dt.forEach(async pt=>{pt.isIntersecting?($.current=b.current.indexOf(pt.target),gsapWithCSS.to(pt.target,{autoAlpha:1,duration:.5})):b.current.indexOf(pt.target)<$.current&&tt.current&&gsapWithCSS.to(pt.target,{autoAlpha:0,duration:.5})})},ut=dt=>{dt===nt.current&&soundService.play(ESoundType.CLICK)},ct=dt=>{const pt=b.current.filter((mt,gt)=>gt!=dt);dt!=nt.current&&(gsapWithCSS.timeline().to(b.current[dt],{scale:1,opacity:1,duration:.3,ease:"Power2.In",onComplete:()=>{nt.current=dt}}).to(pt,{scale:.95,opacity:.3,duration:.5,ease:"Power2.Out"},"<"),soundService.play(ESoundType.HOVER))},ft=()=>{gsapWithCSS.timeline().to(b.current,{scale:1,opacity:1,duration:.3,onComplete:()=>{nt.current=-1}})},ht=()=>{tt.current||(tt.current=!0)};return jsx("div",{className:merge([css$f.root,j.className]),ref:g,children:jsxs(BlockWrapper,{className:css$f.wrapper,children:[jsxs("div",{className:css$f.content,children:[jsx("span",{className:css$f.contentSubTitle,ref:dt=>{st.current.splice(0,1,dt)},children:j.data.pretitle}),jsx("h3",{className:css$f.contentTitle,ref:dt=>{st.current.splice(1,1,dt)},children:j.data.title}),jsx("p",{ref:dt=>{st.current.splice(2,1,dt)},className:css$f.contentDescription,dangerouslySetInnerHTML:{__html:j.data.description}})]}),jsx("div",{className:css$f.slider,ref:et,children:jsx("div",{className:css$f.sliderContent,onMouseLeave:ft,children:j.data.cards.map((dt,pt)=>jsxs("a",{href:dt.link,className:css$f.slide,ref:mt=>b.current.splice(pt,1,mt),onMouseOver:()=>ct(pt),target:"_blank",onClick:()=>ut(pt),children:[jsx("div",{className:css$f.imageWrapper,children:jsx(u$1,{className:css$f.image,src:getAssetFullPath(dt.image.url),alt:dt.image.alt})}),jsxs("div",{className:css$f.cardContent,children:[jsx("span",{className:css$f.cardTitle,children:dt.title}),jsx("p",{className:css$f.cardDescription,dangerouslySetInnerHTML:{__html:dt.description}})]})]},pt))})})]})})}const componentName$C="BlockStream";debug(`front:${componentName$C}`);function BlockStream(j){const g="div";return jsx("div",{className:merge([css$m.root,j.className]),children:j.blocks.map((b,$)=>{if(b.type===EBlockType.ARROW)return jsx(g,{className:merge([css$m.block,css$m.block_arrow,`block-${$}`]),children:jsx(BlockArrow,{index:$,data:b},$)},$);if(b.type===EBlockType.VIDEO)return jsx(g,{className:merge([css$m.block,css$m.block_video,`block-${$}`]),children:jsx(BlockVideo,{index:$,data:b,idPlayer:`video-${$}`},$)},$);if(b.type===EBlockType.ALTERNATE)return jsx(g,{className:merge([css$m.block,css$m.block_alternanceImageText,`block-${$}`]),children:jsx(BlockAlternanceImageText,{index:$,data:b},$)},$);if(b.type===EBlockType.CARDS)return jsx(g,{className:merge([css$m.block,css$m.block_cards,`block-${$}`]),children:jsx(BlockCards,{index:$,data:b},$)},$)})})}var events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(g,b,$){return Function.prototype.apply.call(g,b,$)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:ReflectOwnKeys=function(g){return Object.getOwnPropertyNames(g)};function ProcessEmitWarning(j){console&&console.warn&&console.warn(j)}var NumberIsNaN=Number.isNaN||function(g){return g!==g};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(j){if(typeof j!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof j)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(j){if(typeof j!="number"||j<0||NumberIsNaN(j))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+j+".");defaultMaxListeners=j}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||NumberIsNaN(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this};function _getMaxListeners(j){return j._maxListeners===void 0?EventEmitter.defaultMaxListeners:j._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function(g){for(var b=[],$=1;$<arguments.length;$++)b.push(arguments[$]);var _e=g==="error",et=this._events;if(et!==void 0)_e=_e&&et.error===void 0;else if(!_e)return!1;if(_e){var tt;if(b.length>0&&(tt=b[0]),tt instanceof Error)throw tt;var nt=new Error("Unhandled error."+(tt?" ("+tt.message+")":""));throw nt.context=tt,nt}var rt=et[g];if(rt===void 0)return!1;if(typeof rt=="function")ReflectApply(rt,this,b);else for(var it=rt.length,ot=arrayClone(rt,it),$=0;$<it;++$)ReflectApply(ot[$],this,b);return!0};function _addListener(j,g,b,$){var _e,et,tt;if(checkListener(b),et=j._events,et===void 0?(et=j._events=Object.create(null),j._eventsCount=0):(et.newListener!==void 0&&(j.emit("newListener",g,b.listener?b.listener:b),et=j._events),tt=et[g]),tt===void 0)tt=et[g]=b,++j._eventsCount;else if(typeof tt=="function"?tt=et[g]=$?[b,tt]:[tt,b]:$?tt.unshift(b):tt.push(b),_e=_getMaxListeners(j),_e>0&&tt.length>_e&&!tt.warned){tt.warned=!0;var nt=new Error("Possible EventEmitter memory leak detected. "+tt.length+" "+String(g)+" listeners added. Use emitter.setMaxListeners() to increase limit");nt.name="MaxListenersExceededWarning",nt.emitter=j,nt.type=g,nt.count=tt.length,ProcessEmitWarning(nt)}return j}EventEmitter.prototype.addListener=function(g,b){return _addListener(this,g,b,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function(g,b){return _addListener(this,g,b,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(j,g,b){var $={fired:!1,wrapFn:void 0,target:j,type:g,listener:b},_e=onceWrapper.bind($);return _e.listener=b,$.wrapFn=_e,_e}EventEmitter.prototype.once=function(g,b){return checkListener(b),this.on(g,_onceWrap(this,g,b)),this};EventEmitter.prototype.prependOnceListener=function(g,b){return checkListener(b),this.prependListener(g,_onceWrap(this,g,b)),this};EventEmitter.prototype.removeListener=function(g,b){var $,_e,et,tt,nt;if(checkListener(b),_e=this._events,_e===void 0)return this;if($=_e[g],$===void 0)return this;if($===b||$.listener===b)--this._eventsCount===0?this._events=Object.create(null):(delete _e[g],_e.removeListener&&this.emit("removeListener",g,$.listener||b));else if(typeof $!="function"){for(et=-1,tt=$.length-1;tt>=0;tt--)if($[tt]===b||$[tt].listener===b){nt=$[tt].listener,et=tt;break}if(et<0)return this;et===0?$.shift():spliceOne($,et),$.length===1&&(_e[g]=$[0]),_e.removeListener!==void 0&&this.emit("removeListener",g,nt||b)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function(g){var b,$,_e;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[g]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[g]),this;if(arguments.length===0){var et=Object.keys($),tt;for(_e=0;_e<et.length;++_e)tt=et[_e],tt!=="removeListener"&&this.removeAllListeners(tt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(b=$[g],typeof b=="function")this.removeListener(g,b);else if(b!==void 0)for(_e=b.length-1;_e>=0;_e--)this.removeListener(g,b[_e]);return this};function _listeners(j,g,b){var $=j._events;if($===void 0)return[];var _e=$[g];return _e===void 0?[]:typeof _e=="function"?b?[_e.listener||_e]:[_e]:b?unwrapListeners(_e):arrayClone(_e,_e.length)}EventEmitter.prototype.listeners=function(g){return _listeners(this,g,!0)};EventEmitter.prototype.rawListeners=function(g){return _listeners(this,g,!1)};EventEmitter.listenerCount=function(j,g){return typeof j.listenerCount=="function"?j.listenerCount(g):listenerCount.call(j,g)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(j){var g=this._events;if(g!==void 0){var b=g[j];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(j,g){for(var b=new Array(g),$=0;$<g;++$)b[$]=j[$];return b}function spliceOne(j,g){for(;g+1<j.length;g++)j[g]=j[g+1];j.pop()}function unwrapListeners(j){for(var g=new Array(j.length),b=0;b<g.length;++b)g[b]=j[b].listener||j[b];return g}function once(j,g){return new Promise(function(b,$){function _e(tt){j.removeListener(g,et),$(tt)}function et(){typeof j.removeListener=="function"&&j.removeListener("error",_e),b([].slice.call(arguments))}eventTargetAgnosticAddListener(j,g,et,{once:!0}),g!=="error"&&addErrorHandlerIfEventEmitter(j,_e,{once:!0})})}function addErrorHandlerIfEventEmitter(j,g,b){typeof j.on=="function"&&eventTargetAgnosticAddListener(j,"error",g,b)}function eventTargetAgnosticAddListener(j,g,b,$){if(typeof j.on=="function")$.once?j.once(g,b):j.on(g,b);else if(typeof j.addEventListener=="function")j.addEventListener(g,function _e(et){$.once&&j.removeEventListener(g,_e),b(et)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof j)}var EventEmitter$1=events.exports;const componentName$B="NavigationService",log$e=debug(`front:${componentName$B}`);class NavigationService extends EventEmitter$1{constructor(){super();sn(this,"currentRoom");sn(this,"currentKeyProof");sn(this,"currentPortal");sn(this,"currentInnovation");sn(this,"currentPoi");this.listen(),this.setMaxListeners(50)}update({currentPortal:b,currentRoom:$,currentKeyProof:_e,currentInnovation:et,currentPoi:tt}){this.currentRoom=$,this.currentKeyProof=_e,this.currentInnovation=et,this.currentPoi=tt,this.currentPortal=b,log$e("NavigationService.update",{currentPortal:b,currentRoom:$,currentKeyProof:_e,currentInnovation:et,currentPoi:tt}),this.emit("hasChanged")}listen(){this.on("set:portal",b=>{this.currentPortal=b,this.currentInnovation=null,this.onSet("portal")}),this.on("set:room",b=>{this.currentRoom=b,this.currentInnovation=null,this.onSet("room")}),this.on("set:room:key-proof",b=>{this.currentRoom=b,this.currentKeyProof=b,this.onSet("key-proof")}),this.on("set:room:center",()=>{this.currentInnovation=null,this.currentPortal&&(this.currentPortal=null,this.onSet("portal"))}),this.on("set:innovation",b=>{this.currentInnovation=b,this.currentPoi=null,this.onSet("innovation")}),this.on("set:poi",b=>{this.currentPoi=b,this.onSet("poi")})}onSet(b){const $={type:b,currentPortal:this.currentPortal,currentRoom:this.currentRoom,currentKeyProof:this.currentKeyProof,currentInnovation:this.currentInnovation,currentPoi:this.currentPoi};log$e("NavigationService.set",$),this.emit("set",$)}}const navigationService=new NavigationService,componentName$A="PoiPage",log$d=debug(`front:${componentName$A}`),POI_CONTENT="poi-content",PoiPage=react.exports.forwardRef((j,g)=>{var dt,pt,mt;const b=react.exports.useRef(null),$=react.exports.useRef(null),_e=react.exports.useRef(null),[et,tt]=react.exports.useState(null),[nt,rt]=react.exports.useState(!1),{response:it,isSuccess:ot}=useFetchApi(buildApiUrl(`/poi/${j.params.poiId}.json`,(pt=(dt=c$1.langService)==null?void 0:dt.currentLang)==null?void 0:pt.key));react.exports.useEffect(()=>{!ot||tt(it)},[ot]);const{appDataContext:st,setAppDataContext:at}=react.exports.useContext(AppDataContext);react.exports.useEffect(()=>{if(!!nt)return at({...st,threeState:{isPaused:!0},isBlackMenu:!0}),log$d("Set context black menu to true and set three scene paused"),()=>{at({...st,threeState:{isPaused:!1},isBlackMenu:!1})}},[nt]);const{previousRoute:lt,currentRoute:ut}=E(),ct=()=>new Promise(gt=>{gsapWithCSS.fromTo(b.current,{xPercent:100},{xPercent:0,duration:.5,delay:lt?0:.5,ease:"Power2.In",onComplete:()=>{document.body.style.cursor="",rt(!0),gt()}})}),ft=()=>new Promise(gt=>{gsapWithCSS.timeline().to(_e.current,{y:-30,autoAlpha:0,duration:.4,ease:"Power3.Out"}).fromTo(b.current,{xPercent:0},{xPercent:100,duration:.4,ease:"Power3.Out",onComplete:()=>{gt()}})}),ht=()=>{navigationService.emit("set:innovation",j.params.innovationId)};return K({componentName:componentName$A,handleRef:g,rootRef:b,playIn:ct,playOut:ft}),jsx("div",{className:merge([css$n.root]),ref:b,children:et&&nt&&jsxs("div",{className:merge([css$n.content,POI_CONTENT]),children:[jsx("div",{className:css$n.backButtonWrapper,children:jsx(SecondaryButton,{className:css$n.backButton,label:(mt=st.dictionary)==null?void 0:mt.back,hasBorder:!0,onClick:ht,ref:$})}),jsx("div",{className:css$n.contentWrapper,ref:_e,children:jsx(BlockStream,{className:css$n.blockStream,blocks:et.blocks})})]})})});PoiPage.displayName=componentName$A;var crossIcon=`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17 1L9 8.65217L1 1M1 17L9 9.34783L17 17" stroke="#FCFCFC"/>
</svg>
`;class Room3DVideoService extends EventEmitter$1{constructor(){super()}play(){this.emit("play")}stop(){this.emit("stop")}}const room3DVideoService=new Room3DVideoService,content$2="tUiuk",title$1="hmwnd",description="_5bqUG",backButton$1="_47q2O",videoWrapper="w3V83",videoWrapperActive="ZNh0C",video$1="LDyu-",closeVideo="CQDOw";var css$e={content:content$2,title:title$1,description,backButton:backButton$1,videoWrapper,videoWrapperActive,video:video$1,closeVideo};const componentName$z="RoomPage",log$c=debug(`front:${componentName$z}`),RoomPage=react.exports.forwardRef((j,g)=>{var ft;const b=react.exports.useRef(null),$=react.exports.useRef(null),_e=react.exports.useRef([]);react.exports.useRef(!1);const{appDataContext:et,setAppDataContext:tt}=react.exports.useContext(AppDataContext),{rooms:nt}=et,[rt,it]=react.exports.useState(null);react.exports.useEffect(()=>{et.rooms&&it(nt.find(ht=>ht.slug===j.params.roomId))},[et,rt]);const ot=react.exports.useRef(null),[st,at]=react.exports.useState(!1);react.exports.useEffect(()=>{!rt||room3DVideoService.on("play",()=>{IS_VIDEO_PLAYING_SIGNAL.dispatch(!0),at(!0),tt({...et,threeState:{isPaused:!0}}),flowplayerControlsService.play("innovation-video-"+rt.slug),log$c("play video innovation-video-"+rt.slug)})},[rt]);const lt=()=>{!rt||(room3DVideoService.emit("stop"),at(!1),tt({...et,threeState:{isPaused:!1},isMenuOpened:!1}),IS_VIDEO_PLAYING_SIGNAL.dispatch(!1))};return react.exports.useEffect(()=>{!rt||(st||flowplayerControlsService.stop("innovation-video-"+rt.slug),log$c("stop video innovation-video-"+rt.slug))},[st,rt]),K({componentName:componentName$z,handleRef:g,rootRef:b,playIn:()=>new Promise(ht=>{DefaultBackButtonPlayIn($.current,.5),gsapWithCSS.fromTo(_e.current,{autoAlpha:0,y:30},{autoAlpha:1,y:0,duration:.4,stagger:.3,delay:1.5,ease:"Power3.In",onComplete:()=>{var dt;dispatchInstructionsEventManager({label:(dt=et.dictionary)==null?void 0:dt.room_instruction,logo:ELottieInstruction.CLOSER}),ht()}})}),playOut:()=>new Promise(ht=>{DefaultPagePlayOut(_e.current)(),DefaultBackButtonPlayOut($.current)(),gsapWithCSS.delayedCall(.8,()=>ht())})}),jsxs("div",{className:css$e.root,ref:b,children:[jsx(SecondaryButton,{className:css$e.backButton,label:(ft=et.dictionary)==null?void 0:ft.back,to:{name:EPages.HOME},hasBorder:!1,ref:$}),rt&&jsxs(Fragment,{children:[jsxs("div",{className:css$e.content,children:[jsx("h2",{className:css$e.title,ref:ht=>_e.current[0]=ht,children:rt==null?void 0:rt.title}),jsx("p",{className:css$e.description,ref:ht=>_e.current[1]=ht,children:rt==null?void 0:rt.description})]}),jsxs("div",{className:merge([css$e.videoWrapper,st&&css$e.videoWrapperActive]),ref:ot,children:[jsx(Video,{className:css$e.video,url:rt.video.url,playerId:"innovation-video-"+rt.slug,config:{ui:EFlowplayerUI.NO_CONTROLS}}),jsx("div",{className:css$e.closeVideo,dangerouslySetInnerHTML:{__html:crossIcon},onClick:lt})]})]})]})});RoomPage.displayName=componentName$z;const wrapper$7="_4P7-F",wrapperText="NmIc2",button$2="ezu66",textLight="mYW26";var css$d={wrapper:wrapper$7,wrapperText,button:button$2,textLight};const root$7="OuhZD";var css$c={root:root$7,"root-isDisable":"bLcs3"};const componentName$y="ExternalLink";debug(`front:${componentName$y}`);function ExternalLink(j){return jsx("a",{className:merge([css$c.root,css$c.root_external,j.className,j.disabled&&css$c["root-isDisable"]]),type:"link",href:j.to,target:j==null?void 0:j.target,onClick:j.onClick,children:j.label})}const componentName$x="Styleguide";debug(`front:${componentName$x}`);const Styleguide=react.exports.forwardRef((j,g)=>{const b=react.exports.useRef(null);return K({componentName:componentName$x,handleRef:g,rootRef:b,playIn:()=>Promise.resolve(),playOut:()=>Promise.resolve()}),jsxs("div",{className:css$d.root,ref:b,children:[jsxs("div",{className:css$d.wrapper,children:[jsx(MainButton,{label:"Discover",className:css$d.button}),jsx(MainButton,{label:"Discover",disabled:!0,className:css$d.button})]}),jsxs("div",{className:css$d.wrapper,children:[jsx(SecondaryButton,{className:css$d.button,label:"Back",hasBorder:!1}),jsx(SecondaryButton,{className:css$d.button,label:"Back",hasBorder:!1,disabled:!0})]}),jsxs("div",{className:css$d.wrapper,children:[jsx(ExternalLink,{label:"Visit l'oreal.com",className:css$d.button}),jsx(ExternalLink,{label:"Visit l'oreal.com",disabled:!0,className:css$d.button})]}),jsxs("div",{className:css$d.wrapperText,children:[jsx("h1",{children:"H1 - Discover our first cosmetic bottle"}),jsx("h2",{children:"H2 - Discover our first cosmetic bottle"}),jsx("h3",{children:"H3 - Discover our first cosmetic bottle"}),jsx("h4",{children:"H4 - Discover our first cosmetic bottle"})]}),jsxs("div",{className:css$d.wrapperText,children:[jsxs("p",{className:css$d.text,children:[" ","Paragraphe - Nunc ac molestie tempor ante orci aliquam sit mattis est at nibh nisId amet eu libero sagittis odio in pulvinar sit lobortis."]}),jsx("p",{className:css$d.textLight,children:"Paragraphe - Nunc ac molestie tempor ante orci aliquam sit mattis est at nibh nisId amet eu libero sagittis odio in pulvinar sit lobortis."})]})]})});Styleguide.displayName=componentName$x;const backButton="keY-b";var css$b={backButton};const componentName$w="RoomKeyProofPage";debug(`front:${componentName$w}`);const RoomKeyProofPage=react.exports.forwardRef((j,g)=>{var nt;const b=react.exports.useRef(null),$=react.exports.useRef(null),{appDataContext:_e}=react.exports.useContext(AppDataContext),et=()=>new Promise(rt=>{DefaultBackButtonPlayIn($.current,.25),rt()}),tt=DefaultBackButtonPlayOut($.current);return K({componentName:componentName$w,handleRef:g,rootRef:b,playIn:et,playOut:tt}),jsx("div",{className:css$b.root,ref:b,children:jsx(SecondaryButton,{className:css$b.backButton,label:(nt=_e.dictionary)==null?void 0:nt.back,to:{name:EPages.ROOM,params:{roomId:j.params.roomId}},hasBorder:!1,isAnimating:!0,ref:$})})});RoomKeyProofPage.displayName=componentName$w;const root$6="xORJd",content$1="PE7wC",contentWrapper$1="j34xR",backButtonWrapper="bY3Cs",video="mw-Pr";var css$a={root:root$6,content:content$1,contentWrapper:contentWrapper$1,backButtonWrapper,video};const componentName$v="CommitmentPage",log$b=debug(`front:${componentName$v}`),CommitmentPage=react.exports.forwardRef((j,g)=>{var dt,pt,mt;const b=react.exports.useRef(null),$=react.exports.useRef(null),_e=react.exports.useRef(null),[et,tt]=react.exports.useState(null),[nt,rt]=react.exports.useState(!1),{response:it,isSuccess:ot}=useFetchApi(buildApiUrl(`/commitment/${j.params.commitmentId}.json`,(pt=(dt=c$1.langService)==null?void 0:dt.currentLang)==null?void 0:pt.key));react.exports.useEffect(()=>{!ot||tt(it)},[ot]);const{appDataContext:st,setAppDataContext:at}=react.exports.useContext(AppDataContext);react.exports.useEffect(()=>{if(!!nt)return at({...st,threeState:{isPaused:!0},isBlackMenu:!0}),log$b("Set context black menu to true and set three scene paused"),()=>{at({...st,threeState:{isPaused:!1},isBlackMenu:!1})}},[nt]);const{previousRoute:lt,currentRoute:ut}=E(),ct=()=>new Promise(gt=>{gsapWithCSS.fromTo(b.current,{xPercent:100},{xPercent:0,duration:.5,delay:lt?0:.5,ease:"Power2.In",onComplete:()=>{document.body.style.cursor="",rt(!0),gt()}})}),ft=()=>new Promise(gt=>{gsapWithCSS.timeline().to(_e.current,{y:-30,autoAlpha:0,duration:.4,ease:"Power3.Out"}).fromTo(b.current,{xPercent:0},{xPercent:100,duration:.4,ease:"Power3.Out",onComplete:()=>{gt()}})}),ht=()=>{navigationService.emit("set:room:key-proof",j.params.keyProofId)};return K({componentName:componentName$v,handleRef:g,rootRef:b,playIn:ct,playOut:ft}),jsx("div",{className:css$a.root,ref:b,children:et&&nt&&jsxs("div",{className:merge([css$a.content,POI_CONTENT]),children:[jsx("div",{className:css$a.backButtonWrapper,children:jsx(SecondaryButton,{className:css$a.backButton,label:(mt=st.dictionary)==null?void 0:mt.back,hasBorder:!0,onClick:ht,ref:$})}),jsx("div",{className:css$a.contentWrapper,ref:_e,children:jsx(BlockStream,{className:css$a.blockStream,blocks:et.blocks})})]})})});CommitmentPage.displayName=componentName$v;const EPages={HOME:"home",HALL_PORTAL:"hall_portal",ROOM:"room",KEYPROOF:"key-proof",COMMITMENT:"commitment",INNOVATION:"innovation",POI:"poi",NOT_FOUND:"not-found",STYLEGUIDE:"styleguide"},routes=[{path:"/",component:HomePage,name:EPages.HOME},{path:"/room/:roomId",component:RoomPage,name:EPages.ROOM},{path:"/room/:roomId/:innovationId",component:InnovationPage,name:EPages.INNOVATION},{path:"/room/:roomId/key-proof/:keyProofId",component:RoomKeyProofPage,name:EPages.KEYPROOF},{path:"/room/:roomId/key-proof/:keyProofId/:commitmentId",component:CommitmentPage,name:EPages.COMMITMENT},{path:"/room/:roomId/:innovationId/:poiId",component:PoiPage,name:EPages.POI},{path:"/styleguide",component:Styleguide,name:EPages.STYLEGUIDE},{path:"/404",component:NotFoundPage,name:EPages.NOT_FOUND},{path:"/:rest",component:NotFoundPage,name:EPages.NOT_FOUND}],IS_VIDEO_PLAYING_SIGNAL=StateSignal(!1),componentName$u="Audio";debug(`front:${componentName$u}`);function Audio$2(j){var st;const g=react.exports.useRef(null),[b,$]=react.exports.useState(!1),[_e,et]=react.exports.useState(!1),{appDataContext:tt}=react.exports.useContext(AppDataContext),{currentRoute:nt}=E(),rt=()=>{soundService.play(ESoundType.HOVER)},it=()=>{soundService[b?"userUnmuteAll":"userMuteAll"](),$(!b),soundService.play(ESoundType.CLICK)},ot=at=>{soundService.muted=at,$(at),et(at)};return react.exports.useEffect(()=>(IS_VIDEO_PLAYING_SIGNAL.add(ot),()=>IS_VIDEO_PLAYING_SIGNAL.remove(ot)),[]),jsx("button",{className:merge([css$u.root,j.className,(nt.name===EPages.POI||tt.isMenuOpened)&&css$u["root-isBlack"],_e&&css$u.root_videoPlaying]),dangerouslySetInnerHTML:{__html:b?volumeOffIcon:volumeOnIcon},ref:g,"aria-label":(st=tt.dictionary)==null?void 0:st.soundLabel,onClick:it,onMouseEnter:rt})}const wrapper$6="ixWm3",blur="ga92t",logoLink="_7b99t",headerContent="bCBKZ",menuIcon="_2I9Sd",menuIconLine="qs4MV";var css$9={wrapper:wrapper$6,"wrapper-black":"FtMzr",blur,logoLink,"logoLink-black":"_9Xn-P",headerContent,menuIcon,"menuIcon-black":"K1KN7",menuIconLine,"menuIcon-open":"njANm"},logo='<svg fill="none" height="30" viewBox="0 0 113 30" width="113" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="m82.287 28.2976v-1.6137h2.5014v-.9711h-2.5014v-1.5004h3.0905v-.9714h-4.1578v6.0272h4.1578v-.9712zm-8.8613-4.0661c.143-.0084.2861.013.4207.0628.1345.0499.2577.1271.3618.2269.1042.0999.1871.2203.2438.3539s.086.2776.086.4231-.0293.2894-.086.423-.1396.254-.2438.3539c-.1041.0999-.2273.1771-.3618.2269-.1346.0498-.2777.0712-.4207.0628h-1.5966v-2.1333zm-2.6637 5.0383h1.0671v-1.9251h1.588c1.3318 0 2.1939-.8066 2.1939-2.0641 0-1.2314-.8707-2.038-2.1939-2.038h-2.6556zm-10.9872-6.0272v3.6944c0 1.4829 1.0588 2.4197 2.5612 2.4197s2.5612-.9368 2.5612-2.4109v-3.7032h-1.0585v3.7032c0 .8153-.5633 1.4049-1.5022 1.4049-.9219 0-1.4938-.5897-1.4938-1.4137v-3.6954zm-8.6221 5.1081c-.5327-.0214-1.0365-.2514-1.406-.6418s-.5758-.911-.5758-1.4525c0-.5416.2063-1.0621.5758-1.4526.3695-.3904.8733-.6204 1.406-.6418 1.1183 0 1.9719.8586 1.9719 2.0982.0135.2707-.0276.5414-.1208.7955-.0932.254-.2365.486-.4212.6817-.1846.1958-.4067.3511-.6526.4565-.2459.1053-.5104.1585-.7773.1563zm0-5.1952c-.6029.0025-1.1916.1864-1.6917.5284-.5002.342-.8894.8268-1.1186 1.3933s-.2881 1.1892-.1692 1.7897c.1188.6004.41 1.1517.8369 1.5842.427.4325.9704.7268 1.5618.8459s1.2043.0576 1.7613-.1768c.5571-.2344 1.0333-.6311 1.3686-1.1401s.5147-1.1074.5156-1.7199c.0091-.411-.0641-.8195-.215-1.2009s-.3765-.7277-.663-1.018-.628-.5184-1.0039-.6707-.7782-.2255-1.1828-.2151zm-10.6969 1.076c.717 0 1.1097.4335 1.1097.981 0 .5722-.3841 1.006-1.1097 1.006h-1.4257v-1.987zm-2.4928 5.0383h1.0671v-2.0638h1.2207l1.511 2.0638h1.2635l-1.7168-2.2981c.3912-.1014.7365-.3355.9787-.6635.2422-.3281.3668-.7303.3531-1.1402 0-1.1717-.8621-1.9254-2.1939-1.9254h-2.4842zm-5.7283-3.2698h-2.5526v.8932h1.5531v1.1967c-.4032.1902-.8445.2823-1.2889.269-1.2207 0-2.1258-.7807-2.1258-2.1074-.0083-.2753.0387-.5494.1381-.8056s.2491-.4892.44-.6847.419-.3496.6703-.4527c.2514-.1031.5208-.1531.7919-.147.3068-.0095.6124.044.8984.1573s.5466.2839.7663.5018l.6319-.8065c-.6276-.5769-1.4506-.8846-2.2966-.8586-1.7755 0-3.1245 1.3095-3.1245 3.096 0 1.8818 1.3318 3.1047 3.21 3.1047.8116.0084 1.6075-.227 2.2879-.6766z"/><path d="m60.9985 19.2206h14.4685v-1.7943h-11.9891v-5.7457h9.0051v-1.81616h-9.0051v-5.29227h11.988v-1.7897h-14.4674z"/><path d="m68.5171.125366-1.9582 2.234404 6.1494-2.234404z"/><path d="m97.4955 2.78296v16.43704h14.6275v-1.7943h-12.3665v-14.64274z"/><path d="m84.8428 2.78296-8.2278 16.43784h2.7809l2.1048-4.2546h9.8681l2.1232 4.2546h2.7529l-8.235-16.43784zm-2.3007 10.12324 3.8769-7.85151 3.9227 7.85151z"/><path d="m53.1469 12.3478c3.7074-1.0046 4.0671-3.808 4.0488-4.8094-.221-2.93606-2.169-4.7552-5.6685-4.7552h-10.1993v16.4371h2.3251v-6.8965h6.6395l4.8842 6.894h2.9313s-3.5139-4.6402-4.9611-6.8724zm-1.9375-1.9676h-7.5564v-5.65143h7.8203c1.7989 0 2.8125.85344 3.1771 1.93794.1086.39835.137.81488.0833 1.22463-.0537.40974-.1882.80426-.3955 1.15992-.6537 1.09864-1.8949 1.33134-3.1288 1.33134"/><path d="m27.2771 18.5665c-4.5408 0-8.2815-3.7058-8.2815-8.1711 0-4.45979 3.5639-8.34329 8.4574-8.34329 1.0843-.0091 2.1596.19999 3.1638.61522 1.0043.41523 1.9177 1.02837 2.6875 1.80404s1.3807 1.69852 1.7976 2.71529.6314 2.10734.6312 3.20874c0 4.4648-3.9163 8.1711-8.456 8.1711zm.0786-18.5665c-6.5626 0-11.0363 4.7007-11.0363 10.3897 0 5.9896 4.9421 10.2183 11.0363 10.2183s11.0306-4.1677 11.0306-10.2183c0-5.689-4.5282-10.3897-11.0306-10.3897z"/><path d="m10.4646 8.59784h1.6771l3.0453-5.81464h-2.4504z"/><path d="m0 2.78296v16.43704h14.6254v-1.7943h-12.36278v-14.64274z"/></g></svg>';const listItem="_8i4oM",wrapper$5="OcR1-",button$1="_--Qcf",button_isOpen="_6Z4gd",buttonIcon="ohyo6",list="tUigG";var css$8={"root-menuIsOpened":"Q0RWW",listItem,wrapper:wrapper$5,button:button$1,button_isOpen,buttonIcon,list},arrowDown=`<svg width="11" height="6" viewBox="0 0 11 6" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.55903 5.62013C5.69186 5.60629 5.81721 5.5519 5.91805 5.46433L10.4699 1.56273C10.677 1.42278 10.7856 1.17649 10.7492 0.92918C10.7128 0.681872 10.5378 0.477318 10.2992 0.402979C10.0605 0.32864 9.80038 0.397676 9.62998 0.580569L5.49808 4.12316L1.36619 0.580569C1.19579 0.397676 0.935644 0.32864 0.696946 0.402979C0.458346 0.477318 0.283346 0.681872 0.246946 0.92918C0.210546 1.17649 0.319146 1.42278 0.526246 1.56273L5.07812 5.46433C5.21085 5.57899 5.38428 5.63518 5.55903 5.62013Z" fill="white"/>
</svg>
`;const componentName$t="LangSwitcher";debug(`front:${componentName$t}`);function LangSwitcher(j){const{langService:g}=E(),[b,$]=q$1(),_e=react.exports.useRef(null),et=react.exports.useRef(null),[tt,nt]=react.exports.useState(!1),rt=react.exports.useMemo(()=>g==null?void 0:g.languages.filter(st=>st.key!==b.key),[b]);react.exports.useLayoutEffect(()=>{gsapWithCSS.set(et.current,{autoAlpha:0,scale:.7,display:"none"})},[]),react.exports.useEffect(()=>{gsapWithCSS.to(et.current,{autoAlpha:tt?1:0,scale:tt?1:.7,display:tt?"block":"none",duration:.3,ease:"power4.out"})},[tt]);const it=()=>{nt(!tt)},ot=st=>{$(st.key,!0)};return jsx("div",{className:merge([css$8.root,j.className,j.alternativeColor&&css$8["root-menuIsOpened"]]),children:jsxs("div",{className:css$8.wrapper,children:[jsxs("button",{className:merge([css$8.button,tt&&css$8.button_isOpen]),onClick:()=>it(),ref:_e,children:[jsx("span",{className:css$8.buttonLabel,children:b.key}),jsx("div",{className:css$8.buttonIcon,dangerouslySetInnerHTML:{__html:arrowDown}})]}),jsx("ul",{className:css$8.list,ref:et,children:rt==null?void 0:rt.map((st,at)=>jsx("li",{className:css$8.listItem,onClick:()=>ot(st),children:st.key},at))})]})})}const root$5="aCxZT",wrapper$4="f2bi6",item="LO10G",itemLink="ssprx",itemLabel="edEJt",itemNumber="_99uMo",activeItem="-sQex",socials="Ml5iD",social="-SUrj",footer="TyrnH",links="DyaJl",externalLink="lA2i8";var css$7={root:root$5,wrapper:wrapper$4,item,itemLink,itemLabel,itemNumber,activeItem,socials,social,footer,links,externalLink},iconInstagram=`<svg focusable="false"
     aria-hidden="true"  width="20" height="19" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.3 0H5.7C2.5 0 0 2.5 0 5.7V13.4C0 16.5 2.5 19 5.7 19H13.4C16.5 19 19.1 16.5 19.1 13.3V5.7C19 2.5 16.5 0 13.3 0ZM9.5 4.6C6.8 4.6 4.6 6.8 4.6 9.5C4.6 12.2 6.8 14.4 9.5 14.4C12.2 14.4 14.4 12.2 14.4 9.5C14.4 6.8 12.2 4.6 9.5 4.6ZM9.5 12.5C7.8 12.5 6.5 11.2 6.5 9.5C6.5 7.8 7.8 6.5 9.5 6.5C11.2 6.5 12.5 7.8 12.5 9.5C12.5 11.2 11.2 12.5 9.5 12.5ZM15.6 4.6C15.6 5.3 15.1 5.8 14.4 5.8C13.7 5.8 13.2 5.3 13.2 4.6C13.2 3.9 13.7 3.4 14.4 3.4C15.1 3.4 15.6 4 15.6 4.6Z" fill="#3D3D3D"/>
</svg>
`,iconLinkedin=`<svg focusable="false"
     aria-hidden="true"  width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M2.91034 1.4132C2.91034 2.19386 2.26291 2.8264 1.46383 2.8264C0.664746 2.8264 0.0173152 2.19386 0.0173152 1.4132C0.0173152 0.633115 0.664746 0 1.46383 0C2.26291 0 2.91034 0.633115 2.91034 1.4132ZM2.91684 3.95702H0.000488281V13.0015H2.91684V3.95702ZM4.67627 3.957H7.57396V5.17519C8.7965 2.98246 14.0004 2.82022 14.0004 7.27464V13.0015H11.0911V8.25371C11.0911 5.39791 7.57454 5.61384 7.57454 8.25371V13.0015H4.67627V3.957Z" fill="#3D3D3D"/>
</svg>
`,iconYoutube=`<svg focusable="false"
     aria-hidden="true"  width="21" height="15" viewBox="0 0 21 15" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.4827 7.6454L9.0768 9.87622C8.97831 9.92609 8.8706 9.95084 8.76309 9.95084C8.64129 9.95084 8.51969 9.91907 8.41205 9.85594C8.20944 9.73695 8.08567 9.52411 8.08567 9.29454V4.84721C8.08567 4.61803 8.20903 4.40539 8.41138 4.28633C8.61372 4.16728 8.86531 4.15914 9.07525 4.26481L13.4811 6.48126C13.7052 6.59401 13.846 6.8182 13.8463 7.0628C13.8466 7.3076 13.7065 7.53205 13.4827 7.6454ZM20.1815 1.22911C19.4234 0.356107 18.0239 0 15.3511 0H5.64873C2.91466 0 1.49147 0.379077 0.736287 1.30853C0 2.21474 0 3.54998 0 5.39798V8.92026C0 12.5004 0.8736 14.3182 5.64873 14.3182H15.3511C17.669 14.3182 18.9534 14.0039 19.7842 13.2335C20.6364 12.4434 21 11.1535 21 8.92026V5.39798C21 3.44911 20.943 2.10599 20.1815 1.22911Z" fill="#3D3D3D"/>
</svg>
`,usePlayOut,usePlayIn,TransitionsManager,TransitionsHoc,t=dist.exports,e$1=react.exports;function n(j){return j&&typeof j=="object"&&"default"in j?j:{default:j}}var o=n(t),u=n(e$1);function i(){const j={};return j.promise=new Promise((g,b)=>{j.resolve=g,j.reject=b}),j}function s(j=null,g){let b=[],$=j,_e=g||{},et=$,tt=_e;const nt=rt=>{b=b.filter(it=>it!==rt)};return{off:nt,on:rt=>(b.push(rt),()=>nt(rt)),dispatch:(rt,it)=>(et=rt,tt={...tt,...it},b.map(ot=>ot(rt,tt))),reset:()=>{b=[],et=$,tt=_e},get state(){return et},get options(){return tt},get handlers(){return b}}}const r="TransitionsManager";class a{constructor({autoMountUnmount:g=!0,name:b=null,options:$={}}={}){const _e=this,et=this;this.autoMountUnmount=void 0,this.name=void 0,this.options=void 0,this.mountStateSignal=void 0,this.mountDeferred=void 0,this.unmountDeferred=void 0,this.playStateSignal=void 0,this.playInDeferred=void 0,this.playOutDeferred=void 0,this.log=void 0,this.playIn=function(tt){try{let nt=function(){return _e.playInDeferred=i(),Promise.resolve(new Promise(it=>{setTimeout(()=>{_e.log("playIn (with 10ms delay)"),_e.playStateSignal.dispatch("play-in",tt),it()},10)})).then(function(){return _e.playInDeferred.promise})};const rt=function(){if(_e.autoMountUnmount)return _e.log("> auto mount"),Promise.resolve(_e.mount()).then(function(){})}();return Promise.resolve(rt&&rt.then?rt.then(nt):nt())}catch(nt){return Promise.reject(nt)}},this.playInComplete=()=>{var tt;this.log("playIn Complete"),this.playStateSignal.dispatch("visible"),(tt=this.playInDeferred)==null||tt.resolve()},this.playOut=function(tt){try{return et.log("playOut"),et.playOutDeferred=i(),et.playStateSignal.dispatch("play-out",tt),Promise.resolve(et.playOutDeferred.promise)}catch(nt){return Promise.reject(nt)}},this.playOutComplete=()=>{var tt;this.log("playOut Complete"),this.playStateSignal.dispatch("hidden"),(tt=this.playOutDeferred)==null||tt.resolve(),this.autoMountUnmount&&(this.log("> auto unmount"),this.unmount())},this.autoMountUnmount=g,this.name=b,this.log=o.default([r,this.name!=null&&`:${this.name}`].filter(tt=>tt).join("")),this.options=$,this.mountStateSignal=s("unmount"),this.playStateSignal=s("hidden",this.options)}mount(){if(this.log("mount"),this.mountStateSignal.state==="unmount")return this.mountDeferred=i(),this.mountStateSignal.dispatch("mount"),this.mountDeferred.promise;this.log("Component is not unmount, return.")}mountComplete(){this.log("mount Complete",this.mountDeferred),this.mountDeferred.resolve()}unmount(){if(this.log("unmount"),this.mountStateSignal.state==="mount")return this.unmountDeferred=i(),this.mountStateSignal.dispatch("unmount"),this.unmountDeferred.promise;this.log("Component is not mount, return.")}unmountComplete(){var g;this.log("unmount Complete"),(g=this.unmountDeferred)==null||g.resolve()}}const l=(j,g=[])=>{const[b,$]=e$1.useState(!1);return e$1.useLayoutEffect(()=>j.mountStateSignal.on(_e=>{_e==="mount"&&($(!0),j.mountComplete()),_e==="unmount"&&($(!1),j.unmountComplete())}),g),b};TransitionsHoc=(j,g)=>b=>{if(!(g&&g instanceof a))return void console.error("transitionsManager instance is not found, return.");const $=u.default.createElement(j,b);return g.autoMountUnmount?l(g)?$:null:$},TransitionsManager=a,usePlayIn=(j,g,b=[])=>{e$1.useLayoutEffect(()=>j.playStateSignal.on(($,_e)=>{$==="play-in"&&g(j.playInComplete,_e)}),b)},usePlayOut=(j,g,b=[])=>{e$1.useLayoutEffect(()=>j.playStateSignal.on(($,_e)=>{$==="play-out"&&g(j.playOutComplete,_e)}),b)};const componentName$s="Menu";debug(`front:${componentName$s}`);function Menu(j){var dt,pt,mt;const{appDataContext:g,setAppDataContext:b}=react.exports.useContext(AppDataContext),{rooms:$,dictionary:_e}=g,et=react.exports.useRef(null),tt=react.exports.useRef(null),nt=react.exports.useRef([]),rt=react.exports.useRef([]),it=react.exports.useRef(null),{currentRoute:ot}=E(),st=react.exports.useMemo(()=>{var yt;const gt=[{path:"/",label:(yt=g.dictionary)==null?void 0:yt.menu_home}];return $.map(_t=>{gt.push({path:"/"+pathJoin("/room/",_t.slug),label:_t.title})}),gt},[]),at=react.exports.useRef(),lt=()=>gsapWithCSS.timeline({paused:!0}).fromTo(tt.current,{xPercent:100},{xPercent:0,duration:.5,ease:"Power2.Out"}).fromTo(nt.current,{opacity:0,y:30},{opacity:1,y:0,stagger:.1,duration:.7,clearProps:"all"},"-=0.1").fromTo([rt.current,it.current],{autoAlpha:0},{autoAlpha:1,duration:.3},">");react.exports.useLayoutEffect(()=>{at.current||(at.current=lt())},[]),usePlayIn(menuTransitionsManager,async(gt,yt)=>{var _t;b({...g,threeState:{isPaused:!0},isMenuOpened:!0}),await((_t=at.current)==null?void 0:_t.play()),gt()}),usePlayOut(menuTransitionsManager,async(gt,yt)=>{var _t;await((_t=at.current)==null?void 0:_t.reverse()),b({...g,threeState:{isPaused:!1},isMenuOpened:!1}),gt()});const ut=async()=>{soundService.play(ESoundType.CLICK),b({...g,threeState:{isPaused:!1},isMenuOpened:!0}),await menuTransitionsManager.playOut()},ct=async()=>{soundService.play(ESoundType.HOVER)};react.exports.useEffect(()=>{function gt(yt){et.current&&et.current===yt.target&&menuTransitionsManager.playOut()}return document.addEventListener("mousedown",gt),()=>{document.removeEventListener("mousedown",gt)}},[]);const ft=gt=>{var yt,_t;return((_t=(yt=ot.props)==null?void 0:yt.params)==null?void 0:_t.roomId)===gt},ht=()=>{!window.OneTrust||window.OneTrust.ToggleInfoDisplay()};return jsx("div",{className:merge([css$7.root,j.className]),ref:et,children:jsxs("div",{className:css$7.wrapper,ref:tt,children:[jsx("ul",{className:css$7.menuList,children:st.map((gt,yt)=>{var _t;return jsx("li",{className:css$7.item,ref:vt=>nt.current.push(vt),children:jsxs(B,{to:gt.path,className:css$7.itemLink,onClick:ut,onMouseEnter:ct,children:[jsxs("span",{className:css$7.itemNumber,children:["0",yt+1]}),jsx("span",{className:merge([css$7.itemLabel,ft((_t=$[yt-1])==null?void 0:_t.slug)&&css$7.activeItem]),"data-text":gt.label,children:gt.label})]})},yt)})}),jsxs("div",{className:css$7.footer,children:[jsxs("div",{className:css$7.socials,children:[_e.instagram&&jsx("a",{href:_e.instagram,target:"_blank","aria-label":(dt=g.dictionary)==null?void 0:dt.instagramLabel,className:css$7.social,dangerouslySetInnerHTML:{__html:iconInstagram},ref:gt=>rt.current.push(gt)}),_e.linkedin&&jsx("a",{href:_e.linkedin,target:"_blank","aria-label":(pt=g.dictionary)==null?void 0:pt.linkedinLabel,className:css$7.social,dangerouslySetInnerHTML:{__html:iconLinkedin},ref:gt=>rt.current.push(gt)}),_e.youtube&&jsx("a",{href:_e.youtube,target:"_blank","aria-label":(mt=g.dictionary)==null?void 0:mt.youtubeLabel,className:css$7.social,dangerouslySetInnerHTML:{__html:iconYoutube},ref:gt=>rt.current.push(gt)})]}),jsxs("div",{className:css$7.links,ref:it,children:[jsx(ExternalLink,{className:css$7.externalLink,label:_e.website,to:_e.websiteUrl,target:"_blank"}),jsx(ExternalLink,{className:css$7.externalLink,label:_e.legals,to:_e.legalsUrl,target:"_blank"}),jsx("button",{className:css$7.externalLink,dangerouslySetInnerHTML:{__html:_e.cookies},onClick:ht})]})]})]})})}const menuTransitionsManager=new TransitionsManager;var Menu$1=TransitionsHoc(Menu,menuTransitionsManager);const componentName$r="HeaderMain";debug(`front:${componentName$r}`);function HeaderMain(j){var ot;const{appDataContext:g}=react.exports.useContext(AppDataContext),b=react.exports.useRef(null),$=react.exports.useRef(null),_e=react.exports.useRef(null),et=react.exports.useRef(null);react.exports.useEffect(()=>{et.current||(et.current=tt()),gsapWithCSS.fromTo(b.current,{autoAlpha:0},{autoAlpha:1,duration:.4,ease:"power2.out"})},[]);const tt=()=>gsapWithCSS.timeline({paused:!0}).fromTo(_e.current,{autoAlpha:0},{autoAlpha:1,duration:.4,ease:"power2.out"});react.exports.useEffect(()=>{g.isMenuOpened?et.current.play():et.current.reverse()},[]),react.exports.useEffect(()=>{g.isBlackMenu&&gsapWithCSS.timeline().fromTo($.current,{autoAlpha:0},{autoAlpha:1,delay:.3,duration:.8})},[]);const nt=()=>{g.isMenuOpened?menuTransitionsManager.playOut():menuTransitionsManager.playIn(),rt()},rt=()=>{soundService.play(ESoundType.CLICK)},it=()=>{soundService.play(ESoundType.HOVER)};return jsxs("div",{className:merge([css$9.root,j.className]),ref:b,children:[jsxs("div",{ref:$,className:merge([css$9.wrapper,(g.isMenuOpened||g.isBlackMenu)&&css$9["wrapper-black"]]),children:[jsx("div",{className:css$9.logoLinkWrapper,children:jsx(B,{to:{name:EPages.HOME},className:merge([css$9.logoLink,(g.isMenuOpened||g.isBlackMenu)&&css$9["logoLink-black"]]),"aria-label":g.dictionary.logoLabel,dangerouslySetInnerHTML:{__html:logo}})}),jsxs("div",{className:css$9.headerContent,children:[jsx("div",{className:css$9.lagSwitcherWrapper,onMouseEnter:it,onClick:rt,children:jsx(LangSwitcher,{alternativeColor:g.isMenuOpened||g.isBlackMenu})}),jsxs("button",{className:merge([css$9.menuIcon,(g.isMenuOpened||g.isBlackMenu)&&css$9["menuIcon-black"],g.isMenuOpened&&css$9["menuIcon-open"]]),onClick:nt,onMouseEnter:it,"aria-label":(ot=g.dictionary)==null?void 0:ot.label_menu_icon,children:[jsx("span",{className:css$9.menuIconLine}),jsx("span",{className:css$9.menuIconLine})]})]})]}),g.isMenuOpened&&jsx("div",{className:css$9.blur,ref:_e}),jsx(Menu$1,{})]})}const wrapper$3="XMVLK",icon$3="N5zDX",iconDrag="XK9KA",iconCloser="uGI7e",iconClick="azwzR",navIndication="ClJNl";var css$6={wrapper:wrapper$3,icon:icon$3,iconDrag,iconCloser,iconClick,navIndication},lottie_svg_min={exports:{}};(function(module,exports){typeof navigator!="undefined"&&function(j,g){module.exports=g()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(j){_useWebWorker=!!j},getWebWorker=function(){return _useWebWorker},setLocationHref=function(j){locationHref=j},getLocationHref=function(){return locationHref};function createTag(j){return document.createElement(j)}function extendPrototype(j,g){var b,$,_e=j.length;for(b=0;b<_e;b+=1)for(var et in $=j[b].prototype)Object.prototype.hasOwnProperty.call($,et)&&(g.prototype[et]=$[et])}function getDescriptor(j,g){return Object.getOwnPropertyDescriptor(j,g)}function createProxyFunction(j){function g(){}return g.prototype=j,g}var audioControllerFactory=function(){function j(g){this.audios=[],this.audioFactory=g,this._volume=1,this._isMuted=!1}return j.prototype={addAudio:function(g){this.audios.push(g)},pause:function(){var g,b=this.audios.length;for(g=0;g<b;g+=1)this.audios[g].pause()},resume:function(){var g,b=this.audios.length;for(g=0;g<b;g+=1)this.audios[g].resume()},setRate:function(g){var b,$=this.audios.length;for(b=0;b<$;b+=1)this.audios[b].setRate(g)},createAudio:function(g){return this.audioFactory?this.audioFactory(g):window.Howl?new window.Howl({src:[g]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(g){this.audioFactory=g},setVolume:function(g){this._volume=g,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var g,b=this.audios.length;for(g=0;g<b;g+=1)this.audios[g].volume(this._volume*(this._isMuted?0:1))}},function(){return new j}}(),createTypedArray=function(){function j(g,b){var $,_e=0,et=[];switch(g){case"int16":case"uint8c":$=1;break;default:$=1.1}for(_e=0;_e<b;_e+=1)et.push($);return et}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(g,b){return g==="float32"?new Float32Array(b):g==="int16"?new Int16Array(b):g==="uint8c"?new Uint8ClampedArray(b):j(g,b)}:j}();function createSizedArray(j){return Array.apply(null,{length:j})}function _typeof$6(j){return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof$6(j)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMin=Math.min,BMMath={};(function(){var j,g=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],b=g.length;for(j=0;j<b;j+=1)BMMath[g[j]]=Math[g[j]]})(),BMMath.random=Math.random,BMMath.abs=function(j){if(_typeof$6(j)==="object"&&j.length){var g,b=createSizedArray(j.length),$=j.length;for(g=0;g<$;g+=1)b[g]=Math.abs(j[g]);return b}return Math.abs(j)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function BMEnterFrameEvent(j,g,b,$){this.type=j,this.currentTime=g,this.totalTime=b,this.direction=$<0?-1:1}function BMCompleteEvent(j,g){this.type=j,this.direction=g<0?-1:1}function BMCompleteLoopEvent(j,g,b,$){this.type=j,this.currentLoop=b,this.totalLoops=g,this.direction=$<0?-1:1}function BMSegmentStartEvent(j,g,b){this.type=j,this.firstFrame=g,this.totalFrames=b}function BMDestroyEvent(j,g){this.type=j,this.target=g}function BMRenderFrameErrorEvent(j,g){this.type="renderFrameError",this.nativeError=j,this.currentTime=g}function BMConfigErrorEvent(j){this.type="configError",this.nativeError=j}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(j,g,b){var $,_e,et,tt,nt,rt,it,ot;switch(rt=b*(1-g),it=b*(1-(nt=6*j-(tt=Math.floor(6*j)))*g),ot=b*(1-(1-nt)*g),tt%6){case 0:$=b,_e=ot,et=rt;break;case 1:$=it,_e=b,et=rt;break;case 2:$=rt,_e=b,et=ot;break;case 3:$=rt,_e=it,et=b;break;case 4:$=ot,_e=rt,et=b;break;case 5:$=b,_e=rt,et=it}return[$,_e,et]}function RGBtoHSV(j,g,b){var $,_e=Math.max(j,g,b),et=Math.min(j,g,b),tt=_e-et,nt=_e===0?0:tt/_e,rt=_e/255;switch(_e){case et:$=0;break;case j:$=g-b+tt*(g<b?6:0),$/=6*tt;break;case g:$=b-j+2*tt,$/=6*tt;break;case b:$=j-g+4*tt,$/=6*tt}return[$,nt,rt]}function addSaturationToRGB(j,g){var b=RGBtoHSV(255*j[0],255*j[1],255*j[2]);return b[1]+=g,b[1]>1?b[1]=1:b[1]<=0&&(b[1]=0),HSVtoRGB(b[0],b[1],b[2])}function addBrightnessToRGB(j,g){var b=RGBtoHSV(255*j[0],255*j[1],255*j[2]);return b[2]+=g,b[2]>1?b[2]=1:b[2]<0&&(b[2]=0),HSVtoRGB(b[0],b[1],b[2])}function addHueToRGB(j,g){var b=RGBtoHSV(255*j[0],255*j[1],255*j[2]);return b[0]+=g/360,b[0]>1?b[0]-=1:b[0]<0&&(b[0]+=1),HSVtoRGB(b[0],b[1],b[2])}var rgbToHex=function(){var j,g,b=[];for(j=0;j<256;j+=1)g=j.toString(16),b[j]=g.length===1?"0"+g:g;return function($,_e,et){return $<0&&($=0),_e<0&&(_e=0),et<0&&(et=0),"#"+b[$]+b[_e]+b[et]}}(),setSubframeEnabled=function(j){subframeEnabled=!!j},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(j){expressionsPlugin=j},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(j){defaultCurveSegments=j},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(j){idPrefix$1=j};function createNS(j){return document.createElementNS(svgNS,j)}function _typeof$5(j){return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof$5(j)}var dataManager=function(){var j,g,b=1,$=[],_e={onmessage:function(){},postMessage:function(rt){j({data:rt})}},et={postMessage:function(rt){_e.onmessage({data:rt})}};function tt(){g||(g=function(rt){if(window.Worker&&window.Blob&&getWebWorker()){var it=new Blob(["var _workerSelf = self; self.onmessage = ",rt.toString()],{type:"text/javascript"}),ot=URL.createObjectURL(it);return new Worker(ot)}return j=rt,_e}(function(rt){if(et.dataManager||(et.dataManager=function(){function ot(_t,vt){var At,bt,xt,Et,Mt,Tt,Lt=_t.length;for(bt=0;bt<Lt;bt+=1)if("ks"in(At=_t[bt])&&!At.completed){if(At.completed=!0,At.tt&&(_t[bt-1].td=At.tt),At.hasMask){var Ot=At.masksProperties;for(Et=Ot.length,xt=0;xt<Et;xt+=1)if(Ot[xt].pt.k.i)lt(Ot[xt].pt.k);else for(Tt=Ot[xt].pt.k.length,Mt=0;Mt<Tt;Mt+=1)Ot[xt].pt.k[Mt].s&&lt(Ot[xt].pt.k[Mt].s[0]),Ot[xt].pt.k[Mt].e&&lt(Ot[xt].pt.k[Mt].e[0])}At.ty===0?(At.layers=st(At.refId,vt),ot(At.layers,vt)):At.ty===4?at(At.shapes):At.ty===5&&gt(At)}}function st(_t,vt){var At=function(bt,xt){for(var Et=0,Mt=xt.length;Et<Mt;){if(xt[Et].id===bt)return xt[Et];Et+=1}return null}(_t,vt);return At?At.layers.__used?JSON.parse(JSON.stringify(At.layers)):(At.layers.__used=!0,At.layers):null}function at(_t){var vt,At,bt;for(vt=_t.length-1;vt>=0;vt-=1)if(_t[vt].ty==="sh")if(_t[vt].ks.k.i)lt(_t[vt].ks.k);else for(bt=_t[vt].ks.k.length,At=0;At<bt;At+=1)_t[vt].ks.k[At].s&&lt(_t[vt].ks.k[At].s[0]),_t[vt].ks.k[At].e&&lt(_t[vt].ks.k[At].e[0]);else _t[vt].ty==="gr"&&at(_t[vt].it)}function lt(_t){var vt,At=_t.i.length;for(vt=0;vt<At;vt+=1)_t.i[vt][0]+=_t.v[vt][0],_t.i[vt][1]+=_t.v[vt][1],_t.o[vt][0]+=_t.v[vt][0],_t.o[vt][1]+=_t.v[vt][1]}function ut(_t,vt){var At=vt?vt.split("."):[100,100,100];return _t[0]>At[0]||!(At[0]>_t[0])&&(_t[1]>At[1]||!(At[1]>_t[1])&&(_t[2]>At[2]||!(At[2]>_t[2])&&null))}var ct,ft=function(){var _t=[4,4,14];function vt(At){var bt,xt,Et,Mt=At.length;for(bt=0;bt<Mt;bt+=1)At[bt].ty===5&&(Et=void 0,Et=(xt=At[bt]).t.d,xt.t.d={k:[{s:Et,t:0}]})}return function(At){if(ut(_t,At.v)&&(vt(At.layers),At.assets)){var bt,xt=At.assets.length;for(bt=0;bt<xt;bt+=1)At.assets[bt].layers&&vt(At.assets[bt].layers)}}}(),ht=(ct=[4,7,99],function(_t){if(_t.chars&&!ut(ct,_t.v)){var vt,At=_t.chars.length;for(vt=0;vt<At;vt+=1){var bt=_t.chars[vt];bt.data&&bt.data.shapes&&(at(bt.data.shapes),bt.data.ip=0,bt.data.op=99999,bt.data.st=0,bt.data.sr=1,bt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},_t.chars[vt].t||(bt.data.shapes.push({ty:"no"}),bt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),dt=function(){var _t=[5,7,15];function vt(At){var bt,xt,Et=At.length;for(bt=0;bt<Et;bt+=1)At[bt].ty===5&&(xt=void 0,typeof(xt=At[bt].t.p).a=="number"&&(xt.a={a:0,k:xt.a}),typeof xt.p=="number"&&(xt.p={a:0,k:xt.p}),typeof xt.r=="number"&&(xt.r={a:0,k:xt.r}))}return function(At){if(ut(_t,At.v)&&(vt(At.layers),At.assets)){var bt,xt=At.assets.length;for(bt=0;bt<xt;bt+=1)At.assets[bt].layers&&vt(At.assets[bt].layers)}}}(),pt=function(){var _t=[4,1,9];function vt(bt){var xt,Et,Mt,Tt=bt.length;for(xt=0;xt<Tt;xt+=1)if(bt[xt].ty==="gr")vt(bt[xt].it);else if(bt[xt].ty==="fl"||bt[xt].ty==="st")if(bt[xt].c.k&&bt[xt].c.k[0].i)for(Mt=bt[xt].c.k.length,Et=0;Et<Mt;Et+=1)bt[xt].c.k[Et].s&&(bt[xt].c.k[Et].s[0]/=255,bt[xt].c.k[Et].s[1]/=255,bt[xt].c.k[Et].s[2]/=255,bt[xt].c.k[Et].s[3]/=255),bt[xt].c.k[Et].e&&(bt[xt].c.k[Et].e[0]/=255,bt[xt].c.k[Et].e[1]/=255,bt[xt].c.k[Et].e[2]/=255,bt[xt].c.k[Et].e[3]/=255);else bt[xt].c.k[0]/=255,bt[xt].c.k[1]/=255,bt[xt].c.k[2]/=255,bt[xt].c.k[3]/=255}function At(bt){var xt,Et=bt.length;for(xt=0;xt<Et;xt+=1)bt[xt].ty===4&&vt(bt[xt].shapes)}return function(bt){if(ut(_t,bt.v)&&(At(bt.layers),bt.assets)){var xt,Et=bt.assets.length;for(xt=0;xt<Et;xt+=1)bt.assets[xt].layers&&At(bt.assets[xt].layers)}}}(),mt=function(){var _t=[4,4,18];function vt(bt){var xt,Et,Mt;for(xt=bt.length-1;xt>=0;xt-=1)if(bt[xt].ty==="sh")if(bt[xt].ks.k.i)bt[xt].ks.k.c=bt[xt].closed;else for(Mt=bt[xt].ks.k.length,Et=0;Et<Mt;Et+=1)bt[xt].ks.k[Et].s&&(bt[xt].ks.k[Et].s[0].c=bt[xt].closed),bt[xt].ks.k[Et].e&&(bt[xt].ks.k[Et].e[0].c=bt[xt].closed);else bt[xt].ty==="gr"&&vt(bt[xt].it)}function At(bt){var xt,Et,Mt,Tt,Lt,Ot,Rt=bt.length;for(Et=0;Et<Rt;Et+=1){if((xt=bt[Et]).hasMask){var Ct=xt.masksProperties;for(Tt=Ct.length,Mt=0;Mt<Tt;Mt+=1)if(Ct[Mt].pt.k.i)Ct[Mt].pt.k.c=Ct[Mt].cl;else for(Ot=Ct[Mt].pt.k.length,Lt=0;Lt<Ot;Lt+=1)Ct[Mt].pt.k[Lt].s&&(Ct[Mt].pt.k[Lt].s[0].c=Ct[Mt].cl),Ct[Mt].pt.k[Lt].e&&(Ct[Mt].pt.k[Lt].e[0].c=Ct[Mt].cl)}xt.ty===4&&vt(xt.shapes)}}return function(bt){if(ut(_t,bt.v)&&(At(bt.layers),bt.assets)){var xt,Et=bt.assets.length;for(xt=0;xt<Et;xt+=1)bt.assets[xt].layers&&At(bt.assets[xt].layers)}}}();function gt(_t){_t.t.a.length===0&&_t.t.p}var yt={completeData:function(_t){_t.__complete||(pt(_t),ft(_t),ht(_t),dt(_t),mt(_t),ot(_t.layers,_t.assets),function(vt,At){if(vt){var bt=0,xt=vt.length;for(bt=0;bt<xt;bt+=1)vt[bt].t===1&&(vt[bt].data.layers=st(vt[bt].data.refId,At),ot(vt[bt].data.layers,At))}}(_t.chars,_t.assets),_t.__complete=!0)}};return yt.checkColors=pt,yt.checkChars=ht,yt.checkPathProperties=dt,yt.checkShapes=mt,yt.completeLayers=ot,yt}()),et.assetLoader||(et.assetLoader=function(){function ot(st){var at=st.getResponseHeader("content-type");return at&&st.responseType==="json"&&at.indexOf("json")!==-1||st.response&&_typeof$5(st.response)==="object"?st.response:st.response&&typeof st.response=="string"?JSON.parse(st.response):st.responseText?JSON.parse(st.responseText):null}return{load:function(st,at,lt,ut){var ct,ft=new XMLHttpRequest;try{ft.responseType="json"}catch{}ft.onreadystatechange=function(){if(ft.readyState===4)if(ft.status===200)ct=ot(ft),lt(ct);else try{ct=ot(ft),lt(ct)}catch(ht){ut&&ut(ht)}};try{ft.open("GET",st,!0)}catch{ft.open("GET",at+"/"+st,!0)}ft.send()}}}()),rt.data.type==="loadAnimation")et.assetLoader.load(rt.data.path,rt.data.fullPath,function(ot){et.dataManager.completeData(ot),et.postMessage({id:rt.data.id,payload:ot,status:"success"})},function(){et.postMessage({id:rt.data.id,status:"error"})});else if(rt.data.type==="complete"){var it=rt.data.animation;et.dataManager.completeData(it),et.postMessage({id:rt.data.id,payload:it,status:"success"})}else rt.data.type==="loadData"&&et.assetLoader.load(rt.data.path,rt.data.fullPath,function(ot){et.postMessage({id:rt.data.id,payload:ot,status:"success"})},function(){et.postMessage({id:rt.data.id,status:"error"})})}),g.onmessage=function(rt){var it=rt.data,ot=it.id,st=$[ot];$[ot]=null,it.status==="success"?st.onComplete(it.payload):st.onError&&st.onError()})}function nt(rt,it){var ot="processId_"+(b+=1);return $[ot]={onComplete:rt,onError:it},ot}return{loadAnimation:function(rt,it,ot){tt();var st=nt(it,ot);g.postMessage({type:"loadAnimation",path:rt,fullPath:window.location.origin+window.location.pathname,id:st})},loadData:function(rt,it,ot){tt();var st=nt(it,ot);g.postMessage({type:"loadData",path:rt,fullPath:window.location.origin+window.location.pathname,id:st})},completeAnimation:function(rt,it,ot){tt();var st=nt(it,ot);g.postMessage({type:"complete",animation:rt,id:st})}}}(),ImagePreloader=function(){var j=function(){var nt=createTag("canvas");nt.width=1,nt.height=1;var rt=nt.getContext("2d");return rt.fillStyle="rgba(0,0,0,0)",rt.fillRect(0,0,1,1),nt}();function g(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function b(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function $(nt,rt,it){var ot="";if(nt.e)ot=nt.p;else if(rt){var st=nt.p;st.indexOf("images/")!==-1&&(st=st.split("/")[1]),ot=rt+st}else ot=it,ot+=nt.u?nt.u:"",ot+=nt.p;return ot}function _e(nt){var rt=0,it=setInterval(function(){(nt.getBBox().width||rt>500)&&(this._imageLoaded(),clearInterval(it)),rt+=1}.bind(this),50)}function et(nt){var rt={assetData:nt},it=$(nt,this.assetsPath,this.path);return dataManager.loadData(it,function(ot){rt.img=ot,this._footageLoaded()}.bind(this),function(){rt.img={},this._footageLoaded()}.bind(this)),rt}function tt(){this._imageLoaded=g.bind(this),this._footageLoaded=b.bind(this),this.testImageLoaded=_e.bind(this),this.createFootageData=et.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return tt.prototype={loadAssets:function(nt,rt){var it;this.imagesLoadedCb=rt;var ot=nt.length;for(it=0;it<ot;it+=1)nt[it].layers||(nt[it].t&&nt[it].t!=="seq"?nt[it].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(nt[it]))):(this.totalImages+=1,this.images.push(this._createImageData(nt[it]))))},setAssetsPath:function(nt){this.assetsPath=nt||""},setPath:function(nt){this.path=nt||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(nt){for(var rt=0,it=this.images.length;rt<it;){if(this.images[rt].assetData===nt)return this.images[rt].img;rt+=1}return null},createImgData:function(nt){var rt=$(nt,this.assetsPath,this.path),it=createTag("img");it.crossOrigin="anonymous",it.addEventListener("load",this._imageLoaded,!1),it.addEventListener("error",function(){ot.img=j,this._imageLoaded()}.bind(this),!1),it.src=rt;var ot={img:it,assetData:nt};return ot},createImageData:function(nt){var rt=$(nt,this.assetsPath,this.path),it=createNS("image");isSafari?this.testImageLoaded(it):it.addEventListener("load",this._imageLoaded,!1),it.addEventListener("error",function(){ot.img=j,this._imageLoaded()}.bind(this),!1),it.setAttributeNS("http://www.w3.org/1999/xlink","href",rt),this._elementHelper.append?this._elementHelper.append(it):this._elementHelper.appendChild(it);var ot={img:it,assetData:nt};return ot},imageLoaded:g,footageLoaded:b,setCacheType:function(nt,rt){nt==="svg"?(this._elementHelper=rt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},tt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(j,g){if(this._cbs[j])for(var b=this._cbs[j],$=0;$<b.length;$+=1)b[$](g)},addEventListener:function(j,g){return this._cbs[j]||(this._cbs[j]=[]),this._cbs[j].push(g),function(){this.removeEventListener(j,g)}.bind(this)},removeEventListener:function(j,g){if(g){if(this._cbs[j]){for(var b=0,$=this._cbs[j].length;b<$;)this._cbs[j][b]===g&&(this._cbs[j].splice(b,1),b-=1,$-=1),b+=1;this._cbs[j].length||(this._cbs[j]=null)}}else this._cbs[j]=null}};var markerParser=function(){function j(g){for(var b,$=g.split(`\r
`),_e={},et=0,tt=0;tt<$.length;tt+=1)(b=$[tt].split(":")).length===2&&(_e[b[0]]=b[1].trim(),et+=1);if(et===0)throw new Error;return _e}return function(g){for(var b=[],$=0;$<g.length;$+=1){var _e=g[$],et={time:_e.tm,duration:_e.dr};try{et.payload=JSON.parse(g[$].cm)}catch{try{et.payload=j(g[$].cm)}catch{et.payload={name:g[$].cm}}}b.push(et)}return b}}(),ProjectInterface=function(){function j(g){this.compositions.push(g)}return function(){function g(b){for(var $=0,_e=this.compositions.length;$<_e;){if(this.compositions[$].data&&this.compositions[$].data.nm===b)return this.compositions[$].prepareFrame&&this.compositions[$].data.xt&&this.compositions[$].prepareFrame(this.currentFrame),this.compositions[$].compInterface;$+=1}return null}return g.compositions=[],g.currentFrame=0,g.registerComposition=j,g}}(),renderers={},registerRenderer=function(j,g){renderers[j]=g};function getRenderer(j){return renderers[j]}function _typeof$4(j){return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof$4(j)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(j){(j.wrapper||j.container)&&(this.wrapper=j.wrapper||j.container);var g="svg";j.animType?g=j.animType:j.renderer&&(g=j.renderer);var b=getRenderer(g);this.renderer=new b(this,j.rendererSettings),this.imagePreloader.setCacheType(g,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=g,j.loop===""||j.loop===null||j.loop===void 0||j.loop===!0?this.loop=!0:j.loop===!1?this.loop=!1:this.loop=parseInt(j.loop,10),this.autoplay=!("autoplay"in j)||j.autoplay,this.name=j.name?j.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(j,"autoloadSegments")||j.autoloadSegments,this.assetsPath=j.assetsPath,this.initialSegment=j.initialSegment,j.audioFactory&&this.audioController.setAudioFactory(j.audioFactory),j.animationData?this.setupAnimation(j.animationData):j.path&&(j.path.lastIndexOf("\\")!==-1?this.path=j.path.substr(0,j.path.lastIndexOf("\\")+1):this.path=j.path.substr(0,j.path.lastIndexOf("/")+1),this.fileName=j.path.substr(j.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(j.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(j){dataManager.completeAnimation(j,this.configAnimation)},AnimationItem.prototype.setData=function(j,g){g&&_typeof$4(g)!=="object"&&(g=JSON.parse(g));var b={wrapper:j,animationData:g},$=j.attributes;b.path=$.getNamedItem("data-animation-path")?$.getNamedItem("data-animation-path").value:$.getNamedItem("data-bm-path")?$.getNamedItem("data-bm-path").value:$.getNamedItem("bm-path")?$.getNamedItem("bm-path").value:"",b.animType=$.getNamedItem("data-anim-type")?$.getNamedItem("data-anim-type").value:$.getNamedItem("data-bm-type")?$.getNamedItem("data-bm-type").value:$.getNamedItem("bm-type")?$.getNamedItem("bm-type").value:$.getNamedItem("data-bm-renderer")?$.getNamedItem("data-bm-renderer").value:$.getNamedItem("bm-renderer")?$.getNamedItem("bm-renderer").value:"canvas";var _e=$.getNamedItem("data-anim-loop")?$.getNamedItem("data-anim-loop").value:$.getNamedItem("data-bm-loop")?$.getNamedItem("data-bm-loop").value:$.getNamedItem("bm-loop")?$.getNamedItem("bm-loop").value:"";_e==="false"?b.loop=!1:_e==="true"?b.loop=!0:_e!==""&&(b.loop=parseInt(_e,10));var et=$.getNamedItem("data-anim-autoplay")?$.getNamedItem("data-anim-autoplay").value:$.getNamedItem("data-bm-autoplay")?$.getNamedItem("data-bm-autoplay").value:!$.getNamedItem("bm-autoplay")||$.getNamedItem("bm-autoplay").value;b.autoplay=et!=="false",b.name=$.getNamedItem("data-name")?$.getNamedItem("data-name").value:$.getNamedItem("data-bm-name")?$.getNamedItem("data-bm-name").value:$.getNamedItem("bm-name")?$.getNamedItem("bm-name").value:"",($.getNamedItem("data-anim-prerender")?$.getNamedItem("data-anim-prerender").value:$.getNamedItem("data-bm-prerender")?$.getNamedItem("data-bm-prerender").value:$.getNamedItem("bm-prerender")?$.getNamedItem("bm-prerender").value:"")==="false"&&(b.prerender=!1),this.setParams(b)},AnimationItem.prototype.includeLayers=function(j){j.op>this.animationData.op&&(this.animationData.op=j.op,this.totalFrames=Math.floor(j.op-this.animationData.ip));var g,b,$=this.animationData.layers,_e=$.length,et=j.layers,tt=et.length;for(b=0;b<tt;b+=1)for(g=0;g<_e;){if($[g].id===et[b].id){$[g]=et[b];break}g+=1}if((j.chars||j.fonts)&&(this.renderer.globalData.fontManager.addChars(j.chars),this.renderer.globalData.fontManager.addFonts(j.fonts,this.renderer.globalData.defs)),j.assets)for(_e=j.assets.length,g=0;g<_e;g+=1)this.animationData.assets.push(j.assets[g]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(j){this.animationData=j;var g=getExpressionsPlugin();g&&g.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var j=this.animationData.segments;if(!j||j.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var g=j.shift();this.timeCompleted=g.time*this.frameRate;var b=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(b,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(j){if(this.renderer)try{this.animationData=j,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(j),j.assets||(j.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(j.assets),this.markers=markerParser(j.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(g){this.triggerConfigError(g)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var j=getExpressionsPlugin();j&&j.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(j){this.isSubframeEnabled=!!j},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(j){this.triggerRenderFrameError(j)}},AnimationItem.prototype.play=function(j){j&&this.name!==j||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(j){j&&this.name!==j||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(j){j&&this.name!==j||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(j){j&&this.name!==j||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(j){for(var g,b=0;b<this.markers.length;b+=1)if((g=this.markers[b]).payload&&g.payload.name===j)return g;return null},AnimationItem.prototype.goToAndStop=function(j,g,b){if(!b||this.name===b){var $=Number(j);if(isNaN($)){var _e=this.getMarkerData(j);_e&&this.goToAndStop(_e.time,!0)}else g?this.setCurrentRawFrameValue(j):this.setCurrentRawFrameValue(j*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(j,g,b){if(!b||this.name===b){var $=Number(j);if(isNaN($)){var _e=this.getMarkerData(j);_e&&(_e.duration?this.playSegments([_e.time,_e.time+_e.duration],!0):this.goToAndStop(_e.time,!0))}else this.goToAndStop($,g,b);this.play()}},AnimationItem.prototype.advanceTime=function(j){if(this.isPaused!==!0&&this.isLoaded!==!1){var g=this.currentRawFrame+j*this.frameModifier,b=!1;g>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?g>=this.totalFrames?(this.playCount+=1,this.checkSegments(g%this.totalFrames)||(this.setCurrentRawFrameValue(g%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(g):this.checkSegments(g>this.totalFrames?g%this.totalFrames:0)||(b=!0,g=this.totalFrames-1):g<0?this.checkSegments(g%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(b=!0,g=0):(this.setCurrentRawFrameValue(this.totalFrames+g%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(g),b&&(this.setCurrentRawFrameValue(g),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(j,g){this.playCount=0,j[1]<j[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=j[0]-j[1],this.timeCompleted=this.totalFrames,this.firstFrame=j[1],this.setCurrentRawFrameValue(this.totalFrames-.001-g)):j[1]>j[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=j[1]-j[0],this.timeCompleted=this.totalFrames,this.firstFrame=j[0],this.setCurrentRawFrameValue(.001+g)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(j,g){var b=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<j?b=j:this.currentRawFrame+this.firstFrame>g&&(b=g-j)),this.firstFrame=j,this.totalFrames=g-j,this.timeCompleted=this.totalFrames,b!==-1&&this.goToAndStop(b,!0)},AnimationItem.prototype.playSegments=function(j,g){if(g&&(this.segments.length=0),_typeof$4(j[0])==="object"){var b,$=j.length;for(b=0;b<$;b+=1)this.segments.push(j[b])}else this.segments.push(j);this.segments.length&&g&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(j){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),j&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(j){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),j),!0)},AnimationItem.prototype.destroy=function(j){j&&this.name!==j||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(j){this.currentRawFrame=j,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(j){this.playSpeed=j,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(j){this.playDirection=j<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(j,g){g&&this.name!==g||this.audioController.setVolume(j)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(j){j&&this.name!==j||this.audioController.mute()},AnimationItem.prototype.unmute=function(j){j&&this.name!==j||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(j){var g="";if(j.e)g=j.p;else if(this.assetsPath){var b=j.p;b.indexOf("images/")!==-1&&(b=b.split("/")[1]),g=this.assetsPath+b}else g=this.path,g+=j.u?j.u:"",g+=j.p;return g},AnimationItem.prototype.getAssetData=function(j){for(var g=0,b=this.assets.length;g<b;){if(j===this.assets[g].id)return this.assets[g];g+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(j){return j?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(j,g,b){try{this.renderer.getElementByPath(j).updateDocumentData(g,b)}catch{}},AnimationItem.prototype.trigger=function(j){if(this._cbs&&this._cbs[j])switch(j){case"enterFrame":this.triggerEvent(j,new BMEnterFrameEvent(j,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(j,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(j,new BMCompleteLoopEvent(j,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(j,new BMCompleteEvent(j,this.frameMult));break;case"segmentStart":this.triggerEvent(j,new BMSegmentStartEvent(j,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(j,new BMDestroyEvent(j,this));break;default:this.triggerEvent(j)}j==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(j,this.currentFrame,this.totalFrames,this.frameMult)),j==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(j,this.loop,this.playCount,this.frameMult)),j==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(j,this.frameMult)),j==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(j,this.firstFrame,this.totalFrames)),j==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(j,this))},AnimationItem.prototype.triggerRenderFrameError=function(j){var g=new BMRenderFrameErrorEvent(j,this.currentFrame);this.triggerEvent("error",g),this.onError&&this.onError.call(this,g)},AnimationItem.prototype.triggerConfigError=function(j){var g=new BMConfigErrorEvent(j,this.currentFrame);this.triggerEvent("error",g),this.onError&&this.onError.call(this,g)};var animationManager=function(){var j={},g=[],b=0,$=0,_e=0,et=!0,tt=!1;function nt(ct){for(var ft=0,ht=ct.target;ft<$;)g[ft].animation===ht&&(g.splice(ft,1),ft-=1,$-=1,ht.isPaused||ot()),ft+=1}function rt(ct,ft){if(!ct)return null;for(var ht=0;ht<$;){if(g[ht].elem===ct&&g[ht].elem!==null)return g[ht].animation;ht+=1}var dt=new AnimationItem;return st(dt,ct),dt.setData(ct,ft),dt}function it(){_e+=1,ut()}function ot(){_e-=1}function st(ct,ft){ct.addEventListener("destroy",nt),ct.addEventListener("_active",it),ct.addEventListener("_idle",ot),g.push({elem:ft,animation:ct}),$+=1}function at(ct){var ft,ht=ct-b;for(ft=0;ft<$;ft+=1)g[ft].animation.advanceTime(ht);b=ct,_e&&!tt?window.requestAnimationFrame(at):et=!0}function lt(ct){b=ct,window.requestAnimationFrame(at)}function ut(){!tt&&_e&&et&&(window.requestAnimationFrame(lt),et=!1)}return j.registerAnimation=rt,j.loadAnimation=function(ct){var ft=new AnimationItem;return st(ft,null),ft.setParams(ct),ft},j.setSpeed=function(ct,ft){var ht;for(ht=0;ht<$;ht+=1)g[ht].animation.setSpeed(ct,ft)},j.setDirection=function(ct,ft){var ht;for(ht=0;ht<$;ht+=1)g[ht].animation.setDirection(ct,ft)},j.play=function(ct){var ft;for(ft=0;ft<$;ft+=1)g[ft].animation.play(ct)},j.pause=function(ct){var ft;for(ft=0;ft<$;ft+=1)g[ft].animation.pause(ct)},j.stop=function(ct){var ft;for(ft=0;ft<$;ft+=1)g[ft].animation.stop(ct)},j.togglePause=function(ct){var ft;for(ft=0;ft<$;ft+=1)g[ft].animation.togglePause(ct)},j.searchAnimations=function(ct,ft,ht){var dt,pt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),mt=pt.length;for(dt=0;dt<mt;dt+=1)ht&&pt[dt].setAttribute("data-bm-type",ht),rt(pt[dt],ct);if(ft&&mt===0){ht||(ht="svg");var gt=document.getElementsByTagName("body")[0];gt.innerText="";var yt=createTag("div");yt.style.width="100%",yt.style.height="100%",yt.setAttribute("data-bm-type",ht),gt.appendChild(yt),rt(yt,ct)}},j.resize=function(){var ct;for(ct=0;ct<$;ct+=1)g[ct].animation.resize()},j.goToAndStop=function(ct,ft,ht){var dt;for(dt=0;dt<$;dt+=1)g[dt].animation.goToAndStop(ct,ft,ht)},j.destroy=function(ct){var ft;for(ft=$-1;ft>=0;ft-=1)g[ft].animation.destroy(ct)},j.freeze=function(){tt=!0},j.unfreeze=function(){tt=!1,ut()},j.setVolume=function(ct,ft){var ht;for(ht=0;ht<$;ht+=1)g[ht].animation.setVolume(ct,ft)},j.mute=function(ct){var ft;for(ft=0;ft<$;ft+=1)g[ft].animation.mute(ct)},j.unmute=function(ct){var ft;for(ft=0;ft<$;ft+=1)g[ft].animation.unmute(ct)},j.getRegisteredAnimations=function(){var ct,ft=g.length,ht=[];for(ct=0;ct<ft;ct+=1)ht.push(g[ct].animation);return ht},j}(),BezierFactory=function(){var j={getBezierEasing:function(ot,st,at,lt,ut){var ct=ut||("bez_"+ot+"_"+st+"_"+at+"_"+lt).replace(/\./g,"p");if(g[ct])return g[ct];var ft=new it([ot,st,at,lt]);return g[ct]=ft,ft}},g={},b=.1,$=typeof Float32Array=="function";function _e(ot,st){return 1-3*st+3*ot}function et(ot,st){return 3*st-6*ot}function tt(ot){return 3*ot}function nt(ot,st,at){return((_e(st,at)*ot+et(st,at))*ot+tt(st))*ot}function rt(ot,st,at){return 3*_e(st,at)*ot*ot+2*et(st,at)*ot+tt(st)}function it(ot){this._p=ot,this._mSampleValues=$?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return it.prototype={get:function(ot){var st=this._p[0],at=this._p[1],lt=this._p[2],ut=this._p[3];return this._precomputed||this._precompute(),st===at&&lt===ut?ot:ot===0?0:ot===1?1:nt(this._getTForX(ot),at,ut)},_precompute:function(){var ot=this._p[0],st=this._p[1],at=this._p[2],lt=this._p[3];this._precomputed=!0,ot===st&&at===lt||this._calcSampleValues()},_calcSampleValues:function(){for(var ot=this._p[0],st=this._p[2],at=0;at<11;++at)this._mSampleValues[at]=nt(at*b,ot,st)},_getTForX:function(ot){for(var st=this._p[0],at=this._p[2],lt=this._mSampleValues,ut=0,ct=1;ct!==10&&lt[ct]<=ot;++ct)ut+=b;var ft=ut+(ot-lt[--ct])/(lt[ct+1]-lt[ct])*b,ht=rt(ft,st,at);return ht>=.001?function(dt,pt,mt,gt){for(var yt=0;yt<4;++yt){var _t=rt(pt,mt,gt);if(_t===0)return pt;pt-=(nt(pt,mt,gt)-dt)/_t}return pt}(ot,ft,st,at):ht===0?ft:function(dt,pt,mt,gt,yt){var _t,vt,At=0;do(_t=nt(vt=pt+(mt-pt)/2,gt,yt)-dt)>0?mt=vt:pt=vt;while(Math.abs(_t)>1e-7&&++At<10);return vt}(ot,ut,ut+b,st,at)}},j}(),pooling={double:function(j){return j.concat(createSizedArray(j.length))}},poolFactory=function(j,g,b){var $=0,_e=j,et=createSizedArray(_e);return{newElement:function(){return $?et[$-=1]:g()},release:function(tt){$===_e&&(et=pooling.double(et),_e*=2),b&&b(tt),et[$]=tt,$+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(j){var g,b=j.lengths.length;for(g=0;g<b;g+=1)bezierLengthPool.release(j.lengths[g]);j.lengths.length=0});function bezFunction(){var j=Math;function g(it,ot,st,at,lt,ut){var ct=it*at+ot*lt+st*ut-lt*at-ut*it-st*ot;return ct>-.001&&ct<.001}var b=function(it,ot,st,at){var lt,ut,ct,ft,ht,dt,pt=getDefaultCurveSegments(),mt=0,gt=[],yt=[],_t=bezierLengthPool.newElement();for(ct=st.length,lt=0;lt<pt;lt+=1){for(ht=lt/(pt-1),dt=0,ut=0;ut<ct;ut+=1)ft=bmPow(1-ht,3)*it[ut]+3*bmPow(1-ht,2)*ht*st[ut]+3*(1-ht)*bmPow(ht,2)*at[ut]+bmPow(ht,3)*ot[ut],gt[ut]=ft,yt[ut]!==null&&(dt+=bmPow(gt[ut]-yt[ut],2)),yt[ut]=gt[ut];dt&&(mt+=dt=bmSqrt(dt)),_t.percents[lt]=ht,_t.lengths[lt]=mt}return _t.addedLength=mt,_t};function $(it){this.segmentLength=0,this.points=new Array(it)}function _e(it,ot){this.partialLength=it,this.point=ot}var et,tt=(et={},function(it,ot,st,at){var lt=(it[0]+"_"+it[1]+"_"+ot[0]+"_"+ot[1]+"_"+st[0]+"_"+st[1]+"_"+at[0]+"_"+at[1]).replace(/\./g,"p");if(!et[lt]){var ut,ct,ft,ht,dt,pt,mt,gt=getDefaultCurveSegments(),yt=0,_t=null;it.length===2&&(it[0]!==ot[0]||it[1]!==ot[1])&&g(it[0],it[1],ot[0],ot[1],it[0]+st[0],it[1]+st[1])&&g(it[0],it[1],ot[0],ot[1],ot[0]+at[0],ot[1]+at[1])&&(gt=2);var vt=new $(gt);for(ft=st.length,ut=0;ut<gt;ut+=1){for(mt=createSizedArray(ft),dt=ut/(gt-1),pt=0,ct=0;ct<ft;ct+=1)ht=bmPow(1-dt,3)*it[ct]+3*bmPow(1-dt,2)*dt*(it[ct]+st[ct])+3*(1-dt)*bmPow(dt,2)*(ot[ct]+at[ct])+bmPow(dt,3)*ot[ct],mt[ct]=ht,_t!==null&&(pt+=bmPow(mt[ct]-_t[ct],2));yt+=pt=bmSqrt(pt),vt.points[ut]=new _e(pt,mt),_t=mt}vt.segmentLength=yt,et[lt]=vt}return et[lt]});function nt(it,ot){var st=ot.percents,at=ot.lengths,lt=st.length,ut=bmFloor((lt-1)*it),ct=it*ot.addedLength,ft=0;if(ut===lt-1||ut===0||ct===at[ut])return st[ut];for(var ht=at[ut]>ct?-1:1,dt=!0;dt;)if(at[ut]<=ct&&at[ut+1]>ct?(ft=(ct-at[ut])/(at[ut+1]-at[ut]),dt=!1):ut+=ht,ut<0||ut>=lt-1){if(ut===lt-1)return st[ut];dt=!1}return st[ut]+(st[ut+1]-st[ut])*ft}var rt=createTypedArray("float32",8);return{getSegmentsLength:function(it){var ot,st=segmentsLengthPool.newElement(),at=it.c,lt=it.v,ut=it.o,ct=it.i,ft=it._length,ht=st.lengths,dt=0;for(ot=0;ot<ft-1;ot+=1)ht[ot]=b(lt[ot],lt[ot+1],ut[ot],ct[ot+1]),dt+=ht[ot].addedLength;return at&&ft&&(ht[ot]=b(lt[ot],lt[0],ut[ot],ct[0]),dt+=ht[ot].addedLength),st.totalLength=dt,st},getNewSegment:function(it,ot,st,at,lt,ut,ct){lt<0?lt=0:lt>1&&(lt=1);var ft,ht=nt(lt,ct),dt=nt(ut=ut>1?1:ut,ct),pt=it.length,mt=1-ht,gt=1-dt,yt=mt*mt*mt,_t=ht*mt*mt*3,vt=ht*ht*mt*3,At=ht*ht*ht,bt=mt*mt*gt,xt=ht*mt*gt+mt*ht*gt+mt*mt*dt,Et=ht*ht*gt+mt*ht*dt+ht*mt*dt,Mt=ht*ht*dt,Tt=mt*gt*gt,Lt=ht*gt*gt+mt*dt*gt+mt*gt*dt,Ot=ht*dt*gt+mt*dt*dt+ht*gt*dt,Rt=ht*dt*dt,Ct=gt*gt*gt,Dt=dt*gt*gt+gt*dt*gt+gt*gt*dt,Bt=dt*dt*gt+gt*dt*dt+dt*gt*dt,kt=dt*dt*dt;for(ft=0;ft<pt;ft+=1)rt[4*ft]=j.round(1e3*(yt*it[ft]+_t*st[ft]+vt*at[ft]+At*ot[ft]))/1e3,rt[4*ft+1]=j.round(1e3*(bt*it[ft]+xt*st[ft]+Et*at[ft]+Mt*ot[ft]))/1e3,rt[4*ft+2]=j.round(1e3*(Tt*it[ft]+Lt*st[ft]+Ot*at[ft]+Rt*ot[ft]))/1e3,rt[4*ft+3]=j.round(1e3*(Ct*it[ft]+Dt*st[ft]+Bt*at[ft]+kt*ot[ft]))/1e3;return rt},getPointInSegment:function(it,ot,st,at,lt,ut){var ct=nt(lt,ut),ft=1-ct;return[j.round(1e3*(ft*ft*ft*it[0]+(ct*ft*ft+ft*ct*ft+ft*ft*ct)*st[0]+(ct*ct*ft+ft*ct*ct+ct*ft*ct)*at[0]+ct*ct*ct*ot[0]))/1e3,j.round(1e3*(ft*ft*ft*it[1]+(ct*ft*ft+ft*ct*ft+ft*ft*ct)*st[1]+(ct*ct*ft+ft*ct*ct+ct*ft*ct)*at[1]+ct*ct*ct*ot[1]))/1e3]},buildBezierData:tt,pointOnLine2D:g,pointOnLine3D:function(it,ot,st,at,lt,ut,ct,ft,ht){if(st===0&&ut===0&&ht===0)return g(it,ot,at,lt,ct,ft);var dt,pt=j.sqrt(j.pow(at-it,2)+j.pow(lt-ot,2)+j.pow(ut-st,2)),mt=j.sqrt(j.pow(ct-it,2)+j.pow(ft-ot,2)+j.pow(ht-st,2)),gt=j.sqrt(j.pow(ct-at,2)+j.pow(ft-lt,2)+j.pow(ht-ut,2));return(dt=pt>mt?pt>gt?pt-mt-gt:gt-mt-pt:gt>mt?gt-mt-pt:mt-pt-gt)>-1e-4&&dt<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var j=initialDefaultFrame,g=Math.abs;function b(at,lt){var ut,ct=this.offsetTime;this.propType==="multidimensional"&&(ut=createTypedArray("float32",this.pv.length));for(var ft,ht,dt,pt,mt,gt,yt,_t,vt,At=lt.lastIndex,bt=At,xt=this.keyframes.length-1,Et=!0;Et;){if(ft=this.keyframes[bt],ht=this.keyframes[bt+1],bt===xt-1&&at>=ht.t-ct){ft.h&&(ft=ht),At=0;break}if(ht.t-ct>at){At=bt;break}bt<xt-1?bt+=1:(At=0,Et=!1)}dt=this.keyframesMetadata[bt]||{};var Mt,Tt,Lt,Ot,Rt,Ct,Dt,Bt,kt,zt,Ft=ht.t-ct,It=ft.t-ct;if(ft.to){dt.bezierData||(dt.bezierData=bez.buildBezierData(ft.s,ht.s||ft.e,ft.to,ft.ti));var Ut=dt.bezierData;if(at>=Ft||at<It){var Gt=at>=Ft?Ut.points.length-1:0;for(mt=Ut.points[Gt].point.length,pt=0;pt<mt;pt+=1)ut[pt]=Ut.points[Gt].point[pt]}else{dt.__fnct?vt=dt.__fnct:(vt=BezierFactory.getBezierEasing(ft.o.x,ft.o.y,ft.i.x,ft.i.y,ft.n).get,dt.__fnct=vt),gt=vt((at-It)/(Ft-It));var jt,Yt=Ut.segmentLength*gt,Qt=lt.lastFrame<at&&lt._lastKeyframeIndex===bt?lt._lastAddedLength:0;for(_t=lt.lastFrame<at&&lt._lastKeyframeIndex===bt?lt._lastPoint:0,Et=!0,yt=Ut.points.length;Et;){if(Qt+=Ut.points[_t].partialLength,Yt===0||gt===0||_t===Ut.points.length-1){for(mt=Ut.points[_t].point.length,pt=0;pt<mt;pt+=1)ut[pt]=Ut.points[_t].point[pt];break}if(Yt>=Qt&&Yt<Qt+Ut.points[_t+1].partialLength){for(jt=(Yt-Qt)/Ut.points[_t+1].partialLength,mt=Ut.points[_t].point.length,pt=0;pt<mt;pt+=1)ut[pt]=Ut.points[_t].point[pt]+(Ut.points[_t+1].point[pt]-Ut.points[_t].point[pt])*jt;break}_t<yt-1?_t+=1:Et=!1}lt._lastPoint=_t,lt._lastAddedLength=Qt-Ut.points[_t].partialLength,lt._lastKeyframeIndex=bt}}else{var ln,Zt,Wt,qt,Xt;if(xt=ft.s.length,Mt=ht.s||ft.e,this.sh&&ft.h!==1)if(at>=Ft)ut[0]=Mt[0],ut[1]=Mt[1],ut[2]=Mt[2];else if(at<=It)ut[0]=ft.s[0],ut[1]=ft.s[1],ut[2]=ft.s[2];else{var vn=$(ft.s),gn=$(Mt);Tt=ut,Lt=function(en,hn,rn){var un,Nt,Vt,cn,dn,mn=[],bn=en[0],Cn=en[1],an=en[2],Tn=en[3],Dn=hn[0],Sn=hn[1],Ln=hn[2],nn=hn[3];return(Nt=bn*Dn+Cn*Sn+an*Ln+Tn*nn)<0&&(Nt=-Nt,Dn=-Dn,Sn=-Sn,Ln=-Ln,nn=-nn),1-Nt>1e-6?(un=Math.acos(Nt),Vt=Math.sin(un),cn=Math.sin((1-rn)*un)/Vt,dn=Math.sin(rn*un)/Vt):(cn=1-rn,dn=rn),mn[0]=cn*bn+dn*Dn,mn[1]=cn*Cn+dn*Sn,mn[2]=cn*an+dn*Ln,mn[3]=cn*Tn+dn*nn,mn}(vn,gn,(at-It)/(Ft-It)),Ot=Lt[0],Rt=Lt[1],Ct=Lt[2],Dt=Lt[3],Bt=Math.atan2(2*Rt*Dt-2*Ot*Ct,1-2*Rt*Rt-2*Ct*Ct),kt=Math.asin(2*Ot*Rt+2*Ct*Dt),zt=Math.atan2(2*Ot*Dt-2*Rt*Ct,1-2*Ot*Ot-2*Ct*Ct),Tt[0]=Bt/degToRads,Tt[1]=kt/degToRads,Tt[2]=zt/degToRads}else for(bt=0;bt<xt;bt+=1)ft.h!==1&&(at>=Ft?gt=1:at<It?gt=0:(ft.o.x.constructor===Array?(dt.__fnct||(dt.__fnct=[]),dt.__fnct[bt]?vt=dt.__fnct[bt]:(ln=ft.o.x[bt]===void 0?ft.o.x[0]:ft.o.x[bt],Zt=ft.o.y[bt]===void 0?ft.o.y[0]:ft.o.y[bt],Wt=ft.i.x[bt]===void 0?ft.i.x[0]:ft.i.x[bt],qt=ft.i.y[bt]===void 0?ft.i.y[0]:ft.i.y[bt],vt=BezierFactory.getBezierEasing(ln,Zt,Wt,qt).get,dt.__fnct[bt]=vt)):dt.__fnct?vt=dt.__fnct:(ln=ft.o.x,Zt=ft.o.y,Wt=ft.i.x,qt=ft.i.y,vt=BezierFactory.getBezierEasing(ln,Zt,Wt,qt).get,ft.keyframeMetadata=vt),gt=vt((at-It)/(Ft-It)))),Mt=ht.s||ft.e,Xt=ft.h===1?ft.s[bt]:ft.s[bt]+(Mt[bt]-ft.s[bt])*gt,this.propType==="multidimensional"?ut[bt]=Xt:ut=Xt}return lt.lastIndex=At,ut}function $(at){var lt=at[0]*degToRads,ut=at[1]*degToRads,ct=at[2]*degToRads,ft=Math.cos(lt/2),ht=Math.cos(ut/2),dt=Math.cos(ct/2),pt=Math.sin(lt/2),mt=Math.sin(ut/2),gt=Math.sin(ct/2);return[pt*mt*dt+ft*ht*gt,pt*ht*dt+ft*mt*gt,ft*mt*dt-pt*ht*gt,ft*ht*dt-pt*mt*gt]}function _e(){var at=this.comp.renderedFrame-this.offsetTime,lt=this.keyframes[0].t-this.offsetTime,ut=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(at===this._caching.lastFrame||this._caching.lastFrame!==j&&(this._caching.lastFrame>=ut&&at>=ut||this._caching.lastFrame<lt&&at<lt))){this._caching.lastFrame>=at&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var ct=this.interpolateValue(at,this._caching);this.pv=ct}return this._caching.lastFrame=at,this.pv}function et(at){var lt;if(this.propType==="unidimensional")lt=at*this.mult,g(this.v-lt)>1e-5&&(this.v=lt,this._mdf=!0);else for(var ut=0,ct=this.v.length;ut<ct;)lt=at[ut]*this.mult,g(this.v[ut]-lt)>1e-5&&(this.v[ut]=lt,this._mdf=!0),ut+=1}function tt(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var at;this.lock=!0,this._mdf=this._isFirstFrame;var lt=this.effectsSequence.length,ut=this.kf?this.pv:this.data.k;for(at=0;at<lt;at+=1)ut=this.effectsSequence[at](ut);this.setVValue(ut),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function nt(at){this.effectsSequence.push(at),this.container.addDynamicProperty(this)}function rt(at,lt,ut,ct){this.propType="unidimensional",this.mult=ut||1,this.data=lt,this.v=ut?lt.k*ut:lt.k,this.pv=lt.k,this._mdf=!1,this.elem=at,this.container=ct,this.comp=at.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=tt,this.setVValue=et,this.addEffect=nt}function it(at,lt,ut,ct){var ft;this.propType="multidimensional",this.mult=ut||1,this.data=lt,this._mdf=!1,this.elem=at,this.container=ct,this.comp=at.comp,this.k=!1,this.kf=!1,this.frameId=-1;var ht=lt.k.length;for(this.v=createTypedArray("float32",ht),this.pv=createTypedArray("float32",ht),this.vel=createTypedArray("float32",ht),ft=0;ft<ht;ft+=1)this.v[ft]=lt.k[ft]*this.mult,this.pv[ft]=lt.k[ft];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=tt,this.setVValue=et,this.addEffect=nt}function ot(at,lt,ut,ct){this.propType="unidimensional",this.keyframes=lt.k,this.keyframesMetadata=[],this.offsetTime=at.data.st,this.frameId=-1,this._caching={lastFrame:j,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=lt,this.mult=ut||1,this.elem=at,this.container=ct,this.comp=at.comp,this.v=j,this.pv=j,this._isFirstFrame=!0,this.getValue=tt,this.setVValue=et,this.interpolateValue=b,this.effectsSequence=[_e.bind(this)],this.addEffect=nt}function st(at,lt,ut,ct){var ft;this.propType="multidimensional";var ht,dt,pt,mt,gt=lt.k.length;for(ft=0;ft<gt-1;ft+=1)lt.k[ft].to&&lt.k[ft].s&&lt.k[ft+1]&&lt.k[ft+1].s&&(ht=lt.k[ft].s,dt=lt.k[ft+1].s,pt=lt.k[ft].to,mt=lt.k[ft].ti,(ht.length===2&&(ht[0]!==dt[0]||ht[1]!==dt[1])&&bez.pointOnLine2D(ht[0],ht[1],dt[0],dt[1],ht[0]+pt[0],ht[1]+pt[1])&&bez.pointOnLine2D(ht[0],ht[1],dt[0],dt[1],dt[0]+mt[0],dt[1]+mt[1])||ht.length===3&&(ht[0]!==dt[0]||ht[1]!==dt[1]||ht[2]!==dt[2])&&bez.pointOnLine3D(ht[0],ht[1],ht[2],dt[0],dt[1],dt[2],ht[0]+pt[0],ht[1]+pt[1],ht[2]+pt[2])&&bez.pointOnLine3D(ht[0],ht[1],ht[2],dt[0],dt[1],dt[2],dt[0]+mt[0],dt[1]+mt[1],dt[2]+mt[2]))&&(lt.k[ft].to=null,lt.k[ft].ti=null),ht[0]===dt[0]&&ht[1]===dt[1]&&pt[0]===0&&pt[1]===0&&mt[0]===0&&mt[1]===0&&(ht.length===2||ht[2]===dt[2]&&pt[2]===0&&mt[2]===0)&&(lt.k[ft].to=null,lt.k[ft].ti=null));this.effectsSequence=[_e.bind(this)],this.data=lt,this.keyframes=lt.k,this.keyframesMetadata=[],this.offsetTime=at.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=ut||1,this.elem=at,this.container=ct,this.comp=at.comp,this.getValue=tt,this.setVValue=et,this.interpolateValue=b,this.frameId=-1;var yt=lt.k[0].s.length;for(this.v=createTypedArray("float32",yt),this.pv=createTypedArray("float32",yt),ft=0;ft<yt;ft+=1)this.v[ft]=j,this.pv[ft]=j;this._caching={lastFrame:j,lastIndex:0,value:createTypedArray("float32",yt)},this.addEffect=nt}return{getProp:function(at,lt,ut,ct,ft){var ht;if(lt.k.length)if(typeof lt.k[0]=="number")ht=new it(at,lt,ct,ft);else switch(ut){case 0:ht=new ot(at,lt,ct,ft);break;case 1:ht=new st(at,lt,ct,ft)}else ht=new rt(at,lt,ct,ft);return ht.effectsSequence.length&&ft.addDynamicProperty(ht),ht}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(j){this.dynamicProperties.indexOf(j)===-1&&(this.dynamicProperties.push(j),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var j;this._mdf=!1;var g=this.dynamicProperties.length;for(j=0;j<g;j+=1)this.dynamicProperties[j].getValue(),this.dynamicProperties[j]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(j){this.container=j,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(j,g){this.c=j,this.setLength(g);for(var b=0;b<g;)this.v[b]=pointPool.newElement(),this.o[b]=pointPool.newElement(),this.i[b]=pointPool.newElement(),b+=1},ShapePath.prototype.setLength=function(j){for(;this._maxLength<j;)this.doubleArrayLength();this._length=j},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(j,g,b,$,_e){var et;switch(this._length=Math.max(this._length,$+1),this._length>=this._maxLength&&this.doubleArrayLength(),b){case"v":et=this.v;break;case"i":et=this.i;break;case"o":et=this.o;break;default:et=[]}(!et[$]||et[$]&&!_e)&&(et[$]=pointPool.newElement()),et[$][0]=j,et[$][1]=g},ShapePath.prototype.setTripleAt=function(j,g,b,$,_e,et,tt,nt){this.setXYAt(j,g,"v",tt,nt),this.setXYAt(b,$,"o",tt,nt),this.setXYAt(_e,et,"i",tt,nt)},ShapePath.prototype.reverse=function(){var j=new ShapePath;j.setPathData(this.c,this._length);var g=this.v,b=this.o,$=this.i,_e=0;this.c&&(j.setTripleAt(g[0][0],g[0][1],$[0][0],$[0][1],b[0][0],b[0][1],0,!1),_e=1);var et,tt=this._length-1,nt=this._length;for(et=_e;et<nt;et+=1)j.setTripleAt(g[tt][0],g[tt][1],$[tt][0],$[tt][1],b[tt][0],b[tt][1],et,!1),tt-=1;return j};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(j){var g,b=j._length;for(g=0;g<b;g+=1)pointPool.release(j.v[g]),pointPool.release(j.i[g]),pointPool.release(j.o[g]),j.v[g]=null,j.i[g]=null,j.o[g]=null;j._length=0,j.c=!1}),factory.clone=function(j){var g,b=factory.newElement(),$=j._length===void 0?j.v.length:j._length;for(b.setLength($),b.c=j.c,g=0;g<$;g+=1)b.setTripleAt(j.v[g][0],j.v[g][1],j.o[g][0],j.o[g][1],j.i[g][0],j.i[g][1],g);return b},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(j){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=j,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var j;for(j=0;j<this._length;j+=1)shapePool.release(this.shapes[j]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(j){var g,b=j._length;for(g=0;g<b;g+=1)shapePool.release(j.shapes[g]);j._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=j,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var j=-999999;function g(lt,ut,ct){var ft,ht,dt,pt,mt,gt,yt,_t,vt,At=ct.lastIndex,bt=this.keyframes;if(lt<bt[0].t-this.offsetTime)ft=bt[0].s[0],dt=!0,At=0;else if(lt>=bt[bt.length-1].t-this.offsetTime)ft=bt[bt.length-1].s?bt[bt.length-1].s[0]:bt[bt.length-2].e[0],dt=!0;else{for(var xt,Et,Mt,Tt=At,Lt=bt.length-1,Ot=!0;Ot&&(xt=bt[Tt],!((Et=bt[Tt+1]).t-this.offsetTime>lt));)Tt<Lt-1?Tt+=1:Ot=!1;if(Mt=this.keyframesMetadata[Tt]||{},At=Tt,!(dt=xt.h===1)){if(lt>=Et.t-this.offsetTime)_t=1;else if(lt<xt.t-this.offsetTime)_t=0;else{var Rt;Mt.__fnct?Rt=Mt.__fnct:(Rt=BezierFactory.getBezierEasing(xt.o.x,xt.o.y,xt.i.x,xt.i.y).get,Mt.__fnct=Rt),_t=Rt((lt-(xt.t-this.offsetTime))/(Et.t-this.offsetTime-(xt.t-this.offsetTime)))}ht=Et.s?Et.s[0]:xt.e[0]}ft=xt.s[0]}for(gt=ut._length,yt=ft.i[0].length,ct.lastIndex=At,pt=0;pt<gt;pt+=1)for(mt=0;mt<yt;mt+=1)vt=dt?ft.i[pt][mt]:ft.i[pt][mt]+(ht.i[pt][mt]-ft.i[pt][mt])*_t,ut.i[pt][mt]=vt,vt=dt?ft.o[pt][mt]:ft.o[pt][mt]+(ht.o[pt][mt]-ft.o[pt][mt])*_t,ut.o[pt][mt]=vt,vt=dt?ft.v[pt][mt]:ft.v[pt][mt]+(ht.v[pt][mt]-ft.v[pt][mt])*_t,ut.v[pt][mt]=vt}function b(){var lt=this.comp.renderedFrame-this.offsetTime,ut=this.keyframes[0].t-this.offsetTime,ct=this.keyframes[this.keyframes.length-1].t-this.offsetTime,ft=this._caching.lastFrame;return ft!==j&&(ft<ut&&lt<ut||ft>ct&&lt>ct)||(this._caching.lastIndex=ft<lt?this._caching.lastIndex:0,this.interpolateShape(lt,this.pv,this._caching)),this._caching.lastFrame=lt,this.pv}function $(){this.paths=this.localShapeCollection}function _e(lt){(function(ut,ct){if(ut._length!==ct._length||ut.c!==ct.c)return!1;var ft,ht=ut._length;for(ft=0;ft<ht;ft+=1)if(ut.v[ft][0]!==ct.v[ft][0]||ut.v[ft][1]!==ct.v[ft][1]||ut.o[ft][0]!==ct.o[ft][0]||ut.o[ft][1]!==ct.o[ft][1]||ut.i[ft][0]!==ct.i[ft][0]||ut.i[ft][1]!==ct.i[ft][1])return!1;return!0})(this.v,lt)||(this.v=shapePool.clone(lt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function et(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var lt,ut;this.lock=!0,this._mdf=!1,lt=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var ct=this.effectsSequence.length;for(ut=0;ut<ct;ut+=1)lt=this.effectsSequence[ut](lt);this.setVValue(lt),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function tt(lt,ut,ct){this.propType="shape",this.comp=lt.comp,this.container=lt,this.elem=lt,this.data=ut,this.k=!1,this.kf=!1,this._mdf=!1;var ft=ct===3?ut.pt.k:ut.ks.k;this.v=shapePool.clone(ft),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=$,this.effectsSequence=[]}function nt(lt){this.effectsSequence.push(lt),this.container.addDynamicProperty(this)}function rt(lt,ut,ct){this.propType="shape",this.comp=lt.comp,this.elem=lt,this.container=lt,this.offsetTime=lt.data.st,this.keyframes=ct===3?ut.pt.k:ut.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var ft=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,ft),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=j,this.reset=$,this._caching={lastFrame:j,lastIndex:0},this.effectsSequence=[b.bind(this)]}tt.prototype.interpolateShape=g,tt.prototype.getValue=et,tt.prototype.setVValue=_e,tt.prototype.addEffect=nt,rt.prototype.getValue=et,rt.prototype.interpolateShape=g,rt.prototype.setVValue=_e,rt.prototype.addEffect=nt;var it=function(){var lt=roundCorner;function ut(ct,ft){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=ft.d,this.elem=ct,this.comp=ct.comp,this.frameId=-1,this.initDynamicPropertyContainer(ct),this.p=PropertyFactory.getProp(ct,ft.p,1,0,this),this.s=PropertyFactory.getProp(ct,ft.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return ut.prototype={reset:$,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var ct=this.p.v[0],ft=this.p.v[1],ht=this.s.v[0]/2,dt=this.s.v[1]/2,pt=this.d!==3,mt=this.v;mt.v[0][0]=ct,mt.v[0][1]=ft-dt,mt.v[1][0]=pt?ct+ht:ct-ht,mt.v[1][1]=ft,mt.v[2][0]=ct,mt.v[2][1]=ft+dt,mt.v[3][0]=pt?ct-ht:ct+ht,mt.v[3][1]=ft,mt.i[0][0]=pt?ct-ht*lt:ct+ht*lt,mt.i[0][1]=ft-dt,mt.i[1][0]=pt?ct+ht:ct-ht,mt.i[1][1]=ft-dt*lt,mt.i[2][0]=pt?ct+ht*lt:ct-ht*lt,mt.i[2][1]=ft+dt,mt.i[3][0]=pt?ct-ht:ct+ht,mt.i[3][1]=ft+dt*lt,mt.o[0][0]=pt?ct+ht*lt:ct-ht*lt,mt.o[0][1]=ft-dt,mt.o[1][0]=pt?ct+ht:ct-ht,mt.o[1][1]=ft+dt*lt,mt.o[2][0]=pt?ct-ht*lt:ct+ht*lt,mt.o[2][1]=ft+dt,mt.o[3][0]=pt?ct-ht:ct+ht,mt.o[3][1]=ft-dt*lt}},extendPrototype([DynamicPropertyContainer],ut),ut}(),ot=function(){function lt(ut,ct){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=ut,this.comp=ut.comp,this.data=ct,this.frameId=-1,this.d=ct.d,this.initDynamicPropertyContainer(ut),ct.sy===1?(this.ir=PropertyFactory.getProp(ut,ct.ir,0,0,this),this.is=PropertyFactory.getProp(ut,ct.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(ut,ct.pt,0,0,this),this.p=PropertyFactory.getProp(ut,ct.p,1,0,this),this.r=PropertyFactory.getProp(ut,ct.r,0,degToRads,this),this.or=PropertyFactory.getProp(ut,ct.or,0,0,this),this.os=PropertyFactory.getProp(ut,ct.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return lt.prototype={reset:$,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ut,ct,ft,ht,dt=2*Math.floor(this.pt.v),pt=2*Math.PI/dt,mt=!0,gt=this.or.v,yt=this.ir.v,_t=this.os.v,vt=this.is.v,At=2*Math.PI*gt/(2*dt),bt=2*Math.PI*yt/(2*dt),xt=-Math.PI/2;xt+=this.r.v;var Et=this.data.d===3?-1:1;for(this.v._length=0,ut=0;ut<dt;ut+=1){ft=mt?_t:vt,ht=mt?At:bt;var Mt=(ct=mt?gt:yt)*Math.cos(xt),Tt=ct*Math.sin(xt),Lt=Mt===0&&Tt===0?0:Tt/Math.sqrt(Mt*Mt+Tt*Tt),Ot=Mt===0&&Tt===0?0:-Mt/Math.sqrt(Mt*Mt+Tt*Tt);Mt+=+this.p.v[0],Tt+=+this.p.v[1],this.v.setTripleAt(Mt,Tt,Mt-Lt*ht*ft*Et,Tt-Ot*ht*ft*Et,Mt+Lt*ht*ft*Et,Tt+Ot*ht*ft*Et,ut,!0),mt=!mt,xt+=pt*Et}},convertPolygonToPath:function(){var ut,ct=Math.floor(this.pt.v),ft=2*Math.PI/ct,ht=this.or.v,dt=this.os.v,pt=2*Math.PI*ht/(4*ct),mt=.5*-Math.PI,gt=this.data.d===3?-1:1;for(mt+=this.r.v,this.v._length=0,ut=0;ut<ct;ut+=1){var yt=ht*Math.cos(mt),_t=ht*Math.sin(mt),vt=yt===0&&_t===0?0:_t/Math.sqrt(yt*yt+_t*_t),At=yt===0&&_t===0?0:-yt/Math.sqrt(yt*yt+_t*_t);yt+=+this.p.v[0],_t+=+this.p.v[1],this.v.setTripleAt(yt,_t,yt-vt*pt*dt*gt,_t-At*pt*dt*gt,yt+vt*pt*dt*gt,_t+At*pt*dt*gt,ut,!0),mt+=ft*gt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],lt),lt}(),st=function(){function lt(ut,ct){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=ut,this.comp=ut.comp,this.frameId=-1,this.d=ct.d,this.initDynamicPropertyContainer(ut),this.p=PropertyFactory.getProp(ut,ct.p,1,0,this),this.s=PropertyFactory.getProp(ut,ct.s,1,0,this),this.r=PropertyFactory.getProp(ut,ct.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return lt.prototype={convertRectToPath:function(){var ut=this.p.v[0],ct=this.p.v[1],ft=this.s.v[0]/2,ht=this.s.v[1]/2,dt=bmMin(ft,ht,this.r.v),pt=dt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(ut+ft,ct-ht+dt,ut+ft,ct-ht+dt,ut+ft,ct-ht+pt,0,!0),this.v.setTripleAt(ut+ft,ct+ht-dt,ut+ft,ct+ht-pt,ut+ft,ct+ht-dt,1,!0),dt!==0?(this.v.setTripleAt(ut+ft-dt,ct+ht,ut+ft-dt,ct+ht,ut+ft-pt,ct+ht,2,!0),this.v.setTripleAt(ut-ft+dt,ct+ht,ut-ft+pt,ct+ht,ut-ft+dt,ct+ht,3,!0),this.v.setTripleAt(ut-ft,ct+ht-dt,ut-ft,ct+ht-dt,ut-ft,ct+ht-pt,4,!0),this.v.setTripleAt(ut-ft,ct-ht+dt,ut-ft,ct-ht+pt,ut-ft,ct-ht+dt,5,!0),this.v.setTripleAt(ut-ft+dt,ct-ht,ut-ft+dt,ct-ht,ut-ft+pt,ct-ht,6,!0),this.v.setTripleAt(ut+ft-dt,ct-ht,ut+ft-pt,ct-ht,ut+ft-dt,ct-ht,7,!0)):(this.v.setTripleAt(ut-ft,ct+ht,ut-ft+pt,ct+ht,ut-ft,ct+ht,2),this.v.setTripleAt(ut-ft,ct-ht,ut-ft,ct-ht+pt,ut-ft,ct-ht,3))):(this.v.setTripleAt(ut+ft,ct-ht+dt,ut+ft,ct-ht+pt,ut+ft,ct-ht+dt,0,!0),dt!==0?(this.v.setTripleAt(ut+ft-dt,ct-ht,ut+ft-dt,ct-ht,ut+ft-pt,ct-ht,1,!0),this.v.setTripleAt(ut-ft+dt,ct-ht,ut-ft+pt,ct-ht,ut-ft+dt,ct-ht,2,!0),this.v.setTripleAt(ut-ft,ct-ht+dt,ut-ft,ct-ht+dt,ut-ft,ct-ht+pt,3,!0),this.v.setTripleAt(ut-ft,ct+ht-dt,ut-ft,ct+ht-pt,ut-ft,ct+ht-dt,4,!0),this.v.setTripleAt(ut-ft+dt,ct+ht,ut-ft+dt,ct+ht,ut-ft+pt,ct+ht,5,!0),this.v.setTripleAt(ut+ft-dt,ct+ht,ut+ft-pt,ct+ht,ut+ft-dt,ct+ht,6,!0),this.v.setTripleAt(ut+ft,ct+ht-dt,ut+ft,ct+ht-dt,ut+ft,ct+ht-pt,7,!0)):(this.v.setTripleAt(ut-ft,ct-ht,ut-ft+pt,ct-ht,ut-ft,ct-ht,1,!0),this.v.setTripleAt(ut-ft,ct+ht,ut-ft,ct+ht-pt,ut-ft,ct+ht,2,!0),this.v.setTripleAt(ut+ft,ct+ht,ut+ft-pt,ct+ht,ut+ft,ct+ht,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:$},extendPrototype([DynamicPropertyContainer],lt),lt}(),at={getShapeProp:function(lt,ut,ct){var ft;return ct===3||ct===4?ft=(ct===3?ut.pt:ut.ks).k.length?new rt(lt,ut,ct):new tt(lt,ut,ct):ct===5?ft=new st(lt,ut):ct===6?ft=new it(lt,ut):ct===7&&(ft=new ot(lt,ut)),ft.k&&lt.addDynamicProperty(ft),ft},getConstructorFunction:function(){return tt},getKeyframedConstructorFunction:function(){return rt}};return at}(),Matrix=function(){var j=Math.cos,g=Math.sin,b=Math.tan,$=Math.round;function _e(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function et(Rt){if(Rt===0)return this;var Ct=j(Rt),Dt=g(Rt);return this._t(Ct,-Dt,0,0,Dt,Ct,0,0,0,0,1,0,0,0,0,1)}function tt(Rt){if(Rt===0)return this;var Ct=j(Rt),Dt=g(Rt);return this._t(1,0,0,0,0,Ct,-Dt,0,0,Dt,Ct,0,0,0,0,1)}function nt(Rt){if(Rt===0)return this;var Ct=j(Rt),Dt=g(Rt);return this._t(Ct,0,Dt,0,0,1,0,0,-Dt,0,Ct,0,0,0,0,1)}function rt(Rt){if(Rt===0)return this;var Ct=j(Rt),Dt=g(Rt);return this._t(Ct,-Dt,0,0,Dt,Ct,0,0,0,0,1,0,0,0,0,1)}function it(Rt,Ct){return this._t(1,Ct,Rt,1,0,0)}function ot(Rt,Ct){return this.shear(b(Rt),b(Ct))}function st(Rt,Ct){var Dt=j(Ct),Bt=g(Ct);return this._t(Dt,Bt,0,0,-Bt,Dt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,b(Rt),1,0,0,0,0,1,0,0,0,0,1)._t(Dt,-Bt,0,0,Bt,Dt,0,0,0,0,1,0,0,0,0,1)}function at(Rt,Ct,Dt){return Dt||Dt===0||(Dt=1),Rt===1&&Ct===1&&Dt===1?this:this._t(Rt,0,0,0,0,Ct,0,0,0,0,Dt,0,0,0,0,1)}function lt(Rt,Ct,Dt,Bt,kt,zt,Ft,It,Ut,Gt,jt,Yt,Qt,ln,Zt,Wt){return this.props[0]=Rt,this.props[1]=Ct,this.props[2]=Dt,this.props[3]=Bt,this.props[4]=kt,this.props[5]=zt,this.props[6]=Ft,this.props[7]=It,this.props[8]=Ut,this.props[9]=Gt,this.props[10]=jt,this.props[11]=Yt,this.props[12]=Qt,this.props[13]=ln,this.props[14]=Zt,this.props[15]=Wt,this}function ut(Rt,Ct,Dt){return Dt=Dt||0,Rt!==0||Ct!==0||Dt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Rt,Ct,Dt,1):this}function ct(Rt,Ct,Dt,Bt,kt,zt,Ft,It,Ut,Gt,jt,Yt,Qt,ln,Zt,Wt){var qt=this.props;if(Rt===1&&Ct===0&&Dt===0&&Bt===0&&kt===0&&zt===1&&Ft===0&&It===0&&Ut===0&&Gt===0&&jt===1&&Yt===0)return qt[12]=qt[12]*Rt+qt[15]*Qt,qt[13]=qt[13]*zt+qt[15]*ln,qt[14]=qt[14]*jt+qt[15]*Zt,qt[15]*=Wt,this._identityCalculated=!1,this;var Xt=qt[0],vn=qt[1],gn=qt[2],en=qt[3],hn=qt[4],rn=qt[5],un=qt[6],Nt=qt[7],Vt=qt[8],cn=qt[9],dn=qt[10],mn=qt[11],bn=qt[12],Cn=qt[13],an=qt[14],Tn=qt[15];return qt[0]=Xt*Rt+vn*kt+gn*Ut+en*Qt,qt[1]=Xt*Ct+vn*zt+gn*Gt+en*ln,qt[2]=Xt*Dt+vn*Ft+gn*jt+en*Zt,qt[3]=Xt*Bt+vn*It+gn*Yt+en*Wt,qt[4]=hn*Rt+rn*kt+un*Ut+Nt*Qt,qt[5]=hn*Ct+rn*zt+un*Gt+Nt*ln,qt[6]=hn*Dt+rn*Ft+un*jt+Nt*Zt,qt[7]=hn*Bt+rn*It+un*Yt+Nt*Wt,qt[8]=Vt*Rt+cn*kt+dn*Ut+mn*Qt,qt[9]=Vt*Ct+cn*zt+dn*Gt+mn*ln,qt[10]=Vt*Dt+cn*Ft+dn*jt+mn*Zt,qt[11]=Vt*Bt+cn*It+dn*Yt+mn*Wt,qt[12]=bn*Rt+Cn*kt+an*Ut+Tn*Qt,qt[13]=bn*Ct+Cn*zt+an*Gt+Tn*ln,qt[14]=bn*Dt+Cn*Ft+an*jt+Tn*Zt,qt[15]=bn*Bt+Cn*It+an*Yt+Tn*Wt,this._identityCalculated=!1,this}function ft(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function ht(Rt){for(var Ct=0;Ct<16;){if(Rt.props[Ct]!==this.props[Ct])return!1;Ct+=1}return!0}function dt(Rt){var Ct;for(Ct=0;Ct<16;Ct+=1)Rt.props[Ct]=this.props[Ct];return Rt}function pt(Rt){var Ct;for(Ct=0;Ct<16;Ct+=1)this.props[Ct]=Rt[Ct]}function mt(Rt,Ct,Dt){return{x:Rt*this.props[0]+Ct*this.props[4]+Dt*this.props[8]+this.props[12],y:Rt*this.props[1]+Ct*this.props[5]+Dt*this.props[9]+this.props[13],z:Rt*this.props[2]+Ct*this.props[6]+Dt*this.props[10]+this.props[14]}}function gt(Rt,Ct,Dt){return Rt*this.props[0]+Ct*this.props[4]+Dt*this.props[8]+this.props[12]}function yt(Rt,Ct,Dt){return Rt*this.props[1]+Ct*this.props[5]+Dt*this.props[9]+this.props[13]}function _t(Rt,Ct,Dt){return Rt*this.props[2]+Ct*this.props[6]+Dt*this.props[10]+this.props[14]}function vt(){var Rt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ct=this.props[5]/Rt,Dt=-this.props[1]/Rt,Bt=-this.props[4]/Rt,kt=this.props[0]/Rt,zt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Rt,Ft=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Rt,It=new Matrix;return It.props[0]=Ct,It.props[1]=Dt,It.props[4]=Bt,It.props[5]=kt,It.props[12]=zt,It.props[13]=Ft,It}function At(Rt){return this.getInverseMatrix().applyToPointArray(Rt[0],Rt[1],Rt[2]||0)}function bt(Rt){var Ct,Dt=Rt.length,Bt=[];for(Ct=0;Ct<Dt;Ct+=1)Bt[Ct]=At(Rt[Ct]);return Bt}function xt(Rt,Ct,Dt){var Bt=createTypedArray("float32",6);if(this.isIdentity())Bt[0]=Rt[0],Bt[1]=Rt[1],Bt[2]=Ct[0],Bt[3]=Ct[1],Bt[4]=Dt[0],Bt[5]=Dt[1];else{var kt=this.props[0],zt=this.props[1],Ft=this.props[4],It=this.props[5],Ut=this.props[12],Gt=this.props[13];Bt[0]=Rt[0]*kt+Rt[1]*Ft+Ut,Bt[1]=Rt[0]*zt+Rt[1]*It+Gt,Bt[2]=Ct[0]*kt+Ct[1]*Ft+Ut,Bt[3]=Ct[0]*zt+Ct[1]*It+Gt,Bt[4]=Dt[0]*kt+Dt[1]*Ft+Ut,Bt[5]=Dt[0]*zt+Dt[1]*It+Gt}return Bt}function Et(Rt,Ct,Dt){return this.isIdentity()?[Rt,Ct,Dt]:[Rt*this.props[0]+Ct*this.props[4]+Dt*this.props[8]+this.props[12],Rt*this.props[1]+Ct*this.props[5]+Dt*this.props[9]+this.props[13],Rt*this.props[2]+Ct*this.props[6]+Dt*this.props[10]+this.props[14]]}function Mt(Rt,Ct){if(this.isIdentity())return Rt+","+Ct;var Dt=this.props;return Math.round(100*(Rt*Dt[0]+Ct*Dt[4]+Dt[12]))/100+","+Math.round(100*(Rt*Dt[1]+Ct*Dt[5]+Dt[13]))/100}function Tt(){for(var Rt=0,Ct=this.props,Dt="matrix3d(";Rt<16;)Dt+=$(1e4*Ct[Rt])/1e4,Dt+=Rt===15?")":",",Rt+=1;return Dt}function Lt(Rt){return Rt<1e-6&&Rt>0||Rt>-1e-6&&Rt<0?$(1e4*Rt)/1e4:Rt}function Ot(){var Rt=this.props;return"matrix("+Lt(Rt[0])+","+Lt(Rt[1])+","+Lt(Rt[4])+","+Lt(Rt[5])+","+Lt(Rt[12])+","+Lt(Rt[13])+")"}return function(){this.reset=_e,this.rotate=et,this.rotateX=tt,this.rotateY=nt,this.rotateZ=rt,this.skew=ot,this.skewFromAxis=st,this.shear=it,this.scale=at,this.setTransform=lt,this.translate=ut,this.transform=ct,this.applyToPoint=mt,this.applyToX=gt,this.applyToY=yt,this.applyToZ=_t,this.applyToPointArray=Et,this.applyToTriplePoints=xt,this.applyToPointStringified=Mt,this.toCSS=Tt,this.to2dCSS=Ot,this.clone=dt,this.cloneFromProps=pt,this.equals=ht,this.inversePoints=bt,this.inversePoint=At,this.getInverseMatrix=vt,this._t=this.transform,this.isIdentity=ft,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(j){return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof$3(j)}var lottie={};function setLocation(j){setLocationHref(j)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(j){setSubframeEnabled(j)}function setPrefix(j){setIdPrefix(j)}function loadAnimation(j){return animationManager.loadAnimation(j)}function setQuality(j){if(typeof j=="string")switch(j){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(j)&&j>1&&setDefaultCurveSegments(j)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(j,g){j==="expressions"&&setExpressionsPlugin(g)}function getFactory(j){switch(j){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(j){for(var g=queryString.split("&"),b=0;b<g.length;b+=1){var $=g[b].split("=");if(decodeURIComponent($[0])==j)return decodeURIComponent($[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)==="object"&&!0||(window.bodymovin=lottie)}catch(j){}var ShapeModifiers=function(){var j={},g={};return j.registerModifier=function(b,$){g[b]||(g[b]=$)},j.getModifier=function(b,$,_e){return new g[b]($,_e)},j}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(j){if(!this.closed){j.sh.container.addDynamicProperty(j.sh);var g={shape:j.sh,data:j,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(g),this.addShapeToModifier(g),this._isAnimated&&j.setAsAnimated()}},ShapeModifier.prototype.init=function(j,g){this.shapes=[],this.elem=j,this.initDynamicPropertyContainer(j),this.initModifierProperties(j,g),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(j,g){this.s=PropertyFactory.getProp(j,g.s,0,.01,this),this.e=PropertyFactory.getProp(j,g.e,0,.01,this),this.o=PropertyFactory.getProp(j,g.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=g.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(j){j.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(j,g,b,$,_e){var et=[];g<=1?et.push({s:j,e:g}):j>=1?et.push({s:j-1,e:g-1}):(et.push({s:j,e:1}),et.push({s:0,e:g-1}));var tt,nt,rt=[],it=et.length;for(tt=0;tt<it;tt+=1){var ot,st;(nt=et[tt]).e*_e<$||nt.s*_e>$+b||(ot=nt.s*_e<=$?0:(nt.s*_e-$)/b,st=nt.e*_e>=$+b?1:(nt.e*_e-$)/b,rt.push([ot,st]))}return rt.length||rt.push([0,0]),rt},TrimModifier.prototype.releasePathsData=function(j){var g,b=j.length;for(g=0;g<b;g+=1)segmentsLengthPool.release(j[g]);return j.length=0,j},TrimModifier.prototype.processShapes=function(j){var g,b,$,_e;if(this._mdf||j){var et=this.o.v%360/360;if(et<0&&(et+=1),(g=this.s.v>1?1+et:this.s.v<0?0+et:this.s.v+et)>(b=this.e.v>1?1+et:this.e.v<0?0+et:this.e.v+et)){var tt=g;g=b,b=tt}g=1e-4*Math.round(1e4*g),b=1e-4*Math.round(1e4*b),this.sValue=g,this.eValue=b}else g=this.sValue,b=this.eValue;var nt,rt,it,ot,st,at=this.shapes.length,lt=0;if(b===g)for(_e=0;_e<at;_e+=1)this.shapes[_e].localShapeCollection.releaseShapes(),this.shapes[_e].shape._mdf=!0,this.shapes[_e].shape.paths=this.shapes[_e].localShapeCollection,this._mdf&&(this.shapes[_e].pathsData.length=0);else if(b===1&&g===0||b===0&&g===1){if(this._mdf)for(_e=0;_e<at;_e+=1)this.shapes[_e].pathsData.length=0,this.shapes[_e].shape._mdf=!0}else{var ut,ct,ft=[];for(_e=0;_e<at;_e+=1)if((ut=this.shapes[_e]).shape._mdf||this._mdf||j||this.m===2){if(rt=($=ut.shape.paths)._length,st=0,!ut.shape._mdf&&ut.pathsData.length)st=ut.totalShapeLength;else{for(it=this.releasePathsData(ut.pathsData),nt=0;nt<rt;nt+=1)ot=bez.getSegmentsLength($.shapes[nt]),it.push(ot),st+=ot.totalLength;ut.totalShapeLength=st,ut.pathsData=it}lt+=st,ut.shape._mdf=!0}else ut.shape.paths=ut.localShapeCollection;var ht,dt=g,pt=b,mt=0;for(_e=at-1;_e>=0;_e-=1)if((ut=this.shapes[_e]).shape._mdf){for((ct=ut.localShapeCollection).releaseShapes(),this.m===2&&at>1?(ht=this.calculateShapeEdges(g,b,ut.totalShapeLength,mt,lt),mt+=ut.totalShapeLength):ht=[[dt,pt]],rt=ht.length,nt=0;nt<rt;nt+=1){dt=ht[nt][0],pt=ht[nt][1],ft.length=0,pt<=1?ft.push({s:ut.totalShapeLength*dt,e:ut.totalShapeLength*pt}):dt>=1?ft.push({s:ut.totalShapeLength*(dt-1),e:ut.totalShapeLength*(pt-1)}):(ft.push({s:ut.totalShapeLength*dt,e:ut.totalShapeLength}),ft.push({s:0,e:ut.totalShapeLength*(pt-1)}));var gt=this.addShapes(ut,ft[0]);if(ft[0].s!==ft[0].e){if(ft.length>1)if(ut.shape.paths.shapes[ut.shape.paths._length-1].c){var yt=gt.pop();this.addPaths(gt,ct),gt=this.addShapes(ut,ft[1],yt)}else this.addPaths(gt,ct),gt=this.addShapes(ut,ft[1]);this.addPaths(gt,ct)}}ut.shape.paths=ct}}},TrimModifier.prototype.addPaths=function(j,g){var b,$=j.length;for(b=0;b<$;b+=1)g.addShape(j[b])},TrimModifier.prototype.addSegment=function(j,g,b,$,_e,et,tt){_e.setXYAt(g[0],g[1],"o",et),_e.setXYAt(b[0],b[1],"i",et+1),tt&&_e.setXYAt(j[0],j[1],"v",et),_e.setXYAt($[0],$[1],"v",et+1)},TrimModifier.prototype.addSegmentFromArray=function(j,g,b,$){g.setXYAt(j[1],j[5],"o",b),g.setXYAt(j[2],j[6],"i",b+1),$&&g.setXYAt(j[0],j[4],"v",b),g.setXYAt(j[3],j[7],"v",b+1)},TrimModifier.prototype.addShapes=function(j,g,b){var $,_e,et,tt,nt,rt,it,ot,st=j.pathsData,at=j.shape.paths.shapes,lt=j.shape.paths._length,ut=0,ct=[],ft=!0;for(b?(nt=b._length,ot=b._length):(b=shapePool.newElement(),nt=0,ot=0),ct.push(b),$=0;$<lt;$+=1){for(rt=st[$].lengths,b.c=at[$].c,et=at[$].c?rt.length:rt.length+1,_e=1;_e<et;_e+=1)if(ut+(tt=rt[_e-1]).addedLength<g.s)ut+=tt.addedLength,b.c=!1;else{if(ut>g.e){b.c=!1;break}g.s<=ut&&g.e>=ut+tt.addedLength?(this.addSegment(at[$].v[_e-1],at[$].o[_e-1],at[$].i[_e],at[$].v[_e],b,nt,ft),ft=!1):(it=bez.getNewSegment(at[$].v[_e-1],at[$].v[_e],at[$].o[_e-1],at[$].i[_e],(g.s-ut)/tt.addedLength,(g.e-ut)/tt.addedLength,rt[_e-1]),this.addSegmentFromArray(it,b,nt,ft),ft=!1,b.c=!1),ut+=tt.addedLength,nt+=1}if(at[$].c&&rt.length){if(tt=rt[_e-1],ut<=g.e){var ht=rt[_e-1].addedLength;g.s<=ut&&g.e>=ut+ht?(this.addSegment(at[$].v[_e-1],at[$].o[_e-1],at[$].i[0],at[$].v[0],b,nt,ft),ft=!1):(it=bez.getNewSegment(at[$].v[_e-1],at[$].v[0],at[$].o[_e-1],at[$].i[0],(g.s-ut)/ht,(g.e-ut)/ht,rt[_e-1]),this.addSegmentFromArray(it,b,nt,ft),ft=!1,b.c=!1)}else b.c=!1;ut+=tt.addedLength,nt+=1}if(b._length&&(b.setXYAt(b.v[ot][0],b.v[ot][1],"i",ot),b.setXYAt(b.v[b._length-1][0],b.v[b._length-1][1],"o",b._length-1)),ut>g.e)break;$<lt-1&&(b=shapePool.newElement(),ft=!0,ct.push(b),nt=0)}return ct},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(j,g){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(j,g.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(j,g){var b=g/100,$=[0,0],_e=j._length,et=0;for(et=0;et<_e;et+=1)$[0]+=j.v[et][0],$[1]+=j.v[et][1];$[0]/=_e,$[1]/=_e;var tt,nt,rt,it,ot,st,at=shapePool.newElement();for(at.c=j.c,et=0;et<_e;et+=1)tt=j.v[et][0]+($[0]-j.v[et][0])*b,nt=j.v[et][1]+($[1]-j.v[et][1])*b,rt=j.o[et][0]+($[0]-j.o[et][0])*-b,it=j.o[et][1]+($[1]-j.o[et][1])*-b,ot=j.i[et][0]+($[0]-j.i[et][0])*-b,st=j.i[et][1]+($[1]-j.i[et][1])*-b,at.setTripleAt(tt,nt,rt,it,ot,st,et);return at},PuckerAndBloatModifier.prototype.processShapes=function(j){var g,b,$,_e,et,tt,nt=this.shapes.length,rt=this.amount.v;if(rt!==0)for(b=0;b<nt;b+=1){if(tt=(et=this.shapes[b]).localShapeCollection,et.shape._mdf||this._mdf||j)for(tt.releaseShapes(),et.shape._mdf=!0,g=et.shape.paths.shapes,_e=et.shape.paths._length,$=0;$<_e;$+=1)tt.addShape(this.processPath(g[$],rt));et.shape.paths=et.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var j=[0,0];function g(b,$,_e){if(this.elem=b,this.frameId=-1,this.propType="transform",this.data=$,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(_e||b),$.p&&$.p.s?(this.px=PropertyFactory.getProp(b,$.p.x,0,0,this),this.py=PropertyFactory.getProp(b,$.p.y,0,0,this),$.p.z&&(this.pz=PropertyFactory.getProp(b,$.p.z,0,0,this))):this.p=PropertyFactory.getProp(b,$.p||{k:[0,0,0]},1,0,this),$.rx){if(this.rx=PropertyFactory.getProp(b,$.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(b,$.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(b,$.rz,0,degToRads,this),$.or.k[0].ti){var et,tt=$.or.k.length;for(et=0;et<tt;et+=1)$.or.k[et].to=null,$.or.k[et].ti=null}this.or=PropertyFactory.getProp(b,$.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(b,$.r||{k:0},0,degToRads,this);$.sk&&(this.sk=PropertyFactory.getProp(b,$.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(b,$.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(b,$.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(b,$.s||{k:[100,100,100]},1,.01,this),$.o?this.o=PropertyFactory.getProp(b,$.o,0,.01,b):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return g.prototype={applyToMatrix:function(b){var $=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||$,this.a&&b.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&b.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&b.skewFromAxis(-this.sk.v,this.sa.v),this.r?b.rotate(-this.r.v):b.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?b.translate(this.px.v,this.py.v,-this.pz.v):b.translate(this.px.v,this.py.v,0):b.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(b){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||b){var $;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var _e,et;if($=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(_e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/$,0),et=this.p.getValueAtTime(this.p.keyframes[0].t/$,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(_e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/$,0),et=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/$,0)):(_e=this.p.pv,et=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/$,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){_e=[],et=[];var tt=this.px,nt=this.py;tt._caching.lastFrame+tt.offsetTime<=tt.keyframes[0].t?(_e[0]=tt.getValueAtTime((tt.keyframes[0].t+.01)/$,0),_e[1]=nt.getValueAtTime((nt.keyframes[0].t+.01)/$,0),et[0]=tt.getValueAtTime(tt.keyframes[0].t/$,0),et[1]=nt.getValueAtTime(nt.keyframes[0].t/$,0)):tt._caching.lastFrame+tt.offsetTime>=tt.keyframes[tt.keyframes.length-1].t?(_e[0]=tt.getValueAtTime(tt.keyframes[tt.keyframes.length-1].t/$,0),_e[1]=nt.getValueAtTime(nt.keyframes[nt.keyframes.length-1].t/$,0),et[0]=tt.getValueAtTime((tt.keyframes[tt.keyframes.length-1].t-.01)/$,0),et[1]=nt.getValueAtTime((nt.keyframes[nt.keyframes.length-1].t-.01)/$,0)):(_e=[tt.pv,nt.pv],et[0]=tt.getValueAtTime((tt._caching.lastFrame+tt.offsetTime-.01)/$,tt.offsetTime),et[1]=nt.getValueAtTime((nt._caching.lastFrame+nt.offsetTime-.01)/$,nt.offsetTime))}else _e=et=j;this.v.rotate(-Math.atan2(_e[1]-et[1],_e[0]-et[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],g),g.prototype.addDynamicProperty=function(b){this._addDynamicProperty(b),this.elem.addDynamicProperty(b),this._isDirty=!0},g.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(b,$,_e){return new g(b,$,_e)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function getFontProperties(j){for(var g=j.fStyle?j.fStyle.split(" "):[],b="normal",$="normal",_e=g.length,et=0;et<_e;et+=1)switch(g[et].toLowerCase()){case"italic":$="italic";break;case"bold":b="700";break;case"black":b="900";break;case"medium":b="500";break;case"regular":case"normal":b="400";break;case"light":case"thin":b="200"}return{style:$,weight:j.fWeight||b}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(j,g){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(j,g.c,0,null,this),this.o=PropertyFactory.getProp(j,g.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(j,g.tr,this),this.so=PropertyFactory.getProp(j,g.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(j,g.tr.eo,0,.01,this),this.data=g,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(j,g,b,$,_e,et){var tt=et?-1:1,nt=$.s.v[0]+(1-$.s.v[0])*(1-_e),rt=$.s.v[1]+(1-$.s.v[1])*(1-_e);j.translate($.p.v[0]*tt*_e,$.p.v[1]*tt*_e,$.p.v[2]),g.translate(-$.a.v[0],-$.a.v[1],$.a.v[2]),g.rotate(-$.r.v*tt*_e),g.translate($.a.v[0],$.a.v[1],$.a.v[2]),b.translate(-$.a.v[0],-$.a.v[1],$.a.v[2]),b.scale(et?1/nt:nt,et?1/rt:rt),b.translate($.a.v[0],$.a.v[1],$.a.v[2])},RepeaterModifier.prototype.init=function(j,g,b,$){for(this.elem=j,this.arr=g,this.pos=b,this.elemsData=$,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(j),this.initModifierProperties(j,g[b]);b>0;)b-=1,this._elements.unshift(g[b]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(j){var g,b=j.length;for(g=0;g<b;g+=1)j[g]._processed=!1,j[g].ty==="gr"&&this.resetElements(j[g].it)},RepeaterModifier.prototype.cloneElements=function(j){var g=JSON.parse(JSON.stringify(j));return this.resetElements(g),g},RepeaterModifier.prototype.changeGroupRender=function(j,g){var b,$=j.length;for(b=0;b<$;b+=1)j[b]._render=g,j[b].ty==="gr"&&this.changeGroupRender(j[b].it,g)},RepeaterModifier.prototype.processShapes=function(j){var g,b,$,_e,et,tt=!1;if(this._mdf||j){var nt,rt=Math.ceil(this.c.v);if(this._groups.length<rt){for(;this._groups.length<rt;){var it={it:this.cloneElements(this._elements),ty:"gr"};it.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,it),this._groups.splice(0,0,it),this._currentCopies+=1}this.elem.reloadShapes(),tt=!0}for(et=0,$=0;$<=this._groups.length-1;$+=1){if(nt=et<rt,this._groups[$]._render=nt,this.changeGroupRender(this._groups[$].it,nt),!nt){var ot=this.elemsData[$].it,st=ot[ot.length-1];st.transform.op.v!==0?(st.transform.op._mdf=!0,st.transform.op.v=0):st.transform.op._mdf=!1}et+=1}this._currentCopies=rt;var at=this.o.v,lt=at%1,ut=at>0?Math.floor(at):Math.ceil(at),ct=this.pMatrix.props,ft=this.rMatrix.props,ht=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var dt,pt,mt=0;if(at>0){for(;mt<ut;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),mt+=1;lt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,lt,!1),mt+=lt)}else if(at<0){for(;mt>ut;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),mt-=1;lt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-lt,!0),mt-=lt)}for($=this.data.m===1?0:this._currentCopies-1,_e=this.data.m===1?1:-1,et=this._currentCopies;et;){if(pt=(b=(g=this.elemsData[$].it)[g.length-1].transform.mProps.v.props).length,g[g.length-1].transform.mProps._mdf=!0,g[g.length-1].transform.op._mdf=!0,g[g.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*($/(this._currentCopies-1)),mt!==0){for(($!==0&&_e===1||$!==this._currentCopies-1&&_e===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5],ft[6],ft[7],ft[8],ft[9],ft[10],ft[11],ft[12],ft[13],ft[14],ft[15]),this.matrix.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5],ht[6],ht[7],ht[8],ht[9],ht[10],ht[11],ht[12],ht[13],ht[14],ht[15]),this.matrix.transform(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5],ct[6],ct[7],ct[8],ct[9],ct[10],ct[11],ct[12],ct[13],ct[14],ct[15]),dt=0;dt<pt;dt+=1)b[dt]=this.matrix.props[dt];this.matrix.reset()}else for(this.matrix.reset(),dt=0;dt<pt;dt+=1)b[dt]=this.matrix.props[dt];mt+=1,et-=1,$+=_e}}else for(et=this._currentCopies,$=0,_e=1;et;)b=(g=this.elemsData[$].it)[g.length-1].transform.mProps.v.props,g[g.length-1].transform.mProps._mdf=!1,g[g.length-1].transform.op._mdf=!1,et-=1,$+=_e;return tt},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(j,g){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(j,g.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(j,g){var b,$=shapePool.newElement();$.c=j.c;var _e,et,tt,nt,rt,it,ot,st,at,lt,ut,ct,ft=j._length,ht=0;for(b=0;b<ft;b+=1)_e=j.v[b],tt=j.o[b],et=j.i[b],_e[0]===tt[0]&&_e[1]===tt[1]&&_e[0]===et[0]&&_e[1]===et[1]?b!==0&&b!==ft-1||j.c?(nt=b===0?j.v[ft-1]:j.v[b-1],it=(rt=Math.sqrt(Math.pow(_e[0]-nt[0],2)+Math.pow(_e[1]-nt[1],2)))?Math.min(rt/2,g)/rt:0,ot=ut=_e[0]+(nt[0]-_e[0])*it,st=ct=_e[1]-(_e[1]-nt[1])*it,at=ot-(ot-_e[0])*roundCorner,lt=st-(st-_e[1])*roundCorner,$.setTripleAt(ot,st,at,lt,ut,ct,ht),ht+=1,nt=b===ft-1?j.v[0]:j.v[b+1],it=(rt=Math.sqrt(Math.pow(_e[0]-nt[0],2)+Math.pow(_e[1]-nt[1],2)))?Math.min(rt/2,g)/rt:0,ot=at=_e[0]+(nt[0]-_e[0])*it,st=lt=_e[1]+(nt[1]-_e[1])*it,ut=ot-(ot-_e[0])*roundCorner,ct=st-(st-_e[1])*roundCorner,$.setTripleAt(ot,st,at,lt,ut,ct,ht),ht+=1):($.setTripleAt(_e[0],_e[1],tt[0],tt[1],et[0],et[1],ht),ht+=1):($.setTripleAt(j.v[b][0],j.v[b][1],j.o[b][0],j.o[b][1],j.i[b][0],j.i[b][1],ht),ht+=1);return $},RoundCornersModifier.prototype.processShapes=function(j){var g,b,$,_e,et,tt,nt=this.shapes.length,rt=this.rd.v;if(rt!==0)for(b=0;b<nt;b+=1){if(tt=(et=this.shapes[b]).localShapeCollection,et.shape._mdf||this._mdf||j)for(tt.releaseShapes(),et.shape._mdf=!0,g=et.shape.paths.shapes,_e=et.shape.paths._length,$=0;$<_e;$+=1)tt.addShape(this.processPath(g[$],rt));et.shape.paths=et.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var j={w:0,size:0,shapes:[],data:{shapes:[]}},g=[];g=g.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var b=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],$=[65039,8205];function _e(rt,it){var ot=createTag("span");ot.setAttribute("aria-hidden",!0),ot.style.fontFamily=it;var st=createTag("span");st.innerText="giItT1WQy@!-/#",ot.style.position="absolute",ot.style.left="-10000px",ot.style.top="-10000px",ot.style.fontSize="300px",ot.style.fontVariant="normal",ot.style.fontStyle="normal",ot.style.fontWeight="normal",ot.style.letterSpacing="0",ot.appendChild(st),document.body.appendChild(ot);var at=st.offsetWidth;return st.style.fontFamily=function(lt){var ut,ct=lt.split(","),ft=ct.length,ht=[];for(ut=0;ut<ft;ut+=1)ct[ut]!=="sans-serif"&&ct[ut]!=="monospace"&&ht.push(ct[ut]);return ht.join(",")}(rt)+", "+it,{node:st,w:at,parent:ot}}function et(rt,it){var ot,st=document.body&&it?"svg":"canvas",at=getFontProperties(rt);if(st==="svg"){var lt=createNS("text");lt.style.fontSize="100px",lt.setAttribute("font-family",rt.fFamily),lt.setAttribute("font-style",at.style),lt.setAttribute("font-weight",at.weight),lt.textContent="1",rt.fClass?(lt.style.fontFamily="inherit",lt.setAttribute("class",rt.fClass)):lt.style.fontFamily=rt.fFamily,it.appendChild(lt),ot=lt}else{var ut=new OffscreenCanvas(500,500).getContext("2d");ut.font=at.style+" "+at.weight+" 100px "+rt.fFamily,ot=ut}return{measureText:function(ct){return st==="svg"?(ot.textContent=ct,ot.getComputedTextLength()):ot.measureText(ct).width}}}var tt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};tt.isModifier=function(rt,it){var ot=rt.toString(16)+it.toString(16);return b.indexOf(ot)!==-1},tt.isZeroWidthJoiner=function(rt,it){return it?rt===$[0]&&it===$[1]:rt===$[1]},tt.isCombinedCharacter=function(rt){return g.indexOf(rt)!==-1};var nt={addChars:function(rt){if(rt){var it;this.chars||(this.chars=[]);var ot,st,at=rt.length,lt=this.chars.length;for(it=0;it<at;it+=1){for(ot=0,st=!1;ot<lt;)this.chars[ot].style===rt[it].style&&this.chars[ot].fFamily===rt[it].fFamily&&this.chars[ot].ch===rt[it].ch&&(st=!0),ot+=1;st||(this.chars.push(rt[it]),lt+=1)}}},addFonts:function(rt,it){if(rt){if(this.chars)return this.isLoaded=!0,void(this.fonts=rt.list);if(!document.body)return this.isLoaded=!0,rt.list.forEach(function(mt){mt.helper=et(mt),mt.cache={}}),void(this.fonts=rt.list);var ot,st=rt.list,at=st.length,lt=at;for(ot=0;ot<at;ot+=1){var ut,ct,ft=!0;if(st[ot].loaded=!1,st[ot].monoCase=_e(st[ot].fFamily,"monospace"),st[ot].sansCase=_e(st[ot].fFamily,"sans-serif"),st[ot].fPath){if(st[ot].fOrigin==="p"||st[ot].origin===3){if((ut=document.querySelectorAll('style[f-forigin="p"][f-family="'+st[ot].fFamily+'"], style[f-origin="3"][f-family="'+st[ot].fFamily+'"]')).length>0&&(ft=!1),ft){var ht=createTag("style");ht.setAttribute("f-forigin",st[ot].fOrigin),ht.setAttribute("f-origin",st[ot].origin),ht.setAttribute("f-family",st[ot].fFamily),ht.type="text/css",ht.innerText="@font-face {font-family: "+st[ot].fFamily+"; font-style: normal; src: url('"+st[ot].fPath+"');}",it.appendChild(ht)}}else if(st[ot].fOrigin==="g"||st[ot].origin===1){for(ut=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),ct=0;ct<ut.length;ct+=1)ut[ct].href.indexOf(st[ot].fPath)!==-1&&(ft=!1);if(ft){var dt=createTag("link");dt.setAttribute("f-forigin",st[ot].fOrigin),dt.setAttribute("f-origin",st[ot].origin),dt.type="text/css",dt.rel="stylesheet",dt.href=st[ot].fPath,document.body.appendChild(dt)}}else if(st[ot].fOrigin==="t"||st[ot].origin===2){for(ut=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),ct=0;ct<ut.length;ct+=1)st[ot].fPath===ut[ct].src&&(ft=!1);if(ft){var pt=createTag("link");pt.setAttribute("f-forigin",st[ot].fOrigin),pt.setAttribute("f-origin",st[ot].origin),pt.setAttribute("rel","stylesheet"),pt.setAttribute("href",st[ot].fPath),it.appendChild(pt)}}}else st[ot].loaded=!0,lt-=1;st[ot].helper=et(st[ot],it),st[ot].cache={},this.fonts.push(st[ot])}lt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(rt,it,ot){for(var st=0,at=this.chars.length;st<at;){if(this.chars[st].ch===rt&&this.chars[st].style===it&&this.chars[st].fFamily===ot)return this.chars[st];st+=1}return(typeof rt=="string"&&rt.charCodeAt(0)!==13||!rt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",rt,it,ot)),j},getFontByName:function(rt){for(var it=0,ot=this.fonts.length;it<ot;){if(this.fonts[it].fName===rt)return this.fonts[it];it+=1}return this.fonts[0]},measureText:function(rt,it,ot){var st=this.getFontByName(it),at=rt.charCodeAt(0);if(!st.cache[at+1]){var lt=st.helper;if(rt===" "){var ut=lt.measureText("|"+rt+"|"),ct=lt.measureText("||");st.cache[at+1]=(ut-ct)/100}else st.cache[at+1]=lt.measureText(rt)/100}return st.cache[at+1]*ot},checkLoadedFonts:function(){var rt,it,ot,st=this.fonts.length,at=st;for(rt=0;rt<st;rt+=1)this.fonts[rt].loaded?at-=1:this.fonts[rt].fOrigin==="n"||this.fonts[rt].origin===0?this.fonts[rt].loaded=!0:(it=this.fonts[rt].monoCase.node,ot=this.fonts[rt].monoCase.w,it.offsetWidth!==ot?(at-=1,this.fonts[rt].loaded=!0):(it=this.fonts[rt].sansCase.node,ot=this.fonts[rt].sansCase.w,it.offsetWidth!==ot&&(at-=1,this.fonts[rt].loaded=!0)),this.fonts[rt].loaded&&(this.fonts[rt].sansCase.parent.parentNode.removeChild(this.fonts[rt].sansCase.parent),this.fonts[rt].monoCase.parent.parentNode.removeChild(this.fonts[rt].monoCase.parent)));at!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return tt.prototype=nt,tt}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(j){this.renderableComponents.indexOf(j)===-1&&this.renderableComponents.push(j)},removeRenderableComponent:function(j){this.renderableComponents.indexOf(j)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(j),1)},prepareRenderableFrame:function(j){this.checkLayerLimits(j)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(j){this.data.ip-this.data.st<=j&&this.data.op-this.data.st>j?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var j,g=this.renderableComponents.length;for(j=0;j<g;j+=1)this.renderableComponents[j].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function j(g,b){this._mask=g,this._data=b}return Object.defineProperty(j.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(j.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(g){var b,$=createSizedArray(g.viewData.length),_e=g.viewData.length;for(b=0;b<_e;b+=1)$[b]=new j(g.viewData[b],g.masksProperties[b]);return function(et){for(b=0;b<_e;){if(g.masksProperties[b].nm===et)return $[b];b+=1}return null}}}(),ExpressionPropertyInterface=function(){var j={pv:0,v:0,mult:1},g={pv:[0,0,0],v:[0,0,0],mult:1};function b(_e,et,tt){Object.defineProperty(_e,"velocity",{get:function(){return et.getVelocityAtTime(et.comp.currentFrame)}}),_e.numKeys=et.keyframes?et.keyframes.length:0,_e.key=function(nt){if(!_e.numKeys)return 0;var rt="";rt="s"in et.keyframes[nt-1]?et.keyframes[nt-1].s:"e"in et.keyframes[nt-2]?et.keyframes[nt-2].e:et.keyframes[nt-2].s;var it=tt==="unidimensional"?new Number(rt):Object.assign({},rt);return it.time=et.keyframes[nt-1].t/et.elem.comp.globalData.frameRate,it.value=tt==="unidimensional"?rt[0]:rt,it},_e.valueAtTime=et.getValueAtTime,_e.speedAtTime=et.getSpeedAtTime,_e.velocityAtTime=et.getVelocityAtTime,_e.propertyGroup=et.propertyGroup}function $(){return j}return function(_e){return _e?_e.propType==="unidimensional"?function(et){et&&"pv"in et||(et=j);var tt=1/et.mult,nt=et.pv*tt,rt=new Number(nt);return rt.value=nt,b(rt,et,"unidimensional"),function(){return et.k&&et.getValue(),nt=et.v*tt,rt.value!==nt&&((rt=new Number(nt)).value=nt,b(rt,et,"unidimensional")),rt}}(_e):function(et){et&&"pv"in et||(et=g);var tt=1/et.mult,nt=et.data&&et.data.l||et.pv.length,rt=createTypedArray("float32",nt),it=createTypedArray("float32",nt);return rt.value=it,b(rt,et,"multidimensional"),function(){et.k&&et.getValue();for(var ot=0;ot<nt;ot+=1)it[ot]=et.v[ot]*tt,rt[ot]=it[ot];return rt}}(_e):$}}(),TransformExpressionInterface=function(j){function g(tt){switch(tt){case"scale":case"Scale":case"ADBE Scale":case 6:return g.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return g.rotation;case"ADBE Rotate X":return g.xRotation;case"ADBE Rotate Y":return g.yRotation;case"position":case"Position":case"ADBE Position":case 2:return g.position;case"ADBE Position_0":return g.xPosition;case"ADBE Position_1":return g.yPosition;case"ADBE Position_2":return g.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return g.anchorPoint;case"opacity":case"Opacity":case 11:return g.opacity;default:return null}}var b,$,_e,et;return Object.defineProperty(g,"rotation",{get:ExpressionPropertyInterface(j.r||j.rz)}),Object.defineProperty(g,"zRotation",{get:ExpressionPropertyInterface(j.rz||j.r)}),Object.defineProperty(g,"xRotation",{get:ExpressionPropertyInterface(j.rx)}),Object.defineProperty(g,"yRotation",{get:ExpressionPropertyInterface(j.ry)}),Object.defineProperty(g,"scale",{get:ExpressionPropertyInterface(j.s)}),j.p?et=ExpressionPropertyInterface(j.p):(b=ExpressionPropertyInterface(j.px),$=ExpressionPropertyInterface(j.py),j.pz&&(_e=ExpressionPropertyInterface(j.pz))),Object.defineProperty(g,"position",{get:function(){return j.p?et():[b(),$(),_e?_e():0]}}),Object.defineProperty(g,"xPosition",{get:ExpressionPropertyInterface(j.px)}),Object.defineProperty(g,"yPosition",{get:ExpressionPropertyInterface(j.py)}),Object.defineProperty(g,"zPosition",{get:ExpressionPropertyInterface(j.pz)}),Object.defineProperty(g,"anchorPoint",{get:ExpressionPropertyInterface(j.a)}),Object.defineProperty(g,"opacity",{get:ExpressionPropertyInterface(j.o)}),Object.defineProperty(g,"skew",{get:ExpressionPropertyInterface(j.sk)}),Object.defineProperty(g,"skewAxis",{get:ExpressionPropertyInterface(j.sa)}),Object.defineProperty(g,"orientation",{get:ExpressionPropertyInterface(j.or)}),g},LayerExpressionInterface=function(){function j(it){var ot=new Matrix;return it!==void 0?this._elem.finalTransform.mProp.getValueAtTime(it).clone(ot):this._elem.finalTransform.mProp.applyToMatrix(ot),ot}function g(it,ot){var st=this.getMatrix(ot);return st.props[12]=0,st.props[13]=0,st.props[14]=0,this.applyPoint(st,it)}function b(it,ot){var st=this.getMatrix(ot);return this.applyPoint(st,it)}function $(it,ot){var st=this.getMatrix(ot);return st.props[12]=0,st.props[13]=0,st.props[14]=0,this.invertPoint(st,it)}function _e(it,ot){var st=this.getMatrix(ot);return this.invertPoint(st,it)}function et(it,ot){if(this._elem.hierarchy&&this._elem.hierarchy.length){var st,at=this._elem.hierarchy.length;for(st=0;st<at;st+=1)this._elem.hierarchy[st].finalTransform.mProp.applyToMatrix(it)}return it.applyToPointArray(ot[0],ot[1],ot[2]||0)}function tt(it,ot){if(this._elem.hierarchy&&this._elem.hierarchy.length){var st,at=this._elem.hierarchy.length;for(st=0;st<at;st+=1)this._elem.hierarchy[st].finalTransform.mProp.applyToMatrix(it)}return it.inversePoint(ot)}function nt(it){var ot=new Matrix;if(ot.reset(),this._elem.finalTransform.mProp.applyToMatrix(ot),this._elem.hierarchy&&this._elem.hierarchy.length){var st,at=this._elem.hierarchy.length;for(st=0;st<at;st+=1)this._elem.hierarchy[st].finalTransform.mProp.applyToMatrix(ot);return ot.inversePoint(it)}return ot.inversePoint(it)}function rt(){return[1,1,1,1]}return function(it){var ot;function st(lt){switch(lt){case"ADBE Root Vectors Group":case"Contents":case 2:return st.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ot;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return st.effect;case"ADBE Text Properties":return st.textInterface;default:return null}}st.getMatrix=j,st.invertPoint=tt,st.applyPoint=et,st.toWorld=b,st.toWorldVec=g,st.fromWorld=_e,st.fromWorldVec=$,st.toComp=b,st.fromComp=nt,st.sampleImage=rt,st.sourceRectAtTime=it.sourceRectAtTime.bind(it),st._elem=it;var at=getDescriptor(ot=TransformExpressionInterface(it.finalTransform.mProp),"anchorPoint");return Object.defineProperties(st,{hasParent:{get:function(){return it.hierarchy.length}},parent:{get:function(){return it.hierarchy[0].layerInterface}},rotation:getDescriptor(ot,"rotation"),scale:getDescriptor(ot,"scale"),position:getDescriptor(ot,"position"),opacity:getDescriptor(ot,"opacity"),anchorPoint:at,anchor_point:at,transform:{get:function(){return ot}},active:{get:function(){return it.isInRange}}}),st.startTime=it.data.st,st.index=it.data.ind,st.source=it.data.refId,st.height=it.data.ty===0?it.data.h:100,st.width=it.data.ty===0?it.data.w:100,st.inPoint=it.data.ip/it.comp.globalData.frameRate,st.outPoint=it.data.op/it.comp.globalData.frameRate,st._name=it.data.nm,st.registerMaskInterface=function(lt){st.mask=new MaskManagerInterface(lt,it)},st.registerEffectsInterface=function(lt){st.effect=lt},st}}(),propertyGroupFactory=function(j,g){return function(b){return(b=b===void 0?1:b)<=0?j:g(b-1)}},PropertyInterface=function(j,g){var b={_name:j};return function($){return($=$===void 0?1:$)<=0?b:g($-1)}},EffectsExpressionInterface=function(){function j(b,$,_e,et){function tt(st){for(var at=b.ef,lt=0,ut=at.length;lt<ut;){if(st===at[lt].nm||st===at[lt].mn||st===at[lt].ix)return at[lt].ty===5?it[lt]:it[lt]();lt+=1}throw new Error}var nt,rt=propertyGroupFactory(tt,_e),it=[],ot=b.ef.length;for(nt=0;nt<ot;nt+=1)b.ef[nt].ty===5?it.push(j(b.ef[nt],$.effectElements[nt],$.effectElements[nt].propertyGroup,et)):it.push(g($.effectElements[nt],b.ef[nt].ty,et,rt));return b.mn==="ADBE Color Control"&&Object.defineProperty(tt,"color",{get:function(){return it[0]()}}),Object.defineProperties(tt,{numProperties:{get:function(){return b.np}},_name:{value:b.nm},propertyGroup:{value:rt}}),tt.enabled=b.en!==0,tt.active=tt.enabled,tt}function g(b,$,_e,et){var tt=ExpressionPropertyInterface(b.p);return b.p.setGroupProperty&&b.p.setGroupProperty(PropertyInterface("",et)),function(){return $===10?_e.comp.compInterface(b.p.v):tt()}}return{createEffectsInterface:function(b,$){if(b.effectsManager){var _e,et=[],tt=b.data.ef,nt=b.effectsManager.effectElements.length;for(_e=0;_e<nt;_e+=1)et.push(j(tt[_e],b.effectsManager.effectElements[_e],$,b));var rt=b.data.ef||[],it=function(ot){for(_e=0,nt=rt.length;_e<nt;){if(ot===rt[_e].nm||ot===rt[_e].mn||ot===rt[_e].ix)return et[_e];_e+=1}return null};return Object.defineProperty(it,"numProperties",{get:function(){return rt.length}}),it}return null}}}(),CompExpressionInterface=function(j){function g(b){for(var $=0,_e=j.layers.length;$<_e;){if(j.layers[$].nm===b||j.layers[$].ind===b)return j.elements[$].layerInterface;$+=1}return null}return Object.defineProperty(g,"_name",{value:j.data.nm}),g.layer=g,g.pixelAspect=1,g.height=j.data.h||j.globalData.compSize.h,g.width=j.data.w||j.globalData.compSize.w,g.pixelAspect=1,g.frameDuration=1/j.globalData.frameRate,g.displayStartTime=0,g.numLayers=j.layers.length,g},ShapePathInterface=function(j,g,b){var $=g.sh;function _e(tt){return tt==="Shape"||tt==="shape"||tt==="Path"||tt==="path"||tt==="ADBE Vector Shape"||tt===2?_e.path:null}var et=propertyGroupFactory(_e,b);return $.setGroupProperty(PropertyInterface("Path",et)),Object.defineProperties(_e,{path:{get:function(){return $.k&&$.getValue(),$}},shape:{get:function(){return $.k&&$.getValue(),$}},_name:{value:j.nm},ix:{value:j.ix},propertyIndex:{value:j.ix},mn:{value:j.mn},propertyGroup:{value:b}}),_e},ShapeExpressionInterface=function(){function j(lt,ut,ct){var ft,ht=[],dt=lt?lt.length:0;for(ft=0;ft<dt;ft+=1)lt[ft].ty==="gr"?ht.push(g(lt[ft],ut[ft],ct)):lt[ft].ty==="fl"?ht.push(b(lt[ft],ut[ft],ct)):lt[ft].ty==="st"?ht.push(et(lt[ft],ut[ft],ct)):lt[ft].ty==="tm"?ht.push(tt(lt[ft],ut[ft],ct)):lt[ft].ty==="tr"||(lt[ft].ty==="el"?ht.push(rt(lt[ft],ut[ft],ct)):lt[ft].ty==="sr"?ht.push(it(lt[ft],ut[ft],ct)):lt[ft].ty==="sh"?ht.push(ShapePathInterface(lt[ft],ut[ft],ct)):lt[ft].ty==="rc"?ht.push(ot(lt[ft],ut[ft],ct)):lt[ft].ty==="rd"?ht.push(st(lt[ft],ut[ft],ct)):lt[ft].ty==="rp"?ht.push(at(lt[ft],ut[ft],ct)):lt[ft].ty==="gf"?ht.push($(lt[ft],ut[ft],ct)):ht.push(_e(lt[ft],ut[ft])));return ht}function g(lt,ut,ct){var ft=function(pt){switch(pt){case"ADBE Vectors Group":case"Contents":case 2:return ft.content;default:return ft.transform}};ft.propertyGroup=propertyGroupFactory(ft,ct);var ht=function(pt,mt,gt){var yt,_t=function(At){for(var bt=0,xt=yt.length;bt<xt;){if(yt[bt]._name===At||yt[bt].mn===At||yt[bt].propertyIndex===At||yt[bt].ix===At||yt[bt].ind===At)return yt[bt];bt+=1}return typeof At=="number"?yt[At-1]:null};_t.propertyGroup=propertyGroupFactory(_t,gt),yt=j(pt.it,mt.it,_t.propertyGroup),_t.numProperties=yt.length;var vt=nt(pt.it[pt.it.length-1],mt.it[mt.it.length-1],_t.propertyGroup);return _t.transform=vt,_t.propertyIndex=pt.cix,_t._name=pt.nm,_t}(lt,ut,ft.propertyGroup),dt=nt(lt.it[lt.it.length-1],ut.it[ut.it.length-1],ft.propertyGroup);return ft.content=ht,ft.transform=dt,Object.defineProperty(ft,"_name",{get:function(){return lt.nm}}),ft.numProperties=lt.np,ft.propertyIndex=lt.ix,ft.nm=lt.nm,ft.mn=lt.mn,ft}function b(lt,ut,ct){function ft(ht){return ht==="Color"||ht==="color"?ft.color:ht==="Opacity"||ht==="opacity"?ft.opacity:null}return Object.defineProperties(ft,{color:{get:ExpressionPropertyInterface(ut.c)},opacity:{get:ExpressionPropertyInterface(ut.o)},_name:{value:lt.nm},mn:{value:lt.mn}}),ut.c.setGroupProperty(PropertyInterface("Color",ct)),ut.o.setGroupProperty(PropertyInterface("Opacity",ct)),ft}function $(lt,ut,ct){function ft(ht){return ht==="Start Point"||ht==="start point"?ft.startPoint:ht==="End Point"||ht==="end point"?ft.endPoint:ht==="Opacity"||ht==="opacity"?ft.opacity:null}return Object.defineProperties(ft,{startPoint:{get:ExpressionPropertyInterface(ut.s)},endPoint:{get:ExpressionPropertyInterface(ut.e)},opacity:{get:ExpressionPropertyInterface(ut.o)},type:{get:function(){return"a"}},_name:{value:lt.nm},mn:{value:lt.mn}}),ut.s.setGroupProperty(PropertyInterface("Start Point",ct)),ut.e.setGroupProperty(PropertyInterface("End Point",ct)),ut.o.setGroupProperty(PropertyInterface("Opacity",ct)),ft}function _e(){return function(){return null}}function et(lt,ut,ct){var ft,ht=propertyGroupFactory(yt,ct),dt=propertyGroupFactory(gt,ht);function pt(_t){Object.defineProperty(gt,lt.d[_t].nm,{get:ExpressionPropertyInterface(ut.d.dataProps[_t].p)})}var mt=lt.d?lt.d.length:0,gt={};for(ft=0;ft<mt;ft+=1)pt(ft),ut.d.dataProps[ft].p.setGroupProperty(dt);function yt(_t){return _t==="Color"||_t==="color"?yt.color:_t==="Opacity"||_t==="opacity"?yt.opacity:_t==="Stroke Width"||_t==="stroke width"?yt.strokeWidth:null}return Object.defineProperties(yt,{color:{get:ExpressionPropertyInterface(ut.c)},opacity:{get:ExpressionPropertyInterface(ut.o)},strokeWidth:{get:ExpressionPropertyInterface(ut.w)},dash:{get:function(){return gt}},_name:{value:lt.nm},mn:{value:lt.mn}}),ut.c.setGroupProperty(PropertyInterface("Color",ht)),ut.o.setGroupProperty(PropertyInterface("Opacity",ht)),ut.w.setGroupProperty(PropertyInterface("Stroke Width",ht)),yt}function tt(lt,ut,ct){function ft(dt){return dt===lt.e.ix||dt==="End"||dt==="end"?ft.end:dt===lt.s.ix?ft.start:dt===lt.o.ix?ft.offset:null}var ht=propertyGroupFactory(ft,ct);return ft.propertyIndex=lt.ix,ut.s.setGroupProperty(PropertyInterface("Start",ht)),ut.e.setGroupProperty(PropertyInterface("End",ht)),ut.o.setGroupProperty(PropertyInterface("Offset",ht)),ft.propertyIndex=lt.ix,ft.propertyGroup=ct,Object.defineProperties(ft,{start:{get:ExpressionPropertyInterface(ut.s)},end:{get:ExpressionPropertyInterface(ut.e)},offset:{get:ExpressionPropertyInterface(ut.o)},_name:{value:lt.nm}}),ft.mn=lt.mn,ft}function nt(lt,ut,ct){function ft(dt){return lt.a.ix===dt||dt==="Anchor Point"?ft.anchorPoint:lt.o.ix===dt||dt==="Opacity"?ft.opacity:lt.p.ix===dt||dt==="Position"?ft.position:lt.r.ix===dt||dt==="Rotation"||dt==="ADBE Vector Rotation"?ft.rotation:lt.s.ix===dt||dt==="Scale"?ft.scale:lt.sk&&lt.sk.ix===dt||dt==="Skew"?ft.skew:lt.sa&&lt.sa.ix===dt||dt==="Skew Axis"?ft.skewAxis:null}var ht=propertyGroupFactory(ft,ct);return ut.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",ht)),ut.transform.mProps.p.setGroupProperty(PropertyInterface("Position",ht)),ut.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",ht)),ut.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",ht)),ut.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",ht)),ut.transform.mProps.sk&&(ut.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",ht)),ut.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",ht))),ut.transform.op.setGroupProperty(PropertyInterface("Opacity",ht)),Object.defineProperties(ft,{opacity:{get:ExpressionPropertyInterface(ut.transform.mProps.o)},position:{get:ExpressionPropertyInterface(ut.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(ut.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(ut.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(ut.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(ut.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(ut.transform.mProps.sa)},_name:{value:lt.nm}}),ft.ty="tr",ft.mn=lt.mn,ft.propertyGroup=ct,ft}function rt(lt,ut,ct){function ft(pt){return lt.p.ix===pt?ft.position:lt.s.ix===pt?ft.size:null}var ht=propertyGroupFactory(ft,ct);ft.propertyIndex=lt.ix;var dt=ut.sh.ty==="tm"?ut.sh.prop:ut.sh;return dt.s.setGroupProperty(PropertyInterface("Size",ht)),dt.p.setGroupProperty(PropertyInterface("Position",ht)),Object.defineProperties(ft,{size:{get:ExpressionPropertyInterface(dt.s)},position:{get:ExpressionPropertyInterface(dt.p)},_name:{value:lt.nm}}),ft.mn=lt.mn,ft}function it(lt,ut,ct){function ft(pt){return lt.p.ix===pt?ft.position:lt.r.ix===pt?ft.rotation:lt.pt.ix===pt?ft.points:lt.or.ix===pt||pt==="ADBE Vector Star Outer Radius"?ft.outerRadius:lt.os.ix===pt?ft.outerRoundness:!lt.ir||lt.ir.ix!==pt&&pt!=="ADBE Vector Star Inner Radius"?lt.is&&lt.is.ix===pt?ft.innerRoundness:null:ft.innerRadius}var ht=propertyGroupFactory(ft,ct),dt=ut.sh.ty==="tm"?ut.sh.prop:ut.sh;return ft.propertyIndex=lt.ix,dt.or.setGroupProperty(PropertyInterface("Outer Radius",ht)),dt.os.setGroupProperty(PropertyInterface("Outer Roundness",ht)),dt.pt.setGroupProperty(PropertyInterface("Points",ht)),dt.p.setGroupProperty(PropertyInterface("Position",ht)),dt.r.setGroupProperty(PropertyInterface("Rotation",ht)),lt.ir&&(dt.ir.setGroupProperty(PropertyInterface("Inner Radius",ht)),dt.is.setGroupProperty(PropertyInterface("Inner Roundness",ht))),Object.defineProperties(ft,{position:{get:ExpressionPropertyInterface(dt.p)},rotation:{get:ExpressionPropertyInterface(dt.r)},points:{get:ExpressionPropertyInterface(dt.pt)},outerRadius:{get:ExpressionPropertyInterface(dt.or)},outerRoundness:{get:ExpressionPropertyInterface(dt.os)},innerRadius:{get:ExpressionPropertyInterface(dt.ir)},innerRoundness:{get:ExpressionPropertyInterface(dt.is)},_name:{value:lt.nm}}),ft.mn=lt.mn,ft}function ot(lt,ut,ct){function ft(pt){return lt.p.ix===pt?ft.position:lt.r.ix===pt?ft.roundness:lt.s.ix===pt||pt==="Size"||pt==="ADBE Vector Rect Size"?ft.size:null}var ht=propertyGroupFactory(ft,ct),dt=ut.sh.ty==="tm"?ut.sh.prop:ut.sh;return ft.propertyIndex=lt.ix,dt.p.setGroupProperty(PropertyInterface("Position",ht)),dt.s.setGroupProperty(PropertyInterface("Size",ht)),dt.r.setGroupProperty(PropertyInterface("Rotation",ht)),Object.defineProperties(ft,{position:{get:ExpressionPropertyInterface(dt.p)},roundness:{get:ExpressionPropertyInterface(dt.r)},size:{get:ExpressionPropertyInterface(dt.s)},_name:{value:lt.nm}}),ft.mn=lt.mn,ft}function st(lt,ut,ct){function ft(pt){return lt.r.ix===pt||pt==="Round Corners 1"?ft.radius:null}var ht=propertyGroupFactory(ft,ct),dt=ut;return ft.propertyIndex=lt.ix,dt.rd.setGroupProperty(PropertyInterface("Radius",ht)),Object.defineProperties(ft,{radius:{get:ExpressionPropertyInterface(dt.rd)},_name:{value:lt.nm}}),ft.mn=lt.mn,ft}function at(lt,ut,ct){function ft(pt){return lt.c.ix===pt||pt==="Copies"?ft.copies:lt.o.ix===pt||pt==="Offset"?ft.offset:null}var ht=propertyGroupFactory(ft,ct),dt=ut;return ft.propertyIndex=lt.ix,dt.c.setGroupProperty(PropertyInterface("Copies",ht)),dt.o.setGroupProperty(PropertyInterface("Offset",ht)),Object.defineProperties(ft,{copies:{get:ExpressionPropertyInterface(dt.c)},offset:{get:ExpressionPropertyInterface(dt.o)},_name:{value:lt.nm}}),ft.mn=lt.mn,ft}return function(lt,ut,ct){var ft;function ht(dt){if(typeof dt=="number")return(dt=dt===void 0?1:dt)===0?ct:ft[dt-1];for(var pt=0,mt=ft.length;pt<mt;){if(ft[pt]._name===dt)return ft[pt];pt+=1}return null}return ht.propertyGroup=propertyGroupFactory(ht,function(){return ct}),ft=j(lt,ut,ht.propertyGroup),ht.numProperties=ft.length,ht._name="Contents",ht}}(),TextExpressionInterface=function(j){var g,b;function $(_e){return _e==="ADBE Text Document"?$.sourceText:null}return Object.defineProperty($,"sourceText",{get:function(){j.textProperty.getValue();var _e=j.textProperty.currentData.t;return _e!==g&&(j.textProperty.currentData.t=g,(b=new String(_e)).value=_e||new String(_e)),b}}),$},getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(j){return blendModeEnums[j]||""}),blendModeEnums;function SliderEffect(j,g,b){this.p=PropertyFactory.getProp(g,j.v,0,0,b)}function AngleEffect(j,g,b){this.p=PropertyFactory.getProp(g,j.v,0,0,b)}function ColorEffect(j,g,b){this.p=PropertyFactory.getProp(g,j.v,1,0,b)}function PointEffect(j,g,b){this.p=PropertyFactory.getProp(g,j.v,1,0,b)}function LayerIndexEffect(j,g,b){this.p=PropertyFactory.getProp(g,j.v,0,0,b)}function MaskIndexEffect(j,g,b){this.p=PropertyFactory.getProp(g,j.v,0,0,b)}function CheckboxEffect(j,g,b){this.p=PropertyFactory.getProp(g,j.v,0,0,b)}function NoValueEffect(){this.p={}}function EffectsManager(j,g){var b,$=j.ef||[];this.effectElements=[];var _e,et=$.length;for(b=0;b<et;b+=1)_e=new GroupEffect($[b],g),this.effectElements.push(_e)}function GroupEffect(j,g){this.init(j,g)}function BaseElement(){}function FrameElement(){}function _typeof$2(j){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof$2(j)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(j,g){var b;this.data=j,this.effectElements=[],this.initDynamicPropertyContainer(g);var $,_e=this.data.ef.length,et=this.data.ef;for(b=0;b<_e;b+=1){switch($=null,et[b].ty){case 0:$=new SliderEffect(et[b],g,this);break;case 1:$=new AngleEffect(et[b],g,this);break;case 2:$=new ColorEffect(et[b],g,this);break;case 3:$=new PointEffect(et[b],g,this);break;case 4:case 7:$=new CheckboxEffect(et[b],g,this);break;case 10:$=new LayerIndexEffect(et[b],g,this);break;case 11:$=new MaskIndexEffect(et[b],g,this);break;case 5:$=new EffectsManager(et[b],g);break;default:$=new NoValueEffect(et[b])}$&&this.effectElements.push($)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var j=0,g=this.data.masksProperties.length;j<g;){if(this.data.masksProperties[j].mode!=="n"&&this.data.masksProperties[j].cl!==!1)return!0;j+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var j=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(j),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var j=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=j},initBaseData:function(j,g,b){this.globalData=g,this.comp=b,this.data=j,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(j,g){var b,$=this.dynamicProperties.length;for(b=0;b<$;b+=1)(g||this._isParent&&this.dynamicProperties[b].propType==="transform")&&(this.dynamicProperties[b].getValue(),this.dynamicProperties[b]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(j){this.dynamicProperties.indexOf(j)===-1&&this.dynamicProperties.push(j)}};var FootageInterface=(dataInterfaceFactory=function(j){function g(b){return b==="Outline"?g.outlineInterface():null}return g._name="Outline",g.outlineInterface=function(b){var $="",_e=b.getFootageData();function et(tt){if(_e[tt])return $=tt,_typeof$2(_e=_e[tt])==="object"?et:_e;var nt=tt.indexOf($);if(nt!==-1){var rt=parseInt(tt.substr(nt+$.length),10);return _typeof$2(_e=_e[rt])==="object"?et:_e}return""}return function(){return $="",_e=b.getFootageData(),et}}(j),g},function(j){function g(b){return b==="Data"?g.dataInterface:null}return g._name="Data",g.dataInterface=dataInterfaceFactory(j),g}),dataInterfaceFactory;function FootageElement(j,g,b){this.initFrame(),this.initRenderable(),this.assetData=g.getAssetData(j.refId),this.footageData=g.imageLoader.getAsset(this.assetData),this.initBaseData(j,g,b)}function AudioElement(j,g,b){this.initFrame(),this.initRenderable(),this.assetData=g.getAssetData(j.refId),this.initBaseData(j,g,b),this._isPlaying=!1,this._canPlay=!1;var $=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio($),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=j.tm?PropertyFactory.getProp(this,j.tm,0,g.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,j.au&&j.au.lv?j.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(j,g,b){this.data=j,this.element=g,this.globalData=b,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var $,_e,et=this.globalData.defs,tt=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(tt),this.solidPath="";var nt,rt,it,ot,st,at,lt=this.masksProperties,ut=0,ct=[],ft=createElementID(),ht="clipPath",dt="clip-path";for($=0;$<tt;$+=1)if((lt[$].mode!=="a"&&lt[$].mode!=="n"||lt[$].inv||lt[$].o.k!==100||lt[$].o.x)&&(ht="mask",dt="mask"),lt[$].mode!=="s"&&lt[$].mode!=="i"||ut!==0?it=null:((it=createNS("rect")).setAttribute("fill","#ffffff"),it.setAttribute("width",this.element.comp.data.w||0),it.setAttribute("height",this.element.comp.data.h||0),ct.push(it)),_e=createNS("path"),lt[$].mode==="n")this.viewData[$]={op:PropertyFactory.getProp(this.element,lt[$].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,lt[$],3),elem:_e,lastPath:""},et.appendChild(_e);else{var pt;if(ut+=1,_e.setAttribute("fill",lt[$].mode==="s"?"#000000":"#ffffff"),_e.setAttribute("clip-rule","nonzero"),lt[$].x.k!==0?(ht="mask",dt="mask",at=PropertyFactory.getProp(this.element,lt[$].x,0,null,this.element),pt=createElementID(),(ot=createNS("filter")).setAttribute("id",pt),(st=createNS("feMorphology")).setAttribute("operator","erode"),st.setAttribute("in","SourceGraphic"),st.setAttribute("radius","0"),ot.appendChild(st),et.appendChild(ot),_e.setAttribute("stroke",lt[$].mode==="s"?"#000000":"#ffffff")):(st=null,at=null),this.storedData[$]={elem:_e,x:at,expan:st,lastPath:"",lastOperator:"",filterId:pt,lastRadius:0},lt[$].mode==="i"){rt=ct.length;var mt=createNS("g");for(nt=0;nt<rt;nt+=1)mt.appendChild(ct[nt]);var gt=createNS("mask");gt.setAttribute("mask-type","alpha"),gt.setAttribute("id",ft+"_"+ut),gt.appendChild(_e),et.appendChild(gt),mt.setAttribute("mask","url("+getLocationHref()+"#"+ft+"_"+ut+")"),ct.length=0,ct.push(mt)}else ct.push(_e);lt[$].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[$]={elem:_e,lastPath:"",op:PropertyFactory.getProp(this.element,lt[$].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,lt[$],3),invRect:it},this.viewData[$].prop.k||this.drawPath(lt[$],this.viewData[$].prop.v,this.viewData[$])}for(this.maskElement=createNS(ht),tt=ct.length,$=0;$<tt;$+=1)this.maskElement.appendChild(ct[$]);ut>0&&(this.maskElement.setAttribute("id",ft),this.element.maskedElement.setAttribute(dt,"url("+getLocationHref()+"#"+ft+")"),et.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(j){if(this.prepareRenderableFrame(j,!0),this.prepareProperties(j,!0),this.tm._placeholder)this._currentTime=j/this.data.sr;else{var g=this.tm.v;this._currentTime=g}this._volume=this.lv.v[0];var b=this._volume*this._volumeMultiplier;this._previousVolume!==b&&(this._previousVolume=b,this.audio.volume(b))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(j){this.audio.rate(j)},AudioElement.prototype.volume=function(j){this._volumeMultiplier=j,this._previousVolume=j*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(j){var g,b,$=this.layers.length;for(this.completeLayers=!0,g=$-1;g>=0;g-=1)this.elements[g]||(b=this.layers[g]).ip-b.st<=j-this.layers[g].st&&b.op-b.st>j-this.layers[g].st&&this.buildItem(g),this.completeLayers=!!this.elements[g]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(j){switch(j.ty){case 2:return this.createImage(j);case 0:return this.createComp(j);case 1:return this.createSolid(j);case 3:default:return this.createNull(j);case 4:return this.createShape(j);case 5:return this.createText(j);case 6:return this.createAudio(j);case 13:return this.createCamera(j);case 15:return this.createFootage(j)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(j){return new AudioElement(j,this.globalData,this)},BaseRenderer.prototype.createFootage=function(j){return new FootageElement(j,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var j,g=this.layers.length;for(j=0;j<g;j+=1)this.buildItem(j);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(j){var g;this.completeLayers=!1;var b,$=j.length,_e=this.layers.length;for(g=0;g<$;g+=1)for(b=0;b<_e;){if(this.layers[b].id===j[g].id){this.layers[b]=j[g];break}b+=1}},BaseRenderer.prototype.setProjectInterface=function(j){this.globalData.projectInterface=j},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(j,g,b){for(var $=this.elements,_e=this.layers,et=0,tt=_e.length;et<tt;)_e[et].ind==g&&($[et]&&$[et]!==!0?(b.push($[et]),$[et].setAsParent(),_e[et].parent!==void 0?this.buildElementParenting(j,_e[et].parent,b):j.setHierarchy(b)):(this.buildItem(et),this.addPendingElement(j))),et+=1},BaseRenderer.prototype.addPendingElement=function(j){this.pendingElements.push(j)},BaseRenderer.prototype.searchExtraCompositions=function(j){var g,b=j.length;for(g=0;g<b;g+=1)if(j[g].xt){var $=this.createComp(j[g]);$.initExpressions(),this.globalData.projectInterface.registerComposition($)}},BaseRenderer.prototype.getElementByPath=function(j){var g,b=j.shift();if(typeof b=="number")g=this.elements[b];else{var $,_e=this.elements.length;for($=0;$<_e;$+=1)if(this.elements[$].data.nm===b){g=this.elements[$];break}}return j.length===0?g:g.getElementByPath(j)},BaseRenderer.prototype.setupGlobalData=function(j,g){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(j.chars),this.globalData.fontManager.addFonts(j.fonts,g),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=j.fr,this.globalData.nm=j.nm,this.globalData.compSize={w:j.w,h:j.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var j,g=this.finalTransform.mat,b=0,$=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;b<$;){if(this.hierarchy[b].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}b+=1}if(this.finalTransform._matMdf)for(j=this.finalTransform.mProp.v.props,g.cloneFromProps(j),b=0;b<$;b+=1)j=this.hierarchy[b].finalTransform.mProp.v.props,g.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14],j[15])}},globalToLocal:function(j){var g=[];g.push(this.finalTransform);for(var b,$=!0,_e=this.comp;$;)_e.finalTransform?(_e.data.hasMask&&g.splice(0,0,_e.finalTransform),_e=_e.comp):$=!1;var et,tt=g.length;for(b=0;b<tt;b+=1)et=g[b].mat.applyToPointArray(0,0,0),j=[j[0]-et[0],j[1]-et[1],0];return j},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(j){return this.viewData[j].prop},MaskElement.prototype.renderFrame=function(j){var g,b=this.element.finalTransform.mat,$=this.masksProperties.length;for(g=0;g<$;g+=1)if((this.viewData[g].prop._mdf||j)&&this.drawPath(this.masksProperties[g],this.viewData[g].prop.v,this.viewData[g]),(this.viewData[g].op._mdf||j)&&this.viewData[g].elem.setAttribute("fill-opacity",this.viewData[g].op.v),this.masksProperties[g].mode!=="n"&&(this.viewData[g].invRect&&(this.element.finalTransform.mProp._mdf||j)&&this.viewData[g].invRect.setAttribute("transform",b.getInverseMatrix().to2dCSS()),this.storedData[g].x&&(this.storedData[g].x._mdf||j))){var _e=this.storedData[g].expan;this.storedData[g].x.v<0?(this.storedData[g].lastOperator!=="erode"&&(this.storedData[g].lastOperator="erode",this.storedData[g].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[g].filterId+")")),_e.setAttribute("radius",-this.storedData[g].x.v)):(this.storedData[g].lastOperator!=="dilate"&&(this.storedData[g].lastOperator="dilate",this.storedData[g].elem.setAttribute("filter",null)),this.storedData[g].elem.setAttribute("stroke-width",2*this.storedData[g].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var j="M0,0 ";return j+=" h"+this.globalData.compSize.w,j+=" v"+this.globalData.compSize.h,j+=" h-"+this.globalData.compSize.w,j+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(j,g,b){var $,_e,et=" M"+g.v[0][0]+","+g.v[0][1];for(_e=g._length,$=1;$<_e;$+=1)et+=" C"+g.o[$-1][0]+","+g.o[$-1][1]+" "+g.i[$][0]+","+g.i[$][1]+" "+g.v[$][0]+","+g.v[$][1];if(g.c&&_e>1&&(et+=" C"+g.o[$-1][0]+","+g.o[$-1][1]+" "+g.i[0][0]+","+g.i[0][1]+" "+g.v[0][0]+","+g.v[0][1]),b.lastPath!==et){var tt="";b.elem&&(g.c&&(tt=j.inv?this.solidPath+et:et),b.elem.setAttribute("d",tt)),b.lastPath=et}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var j={};return j.createFilter=function(g,b){var $=createNS("filter");return $.setAttribute("id",g),b!==!0&&($.setAttribute("filterUnits","objectBoundingBox"),$.setAttribute("x","0%"),$.setAttribute("y","0%"),$.setAttribute("width","100%"),$.setAttribute("height","100%")),$},j.createAlphaToLuminanceFilter=function(){var g=createNS("feColorMatrix");return g.setAttribute("type","matrix"),g.setAttribute("color-interpolation-filters","sRGB"),g.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),g},j}(),featureSupport=function(){var j={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(j.maskType=!1),j}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(j){var g,b,$="SourceGraphic",_e=j.data.ef?j.data.ef.length:0,et=createElementID(),tt=filtersFactory.createFilter(et,!0),nt=0;for(this.filters=[],g=0;g<_e;g+=1){b=null;var rt=j.data.ef[g].ty;registeredEffects[rt]&&(b=new registeredEffects[rt].effect(tt,j.effectsManager.effectElements[g],j,idPrefix+nt,$),$=idPrefix+nt,registeredEffects[rt].countsAsEffect&&(nt+=1)),b&&this.filters.push(b)}nt&&(j.globalData.defs.appendChild(tt),j.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+et+")")),this.filters.length&&j.addRenderableComponent(this)}function registerEffect(j,g,b){registeredEffects[j]={effect:g,countsAsEffect:b}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(j,g,b){this.assetData=g.getAssetData(j.refId),this.initElement(j,g,b),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(j,g){this.elem=j,this.pos=g}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(j){var g,b=this.filters.length;for(g=0;g<b;g+=1)this.filters[g].renderFrame(j)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var j,g,b,$=null;if(this.data.td){if(this.data.td==3||this.data.td==1){var _e=createNS("mask");_e.setAttribute("id",this.layerId),_e.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),_e.appendChild(this.layerElement),$=_e,this.globalData.defs.appendChild(_e),featureSupport.maskType||this.data.td!=1||(_e.setAttribute("mask-type","luminance"),j=createElementID(),g=filtersFactory.createFilter(j),this.globalData.defs.appendChild(g),g.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(b=createNS("g")).appendChild(this.layerElement),$=b,_e.appendChild(b),b.setAttribute("filter","url("+getLocationHref()+"#"+j+")"))}else if(this.data.td==2){var et=createNS("mask");et.setAttribute("id",this.layerId),et.setAttribute("mask-type","alpha");var tt=createNS("g");et.appendChild(tt),j=createElementID(),g=filtersFactory.createFilter(j);var nt=createNS("feComponentTransfer");nt.setAttribute("in","SourceGraphic"),g.appendChild(nt);var rt=createNS("feFuncA");rt.setAttribute("type","table"),rt.setAttribute("tableValues","1.0 0.0"),nt.appendChild(rt),this.globalData.defs.appendChild(g);var it=createNS("rect");it.setAttribute("width",this.comp.data.w),it.setAttribute("height",this.comp.data.h),it.setAttribute("x","0"),it.setAttribute("y","0"),it.setAttribute("fill","#ffffff"),it.setAttribute("opacity","0"),tt.setAttribute("filter","url("+getLocationHref()+"#"+j+")"),tt.appendChild(it),tt.appendChild(this.layerElement),$=tt,featureSupport.maskType||(et.setAttribute("mask-type","luminance"),g.appendChild(filtersFactory.createAlphaToLuminanceFilter()),b=createNS("g"),tt.appendChild(it),b.appendChild(this.layerElement),$=b,tt.appendChild(b)),this.globalData.defs.appendChild(et)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),$=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var ot=createNS("clipPath"),st=createNS("path");st.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var at=createElementID();if(ot.setAttribute("id",at),ot.appendChild(st),this.globalData.defs.appendChild(ot),this.checkMasks()){var lt=createNS("g");lt.setAttribute("clip-path","url("+getLocationHref()+"#"+at+")"),lt.appendChild(this.layerElement),this.transformedElement=lt,$?$.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+at+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(j){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+j+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(j){this.hierarchy=j},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(j,g,b){this.initFrame(),this.initBaseData(j,g,b),this.initTransform(j,g,b),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(j){this._mdf=!1,this.prepareRenderableFrame(j),this.prepareProperties(j,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var j=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",j),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(j){var g,b=this.shapeModifiers.length;for(g=0;g<b;g+=1)this.shapeModifiers[g].addShape(j)},isShapeInAnimatedModifiers:function(j){for(var g=this.shapeModifiers.length;0<g;)if(this.shapeModifiers[0].isAnimatedWithShape(j))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var j,g=this.shapes.length;for(j=0;j<g;j+=1)this.shapes[j].sh.reset();for(j=(g=this.shapeModifiers.length)-1;j>=0&&!this.shapeModifiers[j].processShapes(this._isFirstFrame);j-=1);}},searchProcessedElement:function(j){for(var g=this.processedElements,b=0,$=g.length;b<$;){if(g[b].elem===j)return g[b].pos;b+=1}return 0},addProcessedElement:function(j,g){for(var b=this.processedElements,$=b.length;$;)if(b[$-=1].elem===j)return void(b[$].pos=g);b.push(new ProcessedElement(j,g))},prepareFrame:function(j){this.prepareRenderableFrame(j),this.prepareProperties(j,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(j,g,b){this.caches=[],this.styles=[],this.transformers=j,this.lStr="",this.sh=b,this.lvl=g,this._isAnimated=!!b.k;for(var $=0,_e=j.length;$<_e;){if(j[$].mProps.dynamicProperties.length){this._isAnimated=!0;break}$+=1}}function SVGStyleData(j,g){this.data=j,this.type=j.ty,this.d="",this.lvl=g,this._mdf=!1,this.closed=j.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(j,g,b,$){var _e;this.elem=j,this.frameId=-1,this.dataProps=createSizedArray(g.length),this.renderer=b,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",g.length?g.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer($);var et,tt=g.length||0;for(_e=0;_e<tt;_e+=1)et=PropertyFactory.getProp(j,g[_e].v,0,0,this),this.k=et.k||this.k,this.dataProps[_e]={n:g[_e].n,p:et};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(j,g,b){this.initDynamicPropertyContainer(j),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(j,g.o,0,.01,this),this.w=PropertyFactory.getProp(j,g.w,0,null,this),this.d=new DashProperty(j,g.d||{},"svg",this),this.c=PropertyFactory.getProp(j,g.c,1,255,this),this.style=b,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(j,g,b){this.initDynamicPropertyContainer(j),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(j,g.o,0,.01,this),this.c=PropertyFactory.getProp(j,g.c,1,255,this),this.style=b}function SVGNoStyleData(j,g,b){this.initDynamicPropertyContainer(j),this.getValue=this.iterateDynamicProperties,this.style=b}function GradientProperty(j,g,b){this.data=g,this.c=createTypedArray("uint8c",4*g.p);var $=g.k.k[0].s?g.k.k[0].s.length-4*g.p:g.k.k.length-4*g.p;this.o=createTypedArray("float32",$),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=$,this.initDynamicPropertyContainer(b),this.prop=PropertyFactory.getProp(j,g.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(j,g,b){this.initDynamicPropertyContainer(j),this.getValue=this.iterateDynamicProperties,this.initGradientData(j,g,b)}function SVGGradientStrokeStyleData(j,g,b){this.initDynamicPropertyContainer(j),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(j,g.w,0,null,this),this.d=new DashProperty(j,g.d||{},"svg",this),this.initGradientData(j,g,b),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(j,g,b){this.transform={mProps:j,op:g,container:b},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(j){if((this.elem.globalData.frameId!==this.frameId||j)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||j,this._mdf)){var g=0,b=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),g=0;g<b;g+=1)this.dataProps[g].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[g].p.v:this.dashArray[g]=this.dataProps[g].p.v:this.dashoffset[0]=this.dataProps[g].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(j,g){for(var b=0,$=this.o.length/2;b<$;){if(Math.abs(j[4*b]-j[4*g+2*b])>.01)return!1;b+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var j=0,g=this.data.k.k.length;j<g;){if(!this.comparePoints(this.data.k.k[j].s,this.data.p))return!1;j+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(j){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||j){var g,b,$,_e=4*this.data.p;for(g=0;g<_e;g+=1)b=g%4==0?100:255,$=Math.round(this.prop.v[g]*b),this.c[g]!==$&&(this.c[g]=$,this._cmdf=!j);if(this.o.length)for(_e=this.prop.v.length,g=4*this.data.p;g<_e;g+=1)b=g%2==0?100:1,$=g%2==0?Math.round(100*this.prop.v[g]):this.prop.v[g],this.o[g-4*this.data.p]!==$&&(this.o[g-4*this.data.p]=$,this._omdf=!j);this._mdf=!j}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(j,g,b){this.o=PropertyFactory.getProp(j,g.o,0,.01,this),this.s=PropertyFactory.getProp(j,g.s,1,null,this),this.e=PropertyFactory.getProp(j,g.e,1,null,this),this.h=PropertyFactory.getProp(j,g.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(j,g.a||{k:0},0,degToRads,this),this.g=new GradientProperty(j,g.g,this),this.style=b,this.stops=[],this.setGradientData(b.pElem,g),this.setGradientOpacity(g,b),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(j,g){var b=createElementID(),$=createNS(g.t===1?"linearGradient":"radialGradient");$.setAttribute("id",b),$.setAttribute("spreadMethod","pad"),$.setAttribute("gradientUnits","userSpaceOnUse");var _e,et,tt,nt=[];for(tt=4*g.g.p,et=0;et<tt;et+=4)_e=createNS("stop"),$.appendChild(_e),nt.push(_e);j.setAttribute(g.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+b+")"),this.gf=$,this.cst=nt},SVGGradientFillStyleData.prototype.setGradientOpacity=function(j,g){if(this.g._hasOpacity&&!this.g._collapsable){var b,$,_e,et=createNS("mask"),tt=createNS("path");et.appendChild(tt);var nt=createElementID(),rt=createElementID();et.setAttribute("id",rt);var it=createNS(j.t===1?"linearGradient":"radialGradient");it.setAttribute("id",nt),it.setAttribute("spreadMethod","pad"),it.setAttribute("gradientUnits","userSpaceOnUse"),_e=j.g.k.k[0].s?j.g.k.k[0].s.length:j.g.k.k.length;var ot=this.stops;for($=4*j.g.p;$<_e;$+=2)(b=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),it.appendChild(b),ot.push(b);tt.setAttribute(j.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+nt+")"),j.ty==="gs"&&(tt.setAttribute("stroke-linecap",lineCapEnum[j.lc||2]),tt.setAttribute("stroke-linejoin",lineJoinEnum[j.lj||2]),j.lj===1&&tt.setAttribute("stroke-miterlimit",j.ml)),this.of=it,this.ms=et,this.ost=ot,this.maskId=rt,g.msElem=tt}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(j,g,b,$){if(g===0)return"";var _e,et=j.o,tt=j.i,nt=j.v,rt=" M"+$.applyToPointStringified(nt[0][0],nt[0][1]);for(_e=1;_e<g;_e+=1)rt+=" C"+$.applyToPointStringified(et[_e-1][0],et[_e-1][1])+" "+$.applyToPointStringified(tt[_e][0],tt[_e][1])+" "+$.applyToPointStringified(nt[_e][0],nt[_e][1]);return b&&g&&(rt+=" C"+$.applyToPointStringified(et[_e-1][0],et[_e-1][1])+" "+$.applyToPointStringified(tt[0][0],tt[0][1])+" "+$.applyToPointStringified(nt[0][0],nt[0][1]),rt+="z"),rt},SVGElementsRenderer=function(){var j=new Matrix,g=new Matrix;function b(it,ot,st){(st||ot.transform.op._mdf)&&ot.transform.container.setAttribute("opacity",ot.transform.op.v),(st||ot.transform.mProps._mdf)&&ot.transform.container.setAttribute("transform",ot.transform.mProps.v.to2dCSS())}function $(){}function _e(it,ot,st){var at,lt,ut,ct,ft,ht,dt,pt,mt,gt,yt,_t=ot.styles.length,vt=ot.lvl;for(ht=0;ht<_t;ht+=1){if(ct=ot.sh._mdf||st,ot.styles[ht].lvl<vt){for(pt=g.reset(),gt=vt-ot.styles[ht].lvl,yt=ot.transformers.length-1;!ct&&gt>0;)ct=ot.transformers[yt].mProps._mdf||ct,gt-=1,yt-=1;if(ct)for(gt=vt-ot.styles[ht].lvl,yt=ot.transformers.length-1;gt>0;)mt=ot.transformers[yt].mProps.v.props,pt.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5],mt[6],mt[7],mt[8],mt[9],mt[10],mt[11],mt[12],mt[13],mt[14],mt[15]),gt-=1,yt-=1}else pt=j;if(lt=(dt=ot.sh.paths)._length,ct){for(ut="",at=0;at<lt;at+=1)(ft=dt.shapes[at])&&ft._length&&(ut+=buildShapeString(ft,ft._length,ft.c,pt));ot.caches[ht]=ut}else ut=ot.caches[ht];ot.styles[ht].d+=it.hd===!0?"":ut,ot.styles[ht]._mdf=ct||ot.styles[ht]._mdf}}function et(it,ot,st){var at=ot.style;(ot.c._mdf||st)&&at.pElem.setAttribute("fill","rgb("+bmFloor(ot.c.v[0])+","+bmFloor(ot.c.v[1])+","+bmFloor(ot.c.v[2])+")"),(ot.o._mdf||st)&&at.pElem.setAttribute("fill-opacity",ot.o.v)}function tt(it,ot,st){nt(it,ot,st),rt(it,ot,st)}function nt(it,ot,st){var at,lt,ut,ct,ft,ht=ot.gf,dt=ot.g._hasOpacity,pt=ot.s.v,mt=ot.e.v;if(ot.o._mdf||st){var gt=it.ty==="gf"?"fill-opacity":"stroke-opacity";ot.style.pElem.setAttribute(gt,ot.o.v)}if(ot.s._mdf||st){var yt=it.t===1?"x1":"cx",_t=yt==="x1"?"y1":"cy";ht.setAttribute(yt,pt[0]),ht.setAttribute(_t,pt[1]),dt&&!ot.g._collapsable&&(ot.of.setAttribute(yt,pt[0]),ot.of.setAttribute(_t,pt[1]))}if(ot.g._cmdf||st){at=ot.cst;var vt=ot.g.c;for(ut=at.length,lt=0;lt<ut;lt+=1)(ct=at[lt]).setAttribute("offset",vt[4*lt]+"%"),ct.setAttribute("stop-color","rgb("+vt[4*lt+1]+","+vt[4*lt+2]+","+vt[4*lt+3]+")")}if(dt&&(ot.g._omdf||st)){var At=ot.g.o;for(ut=(at=ot.g._collapsable?ot.cst:ot.ost).length,lt=0;lt<ut;lt+=1)ct=at[lt],ot.g._collapsable||ct.setAttribute("offset",At[2*lt]+"%"),ct.setAttribute("stop-opacity",At[2*lt+1])}if(it.t===1)(ot.e._mdf||st)&&(ht.setAttribute("x2",mt[0]),ht.setAttribute("y2",mt[1]),dt&&!ot.g._collapsable&&(ot.of.setAttribute("x2",mt[0]),ot.of.setAttribute("y2",mt[1])));else if((ot.s._mdf||ot.e._mdf||st)&&(ft=Math.sqrt(Math.pow(pt[0]-mt[0],2)+Math.pow(pt[1]-mt[1],2)),ht.setAttribute("r",ft),dt&&!ot.g._collapsable&&ot.of.setAttribute("r",ft)),ot.e._mdf||ot.h._mdf||ot.a._mdf||st){ft||(ft=Math.sqrt(Math.pow(pt[0]-mt[0],2)+Math.pow(pt[1]-mt[1],2)));var bt=Math.atan2(mt[1]-pt[1],mt[0]-pt[0]),xt=ot.h.v;xt>=1?xt=.99:xt<=-1&&(xt=-.99);var Et=ft*xt,Mt=Math.cos(bt+ot.a.v)*Et+pt[0],Tt=Math.sin(bt+ot.a.v)*Et+pt[1];ht.setAttribute("fx",Mt),ht.setAttribute("fy",Tt),dt&&!ot.g._collapsable&&(ot.of.setAttribute("fx",Mt),ot.of.setAttribute("fy",Tt))}}function rt(it,ot,st){var at=ot.style,lt=ot.d;lt&&(lt._mdf||st)&&lt.dashStr&&(at.pElem.setAttribute("stroke-dasharray",lt.dashStr),at.pElem.setAttribute("stroke-dashoffset",lt.dashoffset[0])),ot.c&&(ot.c._mdf||st)&&at.pElem.setAttribute("stroke","rgb("+bmFloor(ot.c.v[0])+","+bmFloor(ot.c.v[1])+","+bmFloor(ot.c.v[2])+")"),(ot.o._mdf||st)&&at.pElem.setAttribute("stroke-opacity",ot.o.v),(ot.w._mdf||st)&&(at.pElem.setAttribute("stroke-width",ot.w.v),at.msElem&&at.msElem.setAttribute("stroke-width",ot.w.v))}return{createRenderFunction:function(it){switch(it.ty){case"fl":return et;case"gf":return nt;case"gs":return tt;case"st":return rt;case"sh":case"el":case"rc":case"sr":return _e;case"tr":return b;case"no":return $;default:return null}}}}();function SVGShapeElement(j,g,b){this.shapes=[],this.shapesData=j.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(j,g,b),this.prevViewData=[]}function LetterProps(j,g,b,$,_e,et){this.o=j,this.sw=g,this.sc=b,this.fc=$,this.m=_e,this.p=et,this._mdf={o:!0,sw:!!g,sc:!!b,fc:!!$,m:!0,p:!0}}function TextProperty(j,g){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=g,this.elem=j,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var j,g,b,$,_e=this.shapes.length,et=this.stylesList.length,tt=[],nt=!1;for(b=0;b<et;b+=1){for($=this.stylesList[b],nt=!1,tt.length=0,j=0;j<_e;j+=1)(g=this.shapes[j]).styles.indexOf($)!==-1&&(tt.push(g),nt=g._isAnimated||nt);tt.length>1&&nt&&this.setShapesAsAnimated(tt)}},SVGShapeElement.prototype.setShapesAsAnimated=function(j){var g,b=j.length;for(g=0;g<b;g+=1)j[g].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(j,g){var b,$=new SVGStyleData(j,g),_e=$.pElem;return j.ty==="st"?b=new SVGStrokeStyleData(this,j,$):j.ty==="fl"?b=new SVGFillStyleData(this,j,$):j.ty==="gf"||j.ty==="gs"?(b=new(j.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,j,$),this.globalData.defs.appendChild(b.gf),b.maskId&&(this.globalData.defs.appendChild(b.ms),this.globalData.defs.appendChild(b.of),_e.setAttribute("mask","url("+getLocationHref()+"#"+b.maskId+")"))):j.ty==="no"&&(b=new SVGNoStyleData(this,j,$)),j.ty!=="st"&&j.ty!=="gs"||(_e.setAttribute("stroke-linecap",lineCapEnum[j.lc||2]),_e.setAttribute("stroke-linejoin",lineJoinEnum[j.lj||2]),_e.setAttribute("fill-opacity","0"),j.lj===1&&_e.setAttribute("stroke-miterlimit",j.ml)),j.r===2&&_e.setAttribute("fill-rule","evenodd"),j.ln&&_e.setAttribute("id",j.ln),j.cl&&_e.setAttribute("class",j.cl),j.bm&&(_e.style["mix-blend-mode"]=getBlendMode(j.bm)),this.stylesList.push($),this.addToAnimatedContents(j,b),b},SVGShapeElement.prototype.createGroupElement=function(j){var g=new ShapeGroupData;return j.ln&&g.gr.setAttribute("id",j.ln),j.cl&&g.gr.setAttribute("class",j.cl),j.bm&&(g.gr.style["mix-blend-mode"]=getBlendMode(j.bm)),g},SVGShapeElement.prototype.createTransformElement=function(j,g){var b=TransformPropertyFactory.getTransformProperty(this,j,this),$=new SVGTransformData(b,b.o,g);return this.addToAnimatedContents(j,$),$},SVGShapeElement.prototype.createShapeElement=function(j,g,b){var $=4;j.ty==="rc"?$=5:j.ty==="el"?$=6:j.ty==="sr"&&($=7);var _e=new SVGShapeData(g,b,ShapePropertyFactory.getShapeProp(this,j,$,this));return this.shapes.push(_e),this.addShapeToModifiers(_e),this.addToAnimatedContents(j,_e),_e},SVGShapeElement.prototype.addToAnimatedContents=function(j,g){for(var b=0,$=this.animatedContents.length;b<$;){if(this.animatedContents[b].element===g)return;b+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(j),element:g,data:j})},SVGShapeElement.prototype.setElementStyles=function(j){var g,b=j.styles,$=this.stylesList.length;for(g=0;g<$;g+=1)this.stylesList[g].closed||b.push(this.stylesList[g])},SVGShapeElement.prototype.reloadShapes=function(){var j;this._isFirstFrame=!0;var g=this.itemsData.length;for(j=0;j<g;j+=1)this.prevViewData[j]=this.itemsData[j];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),g=this.dynamicProperties.length,j=0;j<g;j+=1)this.dynamicProperties[j].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(j,g,b,$,_e,et,tt){var nt,rt,it,ot,st,at,lt=[].concat(et),ut=j.length-1,ct=[],ft=[];for(nt=ut;nt>=0;nt-=1){if((at=this.searchProcessedElement(j[nt]))?g[nt]=b[at-1]:j[nt]._render=tt,j[nt].ty==="fl"||j[nt].ty==="st"||j[nt].ty==="gf"||j[nt].ty==="gs"||j[nt].ty==="no")at?g[nt].style.closed=!1:g[nt]=this.createStyleElement(j[nt],_e),j[nt]._render&&g[nt].style.pElem.parentNode!==$&&$.appendChild(g[nt].style.pElem),ct.push(g[nt].style);else if(j[nt].ty==="gr"){if(at)for(it=g[nt].it.length,rt=0;rt<it;rt+=1)g[nt].prevViewData[rt]=g[nt].it[rt];else g[nt]=this.createGroupElement(j[nt]);this.searchShapes(j[nt].it,g[nt].it,g[nt].prevViewData,g[nt].gr,_e+1,lt,tt),j[nt]._render&&g[nt].gr.parentNode!==$&&$.appendChild(g[nt].gr)}else j[nt].ty==="tr"?(at||(g[nt]=this.createTransformElement(j[nt],$)),ot=g[nt].transform,lt.push(ot)):j[nt].ty==="sh"||j[nt].ty==="rc"||j[nt].ty==="el"||j[nt].ty==="sr"?(at||(g[nt]=this.createShapeElement(j[nt],lt,_e)),this.setElementStyles(g[nt])):j[nt].ty==="tm"||j[nt].ty==="rd"||j[nt].ty==="ms"||j[nt].ty==="pb"?(at?(st=g[nt]).closed=!1:((st=ShapeModifiers.getModifier(j[nt].ty)).init(this,j[nt]),g[nt]=st,this.shapeModifiers.push(st)),ft.push(st)):j[nt].ty==="rp"&&(at?(st=g[nt]).closed=!0:(st=ShapeModifiers.getModifier(j[nt].ty),g[nt]=st,st.init(this,j,nt,g),this.shapeModifiers.push(st),tt=!1),ft.push(st));this.addProcessedElement(j[nt],nt+1)}for(ut=ct.length,nt=0;nt<ut;nt+=1)ct[nt].closed=!0;for(ut=ft.length,nt=0;nt<ut;nt+=1)ft[nt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var j;this.renderModifiers();var g=this.stylesList.length;for(j=0;j<g;j+=1)this.stylesList[j].reset();for(this.renderShape(),j=0;j<g;j+=1)(this.stylesList[j]._mdf||this._isFirstFrame)&&(this.stylesList[j].msElem&&(this.stylesList[j].msElem.setAttribute("d",this.stylesList[j].d),this.stylesList[j].d="M0 0"+this.stylesList[j].d),this.stylesList[j].pElem.setAttribute("d",this.stylesList[j].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var j,g,b=this.animatedContents.length;for(j=0;j<b;j+=1)g=this.animatedContents[j],(this._isFirstFrame||g.element._isAnimated)&&g.data!==!0&&g.fn(g.data,g.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(j,g,b,$,_e,et){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var tt=!1;return this.o!==j&&(this.o=j,this._mdf.o=!0,tt=!0),this.sw!==g&&(this.sw=g,this._mdf.sw=!0,tt=!0),this.sc!==b&&(this.sc=b,this._mdf.sc=!0,tt=!0),this.fc!==$&&(this.fc=$,this._mdf.fc=!0,tt=!0),this.m!==_e&&(this.m=_e,this._mdf.m=!0,tt=!0),!et.length||this.p[0]===et[0]&&this.p[1]===et[1]&&this.p[4]===et[4]&&this.p[5]===et[5]&&this.p[12]===et[12]&&this.p[13]===et[13]||(this.p=et,this._mdf.p=!0,tt=!0),tt},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(j,g){for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(j[b]=g[b]);return j},TextProperty.prototype.setCurrentData=function(j){j.__complete||this.completeTextData(j),this.currentData=j,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(j){this.effectsSequence.push(j),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(j){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||j){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var g=this.currentData,b=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var $;this.lock=!0,this._mdf=!1;var _e=this.effectsSequence.length,et=j||this.data.d.k[this.keysIndex].s;for($=0;$<_e;$+=1)et=b!==this.keysIndex?this.effectsSequence[$](et,et.t):this.effectsSequence[$](this.currentData,et.t);g!==et&&this.setCurrentData(et),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var j=this.data.d.k,g=this.elem.comp.renderedFrame,b=0,$=j.length;b<=$-1&&!(b===$-1||j[b+1].t>g);)b+=1;return this.keysIndex!==b&&(this.keysIndex=b),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(j){for(var g,b,$=[],_e=0,et=j.length,tt=!1;_e<et;)g=j.charCodeAt(_e),FontManager.isCombinedCharacter(g)?$[$.length-1]+=j.charAt(_e):g>=55296&&g<=56319?(b=j.charCodeAt(_e+1))>=56320&&b<=57343?(tt||FontManager.isModifier(g,b)?($[$.length-1]+=j.substr(_e,2),tt=!1):$.push(j.substr(_e,2)),_e+=1):$.push(j.charAt(_e)):g>56319?(b=j.charCodeAt(_e+1),FontManager.isZeroWidthJoiner(g,b)?(tt=!0,$[$.length-1]+=j.substr(_e,2),_e+=1):$.push(j.charAt(_e))):FontManager.isZeroWidthJoiner(g)?($[$.length-1]+=j.charAt(_e),tt=!0):$.push(j.charAt(_e)),_e+=1;return $},TextProperty.prototype.completeTextData=function(j){j.__complete=!0;var g,b,$,_e,et,tt,nt,rt=this.elem.globalData.fontManager,it=this.data,ot=[],st=0,at=it.m.g,lt=0,ut=0,ct=0,ft=[],ht=0,dt=0,pt=rt.getFontByName(j.f),mt=0,gt=getFontProperties(pt);j.fWeight=gt.weight,j.fStyle=gt.style,j.finalSize=j.s,j.finalText=this.buildFinalText(j.t),b=j.finalText.length,j.finalLineHeight=j.lh;var yt,_t=j.tr/1e3*j.finalSize;if(j.sz)for(var vt,At,bt=!0,xt=j.sz[0],Et=j.sz[1];bt;){vt=0,ht=0,b=(At=this.buildFinalText(j.t)).length,_t=j.tr/1e3*j.finalSize;var Mt=-1;for(g=0;g<b;g+=1)yt=At[g].charCodeAt(0),$=!1,At[g]===" "?Mt=g:yt!==13&&yt!==3||(ht=0,$=!0,vt+=j.finalLineHeight||1.2*j.finalSize),rt.chars?(nt=rt.getCharData(At[g],pt.fStyle,pt.fFamily),mt=$?0:nt.w*j.finalSize/100):mt=rt.measureText(At[g],j.f,j.finalSize),ht+mt>xt&&At[g]!==" "?(Mt===-1?b+=1:g=Mt,vt+=j.finalLineHeight||1.2*j.finalSize,At.splice(g,Mt===g?1:0,"\r"),Mt=-1,ht=0):(ht+=mt,ht+=_t);vt+=pt.ascent*j.finalSize/100,this.canResize&&j.finalSize>this.minimumFontSize&&Et<vt?(j.finalSize-=1,j.finalLineHeight=j.finalSize*j.lh/j.s):(j.finalText=At,b=j.finalText.length,bt=!1)}ht=-_t,mt=0;var Tt,Lt=0;for(g=0;g<b;g+=1)if($=!1,(yt=(Tt=j.finalText[g]).charCodeAt(0))===13||yt===3?(Lt=0,ft.push(ht),dt=ht>dt?ht:dt,ht=-2*_t,_e="",$=!0,ct+=1):_e=Tt,rt.chars?(nt=rt.getCharData(Tt,pt.fStyle,rt.getFontByName(j.f).fFamily),mt=$?0:nt.w*j.finalSize/100):mt=rt.measureText(_e,j.f,j.finalSize),Tt===" "?Lt+=mt+_t:(ht+=mt+_t+Lt,Lt=0),ot.push({l:mt,an:mt,add:lt,n:$,anIndexes:[],val:_e,line:ct,animatorJustifyOffset:0}),at==2){if(lt+=mt,_e===""||_e===" "||g===b-1){for(_e!==""&&_e!==" "||(lt-=mt);ut<=g;)ot[ut].an=lt,ot[ut].ind=st,ot[ut].extra=mt,ut+=1;st+=1,lt=0}}else if(at==3){if(lt+=mt,_e===""||g===b-1){for(_e===""&&(lt-=mt);ut<=g;)ot[ut].an=lt,ot[ut].ind=st,ot[ut].extra=mt,ut+=1;lt=0,st+=1}}else ot[st].ind=st,ot[st].extra=0,st+=1;if(j.l=ot,dt=ht>dt?ht:dt,ft.push(ht),j.sz)j.boxWidth=j.sz[0],j.justifyOffset=0;else switch(j.boxWidth=dt,j.j){case 1:j.justifyOffset=-j.boxWidth;break;case 2:j.justifyOffset=-j.boxWidth/2;break;default:j.justifyOffset=0}j.lineWidths=ft;var Ot,Rt,Ct,Dt,Bt=it.a;tt=Bt.length;var kt=[];for(et=0;et<tt;et+=1){for((Ot=Bt[et]).a.sc&&(j.strokeColorAnim=!0),Ot.a.sw&&(j.strokeWidthAnim=!0),(Ot.a.fc||Ot.a.fh||Ot.a.fs||Ot.a.fb)&&(j.fillColorAnim=!0),Dt=0,Ct=Ot.s.b,g=0;g<b;g+=1)(Rt=ot[g]).anIndexes[et]=Dt,(Ct==1&&Rt.val!==""||Ct==2&&Rt.val!==""&&Rt.val!==" "||Ct==3&&(Rt.n||Rt.val==" "||g==b-1)||Ct==4&&(Rt.n||g==b-1))&&(Ot.s.rn===1&&kt.push(Dt),Dt+=1);it.a[et].s.totalChars=Dt;var zt,Ft=-1;if(Ot.s.rn===1)for(g=0;g<b;g+=1)Ft!=(Rt=ot[g]).anIndexes[et]&&(Ft=Rt.anIndexes[et],zt=kt.splice(Math.floor(Math.random()*kt.length),1)[0]),Rt.anIndexes[et]=zt}j.yOffset=j.finalLineHeight||1.2*j.finalSize,j.ls=j.ls||0,j.ascent=pt.ascent*j.finalSize/100},TextProperty.prototype.updateDocumentData=function(j,g){g=g===void 0?this.keysIndex:g;var b=this.copyData({},this.data.d.k[g].s);b=this.copyData(b,j),this.data.d.k[g].s=b,this.recalculate(g),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(j){var g=this.data.d.k[j].s;g.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(g)},TextProperty.prototype.canResizeFont=function(j){this.canResize=j,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(j){this.minimumFontSize=Math.floor(j)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var j=Math.max,g=Math.min,b=Math.floor;function $(_e,et){this._currentTextLength=-1,this.k=!1,this.data=et,this.elem=_e,this.comp=_e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(_e),this.s=PropertyFactory.getProp(_e,et.s||{k:0},0,0,this),this.e="e"in et?PropertyFactory.getProp(_e,et.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(_e,et.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(_e,et.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(_e,et.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(_e,et.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(_e,et.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return $.prototype={getMult:function(_e){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var et=0,tt=0,nt=1,rt=1;this.ne.v>0?et=this.ne.v/100:tt=-this.ne.v/100,this.xe.v>0?nt=1-this.xe.v/100:rt=1+this.xe.v/100;var it=BezierFactory.getBezierEasing(et,tt,nt,rt).get,ot=0,st=this.finalS,at=this.finalE,lt=this.data.sh;if(lt===2)ot=it(ot=at===st?_e>=at?1:0:j(0,g(.5/(at-st)+(_e-st)/(at-st),1)));else if(lt===3)ot=it(ot=at===st?_e>=at?0:1:1-j(0,g(.5/(at-st)+(_e-st)/(at-st),1)));else if(lt===4)at===st?ot=0:(ot=j(0,g(.5/(at-st)+(_e-st)/(at-st),1)))<.5?ot*=2:ot=1-2*(ot-.5),ot=it(ot);else if(lt===5){if(at===st)ot=0;else{var ut=at-st,ct=-ut/2+(_e=g(j(0,_e+.5-st),at-st)),ft=ut/2;ot=Math.sqrt(1-ct*ct/(ft*ft))}ot=it(ot)}else lt===6?(at===st?ot=0:(_e=g(j(0,_e+.5-st),at-st),ot=(1+Math.cos(Math.PI+2*Math.PI*_e/(at-st)))/2),ot=it(ot)):(_e>=b(st)&&(ot=j(0,g(_e-st<0?g(at,1)-(st-_e):at-_e,1))),ot=it(ot));if(this.sm.v!==100){var ht=.01*this.sm.v;ht===0&&(ht=1e-8);var dt=.5-.5*ht;ot<dt?ot=0:(ot=(ot-dt)/ht)>1&&(ot=1)}return ot*this.a.v},getValue:function(_e){this.iterateDynamicProperties(),this._mdf=_e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,_e&&this.data.r===2&&(this.e.v=this._currentTextLength);var et=this.data.r===2?1:100/this.data.totalChars,tt=this.o.v/et,nt=this.s.v/et+tt,rt=this.e.v/et+tt;if(nt>rt){var it=nt;nt=rt,rt=it}this.finalS=nt,this.finalE=rt}},extendPrototype([DynamicPropertyContainer],$),{getTextSelectorProp:function(_e,et,tt){return new $(_e,et)}}}();function TextAnimatorDataProperty(j,g,b){var $={propType:!1},_e=PropertyFactory.getProp,et=g.a;this.a={r:et.r?_e(j,et.r,0,degToRads,b):$,rx:et.rx?_e(j,et.rx,0,degToRads,b):$,ry:et.ry?_e(j,et.ry,0,degToRads,b):$,sk:et.sk?_e(j,et.sk,0,degToRads,b):$,sa:et.sa?_e(j,et.sa,0,degToRads,b):$,s:et.s?_e(j,et.s,1,.01,b):$,a:et.a?_e(j,et.a,1,0,b):$,o:et.o?_e(j,et.o,0,.01,b):$,p:et.p?_e(j,et.p,1,0,b):$,sw:et.sw?_e(j,et.sw,0,0,b):$,sc:et.sc?_e(j,et.sc,1,0,b):$,fc:et.fc?_e(j,et.fc,1,0,b):$,fh:et.fh?_e(j,et.fh,0,0,b):$,fs:et.fs?_e(j,et.fs,0,.01,b):$,fb:et.fb?_e(j,et.fb,0,.01,b):$,t:et.t?_e(j,et.t,0,0,b):$},this.s=TextSelectorProp.getTextSelectorProp(j,g.s,b),this.s.t=g.s.t}function TextAnimatorProperty(j,g,b){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=j,this._renderType=g,this._elem=b,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(b)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var j,g,b=this._textData.a.length,$=PropertyFactory.getProp;for(j=0;j<b;j+=1)g=this._textData.a[j],this._animatorsData[j]=new TextAnimatorDataProperty(this._elem,g,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:$(this._elem,this._textData.p.a,0,0,this),f:$(this._elem,this._textData.p.f,0,0,this),l:$(this._elem,this._textData.p.l,0,0,this),r:$(this._elem,this._textData.p.r,0,0,this),p:$(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=$(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(j,g){if(this.lettersChangedFlag=g,this._mdf||this._isFirstFrame||g||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var b,$,_e,et,tt,nt,rt,it,ot,st,at,lt,ut,ct,ft,ht,dt,pt,mt,gt=this._moreOptions.alignment.v,yt=this._animatorsData,_t=this._textData,vt=this.mHelper,At=this._renderType,bt=this.renderedLetters.length,xt=j.l;if(this._hasMaskedPath){if(mt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Et,Mt=mt.v;for(this._pathData.r.v&&(Mt=Mt.reverse()),tt={tLength:0,segments:[]},et=Mt._length-1,ht=0,_e=0;_e<et;_e+=1)Et=bez.buildBezierData(Mt.v[_e],Mt.v[_e+1],[Mt.o[_e][0]-Mt.v[_e][0],Mt.o[_e][1]-Mt.v[_e][1]],[Mt.i[_e+1][0]-Mt.v[_e+1][0],Mt.i[_e+1][1]-Mt.v[_e+1][1]]),tt.tLength+=Et.segmentLength,tt.segments.push(Et),ht+=Et.segmentLength;_e=et,mt.v.c&&(Et=bez.buildBezierData(Mt.v[_e],Mt.v[0],[Mt.o[_e][0]-Mt.v[_e][0],Mt.o[_e][1]-Mt.v[_e][1]],[Mt.i[0][0]-Mt.v[0][0],Mt.i[0][1]-Mt.v[0][1]]),tt.tLength+=Et.segmentLength,tt.segments.push(Et),ht+=Et.segmentLength),this._pathData.pi=tt}if(tt=this._pathData.pi,nt=this._pathData.f.v,at=0,st=1,it=0,ot=!0,ct=tt.segments,nt<0&&mt.v.c)for(tt.tLength<Math.abs(nt)&&(nt=-Math.abs(nt)%tt.tLength),st=(ut=ct[at=ct.length-1].points).length-1;nt<0;)nt+=ut[st].partialLength,(st-=1)<0&&(st=(ut=ct[at-=1].points).length-1);lt=(ut=ct[at].points)[st-1],ft=(rt=ut[st]).partialLength}et=xt.length,b=0,$=0;var Tt,Lt,Ot,Rt,Ct,Dt=1.2*j.finalSize*.714,Bt=!0;Ot=yt.length;var kt,zt,Ft,It,Ut,Gt,jt,Yt,Qt,ln,Zt,Wt,qt=-1,Xt=nt,vn=at,gn=st,en=-1,hn="",rn=this.defaultPropsArray;if(j.j===2||j.j===1){var un=0,Nt=0,Vt=j.j===2?-.5:-1,cn=0,dn=!0;for(_e=0;_e<et;_e+=1)if(xt[_e].n){for(un&&(un+=Nt);cn<_e;)xt[cn].animatorJustifyOffset=un,cn+=1;un=0,dn=!0}else{for(Lt=0;Lt<Ot;Lt+=1)(Tt=yt[Lt].a).t.propType&&(dn&&j.j===2&&(Nt+=Tt.t.v*Vt),(Ct=yt[Lt].s.getMult(xt[_e].anIndexes[Lt],_t.a[Lt].s.totalChars)).length?un+=Tt.t.v*Ct[0]*Vt:un+=Tt.t.v*Ct*Vt);dn=!1}for(un&&(un+=Nt);cn<_e;)xt[cn].animatorJustifyOffset=un,cn+=1}for(_e=0;_e<et;_e+=1){if(vt.reset(),It=1,xt[_e].n)b=0,$+=j.yOffset,$+=Bt?1:0,nt=Xt,Bt=!1,this._hasMaskedPath&&(st=gn,lt=(ut=ct[at=vn].points)[st-1],ft=(rt=ut[st]).partialLength,it=0),hn="",Zt="",Qt="",Wt="",rn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(en!==xt[_e].line){switch(j.j){case 1:nt+=ht-j.lineWidths[xt[_e].line];break;case 2:nt+=(ht-j.lineWidths[xt[_e].line])/2}en=xt[_e].line}qt!==xt[_e].ind&&(xt[qt]&&(nt+=xt[qt].extra),nt+=xt[_e].an/2,qt=xt[_e].ind),nt+=gt[0]*xt[_e].an*.005;var mn=0;for(Lt=0;Lt<Ot;Lt+=1)(Tt=yt[Lt].a).p.propType&&((Ct=yt[Lt].s.getMult(xt[_e].anIndexes[Lt],_t.a[Lt].s.totalChars)).length?mn+=Tt.p.v[0]*Ct[0]:mn+=Tt.p.v[0]*Ct),Tt.a.propType&&((Ct=yt[Lt].s.getMult(xt[_e].anIndexes[Lt],_t.a[Lt].s.totalChars)).length?mn+=Tt.a.v[0]*Ct[0]:mn+=Tt.a.v[0]*Ct);for(ot=!0,this._pathData.a.v&&(nt=.5*xt[0].an+(ht-this._pathData.f.v-.5*xt[0].an-.5*xt[xt.length-1].an)*qt/(et-1),nt+=this._pathData.f.v);ot;)it+ft>=nt+mn||!ut?(dt=(nt+mn-it)/rt.partialLength,zt=lt.point[0]+(rt.point[0]-lt.point[0])*dt,Ft=lt.point[1]+(rt.point[1]-lt.point[1])*dt,vt.translate(-gt[0]*xt[_e].an*.005,-gt[1]*Dt*.01),ot=!1):ut&&(it+=rt.partialLength,(st+=1)>=ut.length&&(st=0,ct[at+=1]?ut=ct[at].points:mt.v.c?(st=0,ut=ct[at=0].points):(it-=rt.partialLength,ut=null)),ut&&(lt=rt,ft=(rt=ut[st]).partialLength));kt=xt[_e].an/2-xt[_e].add,vt.translate(-kt,0,0)}else kt=xt[_e].an/2-xt[_e].add,vt.translate(-kt,0,0),vt.translate(-gt[0]*xt[_e].an*.005,-gt[1]*Dt*.01,0);for(Lt=0;Lt<Ot;Lt+=1)(Tt=yt[Lt].a).t.propType&&(Ct=yt[Lt].s.getMult(xt[_e].anIndexes[Lt],_t.a[Lt].s.totalChars),b===0&&j.j===0||(this._hasMaskedPath?Ct.length?nt+=Tt.t.v*Ct[0]:nt+=Tt.t.v*Ct:Ct.length?b+=Tt.t.v*Ct[0]:b+=Tt.t.v*Ct));for(j.strokeWidthAnim&&(Gt=j.sw||0),j.strokeColorAnim&&(Ut=j.sc?[j.sc[0],j.sc[1],j.sc[2]]:[0,0,0]),j.fillColorAnim&&j.fc&&(jt=[j.fc[0],j.fc[1],j.fc[2]]),Lt=0;Lt<Ot;Lt+=1)(Tt=yt[Lt].a).a.propType&&((Ct=yt[Lt].s.getMult(xt[_e].anIndexes[Lt],_t.a[Lt].s.totalChars)).length?vt.translate(-Tt.a.v[0]*Ct[0],-Tt.a.v[1]*Ct[1],Tt.a.v[2]*Ct[2]):vt.translate(-Tt.a.v[0]*Ct,-Tt.a.v[1]*Ct,Tt.a.v[2]*Ct));for(Lt=0;Lt<Ot;Lt+=1)(Tt=yt[Lt].a).s.propType&&((Ct=yt[Lt].s.getMult(xt[_e].anIndexes[Lt],_t.a[Lt].s.totalChars)).length?vt.scale(1+(Tt.s.v[0]-1)*Ct[0],1+(Tt.s.v[1]-1)*Ct[1],1):vt.scale(1+(Tt.s.v[0]-1)*Ct,1+(Tt.s.v[1]-1)*Ct,1));for(Lt=0;Lt<Ot;Lt+=1){if(Tt=yt[Lt].a,Ct=yt[Lt].s.getMult(xt[_e].anIndexes[Lt],_t.a[Lt].s.totalChars),Tt.sk.propType&&(Ct.length?vt.skewFromAxis(-Tt.sk.v*Ct[0],Tt.sa.v*Ct[1]):vt.skewFromAxis(-Tt.sk.v*Ct,Tt.sa.v*Ct)),Tt.r.propType&&(Ct.length?vt.rotateZ(-Tt.r.v*Ct[2]):vt.rotateZ(-Tt.r.v*Ct)),Tt.ry.propType&&(Ct.length?vt.rotateY(Tt.ry.v*Ct[1]):vt.rotateY(Tt.ry.v*Ct)),Tt.rx.propType&&(Ct.length?vt.rotateX(Tt.rx.v*Ct[0]):vt.rotateX(Tt.rx.v*Ct)),Tt.o.propType&&(Ct.length?It+=(Tt.o.v*Ct[0]-It)*Ct[0]:It+=(Tt.o.v*Ct-It)*Ct),j.strokeWidthAnim&&Tt.sw.propType&&(Ct.length?Gt+=Tt.sw.v*Ct[0]:Gt+=Tt.sw.v*Ct),j.strokeColorAnim&&Tt.sc.propType)for(Yt=0;Yt<3;Yt+=1)Ct.length?Ut[Yt]+=(Tt.sc.v[Yt]-Ut[Yt])*Ct[0]:Ut[Yt]+=(Tt.sc.v[Yt]-Ut[Yt])*Ct;if(j.fillColorAnim&&j.fc){if(Tt.fc.propType)for(Yt=0;Yt<3;Yt+=1)Ct.length?jt[Yt]+=(Tt.fc.v[Yt]-jt[Yt])*Ct[0]:jt[Yt]+=(Tt.fc.v[Yt]-jt[Yt])*Ct;Tt.fh.propType&&(jt=Ct.length?addHueToRGB(jt,Tt.fh.v*Ct[0]):addHueToRGB(jt,Tt.fh.v*Ct)),Tt.fs.propType&&(jt=Ct.length?addSaturationToRGB(jt,Tt.fs.v*Ct[0]):addSaturationToRGB(jt,Tt.fs.v*Ct)),Tt.fb.propType&&(jt=Ct.length?addBrightnessToRGB(jt,Tt.fb.v*Ct[0]):addBrightnessToRGB(jt,Tt.fb.v*Ct))}}for(Lt=0;Lt<Ot;Lt+=1)(Tt=yt[Lt].a).p.propType&&(Ct=yt[Lt].s.getMult(xt[_e].anIndexes[Lt],_t.a[Lt].s.totalChars),this._hasMaskedPath?Ct.length?vt.translate(0,Tt.p.v[1]*Ct[0],-Tt.p.v[2]*Ct[1]):vt.translate(0,Tt.p.v[1]*Ct,-Tt.p.v[2]*Ct):Ct.length?vt.translate(Tt.p.v[0]*Ct[0],Tt.p.v[1]*Ct[1],-Tt.p.v[2]*Ct[2]):vt.translate(Tt.p.v[0]*Ct,Tt.p.v[1]*Ct,-Tt.p.v[2]*Ct));if(j.strokeWidthAnim&&(Qt=Gt<0?0:Gt),j.strokeColorAnim&&(ln="rgb("+Math.round(255*Ut[0])+","+Math.round(255*Ut[1])+","+Math.round(255*Ut[2])+")"),j.fillColorAnim&&j.fc&&(Zt="rgb("+Math.round(255*jt[0])+","+Math.round(255*jt[1])+","+Math.round(255*jt[2])+")"),this._hasMaskedPath){if(vt.translate(0,-j.ls),vt.translate(0,gt[1]*Dt*.01+$,0),this._pathData.p.v){pt=(rt.point[1]-lt.point[1])/(rt.point[0]-lt.point[0]);var bn=180*Math.atan(pt)/Math.PI;rt.point[0]<lt.point[0]&&(bn+=180),vt.rotate(-bn*Math.PI/180)}vt.translate(zt,Ft,0),nt-=gt[0]*xt[_e].an*.005,xt[_e+1]&&qt!==xt[_e+1].ind&&(nt+=xt[_e].an/2,nt+=.001*j.tr*j.finalSize)}else{switch(vt.translate(b,$,0),j.ps&&vt.translate(j.ps[0],j.ps[1]+j.ascent,0),j.j){case 1:vt.translate(xt[_e].animatorJustifyOffset+j.justifyOffset+(j.boxWidth-j.lineWidths[xt[_e].line]),0,0);break;case 2:vt.translate(xt[_e].animatorJustifyOffset+j.justifyOffset+(j.boxWidth-j.lineWidths[xt[_e].line])/2,0,0)}vt.translate(0,-j.ls),vt.translate(kt,0,0),vt.translate(gt[0]*xt[_e].an*.005,gt[1]*Dt*.01,0),b+=xt[_e].l+.001*j.tr*j.finalSize}At==="html"?hn=vt.toCSS():At==="svg"?hn=vt.to2dCSS():rn=[vt.props[0],vt.props[1],vt.props[2],vt.props[3],vt.props[4],vt.props[5],vt.props[6],vt.props[7],vt.props[8],vt.props[9],vt.props[10],vt.props[11],vt.props[12],vt.props[13],vt.props[14],vt.props[15]],Wt=It}bt<=_e?(Rt=new LetterProps(Wt,Qt,ln,Zt,hn,rn),this.renderedLetters.push(Rt),bt+=1,this.lettersChangedFlag=!0):(Rt=this.renderedLetters[_e],this.lettersChangedFlag=Rt.update(Wt,Qt,ln,Zt,hn,rn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(j,g,b){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(j,g,b),this.textProperty=new TextProperty(this,j.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(j.t,this.renderType,this),this.initTransform(j,g,b),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(j){this._mdf=!1,this.prepareRenderableFrame(j),this.prepareProperties(j,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(j,g){var b,$,_e=g.length,et="";for(b=0;b<_e;b+=1)g[b].ty==="sh"&&($=g[b].ks.k,et+=buildShapeString($,$.i.length,!0,j));return et},ITextElement.prototype.updateDocumentData=function(j,g){this.textProperty.updateDocumentData(j,g)},ITextElement.prototype.canResizeFont=function(j){this.textProperty.canResizeFont(j)},ITextElement.prototype.setMinimumFontSize=function(j){this.textProperty.setMinimumFontSize(j)},ITextElement.prototype.applyTextPropertiesToMatrix=function(j,g,b,$,_e){switch(j.ps&&g.translate(j.ps[0],j.ps[1]+j.ascent,0),g.translate(0,-j.ls,0),j.j){case 1:g.translate(j.justifyOffset+(j.boxWidth-j.lineWidths[b]),0,0);break;case 2:g.translate(j.justifyOffset+(j.boxWidth-j.lineWidths[b])/2,0,0)}g.translate($,_e,0)},ITextElement.prototype.buildColor=function(j){return"rgb("+Math.round(255*j[0])+","+Math.round(255*j[1])+","+Math.round(255*j[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(j,g,b){this.textSpans=[],this.renderType="svg",this.initElement(j,g,b)}function ISolidElement(j,g,b){this.initElement(j,g,b)}function NullElement(j,g,b){this.initFrame(),this.initBaseData(j,g,b),this.initFrame(),this.initTransform(j,g,b),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(j,g,b){this.layers=j.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(j,g,b),this.tm=j.tm?PropertyFactory.getProp(this,j.tm,0,g.frameRate,this):{_placeholder:!0}}function SVGRenderer(j,g){this.animationItem=j,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var b="";if(g&&g.title){var $=createNS("title"),_e=createElementID();$.setAttribute("id",_e),$.textContent=g.title,this.svgElement.appendChild($),b+=_e}if(g&&g.description){var et=createNS("desc"),tt=createElementID();et.setAttribute("id",tt),et.textContent=g.description,this.svgElement.appendChild(et),b+=" "+tt}b&&this.svgElement.setAttribute("aria-labelledby",b);var nt=createNS("defs");this.svgElement.appendChild(nt);var rt=createNS("g");this.svgElement.appendChild(rt),this.layerElement=rt,this.renderConfig={preserveAspectRatio:g&&g.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:g&&g.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:g&&g.contentVisibility||"visible",progressiveLoad:g&&g.progressiveLoad||!1,hideOnTransparent:!(g&&g.hideOnTransparent===!1),viewBoxOnly:g&&g.viewBoxOnly||!1,viewBoxSize:g&&g.viewBoxSize||!1,className:g&&g.className||"",id:g&&g.id||"",focusable:g&&g.focusable,filterSize:{width:g&&g.filterSize&&g.filterSize.width||"100%",height:g&&g.filterSize&&g.filterSize.height||"100%",x:g&&g.filterSize&&g.filterSize.x||"0%",y:g&&g.filterSize&&g.filterSize.y||"0%"},width:g&&g.width,height:g&&g.height},this.globalData={_mdf:!1,frameNum:-1,defs:nt,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(j){for(var g=0,b=j.length,$=[],_e="";g<b;)j[g]===String.fromCharCode(13)||j[g]===String.fromCharCode(3)?($.push(_e),_e=""):_e+=j[g],g+=1;return $.push(_e),$},SVGTextLottieElement.prototype.buildShapeData=function(j,g){if(j.shapes&&j.shapes.length){var b=j.shapes[0];if(b.it){var $=b.it[b.it.length-1];$.s&&($.s.k[0]=g,$.s.k[1]=g)}}return j},SVGTextLottieElement.prototype.buildNewText=function(){var j,g;this.addDynamicProperty(this);var b=this.textProperty.currentData;this.renderedLetters=createSizedArray(b?b.l.length:0),b.fc?this.layerElement.setAttribute("fill",this.buildColor(b.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),b.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(b.sc)),this.layerElement.setAttribute("stroke-width",b.sw)),this.layerElement.setAttribute("font-size",b.finalSize);var $=this.globalData.fontManager.getFontByName(b.f);if($.fClass)this.layerElement.setAttribute("class",$.fClass);else{this.layerElement.setAttribute("font-family",$.fFamily);var _e=b.fWeight,et=b.fStyle;this.layerElement.setAttribute("font-style",et),this.layerElement.setAttribute("font-weight",_e)}this.layerElement.setAttribute("aria-label",b.t);var tt,nt=b.l||[],rt=!!this.globalData.fontManager.chars;g=nt.length;var it=this.mHelper,ot=this.data.singleShape,st=0,at=0,lt=!0,ut=.001*b.tr*b.finalSize;if(!ot||rt||b.sz){var ct,ft=this.textSpans.length;for(j=0;j<g;j+=1){if(this.textSpans[j]||(this.textSpans[j]={span:null,childSpan:null,glyph:null}),!rt||!ot||j===0){if(tt=ft>j?this.textSpans[j].span:createNS(rt?"g":"text"),ft<=j){if(tt.setAttribute("stroke-linecap","butt"),tt.setAttribute("stroke-linejoin","round"),tt.setAttribute("stroke-miterlimit","4"),this.textSpans[j].span=tt,rt){var ht=createNS("g");tt.appendChild(ht),this.textSpans[j].childSpan=ht}this.textSpans[j].span=tt,this.layerElement.appendChild(tt)}tt.style.display="inherit"}if(it.reset(),ot&&(nt[j].n&&(st=-ut,at+=b.yOffset,at+=lt?1:0,lt=!1),this.applyTextPropertiesToMatrix(b,it,nt[j].line,st,at),st+=nt[j].l||0,st+=ut),rt){var dt;if((ct=this.globalData.fontManager.getCharData(b.finalText[j],$.fStyle,this.globalData.fontManager.getFontByName(b.f).fFamily)).t===1)dt=new SVGCompElement(ct.data,this.globalData,this);else{var pt=emptyShapeData;ct.data&&ct.data.shapes&&(pt=this.buildShapeData(ct.data,b.finalSize)),dt=new SVGShapeElement(pt,this.globalData,this)}if(this.textSpans[j].glyph){var mt=this.textSpans[j].glyph;this.textSpans[j].childSpan.removeChild(mt.layerElement),mt.destroy()}this.textSpans[j].glyph=dt,dt._debug=!0,dt.prepareFrame(0),dt.renderFrame(),this.textSpans[j].childSpan.appendChild(dt.layerElement),ct.t===1&&this.textSpans[j].childSpan.setAttribute("transform","scale("+b.finalSize/100+","+b.finalSize/100+")")}else ot&&tt.setAttribute("transform","translate("+it.props[12]+","+it.props[13]+")"),tt.textContent=nt[j].val,tt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ot&&tt&&tt.setAttribute("d","")}else{var gt=this.textContainer,yt="start";switch(b.j){case 1:yt="end";break;case 2:yt="middle";break;default:yt="start"}gt.setAttribute("text-anchor",yt),gt.setAttribute("letter-spacing",ut);var _t=this.buildTextContents(b.finalText);for(g=_t.length,at=b.ps?b.ps[1]+b.ascent:0,j=0;j<g;j+=1)(tt=this.textSpans[j].span||createNS("tspan")).textContent=_t[j],tt.setAttribute("x",0),tt.setAttribute("y",at),tt.style.display="inherit",gt.appendChild(tt),this.textSpans[j]||(this.textSpans[j]={span:null,glyph:null}),this.textSpans[j].span=tt,at+=b.finalLineHeight;this.layerElement.appendChild(gt)}for(;j<this.textSpans.length;)this.textSpans[j].span.style.display="none",j+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var j=this.layerElement.getBBox();this.bbox={top:j.y,left:j.x,width:j.width,height:j.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var j,g,b=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,j=0;j<b;j+=1)(g=this.textSpans[j].glyph)&&(g.prepareFrame(this.comp.renderedFrame-this.data.st),g._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var j,g;this._sizeChanged=!0;var b,$,_e,et=this.textAnimator.renderedLetters,tt=this.textProperty.currentData.l;for(g=tt.length,j=0;j<g;j+=1)tt[j].n||(b=et[j],$=this.textSpans[j].span,(_e=this.textSpans[j].glyph)&&_e.renderFrame(),b._mdf.m&&$.setAttribute("transform",b.m),b._mdf.o&&$.setAttribute("opacity",b.o),b._mdf.sw&&$.setAttribute("stroke-width",b.sw),b._mdf.sc&&$.setAttribute("stroke",b.sc),b._mdf.fc&&$.setAttribute("fill",b.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var j=createNS("rect");j.setAttribute("width",this.data.sw),j.setAttribute("height",this.data.sh),j.setAttribute("fill",this.data.sc),this.layerElement.appendChild(j)},NullElement.prototype.prepareFrame=function(j){this.prepareProperties(j,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(j){return new NullElement(j,this.globalData,this)},SVGRendererBase.prototype.createShape=function(j){return new SVGShapeElement(j,this.globalData,this)},SVGRendererBase.prototype.createText=function(j){return new SVGTextLottieElement(j,this.globalData,this)},SVGRendererBase.prototype.createImage=function(j){return new IImageElement(j,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(j){return new ISolidElement(j,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(j){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+j.w+" "+j.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",j.w),this.svgElement.setAttribute("height",j.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var g=this.globalData.defs;this.setupGlobalData(j,g),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=j;var b=createNS("clipPath"),$=createNS("rect");$.setAttribute("width",j.w),$.setAttribute("height",j.h),$.setAttribute("x",0),$.setAttribute("y",0);var _e=createElementID();b.setAttribute("id",_e),b.appendChild($),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+_e+")"),g.appendChild(b),this.layers=j.layers,this.elements=createSizedArray(j.layers.length)},SVGRendererBase.prototype.destroy=function(){var j;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var g=this.layers?this.layers.length:0;for(j=0;j<g;j+=1)this.elements[j]&&this.elements[j].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(j){var g=this.elements;if(!g[j]&&this.layers[j].ty!==99){g[j]=!0;var b=this.createItem(this.layers[j]);g[j]=b,getExpressionsPlugin()&&(this.layers[j].ty===0&&this.globalData.projectInterface.registerComposition(b),b.initExpressions()),this.appendElementInPos(b,j),this.layers[j].tt&&(this.elements[j-1]&&this.elements[j-1]!==!0?b.setMatte(g[j-1].layerId):(this.buildItem(j-1),this.addPendingElement(b)))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var j=this.pendingElements.pop();if(j.checkParenting(),j.data.tt)for(var g=0,b=this.elements.length;g<b;){if(this.elements[g]===j){j.setMatte(this.elements[g-1].layerId);break}g+=1}}},SVGRendererBase.prototype.renderFrame=function(j){if(this.renderedFrame!==j&&!this.destroyed){var g;j===null?j=this.renderedFrame:this.renderedFrame=j,this.globalData.frameNum=j,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=j,this.globalData._mdf=!1;var b=this.layers.length;for(this.completeLayers||this.checkLayers(j),g=b-1;g>=0;g-=1)(this.completeLayers||this.elements[g])&&this.elements[g].prepareFrame(j-this.layers[g].st);if(this.globalData._mdf)for(g=0;g<b;g+=1)(this.completeLayers||this.elements[g])&&this.elements[g].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(j,g){var b=j.getBaseElement();if(b){for(var $,_e=0;_e<g;)this.elements[_e]&&this.elements[_e]!==!0&&this.elements[_e].getBaseElement()&&($=this.elements[_e].getBaseElement()),_e+=1;$?this.layerElement.insertBefore(b,$):this.layerElement.appendChild(b)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(j,g,b){this.initFrame(),this.initBaseData(j,g,b),this.initTransform(j,g,b),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&g.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(j){if(this._mdf=!1,this.prepareRenderableFrame(j),this.prepareProperties(j,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=j/this.data.sr;else{var g=this.tm.v;g===this.data.op&&(g=this.data.op-1),this.renderedFrame=g}var b,$=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),b=$-1;b>=0;b-=1)(this.completeLayers||this.elements[b])&&(this.elements[b].prepareFrame(this.renderedFrame-this.layers[b].st),this.elements[b]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var j,g=this.layers.length;for(j=0;j<g;j+=1)(this.completeLayers||this.elements[j])&&this.elements[j].renderFrame()},ICompElement.prototype.setElements=function(j){this.elements=j},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var j,g=this.layers.length;for(j=0;j<g;j+=1)this.elements[j]&&this.elements[j].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(j){return new SVGCompElement(j,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(j){return new SVGCompElement(j,this.globalData,this)},registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier);var Expressions=function(){var j={};return j.initExpressions=function(g){var b=0,$=[];g.renderer.compInterface=CompExpressionInterface(g.renderer),g.renderer.globalData.projectInterface.registerComposition(g.renderer),g.renderer.globalData.pushExpression=function(){b+=1},g.renderer.globalData.popExpression=function(){(b-=1)==0&&function(){var _e,et=$.length;for(_e=0;_e<et;_e+=1)$[_e].release();$.length=0}()},g.renderer.globalData.registerExpressionProperty=function(_e){$.indexOf(_e)===-1&&$.push(_e)}},j}();function _typeof$1(j){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof$1(j)}function seedRandom(j,g){var b,$=this,_e=256,et=g.pow(_e,6),tt=g.pow(2,52),nt=2*tt,rt=255;function it(ut){var ct,ft=ut.length,ht=this,dt=0,pt=ht.i=ht.j=0,mt=ht.S=[];for(ft||(ut=[ft++]);dt<_e;)mt[dt]=dt++;for(dt=0;dt<_e;dt++)mt[dt]=mt[pt=rt&pt+ut[dt%ft]+(ct=mt[dt])],mt[pt]=ct;ht.g=function(gt){for(var yt,_t=0,vt=ht.i,At=ht.j,bt=ht.S;gt--;)yt=bt[vt=rt&vt+1],_t=_t*_e+bt[rt&(bt[vt]=bt[At=rt&At+yt])+(bt[At]=yt)];return ht.i=vt,ht.j=At,_t}}function ot(ut,ct){return ct.i=ut.i,ct.j=ut.j,ct.S=ut.S.slice(),ct}function st(ut,ct){var ft,ht=[],dt=_typeof$1(ut);if(ct&&dt=="object")for(ft in ut)try{ht.push(st(ut[ft],ct-1))}catch{}return ht.length?ht:dt=="string"?ut:ut+"\0"}function at(ut,ct){for(var ft,ht=ut+"",dt=0;dt<ht.length;)ct[rt&dt]=rt&(ft^=19*ct[rt&dt])+ht.charCodeAt(dt++);return lt(ct)}function lt(ut){return String.fromCharCode.apply(0,ut)}g.seedrandom=function(ut,ct,ft){var ht=[],dt=at(st((ct=ct===!0?{entropy:!0}:ct||{}).entropy?[ut,lt(j)]:ut===null?function(){try{var gt=new Uint8Array(_e);return($.crypto||$.msCrypto).getRandomValues(gt),lt(gt)}catch{var yt=$.navigator,_t=yt&&yt.plugins;return[+new Date,$,_t,$.screen,lt(j)]}}():ut,3),ht),pt=new it(ht),mt=function(){for(var gt=pt.g(6),yt=et,_t=0;gt<tt;)gt=(gt+_t)*_e,yt*=_e,_t=pt.g(1);for(;gt>=nt;)gt/=2,yt/=2,_t>>>=1;return(gt+_t)/yt};return mt.int32=function(){return 0|pt.g(4)},mt.quick=function(){return pt.g(4)/4294967296},mt.double=mt,at(lt(pt.S),j),(ct.pass||ft||function(gt,yt,_t,vt){return vt&&(vt.S&&ot(vt,pt),gt.state=function(){return ot(pt,{})}),_t?(g.random=gt,yt):gt})(mt,dt,"global"in ct?ct.global:this==g,ct.state)},at(g.random(),j)}function initialize$2(j){seedRandom([],j)}var propTypes={SHAPE:"shape"};function _typeof(j){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof(j)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(j){return j.constructor===Array||j.constructor===Float32Array}function isNumerable(j,g){return j==="number"||j==="boolean"||j==="string"||g instanceof Number}function $bm_neg(j){var g=_typeof(j);if(g==="number"||g==="boolean"||j instanceof Number)return-j;if($bm_isInstanceOfArray(j)){var b,$=j.length,_e=[];for(b=0;b<$;b+=1)_e[b]=-j[b];return _e}return j.propType?j.v:-j}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(j,g){var b=_typeof(j),$=_typeof(g);if(b==="string"||$==="string"||isNumerable(b,j)&&isNumerable($,g))return j+g;if($bm_isInstanceOfArray(j)&&isNumerable($,g))return(j=j.slice(0))[0]+=g,j;if(isNumerable(b,j)&&$bm_isInstanceOfArray(g))return(g=g.slice(0))[0]=j+g[0],g;if($bm_isInstanceOfArray(j)&&$bm_isInstanceOfArray(g)){for(var _e=0,et=j.length,tt=g.length,nt=[];_e<et||_e<tt;)(typeof j[_e]=="number"||j[_e]instanceof Number)&&(typeof g[_e]=="number"||g[_e]instanceof Number)?nt[_e]=j[_e]+g[_e]:nt[_e]=g[_e]===void 0?j[_e]:j[_e]||g[_e],_e+=1;return nt}return 0}var add=sum;function sub(j,g){var b=_typeof(j),$=_typeof(g);if(isNumerable(b,j)&&isNumerable($,g))return b==="string"&&(j=parseInt(j,10)),$==="string"&&(g=parseInt(g,10)),j-g;if($bm_isInstanceOfArray(j)&&isNumerable($,g))return(j=j.slice(0))[0]-=g,j;if(isNumerable(b,j)&&$bm_isInstanceOfArray(g))return(g=g.slice(0))[0]=j-g[0],g;if($bm_isInstanceOfArray(j)&&$bm_isInstanceOfArray(g)){for(var _e=0,et=j.length,tt=g.length,nt=[];_e<et||_e<tt;)(typeof j[_e]=="number"||j[_e]instanceof Number)&&(typeof g[_e]=="number"||g[_e]instanceof Number)?nt[_e]=j[_e]-g[_e]:nt[_e]=g[_e]===void 0?j[_e]:j[_e]||g[_e],_e+=1;return nt}return 0}function mul(j,g){var b,$,_e,et=_typeof(j),tt=_typeof(g);if(isNumerable(et,j)&&isNumerable(tt,g))return j*g;if($bm_isInstanceOfArray(j)&&isNumerable(tt,g)){for(_e=j.length,b=createTypedArray("float32",_e),$=0;$<_e;$+=1)b[$]=j[$]*g;return b}if(isNumerable(et,j)&&$bm_isInstanceOfArray(g)){for(_e=g.length,b=createTypedArray("float32",_e),$=0;$<_e;$+=1)b[$]=j*g[$];return b}return 0}function div(j,g){var b,$,_e,et=_typeof(j),tt=_typeof(g);if(isNumerable(et,j)&&isNumerable(tt,g))return j/g;if($bm_isInstanceOfArray(j)&&isNumerable(tt,g)){for(_e=j.length,b=createTypedArray("float32",_e),$=0;$<_e;$+=1)b[$]=j[$]/g;return b}if(isNumerable(et,j)&&$bm_isInstanceOfArray(g)){for(_e=g.length,b=createTypedArray("float32",_e),$=0;$<_e;$+=1)b[$]=j/g[$];return b}return 0}function mod(j,g){return typeof j=="string"&&(j=parseInt(j,10)),typeof g=="string"&&(g=parseInt(g,10)),j%g}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(j,g,b){if(g>b){var $=b;b=g,g=$}return Math.min(Math.max(j,g),b)}function radiansToDegrees(j){return j/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(j){return j*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(j,g){if(typeof j=="number"||j instanceof Number)return g=g||0,Math.abs(j-g);var b;g||(g=helperLengthArray);var $=Math.min(j.length,g.length),_e=0;for(b=0;b<$;b+=1)_e+=Math.pow(g[b]-j[b],2);return Math.sqrt(_e)}function normalize(j){return div(j,length(j))}function rgbToHsl(j){var g,b,$=j[0],_e=j[1],et=j[2],tt=Math.max($,_e,et),nt=Math.min($,_e,et),rt=(tt+nt)/2;if(tt===nt)g=0,b=0;else{var it=tt-nt;switch(b=rt>.5?it/(2-tt-nt):it/(tt+nt),tt){case $:g=(_e-et)/it+(_e<et?6:0);break;case _e:g=(et-$)/it+2;break;case et:g=($-_e)/it+4}g/=6}return[g,b,rt,j[3]]}function hue2rgb(j,g,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?j+6*(g-j)*b:b<.5?g:b<2/3?j+(g-j)*(2/3-b)*6:j}function hslToRgb(j){var g,b,$,_e=j[0],et=j[1],tt=j[2];if(et===0)g=tt,$=tt,b=tt;else{var nt=tt<.5?tt*(1+et):tt+et-tt*et,rt=2*tt-nt;g=hue2rgb(rt,nt,_e+1/3),b=hue2rgb(rt,nt,_e),$=hue2rgb(rt,nt,_e-1/3)}return[g,b,$,j[3]]}function linear(j,g,b,$,_e){if($!==void 0&&_e!==void 0||($=g,_e=b,g=0,b=1),b<g){var et=b;b=g,g=et}if(j<=g)return $;if(j>=b)return _e;var tt,nt=b===g?0:(j-g)/(b-g);if(!$.length)return $+(_e-$)*nt;var rt=$.length,it=createTypedArray("float32",rt);for(tt=0;tt<rt;tt+=1)it[tt]=$[tt]+(_e[tt]-$[tt])*nt;return it}function random(j,g){if(g===void 0&&(j===void 0?(j=0,g=1):(g=j,j=void 0)),g.length){var b,$=g.length;j||(j=createTypedArray("float32",$));var _e=createTypedArray("float32",$),et=BMMath.random();for(b=0;b<$;b+=1)_e[b]=j[b]+et*(g[b]-j[b]);return _e}return j===void 0&&(j=0),j+BMMath.random()*(g-j)}function createPath(j,g,b,$){var _e,et=j.length,tt=shapePool.newElement();tt.setPathData(!!$,et);var nt,rt,it=[0,0];for(_e=0;_e<et;_e+=1)nt=g&&g[_e]?g[_e]:it,rt=b&&b[_e]?b[_e]:it,tt.setTripleAt(j[_e][0],j[_e][1],rt[0]+j[_e][0],rt[1]+j[_e][1],nt[0]+j[_e][0],nt[1]+j[_e][1],_e,!0);return tt}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function(j,g){var b,$,_e=this.pv.length?this.pv.length:1,et=createTypedArray("float32",_e),tt=Math.floor(5*time);for(b=0,$=0;b<tt;){for($=0;$<_e;$+=1)et[$]+=-g+2*g*BMMath.random();b+=1}var nt=5*time,rt=nt-Math.floor(nt),it=createTypedArray("float32",_e);if(_e>1){for($=0;$<_e;$+=1)it[$]=this.pv[$]+et[$]+(-g+2*g*BMMath.random())*rt;return it}return this.pv+et[0]+(-g+2*g*BMMath.random())*rt}.bind(this);function loopInDuration(j,g){return loopIn(j,g,!0)}function loopOutDuration(j,g){return loopOut(j,g,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(j,g){var b=[g[0]-j[0],g[1]-j[1],g[2]-j[2]],$=Math.atan2(b[0],Math.sqrt(b[1]*b[1]+b[2]*b[2]))/degToRads;return[-Math.atan2(b[1],b[2])/degToRads,$,0]}function easeOut(j,g,b,$,_e){return applyEase(easeOutBez,j,g,b,$,_e)}function easeIn(j,g,b,$,_e){return applyEase(easeInBez,j,g,b,$,_e)}function ease(j,g,b,$,_e){return applyEase(easeInOutBez,j,g,b,$,_e)}function applyEase(j,g,b,$,_e,et){_e===void 0?(_e=b,et=$):g=(g-b)/($-b),g>1?g=1:g<0&&(g=0);var tt=j(g);if($bm_isInstanceOfArray(_e)){var nt,rt=_e.length,it=createTypedArray("float32",rt);for(nt=0;nt<rt;nt+=1)it[nt]=(et[nt]-_e[nt])*tt+_e[nt];return it}return(et-_e)*tt+_e}function nearestKey(j){var g,b,$,_e=data.k.length;if(data.k.length&&typeof data.k[0]!="number")if(b=-1,(j*=elem.comp.globalData.frameRate)<data.k[0].t)b=1,$=data.k[0].t;else{for(g=0;g<_e-1;g+=1){if(j===data.k[g].t){b=g+1,$=data.k[g].t;break}if(j>data.k[g].t&&j<data.k[g+1].t){j-data.k[g].t>data.k[g+1].t-j?(b=g+2,$=data.k[g+1].t):(b=g+1,$=data.k[g].t);break}}b===-1&&(b=g+1,$=data.k[g].t)}else b=0,$=0;var et={};return et.index=b,et.time=$/elem.comp.globalData.frameRate,et}function key(j){var g,b,$;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+j);j-=1,g={time:data.k[j].t/elem.comp.globalData.frameRate,value:[]};var _e=Object.prototype.hasOwnProperty.call(data.k[j],"s")?data.k[j].s:data.k[j-1].e;for($=_e.length,b=0;b<$;b+=1)g[b]=_e[b],g.value[b]=_e[b];return g}function framesToTime(j,g){return g||(g=elem.comp.globalData.frameRate),j/g}function timeToFrames(j,g){return j||j===0||(j=time),g||(g=elem.comp.globalData.frameRate),j*g}function seedRandom(j){BMMath.seedrandom(randSeed+j)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(j,g){return typeof value=="string"?g===void 0?value.substring(j):value.substring(j,g):""}function substr(j,g){return typeof value=="string"?g===void 0?value.substr(j):value.substr(j,g):""}function posterizeTime(j){time=j===0?0:Math.floor(time*j)/j,value=valueAtTime(time)}var index=elem.data.ind;!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(j){return value=j,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(j,g,b){g.x&&(b.k=!0,b.x=!0,b.initiateExpression=ExpressionManager.initiateExpression,b.effectsSequence.push(b.initiateExpression(j,g,b).bind(b)))},getSpeedAtTime:function(j){var g=this.getValueAtTime(j),b=this.getValueAtTime(j+-.01),$=0;if(g.length){var _e;for(_e=0;_e<g.length;_e+=1)$+=Math.pow(b[_e]-g[_e],2);$=100*Math.sqrt($)}else $=0;return $},getVelocityAtTime:function(j){if(this.vel!==void 0)return this.vel;var g,b,$=-.001,_e=this.getValueAtTime(j),et=this.getValueAtTime(j+$);if(_e.length)for(g=createTypedArray("float32",_e.length),b=0;b<_e.length;b+=1)g[b]=(et[b]-_e[b])/$;else g=(et-_e)/$;return g},getValueAtTime:function(j){return j*=this.elem.globalData.frameRate,(j-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<j?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(j,this._cachingAtTime),this._cachingAtTime.lastFrame=j),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(j){this.propertyGroup=j}};function addPropertyDecorator(){function j(st,at,lt){if(!this.k||!this.keyframes)return this.pv;st=st?st.toLowerCase():"";var ut,ct,ft,ht,dt,pt=this.comp.renderedFrame,mt=this.keyframes,gt=mt[mt.length-1].t;if(pt<=gt)return this.pv;if(lt?ct=gt-(ut=at?Math.abs(gt-this.elem.comp.globalData.frameRate*at):Math.max(0,gt-this.elem.data.ip)):((!at||at>mt.length-1)&&(at=mt.length-1),ut=gt-(ct=mt[mt.length-1-at].t)),st==="pingpong"){if(Math.floor((pt-ct)/ut)%2!=0)return this.getValueAtTime((ut-(pt-ct)%ut+ct)/this.comp.globalData.frameRate,0)}else{if(st==="offset"){var yt=this.getValueAtTime(ct/this.comp.globalData.frameRate,0),_t=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),vt=this.getValueAtTime(((pt-ct)%ut+ct)/this.comp.globalData.frameRate,0),At=Math.floor((pt-ct)/ut);if(this.pv.length){for(ht=(dt=new Array(yt.length)).length,ft=0;ft<ht;ft+=1)dt[ft]=(_t[ft]-yt[ft])*At+vt[ft];return dt}return(_t-yt)*At+vt}if(st==="continue"){var bt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),xt=this.getValueAtTime((gt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ht=(dt=new Array(bt.length)).length,ft=0;ft<ht;ft+=1)dt[ft]=bt[ft]+(bt[ft]-xt[ft])*((pt-gt)/this.comp.globalData.frameRate)/5e-4;return dt}return bt+(pt-gt)/.001*(bt-xt)}}return this.getValueAtTime(((pt-ct)%ut+ct)/this.comp.globalData.frameRate,0)}function g(st,at,lt){if(!this.k)return this.pv;st=st?st.toLowerCase():"";var ut,ct,ft,ht,dt,pt=this.comp.renderedFrame,mt=this.keyframes,gt=mt[0].t;if(pt>=gt)return this.pv;if(lt?ct=gt+(ut=at?Math.abs(this.elem.comp.globalData.frameRate*at):Math.max(0,this.elem.data.op-gt)):((!at||at>mt.length-1)&&(at=mt.length-1),ut=(ct=mt[at].t)-gt),st==="pingpong"){if(Math.floor((gt-pt)/ut)%2==0)return this.getValueAtTime(((gt-pt)%ut+gt)/this.comp.globalData.frameRate,0)}else{if(st==="offset"){var yt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),_t=this.getValueAtTime(ct/this.comp.globalData.frameRate,0),vt=this.getValueAtTime((ut-(gt-pt)%ut+gt)/this.comp.globalData.frameRate,0),At=Math.floor((gt-pt)/ut)+1;if(this.pv.length){for(ht=(dt=new Array(yt.length)).length,ft=0;ft<ht;ft+=1)dt[ft]=vt[ft]-(_t[ft]-yt[ft])*At;return dt}return vt-(_t-yt)*At}if(st==="continue"){var bt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),xt=this.getValueAtTime((gt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ht=(dt=new Array(bt.length)).length,ft=0;ft<ht;ft+=1)dt[ft]=bt[ft]+(bt[ft]-xt[ft])*(gt-pt)/.001;return dt}return bt+(bt-xt)*(gt-pt)/.001}}return this.getValueAtTime((ut-((gt-pt)%ut+gt))/this.comp.globalData.frameRate,0)}function b(st,at){if(!this.k)return this.pv;if(st=.5*(st||.4),(at=Math.floor(at||5))<=1)return this.pv;var lt,ut,ct=this.comp.renderedFrame/this.comp.globalData.frameRate,ft=ct-st,ht=at>1?(ct+st-ft)/(at-1):1,dt=0,pt=0;for(lt=this.pv.length?createTypedArray("float32",this.pv.length):0;dt<at;){if(ut=this.getValueAtTime(ft+dt*ht),this.pv.length)for(pt=0;pt<this.pv.length;pt+=1)lt[pt]+=ut[pt];else lt+=ut;dt+=1}if(this.pv.length)for(pt=0;pt<this.pv.length;pt+=1)lt[pt]/=at;else lt/=at;return lt}function $(st){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var at=this._transformCachingAtTime.v;if(at.cloneFromProps(this.pre.props),this.appliedTransformations<1){var lt=this.a.getValueAtTime(st);at.translate(-lt[0]*this.a.mult,-lt[1]*this.a.mult,lt[2]*this.a.mult)}if(this.appliedTransformations<2){var ut=this.s.getValueAtTime(st);at.scale(ut[0]*this.s.mult,ut[1]*this.s.mult,ut[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ct=this.sk.getValueAtTime(st),ft=this.sa.getValueAtTime(st);at.skewFromAxis(-ct*this.sk.mult,ft*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var ht=this.r.getValueAtTime(st);at.rotate(-ht*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var dt=this.rz.getValueAtTime(st),pt=this.ry.getValueAtTime(st),mt=this.rx.getValueAtTime(st),gt=this.or.getValueAtTime(st);at.rotateZ(-dt*this.rz.mult).rotateY(pt*this.ry.mult).rotateX(mt*this.rx.mult).rotateZ(-gt[2]*this.or.mult).rotateY(gt[1]*this.or.mult).rotateX(gt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var yt=this.px.getValueAtTime(st),_t=this.py.getValueAtTime(st);if(this.data.p.z){var vt=this.pz.getValueAtTime(st);at.translate(yt*this.px.mult,_t*this.py.mult,-vt*this.pz.mult)}else at.translate(yt*this.px.mult,_t*this.py.mult,0)}else{var At=this.p.getValueAtTime(st);at.translate(At[0]*this.p.mult,At[1]*this.p.mult,-At[2]*this.p.mult)}return at}function _e(){return this.v.clone(new Matrix)}var et=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(st,at,lt){var ut=et(st,at,lt);return ut.dynamicProperties.length?ut.getValueAtTime=$.bind(ut):ut.getValueAtTime=_e.bind(ut),ut.setGroupProperty=expressionHelpers.setGroupProperty,ut};var tt=PropertyFactory.getProp;PropertyFactory.getProp=function(st,at,lt,ut,ct){var ft=tt(st,at,lt,ut,ct);ft.kf?ft.getValueAtTime=expressionHelpers.getValueAtTime.bind(ft):ft.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(ft),ft.setGroupProperty=expressionHelpers.setGroupProperty,ft.loopOut=j,ft.loopIn=g,ft.smooth=b,ft.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(ft),ft.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(ft),ft.numKeys=at.a===1?at.k.length:0,ft.propertyIndex=at.ix;var ht=0;return lt!==0&&(ht=createTypedArray("float32",at.a===1?at.k[0].s.length:at.k.length)),ft._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:ht},expressionHelpers.searchExpressions(st,at,ft),ft.k&&ct.addDynamicProperty(ft),ft};var nt=ShapePropertyFactory.getConstructorFunction(),rt=ShapePropertyFactory.getKeyframedConstructorFunction();function it(){}it.prototype={vertices:function(st,at){this.k&&this.getValue();var lt,ut=this.v;at!==void 0&&(ut=this.getValueAtTime(at,0));var ct=ut._length,ft=ut[st],ht=ut.v,dt=createSizedArray(ct);for(lt=0;lt<ct;lt+=1)dt[lt]=st==="i"||st==="o"?[ft[lt][0]-ht[lt][0],ft[lt][1]-ht[lt][1]]:[ft[lt][0],ft[lt][1]];return dt},points:function(st){return this.vertices("v",st)},inTangents:function(st){return this.vertices("i",st)},outTangents:function(st){return this.vertices("o",st)},isClosed:function(){return this.v.c},pointOnPath:function(st,at){var lt=this.v;at!==void 0&&(lt=this.getValueAtTime(at,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(lt));for(var ut,ct=this._segmentsLength,ft=ct.lengths,ht=ct.totalLength*st,dt=0,pt=ft.length,mt=0;dt<pt;){if(mt+ft[dt].addedLength>ht){var gt=dt,yt=lt.c&&dt===pt-1?0:dt+1,_t=(ht-mt)/ft[dt].addedLength;ut=bez.getPointInSegment(lt.v[gt],lt.v[yt],lt.o[gt],lt.i[yt],_t,ft[dt]);break}mt+=ft[dt].addedLength,dt+=1}return ut||(ut=lt.c?[lt.v[0][0],lt.v[0][1]]:[lt.v[lt._length-1][0],lt.v[lt._length-1][1]]),ut},vectorOnPath:function(st,at,lt){st==1?st=this.v.c:st==0&&(st=.999);var ut=this.pointOnPath(st,at),ct=this.pointOnPath(st+.001,at),ft=ct[0]-ut[0],ht=ct[1]-ut[1],dt=Math.sqrt(Math.pow(ft,2)+Math.pow(ht,2));return dt===0?[0,0]:lt==="tangent"?[ft/dt,ht/dt]:[-ht/dt,ft/dt]},tangentOnPath:function(st,at){return this.vectorOnPath(st,at,"tangent")},normalOnPath:function(st,at){return this.vectorOnPath(st,at,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([it],nt),extendPrototype([it],rt),rt.prototype.getValueAtTime=function(st){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),st*=this.elem.globalData.frameRate,(st-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<st?this._caching.lastIndex:0,this._cachingAtTime.lastTime=st,this.interpolateShape(st,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},rt.prototype.initiateExpression=ExpressionManager.initiateExpression;var ot=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(st,at,lt,ut,ct){var ft=ot(st,at,lt,ut,ct);return ft.propertyIndex=at.ix,ft.lock=!1,lt===3?expressionHelpers.searchExpressions(st,at.pt,ft):lt===4&&expressionHelpers.searchExpressions(st,at.ks,ft),ft.k&&st.addDynamicProperty(ft),ft}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(j,g){var b=this.calculateExpression(g);if(j.t!==b){var $={};return this.copyData($,j),$.t=b.toString(),$.__complete=!1,$}return j},TextProperty.prototype.searchProperty=function(){var j=this.searchKeyframes(),g=this.searchExpressions();return this.kf=j||g,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(j,g,b,$,_e){this.filterManager=g;var et=createNS("feColorMatrix");et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","linearRGB"),et.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),et.setAttribute("result",$+"_tint_1"),j.appendChild(et),(et=createNS("feColorMatrix")).setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),et.setAttribute("result",$+"_tint_2"),j.appendChild(et),this.matrixFilter=et;var tt=this.createMergeNode($,[_e,$+"_tint_1",$+"_tint_2"]);j.appendChild(tt)}function SVGFillFilter(j,g,b,$){this.filterManager=g;var _e=createNS("feColorMatrix");_e.setAttribute("type","matrix"),_e.setAttribute("color-interpolation-filters","sRGB"),_e.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),_e.setAttribute("result",$),j.appendChild(_e),this.matrixFilter=_e}function SVGStrokeEffect(j,g,b){this.initialized=!1,this.filterManager=g,this.elem=b,this.paths=[]}function SVGTritoneFilter(j,g,b,$){this.filterManager=g;var _e=createNS("feColorMatrix");_e.setAttribute("type","matrix"),_e.setAttribute("color-interpolation-filters","linearRGB"),_e.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),j.appendChild(_e);var et=createNS("feComponentTransfer");et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("result",$),this.matrixFilter=et;var tt=createNS("feFuncR");tt.setAttribute("type","table"),et.appendChild(tt),this.feFuncR=tt;var nt=createNS("feFuncG");nt.setAttribute("type","table"),et.appendChild(nt),this.feFuncG=nt;var rt=createNS("feFuncB");rt.setAttribute("type","table"),et.appendChild(rt),this.feFuncB=rt,j.appendChild(et)}function SVGProLevelsFilter(j,g,b,$){this.filterManager=g;var _e=this.filterManager.effectElements,et=createNS("feComponentTransfer");(_e[10].p.k||_e[10].p.v!==0||_e[11].p.k||_e[11].p.v!==1||_e[12].p.k||_e[12].p.v!==1||_e[13].p.k||_e[13].p.v!==0||_e[14].p.k||_e[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",et)),(_e[17].p.k||_e[17].p.v!==0||_e[18].p.k||_e[18].p.v!==1||_e[19].p.k||_e[19].p.v!==1||_e[20].p.k||_e[20].p.v!==0||_e[21].p.k||_e[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",et)),(_e[24].p.k||_e[24].p.v!==0||_e[25].p.k||_e[25].p.v!==1||_e[26].p.k||_e[26].p.v!==1||_e[27].p.k||_e[27].p.v!==0||_e[28].p.k||_e[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",et)),(_e[31].p.k||_e[31].p.v!==0||_e[32].p.k||_e[32].p.v!==1||_e[33].p.k||_e[33].p.v!==1||_e[34].p.k||_e[34].p.v!==0||_e[35].p.k||_e[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",et)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(et.setAttribute("color-interpolation-filters","sRGB"),j.appendChild(et)),(_e[3].p.k||_e[3].p.v!==0||_e[4].p.k||_e[4].p.v!==1||_e[5].p.k||_e[5].p.v!==1||_e[6].p.k||_e[6].p.v!==0||_e[7].p.k||_e[7].p.v!==1)&&((et=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("result",$),j.appendChild(et),this.feFuncRComposed=this.createFeFunc("feFuncR",et),this.feFuncGComposed=this.createFeFunc("feFuncG",et),this.feFuncBComposed=this.createFeFunc("feFuncB",et))}function SVGDropShadowEffect(j,g,b,$,_e){var et=g.container.globalData.renderConfig.filterSize,tt=g.data.fs||et;j.setAttribute("x",tt.x||et.x),j.setAttribute("y",tt.y||et.y),j.setAttribute("width",tt.width||et.width),j.setAttribute("height",tt.height||et.height),this.filterManager=g;var nt=createNS("feGaussianBlur");nt.setAttribute("in","SourceAlpha"),nt.setAttribute("result",$+"_drop_shadow_1"),nt.setAttribute("stdDeviation","0"),this.feGaussianBlur=nt,j.appendChild(nt);var rt=createNS("feOffset");rt.setAttribute("dx","25"),rt.setAttribute("dy","0"),rt.setAttribute("in",$+"_drop_shadow_1"),rt.setAttribute("result",$+"_drop_shadow_2"),this.feOffset=rt,j.appendChild(rt);var it=createNS("feFlood");it.setAttribute("flood-color","#00ff00"),it.setAttribute("flood-opacity","1"),it.setAttribute("result",$+"_drop_shadow_3"),this.feFlood=it,j.appendChild(it);var ot=createNS("feComposite");ot.setAttribute("in",$+"_drop_shadow_3"),ot.setAttribute("in2",$+"_drop_shadow_2"),ot.setAttribute("operator","in"),ot.setAttribute("result",$+"_drop_shadow_4"),j.appendChild(ot);var st=this.createMergeNode($,[$+"_drop_shadow_4",_e]);j.appendChild(st)}SVGComposableEffect.prototype={createMergeNode:function(j,g){var b,$,_e=createNS("feMerge");for(_e.setAttribute("result",j),$=0;$<g.length;$+=1)(b=createNS("feMergeNode")).setAttribute("in",g[$]),_e.appendChild(b),_e.appendChild(b);return _e}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){var g=this.filterManager.effectElements[0].p.v,b=this.filterManager.effectElements[1].p.v,$=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",b[0]-g[0]+" 0 0 0 "+g[0]+" "+(b[1]-g[1])+" 0 0 0 "+g[1]+" "+(b[2]-g[2])+" 0 0 0 "+g[2]+" 0 0 0 "+$+" 0")}},SVGFillFilter.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){var g=this.filterManager.effectElements[2].p.v,b=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+g[0]+" 0 0 0 0 "+g[1]+" 0 0 0 0 "+g[2]+" 0 0 0 "+b+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var j,g,b,$,_e=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?($=this.elem.maskManager.masksProperties.length,b=0):$=(b=this.filterManager.effectElements[0].p.v-1)+1,(g=createNS("g")).setAttribute("fill","none"),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-dashoffset",1);b<$;b+=1)j=createNS("path"),g.appendChild(j),this.paths.push({p:j,m:b});if(this.filterManager.effectElements[10].p.v===3){var et=createNS("mask"),tt=createElementID();et.setAttribute("id",tt),et.setAttribute("mask-type","alpha"),et.appendChild(g),this.elem.globalData.defs.appendChild(et);var nt=createNS("g");for(nt.setAttribute("mask","url("+getLocationHref()+"#"+tt+")");_e[0];)nt.appendChild(_e[0]);this.elem.layerElement.appendChild(nt),this.masker=et,g.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(_e=this.elem.layerElement.children||this.elem.layerElement.childNodes;_e.length;)this.elem.layerElement.removeChild(_e[0]);this.elem.layerElement.appendChild(g),this.elem.layerElement.removeAttribute("mask"),g.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=g},SVGStrokeEffect.prototype.renderFrame=function(j){var g;this.initialized||this.initialize();var b,$,_e=this.paths.length;for(g=0;g<_e;g+=1)if(this.paths[g].m!==-1&&(b=this.elem.maskManager.viewData[this.paths[g].m],$=this.paths[g].p,(j||this.filterManager._mdf||b.prop._mdf)&&$.setAttribute("d",b.lastPath),j||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||b.prop._mdf)){var et;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var tt=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),nt=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),rt=$.getTotalLength();et="0 0 0 "+rt*tt+" ";var it,ot=rt*(nt-tt),st=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,at=Math.floor(ot/st);for(it=0;it<at;it+=1)et+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";et+="0 "+10*rt+" 0 0"}else et="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;$.setAttribute("stroke-dasharray",et)}if((j||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(j||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(j||this.filterManager.effectElements[3].p._mdf)){var lt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*lt[0])+","+bmFloor(255*lt[1])+","+bmFloor(255*lt[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){var g=this.filterManager.effectElements[0].p.v,b=this.filterManager.effectElements[1].p.v,$=this.filterManager.effectElements[2].p.v,_e=$[0]+" "+b[0]+" "+g[0],et=$[1]+" "+b[1]+" "+g[1],tt=$[2]+" "+b[2]+" "+g[2];this.feFuncR.setAttribute("tableValues",_e),this.feFuncG.setAttribute("tableValues",et),this.feFuncB.setAttribute("tableValues",tt)}},SVGProLevelsFilter.prototype.createFeFunc=function(j,g){var b=createNS(j);return b.setAttribute("type","table"),g.appendChild(b),b},SVGProLevelsFilter.prototype.getTableValue=function(j,g,b,$,_e){for(var et,tt,nt=0,rt=Math.min(j,g),it=Math.max(j,g),ot=Array.call(null,{length:256}),st=0,at=_e-$,lt=g-j;nt<=256;)tt=(et=nt/256)<=rt?lt<0?_e:$:et>=it?lt<0?$:_e:$+at*Math.pow((et-j)/lt,1/b),ot[st]=tt,st+=1,nt+=256/255;return ot.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){var g,b=this.filterManager.effectElements;this.feFuncRComposed&&(j||b[3].p._mdf||b[4].p._mdf||b[5].p._mdf||b[6].p._mdf||b[7].p._mdf)&&(g=this.getTableValue(b[3].p.v,b[4].p.v,b[5].p.v,b[6].p.v,b[7].p.v),this.feFuncRComposed.setAttribute("tableValues",g),this.feFuncGComposed.setAttribute("tableValues",g),this.feFuncBComposed.setAttribute("tableValues",g)),this.feFuncR&&(j||b[10].p._mdf||b[11].p._mdf||b[12].p._mdf||b[13].p._mdf||b[14].p._mdf)&&(g=this.getTableValue(b[10].p.v,b[11].p.v,b[12].p.v,b[13].p.v,b[14].p.v),this.feFuncR.setAttribute("tableValues",g)),this.feFuncG&&(j||b[17].p._mdf||b[18].p._mdf||b[19].p._mdf||b[20].p._mdf||b[21].p._mdf)&&(g=this.getTableValue(b[17].p.v,b[18].p.v,b[19].p.v,b[20].p.v,b[21].p.v),this.feFuncG.setAttribute("tableValues",g)),this.feFuncB&&(j||b[24].p._mdf||b[25].p._mdf||b[26].p._mdf||b[27].p._mdf||b[28].p._mdf)&&(g=this.getTableValue(b[24].p.v,b[25].p.v,b[26].p.v,b[27].p.v,b[28].p.v),this.feFuncB.setAttribute("tableValues",g)),this.feFuncA&&(j||b[31].p._mdf||b[32].p._mdf||b[33].p._mdf||b[34].p._mdf||b[35].p._mdf)&&(g=this.getTableValue(b[31].p.v,b[32].p.v,b[33].p.v,b[34].p.v,b[35].p.v),this.feFuncA.setAttribute("tableValues",g))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){if((j||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),j||this.filterManager.effectElements[0].p._mdf){var g=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*g[0]),Math.round(255*g[1]),Math.round(255*g[2])))}if((j||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),j||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var b=this.filterManager.effectElements[3].p.v,$=(this.filterManager.effectElements[2].p.v-90)*degToRads,_e=b*Math.cos($),et=b*Math.sin($);this.feOffset.setAttribute("dx",_e),this.feOffset.setAttribute("dy",et)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(j,g,b){this.initialized=!1,this.filterManager=g,this.filterElem=j,this.elem=b,b.matteElement=createNS("g"),b.matteElement.appendChild(b.layerElement),b.matteElement.appendChild(b.transformedElement),b.baseElement=b.matteElement}function SVGGaussianBlurEffect(j,g,b,$){j.setAttribute("x","-100%"),j.setAttribute("y","-100%"),j.setAttribute("width","300%"),j.setAttribute("height","300%"),this.filterManager=g;var _e=createNS("feGaussianBlur");_e.setAttribute("result",$),j.appendChild(_e),this.feGaussianBlur=_e}return SVGMatte3Effect.prototype.findSymbol=function(j){for(var g=0,b=_svgMatteSymbols.length;g<b;){if(_svgMatteSymbols[g]===j)return _svgMatteSymbols[g];g+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(j,g){var b=j.layerElement.parentNode;if(b){for(var $,_e=b.children,et=0,tt=_e.length;et<tt&&_e[et]!==j.layerElement;)et+=1;et<=tt-2&&($=_e[et+1]);var nt=createNS("use");nt.setAttribute("href","#"+g),$?b.insertBefore(nt,$):b.appendChild(nt)}},SVGMatte3Effect.prototype.setElementAsMask=function(j,g){if(!this.findSymbol(g)){var b=createElementID(),$=createNS("mask");$.setAttribute("id",g.layerId),$.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(g);var _e=j.globalData.defs;_e.appendChild($);var et=createNS("symbol");et.setAttribute("id",b),this.replaceInParent(g,b),et.appendChild(g.layerElement),_e.appendChild(et);var tt=createNS("use");tt.setAttribute("href","#"+b),$.appendChild(tt),g.data.hd=!1,g.show()}j.setMatte(g.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var j=this.filterManager.effectElements[0].p.v,g=this.elem.comp.elements,b=0,$=g.length;b<$;)g[b]&&g[b].data.ind===j&&this.setElementAsMask(this.elem,g[b]),b+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(j){if(j||this.filterManager._mdf){var g=.3*this.filterManager.effectElements[0].p.v,b=this.filterManager.effectElements[1].p.v,$=b==3?0:g,_e=b==2?0:g;this.feGaussianBlur.setAttribute("stdDeviation",$+" "+_e);var et=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",et)}},setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})})(lottie_svg_min,lottie_svg_min.exports);var lottie=lottie_svg_min.exports;const useLottie=(j,g)=>{const{animationData:b,loop:$,autoplay:_e,initialSegment:et,onComplete:tt,onLoopComplete:nt,onEnterFrame:rt,onSegmentStart:it,onConfigReady:ot,onDataReady:st,onDataFailed:at,onLoadedImages:lt,onDOMLoaded:ut,onDestroy:ct,lottieRef:ft,renderer:ht,name:dt,assetsPath:pt,rendererSettings:mt,...gt}=j,[yt,_t]=react.exports.useState(!1),vt=react.exports.useRef(),At=react.exports.useRef(null),bt=()=>{var Ft;(Ft=vt.current)==null||Ft.play()},xt=()=>{var Ft;(Ft=vt.current)==null||Ft.stop()},Et=()=>{var Ft;(Ft=vt.current)==null||Ft.pause()},Mt=Ft=>{var It;(It=vt.current)==null||It.setSpeed(Ft)},Tt=(Ft,It)=>{var Ut;(Ut=vt.current)==null||Ut.goToAndPlay(Ft,It)},Lt=(Ft,It)=>{var Ut;(Ut=vt.current)==null||Ut.goToAndStop(Ft,It)},Ot=Ft=>{var It;(It=vt.current)==null||It.setDirection(Ft)},Rt=(Ft,It)=>{var Ut;(Ut=vt.current)==null||Ut.playSegments(Ft,It)},Ct=Ft=>{var It;(It=vt.current)==null||It.setSubframe(Ft)},Dt=Ft=>{var It;return(It=vt.current)==null?void 0:It.getDuration(Ft)},Bt=()=>{var Ft;(Ft=vt.current)==null||Ft.destroy()},kt=(Ft={})=>{var Ut;if(!At.current)return;(Ut=vt.current)==null||Ut.destroy();const It={...j,...Ft,container:At.current};vt.current=lottie.loadAnimation(It),_t(!!vt.current)};return react.exports.useEffect(()=>{kt()},[b]),react.exports.useEffect(()=>{!vt.current||(vt.current.loop=!!$,$&&vt.current.isPaused&&vt.current.play())},[$]),react.exports.useEffect(()=>{!vt.current||(vt.current.autoplay=!!_e)},[_e]),react.exports.useEffect(()=>{!vt.current||!et||!Array.isArray(et)||!et.length||((vt.current.currentRawFrame<et[0]||vt.current.currentRawFrame>et[1])&&(vt.current.currentRawFrame=et[0]),vt.current.setSegment(et[0],et[1]))},[et]),react.exports.useEffect(()=>{const It=[{name:"complete",handler:tt},{name:"loopComplete",handler:nt},{name:"enterFrame",handler:rt},{name:"segmentStart",handler:it},{name:"config_ready",handler:ot},{name:"data_ready",handler:st},{name:"data_failed",handler:at},{name:"loaded_images",handler:lt},{name:"DOMLoaded",handler:ut},{name:"destroy",handler:ct}].filter(Gt=>Gt.handler!=null);if(!It.length)return;const Ut=It.map(Gt=>{var jt;return(jt=vt.current)==null||jt.addEventListener(Gt.name,Gt.handler),()=>{var Yt;(Yt=vt.current)==null||Yt.removeEventListener(Gt.name,Gt.handler)}});return()=>{Ut.forEach(Gt=>Gt())}},[tt,nt,rt,it,ot,st,at,lt,ut,ct]),{View:jsx("div",{style:g,ref:At,...gt}),play:bt,stop:xt,pause:Et,setSpeed:Mt,goToAndStop:Lt,goToAndPlay:Tt,setDirection:Ot,playSegments:Rt,setSubframe:Ct,getDuration:Dt,destroy:Bt,animationContainerRef:At,animationLoaded:yt,animationItem:vt.current}};function getContainerVisibility(j){const{top:g,height:b}=j.getBoundingClientRect(),$=window.innerHeight-g,_e=window.innerHeight+b;return $/_e}function getContainerCursorPosition(j,g,b){const{top:$,left:_e,width:et,height:tt}=j.getBoundingClientRect(),nt=(g-_e)/et,rt=(b-$)/tt;return{x:nt,y:rt}}const useInitInteractivity=({wrapperRef:j,animationItem:g,mode:b,actions:$})=>{react.exports.useEffect(()=>{const _e=j.current;if(!_e||!g)return;g.stop();const et=()=>{let nt=null;const rt=()=>{const it=getContainerVisibility(_e),ot=$.find(({visibility:st})=>st&&it>=st[0]&&it<=st[1]);if(!!ot){if(ot.type==="seek"&&ot.visibility&&ot.frames.length===2){const st=ot.frames[0]+Math.ceil((it-ot.visibility[0])/(ot.visibility[1]-ot.visibility[0])*ot.frames[1]);//! goToAndStop must be relative to the start of the current segment
g.goToAndStop(st-g.firstFrame-1,!0)}ot.type==="loop"&&(nt===null||nt!==ot.frames||g.isPaused)&&(g.playSegments(ot.frames,!0),nt=ot.frames),ot.type==="play"&&g.isPaused&&(g.resetSegments(!0),g.play()),ot.type==="stop"&&g.goToAndStop(ot.frames[0]-g.firstFrame-1,!0)}};return document.addEventListener("scroll",rt),()=>{document.removeEventListener("scroll",rt)}},tt=()=>{const nt=(ot,st)=>{let at=ot,lt=st;if(at!==-1&&lt!==-1){const ct=getContainerCursorPosition(_e,at,lt);at=ct.x,lt=ct.y}const ut=$.find(({position:ct})=>ct&&Array.isArray(ct.x)&&Array.isArray(ct.y)?at>=ct.x[0]&&at<=ct.x[1]&&lt>=ct.y[0]&&lt<=ct.y[1]:ct&&!Number.isNaN(ct.x)&&!Number.isNaN(ct.y)?at===ct.x&&lt===ct.y:!1);if(!!ut){if(ut.type==="seek"&&ut.position&&Array.isArray(ut.position.x)&&Array.isArray(ut.position.y)&&ut.frames.length===2){const ct=(at-ut.position.x[0])/(ut.position.x[1]-ut.position.x[0]),ft=(lt-ut.position.y[0])/(ut.position.y[1]-ut.position.y[0]);g.playSegments(ut.frames,!0),g.goToAndStop(Math.ceil((ct+ft)/2*(ut.frames[1]-ut.frames[0])),!0)}ut.type==="loop"&&g.playSegments(ut.frames,!0),ut.type==="play"&&(g.isPaused&&g.resetSegments(!1),g.playSegments(ut.frames)),ut.type==="stop"&&g.goToAndStop(ut.frames[0],!0)}},rt=ot=>{nt(ot.clientX,ot.clientY)},it=()=>{nt(-1,-1)};return _e.addEventListener("mousemove",rt),_e.addEventListener("mouseout",it),()=>{_e.removeEventListener("mousemove",rt),_e.removeEventListener("mouseout",it)}};switch(b){case"scroll":return et();case"cursor":return tt()}},[b,g])},useLottieInteractivity=({actions:j,mode:g,lottieObj:b})=>{const{animationItem:$,View:_e}=b;return useInitInteractivity({actions:j,animationItem:$,mode:g,wrapperRef:b.animationContainerRef}),_e},Lottie=j=>{var pt;const{style:g,interactivity:b,...$}=j,{View:_e,play:et,stop:tt,pause:nt,setSpeed:rt,goToAndStop:it,goToAndPlay:ot,setDirection:st,playSegments:at,setSubframe:lt,getDuration:ut,destroy:ct,animationContainerRef:ft,animationLoaded:ht,animationItem:dt}=useLottie($,g);return react.exports.useEffect(()=>{j.lottieRef&&(j.lottieRef.current={play:et,stop:tt,pause:nt,setSpeed:rt,goToAndPlay:ot,goToAndStop:it,setDirection:st,playSegments:at,setSubframe:lt,getDuration:ut,destroy:ct,animationContainerRef:ft,animationLoaded:ht,animationItem:dt})},[(pt=j.lottieRef)==null?void 0:pt.current]),b?useLottieInteractivity({lottieObj:{View:_e,play:et,stop:tt,pause:nt,setSpeed:rt,goToAndStop:it,goToAndPlay:ot,setDirection:st,playSegments:at,setSubframe:lt,getDuration:ut,destroy:ct,animationContainerRef:ft,animationLoaded:ht,animationItem:dt},...b}):_e},v$2="4.8.0",meta$2={g:"LottieFiles AE 3.0.0",a:"",k:"",d:"",tc:""},fr$2=25,ip$2=0,op$2=99,w$2=45,h$2=25,nm$2="PC-AnimPicto-ClickToEnter",ddd$2=0,assets$2=[],layers$2=[{ddd:0,ind:1,ty:3,nm:"CT-Picto",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[20.5,15.5,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ip:0,op:500,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Hand",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.392],y:[.819]},o:{x:[.636],y:[0]},t:13,s:[0]},{i:{x:[.999],y:[1]},o:{x:[.581],y:[-.038]},t:32,s:[30]},{i:{x:[0],y:[.977]},o:{x:[.13],y:[.042]},t:38,s:[-14]},{i:{x:[.722],y:[1]},o:{x:[.898],y:[-.043]},t:50,s:[30]},{t:67,s:[0]}],ix:10},p:{a:1,k:[{i:{x:.392,y:.283},o:{x:.636,y:0},t:13,s:[3.716,7.172,0],to:[1.167,-.271,0],ti:[-.375,.292,0]},{i:{x:.999,y:.999},o:{x:.581,y:.399},t:31,s:[10.716,5.547,0],to:[.375,-.292,0],ti:[0,0,0]},{i:{x:0,y:.825},o:{x:.13,y:.316},t:38,s:[5.966,5.422,0],to:[0,0,0],ti:[.375,-.292,0]},{i:{x:.722,y:1},o:{x:.898,y:.181},t:48,s:[10.716,5.547,0],to:[-.375,.292,0],ti:[1.167,-.271,0]},{t:65,s:[3.716,7.172,0]}],ix:2},a:{a:0,k:[9.856,16.473,0],ix:1},s:{a:1,k:[{i:{x:[.392,.392,.392],y:[.678,.678,-4.151]},o:{x:[.636,.636,.636],y:[0,0,0]},t:13,s:[100,100,100]},{i:{x:[.999,.999,.999],y:[1,1,.996]},o:{x:[.581,.581,.581],y:[-.069,-.069,1.929]},t:31,s:[116,116,100]},{i:{x:[0,0,0],y:[.97,.97,.16]},o:{x:[.13,.13,.13],y:[.055,.055,1.527]},t:38,s:[88,88,100]},{i:{x:[.722,.722,.722],y:[1,1,1]},o:{x:[.898,.898,.898],y:[-.081,-.081,1.3]},t:48,s:[116,116,100]},{t:65,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.392,y:1},o:{x:.167,y:0},t:13,s:[{i:[[-1.307,0],[0,0],[0,2.25],[0,0],[.672,0],[0,-.673],[0,0],[0,0],[.663,0],[0,-.663],[0,0],[0,0],[.677,0],[0,-.678],[0,0],[0,0],[.663,0],[0,-.663],[0,0],[0,0],[.517,-.506],[-.27,-.498],[0,0]],o:[[0,0],[2.25,0],[0,0],[0,-.673],[-.672,0],[0,0],[0,0],[0,-.663],[-.663,0],[0,0],[0,0],[0,-.678],[-.677,0],[0,0],[0,0],[0,-.663],[-.663,0],[0,0],[0,0],[-.48,-.541],[-.405,.397],[0,0],[.625,1.148]],v:[[-.655,7.348],[2.908,7.348],[6.981,3.275],[6.981,-1.208],[5.764,-2.426],[4.546,-1.208],[4.546,-.247],[4.546,-1.872],[3.346,-3.074],[2.146,-1.872],[2.146,-.622],[2.146,-2.238],[.92,-3.464],[-.306,-2.238],[-.306,-.962],[-.306,-6.146],[-1.507,-7.348],[-2.707,-6.146],[-2.707,.861],[-4.651,-1.329],[-6.484,-1.393],[-6.711,.118],[-3.789,5.486]],c:!0}]},{i:{x:.999,y:.986},o:{x:.084,y:1},t:31,s:[{i:[[-1.307,0],[0,0],[0,2.25],[0,0],[.672,0],[0,-.673],[0,0],[0,0],[.663,0],[0,-.663],[0,0],[0,0],[.677,0],[0,-.678],[0,0],[0,0],[.663,0],[0,-.663],[0,0],[0,0],[.517,-.506],[-.27,-.498],[0,0]],o:[[0,0],[2.25,0],[0,0],[0,-.673],[-.672,0],[0,0],[0,0],[0,-.663],[-.663,0],[0,0],[0,0],[0,-.678],[-.677,0],[0,0],[0,0],[0,-.663],[-.663,0],[0,0],[0,0],[-.48,-.541],[-.405,.397],[0,0],[.625,1.148]],v:[[-.655,7.348],[2.908,7.348],[6.981,3.275],[6.981,-1.208],[5.764,-2.426],[4.546,-1.208],[4.546,-.247],[4.546,-1.872],[3.346,-3.074],[2.146,-1.872],[2.146,-.622],[2.146,-2.238],[.92,-3.464],[-.306,-2.238],[-.306,-.962],[-.306,-6.146],[-1.507,-7.348],[-2.707,-6.146],[-2.707,.861],[-4.651,-1.329],[-6.484,-1.393],[-6.711,.118],[-3.789,5.486]],c:!0}]},{i:{x:.524,y:0},o:{x:.034,y:1},t:44,s:[{i:[[-1.307,0],[0,0],[0,2.25],[0,0],[.672,0],[0,-.673],[0,0],[0,0],[.663,0],[0,-.663],[0,0],[0,0],[.677,0],[0,-.678],[0,0],[.245,1.42],[.788,-.085],[-.508,-1.388],[0,0],[0,0],[1.661,-.771],[-.163,-.969],[0,0]],o:[[0,0],[2.25,0],[0,0],[0,-.673],[-.672,0],[0,0],[0,0],[0,-.663],[-.663,0],[0,0],[0,0],[0,-.678],[-.677,0],[0,0],[0,0],[-.33,-1.91],[-.831,-.05],[.594,1.621],[0,0],[-.48,-.541],[-.777,.513],[0,0],[.625,1.148]],v:[[-.655,7.348],[2.908,7.348],[6.981,3.275],[6.981,-1.208],[5.764,-2.426],[4.546,-1.208],[4.546,-.247],[4.546,-1.872],[3.346,-3.074],[2.146,-1.872],[2.146,-.622],[2.146,-2.238],[.92,-3.464],[-.306,-2.238],[-.306,-.962],[-.765,-4.593],[-2.332,-8.139],[-3.239,-5.63],[-2.707,.861],[-4.537,-.034],[-7.129,-2.284],[-6.372,1.404],[-3.789,5.486]],c:!0}]},{i:{x:.722,y:1},o:{x:.469,y:1},t:49,s:[{i:[[-1.307,0],[0,0],[0,2.25],[0,0],[.672,0],[0,-.673],[0,0],[0,0],[.663,0],[0,-.663],[0,0],[0,0],[.677,0],[0,-.678],[0,0],[-.435,1.374],[.909,.732],[.834,-1.853],[0,0],[0,0],[1.011,-.042],[-.163,-.969],[0,0]],o:[[0,0],[2.25,0],[0,0],[0,-.673],[-.672,0],[0,0],[0,0],[0,-.663],[-.663,0],[0,0],[0,0],[0,-.678],[-.677,0],[0,0],[0,0],[.435,-1.374],[-.516,-.416],[-.708,1.574],[0,0],[-.48,-.541],[-.777,.513],[0,0],[.625,1.148]],v:[[-.655,7.348],[2.908,7.348],[6.981,3.275],[6.981,-1.208],[5.764,-2.426],[4.546,-1.208],[4.546,-.247],[4.546,-1.872],[3.346,-3.074],[2.146,-1.872],[2.146,-.622],[2.146,-2.238],[.92,-3.464],[-.306,-2.238],[-.306,-.962],[-.075,-4.421],[.459,-7.59],[-2.137,-5.355],[-2.707,.861],[-3.676,-1.137],[-5.475,-2.457],[-5.683,.404],[-3.789,5.486]],c:!0}]},{t:67,s:[{i:[[-1.307,0],[0,0],[0,2.25],[0,0],[.672,0],[0,-.673],[0,0],[0,0],[.663,0],[0,-.663],[0,0],[0,0],[.677,0],[0,-.678],[0,0],[0,0],[.663,0],[0,-.663],[0,0],[0,0],[.517,-.506],[-.27,-.498],[0,0]],o:[[0,0],[2.25,0],[0,0],[0,-.673],[-.672,0],[0,0],[0,0],[0,-.663],[-.663,0],[0,0],[0,0],[0,-.678],[-.677,0],[0,0],[0,0],[0,-.663],[-.663,0],[0,0],[0,0],[-.48,-.541],[-.405,.397],[0,0],[.625,1.148]],v:[[-.655,7.348],[2.908,7.348],[6.981,3.275],[6.981,-1.208],[5.764,-2.426],[4.546,-1.208],[4.546,-.247],[4.546,-1.872],[3.346,-3.074],[2.146,-1.872],[2.146,-.622],[2.146,-2.238],[.92,-3.464],[-.306,-2.238],[-.306,-.962],[-.306,-6.146],[-1.507,-7.348],[-2.707,-6.146],[-2.707,.861],[-4.651,-1.329],[-6.484,-1.393],[-6.711,.118],[-3.789,5.486]],c:!0}]}],ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:.75,ix:5},lc:2,lj:2,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[8.856,9.223],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:100,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Sparkles",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[1.244,-9.094,0],ix:2},a:{a:0,k:[6.224,3.202,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[9.553,6.028],[12.073,6.028]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:45,s:[0]},{i:{x:[.426],y:[1]},o:{x:[.632],y:[.529]},t:50,s:[0]},{t:63,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.182],y:[1]},o:{x:[.514],y:[.709]},t:37,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:45,s:[100]},{t:50,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:.75,ix:5},lc:2,lj:2,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-.868,.818],[.868,-.818]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:.75,ix:5},lc:2,lj:2,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:49,s:[0]},{i:{x:[.426],y:[1]},o:{x:[.632],y:[.529]},t:54,s:[0]},{t:67,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.182],y:[1]},o:{x:[.514],y:[.709]},t:41,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:49,s:[100]},{t:54,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tr",p:{a:0,k:[9.451,2.793],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 2",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[6.198,2.725],[6.198,.375]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:.75,ix:5},lc:2,lj:2,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:45,s:[0]},{i:{x:[.426],y:[1]},o:{x:[.632],y:[.529]},t:50,s:[0]},{t:63,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.182],y:[1]},o:{x:[.514],y:[.709]},t:37,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:45,s:[100]},{t:50,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 3",np:3,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[.877,.852],[-.877,-.852]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:.75,ix:5},lc:2,lj:2,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:49,s:[0]},{i:{x:[.426],y:[1]},o:{x:[.632],y:[.529]},t:54,s:[0]},{t:67,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.182],y:[1]},o:{x:[.514],y:[.709]},t:41,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:49,s:[100]},{t:54,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tr",p:{a:0,k:[2.92,2.81],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 4",np:3,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[2.895,6.028],[.375,6.028]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:.75,ix:5},lc:2,lj:2,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:45,s:[0]},{i:{x:[.426],y:[1]},o:{x:[.632],y:[.529]},t:50,s:[0]},{t:63,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.182],y:[1]},o:{x:[.514],y:[.709]},t:37,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:45,s:[100]},{t:50,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 5",np:3,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:0,op:100,st:0,bm:0}],markers$2=[];var click={v:v$2,meta:meta$2,fr:fr$2,ip:ip$2,op:op$2,w:w$2,h:h$2,nm:nm$2,ddd:ddd$2,assets:assets$2,layers:layers$2,markers:markers$2};const v$1="4.8.0",meta$1={g:"LottieFiles AE 3.0.2",a:"",k:"",d:"",tc:""},fr$1=25,ip$1=0,op$1=150,w$1=60,h$1=30,nm$1="PC-AnimPicto-DragToRotateAround",ddd$1=0,assets$1=[],layers$1=[{ddd:0,ind:1,ty:4,nm:"Arrow-Point",parent:2,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.326],y:[.267]},o:{x:[.664],y:[0]},t:13,s:[0]},{i:{x:[.184],y:[1]},o:{x:[.959],y:[-.141]},t:50,s:[-22]},{i:{x:[.826],y:[-.242]},o:{x:[.542],y:[0]},t:86,s:[172]},{i:{x:[.733],y:[.792]},o:{x:[.5],y:[.236]},t:103,s:[148.746]},{i:{x:[.309],y:[1]},o:{x:[.139],y:[.837]},t:108,s:[45.446]},{t:125,s:[0]}],ix:10},p:{a:1,k:[{i:{x:.79,y:.522},o:{x:.888,y:0},t:13,s:[13.345,16.521,0],to:[2.679,.972,0],ti:[-6.319,1.052,0]},{i:{x:.559,y:.57},o:{x:.245,y:.399},t:37,s:[29.584,16.771,0],to:[1.384,-.23,0],ti:[-1.709,.275,0]},{i:{x:.555,y:.868},o:{x:.237,y:.352},t:41,s:[33.351,16.255,0],to:[1.72,-.277,0],ti:[-1.021,.29,0]},{i:{x:.733,y:.05},o:{x:.406,y:.285},t:50,s:[38.845,15.146,0],to:[-1.64,.419,0],ti:[1.565,-.297,0]},{i:{x:.788,y:.673},o:{x:.498,y:.19},t:59,s:[36.412,15.969,0],to:[-7.386,1.404,0],ti:[5.404,.691,0]},{i:{x:.282,y:.958},o:{x:.258,y:.46},t:68,s:[12.507,16.419,0],to:[-15.082,-2.596,0],ti:[-31.871,.56,0]},{i:{x:.858,y:.556},o:{x:.627,y:.087},t:86,s:[25.72,1.021,0],to:[-6.65,.206,0],ti:[3.682,-.764,0]},{i:{x:.173,y:1},o:{x:.178,y:.463},t:103,s:[9.013,2.908,0],to:[-18.347,5.192,0],ti:[-4.84,.438,0]},{t:125,s:[13.345,16.521,0]}],ix:2},a:{a:0,k:[3.2,4.5,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ef:[{ty:21,nm:"Remplir",np:9,mn:"ADBE Fill",ix:1,en:1,ef:[{ty:10,nm:"Remplir le masque",mn:"ADBE Fill-0001",ix:1,v:{a:0,k:0,ix:1}},{ty:7,nm:"Tous les masques",mn:"ADBE Fill-0007",ix:2,v:{a:0,k:0,ix:2}},{ty:2,nm:"Couleur",mn:"ADBE Fill-0002",ix:3,v:{a:0,k:[1,1,1,1],ix:3}},{ty:7,nm:"Inversion",mn:"ADBE Fill-0006",ix:4,v:{a:0,k:0,ix:4}},{ty:0,nm:"Contour progressif horizontal",mn:"ADBE Fill-0003",ix:5,v:{a:0,k:0,ix:5}},{ty:0,nm:"Contour progressif vertical",mn:"ADBE Fill-0004",ix:6,v:{a:0,k:0,ix:6}},{ty:0,nm:"Opacit\xE9 ",mn:"ADBE Fill-0005",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-1.1,-.2],[.3,-2.7]],o:[[-.3,2.6],[-1.1,-.1],[0,0]],v:[[-1.3,-3.5],[2.2,.5],[-2.2,3.5]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.211764720842,.211764720842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[3.2,4.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:500,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Arrow-Circle",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[29.504,14.695,0],ix:2},a:{a:0,k:[22.959,9.309,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-4.589],[12.128,0],[0,4.589],[-12.128,0]],o:[[0,4.589],[-12.128,0],[0,-4.589],[12.128,0]],v:[[21.959,0],[0,8.309],[-21.959,0],[0,-8.309]],c:!0},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[22.959,9.309],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:0,k:87,ix:2},o:{a:1,k:[{i:{x:[.485],y:[.666]},o:{x:[.549],y:[0]},t:13,s:[123]},{i:{x:[.305],y:[.815]},o:{x:[.669],y:[-.149]},t:50,s:[35]},{i:{x:[.351],y:[1]},o:{x:[.478],y:[-.205]},t:86,s:[275]},{t:125,s:[123]}],ix:3},m:1,ix:2,nm:"R\xE9duire les trac\xE9s 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:500,st:0,bm:0}],markers$1=[];var drag={v:v$1,meta:meta$1,fr:fr$1,ip:ip$1,op:op$1,w:w$1,h:h$1,nm:nm$1,ddd:ddd$1,assets:assets$1,layers:layers$1,markers:markers$1};const v="4.8.0",meta={g:"LottieFiles AE 3.0.0",a:"",k:"",d:"",tc:""},fr=25,ip=0,op=150,w=45,h=45,nm="PC-AnimPicto-CloserLook",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:3,nm:"CT-Picto",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:1,k:[{i:{x:[.301],y:[.267]},o:{x:[.7],y:[0]},t:35,s:[0]},{i:{x:[.984],y:[.985]},o:{x:[.045],y:[.044]},t:62,s:[90]},{i:{x:[.306],y:[1]},o:{x:[.513],y:[.565]},t:111,s:[270]},{t:139,s:[360]}],ix:10},p:{a:0,k:[22.5,22.5,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:15,s:[100,100,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:21,s:[90,90,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:26,s:[110,110,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:31,s:[100,100,100]},{i:{x:[.252,.252,.833],y:[1,1,1]},o:{x:[.629,.629,.167],y:[0,0,0]},t:35,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:62,s:[226,226,100]},{i:{x:[.421,.421,.833],y:[1,1,1]},o:{x:[.639,.639,.167],y:[0,0,0]},t:111,s:[226,226,100]},{t:139,s:[100,100,100]}],ix:6}},ao:0,ip:0,op:500,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Circle",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[-.098,-.125,0],ix:2},a:{a:0,k:[4.543,4.519,0],ix:1},s:{a:1,k:[{i:{x:[.252,.252,.252],y:[1,1,1]},o:{x:[.629,.629,.629],y:[0,0,0]},t:35,s:[100,100,100]},{i:{x:[.252,.252,.252],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:62,s:[124,124,100]},{i:{x:[.41,.41,.833],y:[1,1,1]},o:{x:[.8,.8,.167],y:[0,0,0]},t:111,s:[124,124,100]},{t:139,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,1.605],[1.605,0],[0,-1.605],[-1.606,0]],o:[[0,-1.605],[-1.606,0],[0,1.605],[1.605,0]],v:[[2.907,0],[.001,-2.906],[-2.907,0],[.001,2.906]],c:!0},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.486],y:[1]},o:{x:[.544],y:[0]},t:35,s:[.7]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:62,s:[.4]},{i:{x:[.306],y:[1]},o:{x:[.605],y:[0]},t:111,s:[.4]},{t:139,s:[.7]}],ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[4.656,4.656],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:1500,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Strokes",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[0,.017,0],ix:2},a:{a:0,k:[11.162,11.18,0],ix:1},s:{a:1,k:[{i:{x:[.252,.252,.252],y:[1,1,1]},o:{x:[.629,.629,.629],y:[0,0,0]},t:35,s:[100,100,100]},{i:{x:[.252,.252,.252],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:62,s:[59,59,100]},{i:{x:[.295,.295,.833],y:[1,1,1]},o:{x:[.559,.559,.167],y:[0,0,0]},t:111,s:[59,59,100]},{t:139,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,.432],[0,0]],o:[[0,0],[.432,0],[0,0],[0,0]],v:[[-2.401,2.408],[1.618,2.408],[2.401,1.626],[2.401,-2.408]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.355],y:[1]},o:{x:[.687],y:[0]},t:35,s:[.7]},{i:{x:[.355],y:[1]},o:{x:[.167],y:[0]},t:62,s:[.9]},{i:{x:[.421],y:[1]},o:{x:[.651],y:[0]},t:111,s:[.9]},{t:139,s:[.7]}],ix:5},lc:2,lj:2,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[18.597,18.624],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[.432,0],[0,0]],o:[[0,0],[0,-.432],[0,0],[0,0]],v:[[2.408,2.401],[2.408,-1.618],[1.626,-2.401],[-2.408,-2.401]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.355],y:[1]},o:{x:[.687],y:[0]},t:35,s:[.7]},{i:{x:[.355],y:[1]},o:{x:[.167],y:[0]},t:62,s:[.9]},{i:{x:[.421],y:[1]},o:{x:[.651],y:[0]},t:111,s:[.9]},{t:139,s:[.7]}],ix:5},lc:2,lj:2,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[18.597,4.151],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,-.432],[0,0]],o:[[0,0],[-.432,0],[0,0],[0,0]],v:[[2.401,-2.408],[-1.618,-2.408],[-2.401,-1.626],[-2.401,2.408]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.355],y:[1]},o:{x:[.687],y:[0]},t:35,s:[.7]},{i:{x:[.355],y:[1]},o:{x:[.167],y:[0]},t:62,s:[.9]},{i:{x:[.421],y:[1]},o:{x:[.651],y:[0]},t:111,s:[.9]},{t:139,s:[.7]}],ix:5},lc:2,lj:2,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[4.158,4.158],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-.432,0],[0,0]],o:[[0,0],[0,.432],[0,0],[0,0]],v:[[-2.408,-2.401],[-2.408,1.618],[-1.626,2.401],[2.408,2.401]],c:!1},ix:2},nm:"Trac\xE9 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:1,k:[{i:{x:[.355],y:[1]},o:{x:[.687],y:[0]},t:35,s:[.7]},{i:{x:[.355],y:[1]},o:{x:[.167],y:[0]},t:62,s:[.9]},{i:{x:[.421],y:[1]},o:{x:[.651],y:[0]},t:111,s:[.9]},{t:139,s:[.7]}],ix:5},lc:2,lj:2,bm:0,nm:"Contour 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[4.158,18.632],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformer "}],nm:"Groupe 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:1500,st:0,bm:0}],markers=[];var closer={v,meta,fr,ip,op,w,h,nm,ddd,assets,layers,markers};const componentName$q="Instructions";debug(`front:${componentName$q}`);function Instructions(j){const[g,b]=react.exports.useState(null),$=react.exports.useRef(null),_e=react.exports.useRef(null),[et,tt]=react.exports.useState(null);return react.exports.useLayoutEffect(()=>{window.addEventListener("instruction",nt=>{tt(null),gsapWithCSS.timeline().to($.current,{autoAlpha:0,duration:.2,onComplete:()=>{var rt;(rt=nt.detail)!=null&&rt.label&&b(nt.detail)}}).to($.current,{autoAlpha:1,duration:.2})})},[]),react.exports.useEffect(()=>{if(!!g)switch(g.logo){case ELottieInstruction.CLICK:tt(click);break;case ELottieInstruction.DRAG:tt(drag);break;case ELottieInstruction.CLOSER:tt(closer);break}},[g]),jsx("div",{className:merge([css$6.root,j.className]),children:jsxs("div",{className:css$6.wrapper,ref:$,children:[et&&jsx(Lottie,{lottieRef:_e,animationData:et,autoplay:!0,loop:!0,className:merge([css$6.icon,(g==null?void 0:g.logo)==ELottieInstruction.CLICK&&css$6.iconClick,(g==null?void 0:g.logo)==ELottieInstruction.DRAG&&css$6.iconDrag,(g==null?void 0:g.logo)==ELottieInstruction.CLOSER&&css$6.iconCloser])}),jsx("div",{className:css$6.navIndication,dangerouslySetInnerHTML:{__html:g==null?void 0:g.label}})]})})}const root$4="lxt5s",wrapper$2="vON-p",iconWrapper="Xv7rX",icon$2="Lz1NH",text="J-SJM";var css$5={root:root$4,wrapper:wrapper$2,iconWrapper,icon:icon$2,text},icon$1="/icon-mobile-landscape.e62a0624.svg";const componentName$p="MobileLandscape";debug(`front:${componentName$p}`);function MobileLandscape(j){const{appDataContext:g}=react.exports.useContext(AppDataContext);return jsx("div",{className:merge([css$5.root,j.className]),children:jsxs("div",{className:css$5.wrapper,children:[jsx("div",{className:css$5.iconWrapper,children:jsx("img",{className:css$5.icon,src:icon$1,alt:g.dictionary.landscape_mobile_alt})}),jsx("p",{className:css$5.text,children:g.dictionary.landscape_mobile_text})]})})}const root$3="oVSnX",topOverlay="afE88",bottomOverlay="CL3ws";var css$4={root:root$3,topOverlay,bottomOverlay};const componentName$o="Overlay";debug(`front:${componentName$o}`);function Overlay(j){return jsxs("div",{className:merge([css$4.root,j.className]),children:[jsx("div",{className:css$4.topOverlay}),jsx("div",{className:css$4.bottomOverlay})]})}const root$2="x8sh-",wrapper$1="_2ZLcD",scaleAnimation="sH2wj",opacityAnimation="Es15k",icon="EWvin";var css$3={root:root$2,wrapper:wrapper$1,scaleAnimation,opacityAnimation,icon},EPoiEventName=(j=>(j.SLUG="set:poiSlug",j.POSITION="set:poiPosition",j))(EPoiEventName||{});class PoiService extends EventEmitter$1{constructor(){super()}addSlug(g){this.emit("set:poiSlug",g)}addPosition(g){this.emit("set:poiPosition",g)}}const poiService=new PoiService;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="138",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,FlatShading=1,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,CubeUVRefractionMapping=307,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,KeepStencilOp=7680,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher$1{addEventListener(g,b){this._listeners===void 0&&(this._listeners={});const $=this._listeners;$[g]===void 0&&($[g]=[]),$[g].indexOf(b)===-1&&$[g].push(b)}hasEventListener(g,b){if(this._listeners===void 0)return!1;const $=this._listeners;return $[g]!==void 0&&$[g].indexOf(b)!==-1}removeEventListener(g,b){if(this._listeners===void 0)return;const _e=this._listeners[g];if(_e!==void 0){const et=_e.indexOf(b);et!==-1&&_e.splice(et,1)}}dispatchEvent(g){if(this._listeners===void 0)return;const $=this._listeners[g.type];if($!==void 0){g.target=this;const _e=$.slice(0);for(let et=0,tt=_e.length;et<tt;et++)_e[et].call(this,g);g.target=null}}}const _lut$1=[];for(let j=0;j<256;j++)_lut$1[j]=(j<16?"0":"")+j.toString(16);let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const j=Math.random()*4294967295|0,g=Math.random()*4294967295|0,b=Math.random()*4294967295|0,$=Math.random()*4294967295|0;return(_lut$1[j&255]+_lut$1[j>>8&255]+_lut$1[j>>16&255]+_lut$1[j>>24&255]+"-"+_lut$1[g&255]+_lut$1[g>>8&255]+"-"+_lut$1[g>>16&15|64]+_lut$1[g>>24&255]+"-"+_lut$1[b&63|128]+_lut$1[b>>8&255]+"-"+_lut$1[b>>16&255]+_lut$1[b>>24&255]+_lut$1[$&255]+_lut$1[$>>8&255]+_lut$1[$>>16&255]+_lut$1[$>>24&255]).toUpperCase()}function clamp$1(j,g,b){return Math.max(g,Math.min(b,j))}function euclideanModulo(j,g){return(j%g+g)%g}function mapLinear(j,g,b,$,_e){return $+(j-g)*(_e-$)/(b-g)}function inverseLerp(j,g,b){return j!==g?(b-j)/(g-j):0}function lerp(j,g,b){return(1-b)*j+b*g}function damp(j,g,b,$){return lerp(j,g,1-Math.exp(-b*$))}function pingpong(j,g=1){return g-Math.abs(euclideanModulo(j,g*2)-g)}function smoothstep(j,g,b){return j<=g?0:j>=b?1:(j=(j-g)/(b-g),j*j*(3-2*j))}function smootherstep(j,g,b){return j<=g?0:j>=b?1:(j=(j-g)/(b-g),j*j*j*(j*(j*6-15)+10))}function randInt(j,g){return j+Math.floor(Math.random()*(g-j+1))}function randFloat(j,g){return j+Math.random()*(g-j)}function randFloatSpread(j){return j*(.5-Math.random())}function seededRandom(j){return j!==void 0&&(_seed=j%2147483647),_seed=_seed*16807%2147483647,(_seed-1)/2147483646}function degToRad(j){return j*DEG2RAD}function radToDeg(j){return j*RAD2DEG}function isPowerOfTwo(j){return(j&j-1)===0&&j!==0}function ceilPowerOfTwo(j){return Math.pow(2,Math.ceil(Math.log(j)/Math.LN2))}function floorPowerOfTwo(j){return Math.pow(2,Math.floor(Math.log(j)/Math.LN2))}function setQuaternionFromProperEuler(j,g,b,$,_e){const et=Math.cos,tt=Math.sin,nt=et(b/2),rt=tt(b/2),it=et((g+$)/2),ot=tt((g+$)/2),st=et((g-$)/2),at=tt((g-$)/2),lt=et(($-g)/2),ut=tt(($-g)/2);switch(_e){case"XYX":j.set(nt*ot,rt*st,rt*at,nt*it);break;case"YZY":j.set(rt*at,nt*ot,rt*st,nt*it);break;case"ZXZ":j.set(rt*st,rt*at,nt*ot,nt*it);break;case"XZX":j.set(nt*ot,rt*ut,rt*lt,nt*it);break;case"YXY":j.set(rt*lt,nt*ot,rt*ut,nt*it);break;case"ZYZ":j.set(rt*ut,rt*lt,nt*ot,nt*it);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+_e)}}var MathUtils=Object.freeze({__proto__:null,DEG2RAD,RAD2DEG,generateUUID:generateUUID$1,clamp:clamp$1,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler});class Vector2{constructor(g=0,b=0){this.x=g,this.y=b}get width(){return this.x}set width(g){this.x=g}get height(){return this.y}set height(g){this.y=g}set(g,b){return this.x=g,this.y=b,this}setScalar(g){return this.x=g,this.y=g,this}setX(g){return this.x=g,this}setY(g){return this.y=g,this}setComponent(g,b){switch(g){case 0:this.x=b;break;case 1:this.y=b;break;default:throw new Error("index is out of range: "+g)}return this}getComponent(g){switch(g){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+g)}}clone(){return new this.constructor(this.x,this.y)}copy(g){return this.x=g.x,this.y=g.y,this}add(g,b){return b!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(g,b)):(this.x+=g.x,this.y+=g.y,this)}addScalar(g){return this.x+=g,this.y+=g,this}addVectors(g,b){return this.x=g.x+b.x,this.y=g.y+b.y,this}addScaledVector(g,b){return this.x+=g.x*b,this.y+=g.y*b,this}sub(g,b){return b!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(g,b)):(this.x-=g.x,this.y-=g.y,this)}subScalar(g){return this.x-=g,this.y-=g,this}subVectors(g,b){return this.x=g.x-b.x,this.y=g.y-b.y,this}multiply(g){return this.x*=g.x,this.y*=g.y,this}multiplyScalar(g){return this.x*=g,this.y*=g,this}divide(g){return this.x/=g.x,this.y/=g.y,this}divideScalar(g){return this.multiplyScalar(1/g)}applyMatrix3(g){const b=this.x,$=this.y,_e=g.elements;return this.x=_e[0]*b+_e[3]*$+_e[6],this.y=_e[1]*b+_e[4]*$+_e[7],this}min(g){return this.x=Math.min(this.x,g.x),this.y=Math.min(this.y,g.y),this}max(g){return this.x=Math.max(this.x,g.x),this.y=Math.max(this.y,g.y),this}clamp(g,b){return this.x=Math.max(g.x,Math.min(b.x,this.x)),this.y=Math.max(g.y,Math.min(b.y,this.y)),this}clampScalar(g,b){return this.x=Math.max(g,Math.min(b,this.x)),this.y=Math.max(g,Math.min(b,this.y)),this}clampLength(g,b){const $=this.length();return this.divideScalar($||1).multiplyScalar(Math.max(g,Math.min(b,$)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(g){return this.x*g.x+this.y*g.y}cross(g){return this.x*g.y-this.y*g.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(g){return Math.sqrt(this.distanceToSquared(g))}distanceToSquared(g){const b=this.x-g.x,$=this.y-g.y;return b*b+$*$}manhattanDistanceTo(g){return Math.abs(this.x-g.x)+Math.abs(this.y-g.y)}setLength(g){return this.normalize().multiplyScalar(g)}lerp(g,b){return this.x+=(g.x-this.x)*b,this.y+=(g.y-this.y)*b,this}lerpVectors(g,b,$){return this.x=g.x+(b.x-g.x)*$,this.y=g.y+(b.y-g.y)*$,this}equals(g){return g.x===this.x&&g.y===this.y}fromArray(g,b=0){return this.x=g[b],this.y=g[b+1],this}toArray(g=[],b=0){return g[b]=this.x,g[b+1]=this.y,g}fromBufferAttribute(g,b,$){return $!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=g.getX(b),this.y=g.getY(b),this}rotateAround(g,b){const $=Math.cos(b),_e=Math.sin(b),et=this.x-g.x,tt=this.y-g.y;return this.x=et*$-tt*_e+g.x,this.y=et*_e+tt*$+g.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Vector2.prototype.isVector2=!0;class Matrix3{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(g,b,$,_e,et,tt,nt,rt,it){const ot=this.elements;return ot[0]=g,ot[1]=_e,ot[2]=nt,ot[3]=b,ot[4]=et,ot[5]=rt,ot[6]=$,ot[7]=tt,ot[8]=it,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(g){const b=this.elements,$=g.elements;return b[0]=$[0],b[1]=$[1],b[2]=$[2],b[3]=$[3],b[4]=$[4],b[5]=$[5],b[6]=$[6],b[7]=$[7],b[8]=$[8],this}extractBasis(g,b,$){return g.setFromMatrix3Column(this,0),b.setFromMatrix3Column(this,1),$.setFromMatrix3Column(this,2),this}setFromMatrix4(g){const b=g.elements;return this.set(b[0],b[4],b[8],b[1],b[5],b[9],b[2],b[6],b[10]),this}multiply(g){return this.multiplyMatrices(this,g)}premultiply(g){return this.multiplyMatrices(g,this)}multiplyMatrices(g,b){const $=g.elements,_e=b.elements,et=this.elements,tt=$[0],nt=$[3],rt=$[6],it=$[1],ot=$[4],st=$[7],at=$[2],lt=$[5],ut=$[8],ct=_e[0],ft=_e[3],ht=_e[6],dt=_e[1],pt=_e[4],mt=_e[7],gt=_e[2],yt=_e[5],_t=_e[8];return et[0]=tt*ct+nt*dt+rt*gt,et[3]=tt*ft+nt*pt+rt*yt,et[6]=tt*ht+nt*mt+rt*_t,et[1]=it*ct+ot*dt+st*gt,et[4]=it*ft+ot*pt+st*yt,et[7]=it*ht+ot*mt+st*_t,et[2]=at*ct+lt*dt+ut*gt,et[5]=at*ft+lt*pt+ut*yt,et[8]=at*ht+lt*mt+ut*_t,this}multiplyScalar(g){const b=this.elements;return b[0]*=g,b[3]*=g,b[6]*=g,b[1]*=g,b[4]*=g,b[7]*=g,b[2]*=g,b[5]*=g,b[8]*=g,this}determinant(){const g=this.elements,b=g[0],$=g[1],_e=g[2],et=g[3],tt=g[4],nt=g[5],rt=g[6],it=g[7],ot=g[8];return b*tt*ot-b*nt*it-$*et*ot+$*nt*rt+_e*et*it-_e*tt*rt}invert(){const g=this.elements,b=g[0],$=g[1],_e=g[2],et=g[3],tt=g[4],nt=g[5],rt=g[6],it=g[7],ot=g[8],st=ot*tt-nt*it,at=nt*rt-ot*et,lt=it*et-tt*rt,ut=b*st+$*at+_e*lt;if(ut===0)return this.set(0,0,0,0,0,0,0,0,0);const ct=1/ut;return g[0]=st*ct,g[1]=(_e*it-ot*$)*ct,g[2]=(nt*$-_e*tt)*ct,g[3]=at*ct,g[4]=(ot*b-_e*rt)*ct,g[5]=(_e*et-nt*b)*ct,g[6]=lt*ct,g[7]=($*rt-it*b)*ct,g[8]=(tt*b-$*et)*ct,this}transpose(){let g;const b=this.elements;return g=b[1],b[1]=b[3],b[3]=g,g=b[2],b[2]=b[6],b[6]=g,g=b[5],b[5]=b[7],b[7]=g,this}getNormalMatrix(g){return this.setFromMatrix4(g).invert().transpose()}transposeIntoArray(g){const b=this.elements;return g[0]=b[0],g[1]=b[3],g[2]=b[6],g[3]=b[1],g[4]=b[4],g[5]=b[7],g[6]=b[2],g[7]=b[5],g[8]=b[8],this}setUvTransform(g,b,$,_e,et,tt,nt){const rt=Math.cos(et),it=Math.sin(et);return this.set($*rt,$*it,-$*(rt*tt+it*nt)+tt+g,-_e*it,_e*rt,-_e*(-it*tt+rt*nt)+nt+b,0,0,1),this}scale(g,b){const $=this.elements;return $[0]*=g,$[3]*=g,$[6]*=g,$[1]*=b,$[4]*=b,$[7]*=b,this}rotate(g){const b=Math.cos(g),$=Math.sin(g),_e=this.elements,et=_e[0],tt=_e[3],nt=_e[6],rt=_e[1],it=_e[4],ot=_e[7];return _e[0]=b*et+$*rt,_e[3]=b*tt+$*it,_e[6]=b*nt+$*ot,_e[1]=-$*et+b*rt,_e[4]=-$*tt+b*it,_e[7]=-$*nt+b*ot,this}translate(g,b){const $=this.elements;return $[0]+=g*$[2],$[3]+=g*$[5],$[6]+=g*$[8],$[1]+=b*$[2],$[4]+=b*$[5],$[7]+=b*$[8],this}equals(g){const b=this.elements,$=g.elements;for(let _e=0;_e<9;_e++)if(b[_e]!==$[_e])return!1;return!0}fromArray(g,b=0){for(let $=0;$<9;$++)this.elements[$]=g[$+b];return this}toArray(g=[],b=0){const $=this.elements;return g[b]=$[0],g[b+1]=$[1],g[b+2]=$[2],g[b+3]=$[3],g[b+4]=$[4],g[b+5]=$[5],g[b+6]=$[6],g[b+7]=$[7],g[b+8]=$[8],g}clone(){return new this.constructor().fromArray(this.elements)}}Matrix3.prototype.isMatrix3=!0;function arrayNeedsUint32(j){for(let g=j.length-1;g>=0;--g)if(j[g]>65535)return!0;return!1}function createElementNS$1(j){return document.createElementNS("http://www.w3.org/1999/xhtml",j)}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(j,g,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?j+(g-j)*6*b:b<1/2?g:b<2/3?j+(g-j)*6*(2/3-b):j}function SRGBToLinear(j){return j<.04045?j*.0773993808:Math.pow(j*.9478672986+.0521327014,2.4)}function LinearToSRGB(j){return j<.0031308?j*12.92:1.055*Math.pow(j,.41666)-.055}class Color{constructor(g,b,$){return b===void 0&&$===void 0?this.set(g):this.setRGB(g,b,$)}set(g){return g&&g.isColor?this.copy(g):typeof g=="number"?this.setHex(g):typeof g=="string"&&this.setStyle(g),this}setScalar(g){return this.r=g,this.g=g,this.b=g,this}setHex(g){return g=Math.floor(g),this.r=(g>>16&255)/255,this.g=(g>>8&255)/255,this.b=(g&255)/255,this}setRGB(g,b,$){return this.r=g,this.g=b,this.b=$,this}setHSL(g,b,$){if(g=euclideanModulo(g,1),b=clamp$1(b,0,1),$=clamp$1($,0,1),b===0)this.r=this.g=this.b=$;else{const _e=$<=.5?$*(1+b):$+b-$*b,et=2*$-_e;this.r=hue2rgb(et,_e,g+1/3),this.g=hue2rgb(et,_e,g),this.b=hue2rgb(et,_e,g-1/3)}return this}setStyle(g){function b(_e){_e!==void 0&&parseFloat(_e)<1&&console.warn("THREE.Color: Alpha component of "+g+" will be ignored.")}let $;if($=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(g)){let _e;const et=$[1],tt=$[2];switch(et){case"rgb":case"rgba":if(_e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(tt))return this.r=Math.min(255,parseInt(_e[1],10))/255,this.g=Math.min(255,parseInt(_e[2],10))/255,this.b=Math.min(255,parseInt(_e[3],10))/255,b(_e[4]),this;if(_e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(tt))return this.r=Math.min(100,parseInt(_e[1],10))/100,this.g=Math.min(100,parseInt(_e[2],10))/100,this.b=Math.min(100,parseInt(_e[3],10))/100,b(_e[4]),this;break;case"hsl":case"hsla":if(_e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(tt)){const nt=parseFloat(_e[1])/360,rt=parseInt(_e[2],10)/100,it=parseInt(_e[3],10)/100;return b(_e[4]),this.setHSL(nt,rt,it)}break}}else if($=/^\#([A-Fa-f\d]+)$/.exec(g)){const _e=$[1],et=_e.length;if(et===3)return this.r=parseInt(_e.charAt(0)+_e.charAt(0),16)/255,this.g=parseInt(_e.charAt(1)+_e.charAt(1),16)/255,this.b=parseInt(_e.charAt(2)+_e.charAt(2),16)/255,this;if(et===6)return this.r=parseInt(_e.charAt(0)+_e.charAt(1),16)/255,this.g=parseInt(_e.charAt(2)+_e.charAt(3),16)/255,this.b=parseInt(_e.charAt(4)+_e.charAt(5),16)/255,this}return g&&g.length>0?this.setColorName(g):this}setColorName(g){const b=_colorKeywords[g.toLowerCase()];return b!==void 0?this.setHex(b):console.warn("THREE.Color: Unknown color "+g),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(g){return this.r=g.r,this.g=g.g,this.b=g.b,this}copySRGBToLinear(g){return this.r=SRGBToLinear(g.r),this.g=SRGBToLinear(g.g),this.b=SRGBToLinear(g.b),this}copyLinearToSRGB(g){return this.r=LinearToSRGB(g.r),this.g=LinearToSRGB(g.g),this.b=LinearToSRGB(g.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(g){const b=this.r,$=this.g,_e=this.b,et=Math.max(b,$,_e),tt=Math.min(b,$,_e);let nt,rt;const it=(tt+et)/2;if(tt===et)nt=0,rt=0;else{const ot=et-tt;switch(rt=it<=.5?ot/(et+tt):ot/(2-et-tt),et){case b:nt=($-_e)/ot+($<_e?6:0);break;case $:nt=(_e-b)/ot+2;break;case _e:nt=(b-$)/ot+4;break}nt/=6}return g.h=nt,g.s=rt,g.l=it,g}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(g,b,$){return this.getHSL(_hslA),_hslA.h+=g,_hslA.s+=b,_hslA.l+=$,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(g){return this.r+=g.r,this.g+=g.g,this.b+=g.b,this}addColors(g,b){return this.r=g.r+b.r,this.g=g.g+b.g,this.b=g.b+b.b,this}addScalar(g){return this.r+=g,this.g+=g,this.b+=g,this}sub(g){return this.r=Math.max(0,this.r-g.r),this.g=Math.max(0,this.g-g.g),this.b=Math.max(0,this.b-g.b),this}multiply(g){return this.r*=g.r,this.g*=g.g,this.b*=g.b,this}multiplyScalar(g){return this.r*=g,this.g*=g,this.b*=g,this}lerp(g,b){return this.r+=(g.r-this.r)*b,this.g+=(g.g-this.g)*b,this.b+=(g.b-this.b)*b,this}lerpColors(g,b,$){return this.r=g.r+(b.r-g.r)*$,this.g=g.g+(b.g-g.g)*$,this.b=g.b+(b.b-g.b)*$,this}lerpHSL(g,b){this.getHSL(_hslA),g.getHSL(_hslB);const $=lerp(_hslA.h,_hslB.h,b),_e=lerp(_hslA.s,_hslB.s,b),et=lerp(_hslA.l,_hslB.l,b);return this.setHSL($,_e,et),this}equals(g){return g.r===this.r&&g.g===this.g&&g.b===this.b}fromArray(g,b=0){return this.r=g[b],this.g=g[b+1],this.b=g[b+2],this}toArray(g=[],b=0){return g[b]=this.r,g[b+1]=this.g,g[b+2]=this.b,g}fromBufferAttribute(g,b){return this.r=g.getX(b),this.g=g.getY(b),this.b=g.getZ(b),g.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Color.NAMES=_colorKeywords;Color.prototype.isColor=!0;Color.prototype.r=1;Color.prototype.g=1;Color.prototype.b=1;let _canvas;class ImageUtils{static getDataURL(g){if(/^data:/i.test(g.src)||typeof HTMLCanvasElement=="undefined")return g.src;let b;if(g instanceof HTMLCanvasElement)b=g;else{_canvas===void 0&&(_canvas=createElementNS$1("canvas")),_canvas.width=g.width,_canvas.height=g.height;const $=_canvas.getContext("2d");g instanceof ImageData?$.putImageData(g,0,0):$.drawImage(g,0,0,g.width,g.height),b=_canvas}return b.width>2048||b.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",g),b.toDataURL("image/jpeg",.6)):b.toDataURL("image/png")}static sRGBToLinear(g){if(typeof HTMLImageElement!="undefined"&&g instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&g instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&g instanceof ImageBitmap){const b=createElementNS$1("canvas");b.width=g.width,b.height=g.height;const $=b.getContext("2d");$.drawImage(g,0,0,g.width,g.height);const _e=$.getImageData(0,0,g.width,g.height),et=_e.data;for(let tt=0;tt<et.length;tt++)et[tt]=SRGBToLinear(et[tt]/255)*255;return $.putImageData(_e,0,0),b}else if(g.data){const b=g.data.slice(0);for(let $=0;$<b.length;$++)b instanceof Uint8Array||b instanceof Uint8ClampedArray?b[$]=Math.floor(SRGBToLinear(b[$]/255)*255):b[$]=SRGBToLinear(b[$]);return{data:b,width:g.width,height:g.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),g}}class Source{constructor(g=null){this.uuid=generateUUID$1(),this.data=g,this.version=0}set needsUpdate(g){g===!0&&this.version++}toJSON(g){const b=g===void 0||typeof g=="string";if(!b&&g.images[this.uuid]!==void 0)return g.images[this.uuid];const $={uuid:this.uuid,url:""},_e=this.data;if(_e!==null){let et;if(Array.isArray(_e)){et=[];for(let tt=0,nt=_e.length;tt<nt;tt++)_e[tt].isDataTexture?et.push(serializeImage(_e[tt].image)):et.push(serializeImage(_e[tt]))}else et=serializeImage(_e);$.url=et}return b||(g.images[this.uuid]=$),$}}function serializeImage(j){return typeof HTMLImageElement!="undefined"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&j instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&j instanceof ImageBitmap?ImageUtils.getDataURL(j):j.data?{data:Array.prototype.slice.call(j.data),width:j.width,height:j.height,type:j.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Source.prototype.isSource=!0;let textureId=0;class Texture extends EventDispatcher$1{constructor(g=Texture.DEFAULT_IMAGE,b=Texture.DEFAULT_MAPPING,$=ClampToEdgeWrapping,_e=ClampToEdgeWrapping,et=LinearFilter,tt=LinearMipmapLinearFilter,nt=RGBAFormat,rt=UnsignedByteType,it=1,ot=LinearEncoding){super(),Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(g),this.mipmaps=[],this.mapping=b,this.wrapS=$,this.wrapT=_e,this.magFilter=et,this.minFilter=tt,this.anisotropy=it,this.format=nt,this.internalFormat=null,this.type=rt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ot,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(g){this.source.data=g}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(g){return this.name=g.name,this.source=g.source,this.mipmaps=g.mipmaps.slice(0),this.mapping=g.mapping,this.wrapS=g.wrapS,this.wrapT=g.wrapT,this.magFilter=g.magFilter,this.minFilter=g.minFilter,this.anisotropy=g.anisotropy,this.format=g.format,this.internalFormat=g.internalFormat,this.type=g.type,this.offset.copy(g.offset),this.repeat.copy(g.repeat),this.center.copy(g.center),this.rotation=g.rotation,this.matrixAutoUpdate=g.matrixAutoUpdate,this.matrix.copy(g.matrix),this.generateMipmaps=g.generateMipmaps,this.premultiplyAlpha=g.premultiplyAlpha,this.flipY=g.flipY,this.unpackAlignment=g.unpackAlignment,this.encoding=g.encoding,this.userData=JSON.parse(JSON.stringify(g.userData)),this.needsUpdate=!0,this}toJSON(g){const b=g===void 0||typeof g=="string";if(!b&&g.textures[this.uuid]!==void 0)return g.textures[this.uuid];const $={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(g).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&($.userData=this.userData),b||(g.textures[this.uuid]=$),$}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(g){if(this.mapping!==UVMapping)return g;if(g.applyMatrix3(this.matrix),g.x<0||g.x>1)switch(this.wrapS){case RepeatWrapping:g.x=g.x-Math.floor(g.x);break;case ClampToEdgeWrapping:g.x=g.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(g.x)%2)===1?g.x=Math.ceil(g.x)-g.x:g.x=g.x-Math.floor(g.x);break}if(g.y<0||g.y>1)switch(this.wrapT){case RepeatWrapping:g.y=g.y-Math.floor(g.y);break;case ClampToEdgeWrapping:g.y=g.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(g.y)%2)===1?g.y=Math.ceil(g.y)-g.y:g.y=g.y-Math.floor(g.y);break}return this.flipY&&(g.y=1-g.y),g}set needsUpdate(g){g===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.prototype.isTexture=!0;class Vector4{constructor(g=0,b=0,$=0,_e=1){this.x=g,this.y=b,this.z=$,this.w=_e}get width(){return this.z}set width(g){this.z=g}get height(){return this.w}set height(g){this.w=g}set(g,b,$,_e){return this.x=g,this.y=b,this.z=$,this.w=_e,this}setScalar(g){return this.x=g,this.y=g,this.z=g,this.w=g,this}setX(g){return this.x=g,this}setY(g){return this.y=g,this}setZ(g){return this.z=g,this}setW(g){return this.w=g,this}setComponent(g,b){switch(g){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw new Error("index is out of range: "+g)}return this}getComponent(g){switch(g){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+g)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(g){return this.x=g.x,this.y=g.y,this.z=g.z,this.w=g.w!==void 0?g.w:1,this}add(g,b){return b!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(g,b)):(this.x+=g.x,this.y+=g.y,this.z+=g.z,this.w+=g.w,this)}addScalar(g){return this.x+=g,this.y+=g,this.z+=g,this.w+=g,this}addVectors(g,b){return this.x=g.x+b.x,this.y=g.y+b.y,this.z=g.z+b.z,this.w=g.w+b.w,this}addScaledVector(g,b){return this.x+=g.x*b,this.y+=g.y*b,this.z+=g.z*b,this.w+=g.w*b,this}sub(g,b){return b!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(g,b)):(this.x-=g.x,this.y-=g.y,this.z-=g.z,this.w-=g.w,this)}subScalar(g){return this.x-=g,this.y-=g,this.z-=g,this.w-=g,this}subVectors(g,b){return this.x=g.x-b.x,this.y=g.y-b.y,this.z=g.z-b.z,this.w=g.w-b.w,this}multiply(g){return this.x*=g.x,this.y*=g.y,this.z*=g.z,this.w*=g.w,this}multiplyScalar(g){return this.x*=g,this.y*=g,this.z*=g,this.w*=g,this}applyMatrix4(g){const b=this.x,$=this.y,_e=this.z,et=this.w,tt=g.elements;return this.x=tt[0]*b+tt[4]*$+tt[8]*_e+tt[12]*et,this.y=tt[1]*b+tt[5]*$+tt[9]*_e+tt[13]*et,this.z=tt[2]*b+tt[6]*$+tt[10]*_e+tt[14]*et,this.w=tt[3]*b+tt[7]*$+tt[11]*_e+tt[15]*et,this}divideScalar(g){return this.multiplyScalar(1/g)}setAxisAngleFromQuaternion(g){this.w=2*Math.acos(g.w);const b=Math.sqrt(1-g.w*g.w);return b<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=g.x/b,this.y=g.y/b,this.z=g.z/b),this}setAxisAngleFromRotationMatrix(g){let b,$,_e,et;const rt=g.elements,it=rt[0],ot=rt[4],st=rt[8],at=rt[1],lt=rt[5],ut=rt[9],ct=rt[2],ft=rt[6],ht=rt[10];if(Math.abs(ot-at)<.01&&Math.abs(st-ct)<.01&&Math.abs(ut-ft)<.01){if(Math.abs(ot+at)<.1&&Math.abs(st+ct)<.1&&Math.abs(ut+ft)<.1&&Math.abs(it+lt+ht-3)<.1)return this.set(1,0,0,0),this;b=Math.PI;const pt=(it+1)/2,mt=(lt+1)/2,gt=(ht+1)/2,yt=(ot+at)/4,_t=(st+ct)/4,vt=(ut+ft)/4;return pt>mt&&pt>gt?pt<.01?($=0,_e=.707106781,et=.707106781):($=Math.sqrt(pt),_e=yt/$,et=_t/$):mt>gt?mt<.01?($=.707106781,_e=0,et=.707106781):(_e=Math.sqrt(mt),$=yt/_e,et=vt/_e):gt<.01?($=.707106781,_e=.707106781,et=0):(et=Math.sqrt(gt),$=_t/et,_e=vt/et),this.set($,_e,et,b),this}let dt=Math.sqrt((ft-ut)*(ft-ut)+(st-ct)*(st-ct)+(at-ot)*(at-ot));return Math.abs(dt)<.001&&(dt=1),this.x=(ft-ut)/dt,this.y=(st-ct)/dt,this.z=(at-ot)/dt,this.w=Math.acos((it+lt+ht-1)/2),this}min(g){return this.x=Math.min(this.x,g.x),this.y=Math.min(this.y,g.y),this.z=Math.min(this.z,g.z),this.w=Math.min(this.w,g.w),this}max(g){return this.x=Math.max(this.x,g.x),this.y=Math.max(this.y,g.y),this.z=Math.max(this.z,g.z),this.w=Math.max(this.w,g.w),this}clamp(g,b){return this.x=Math.max(g.x,Math.min(b.x,this.x)),this.y=Math.max(g.y,Math.min(b.y,this.y)),this.z=Math.max(g.z,Math.min(b.z,this.z)),this.w=Math.max(g.w,Math.min(b.w,this.w)),this}clampScalar(g,b){return this.x=Math.max(g,Math.min(b,this.x)),this.y=Math.max(g,Math.min(b,this.y)),this.z=Math.max(g,Math.min(b,this.z)),this.w=Math.max(g,Math.min(b,this.w)),this}clampLength(g,b){const $=this.length();return this.divideScalar($||1).multiplyScalar(Math.max(g,Math.min(b,$)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(g){return this.x*g.x+this.y*g.y+this.z*g.z+this.w*g.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(g){return this.normalize().multiplyScalar(g)}lerp(g,b){return this.x+=(g.x-this.x)*b,this.y+=(g.y-this.y)*b,this.z+=(g.z-this.z)*b,this.w+=(g.w-this.w)*b,this}lerpVectors(g,b,$){return this.x=g.x+(b.x-g.x)*$,this.y=g.y+(b.y-g.y)*$,this.z=g.z+(b.z-g.z)*$,this.w=g.w+(b.w-g.w)*$,this}equals(g){return g.x===this.x&&g.y===this.y&&g.z===this.z&&g.w===this.w}fromArray(g,b=0){return this.x=g[b],this.y=g[b+1],this.z=g[b+2],this.w=g[b+3],this}toArray(g=[],b=0){return g[b]=this.x,g[b+1]=this.y,g[b+2]=this.z,g[b+3]=this.w,g}fromBufferAttribute(g,b,$){return $!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=g.getX(b),this.y=g.getY(b),this.z=g.getZ(b),this.w=g.getW(b),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Vector4.prototype.isVector4=!0;class WebGLRenderTarget extends EventDispatcher$1{constructor(g,b,$={}){super(),this.width=g,this.height=b,this.depth=1,this.scissor=new Vector4(0,0,g,b),this.scissorTest=!1,this.viewport=new Vector4(0,0,g,b);const _e={width:g,height:b,depth:1};this.texture=new Texture(_e,$.mapping,$.wrapS,$.wrapT,$.magFilter,$.minFilter,$.format,$.type,$.anisotropy,$.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=$.generateMipmaps!==void 0?$.generateMipmaps:!1,this.texture.internalFormat=$.internalFormat!==void 0?$.internalFormat:null,this.texture.minFilter=$.minFilter!==void 0?$.minFilter:LinearFilter,this.depthBuffer=$.depthBuffer!==void 0?$.depthBuffer:!0,this.stencilBuffer=$.stencilBuffer!==void 0?$.stencilBuffer:!1,this.depthTexture=$.depthTexture!==void 0?$.depthTexture:null,this.samples=$.samples!==void 0?$.samples:0}setSize(g,b,$=1){(this.width!==g||this.height!==b||this.depth!==$)&&(this.width=g,this.height=b,this.depth=$,this.texture.image.width=g,this.texture.image.height=b,this.texture.image.depth=$,this.dispose()),this.viewport.set(0,0,g,b),this.scissor.set(0,0,g,b)}clone(){return new this.constructor().copy(this)}copy(g){return this.width=g.width,this.height=g.height,this.depth=g.depth,this.viewport.copy(g.viewport),this.texture=g.texture.clone(),this.texture.image=Object.assign({},g.texture.image),this.depthBuffer=g.depthBuffer,this.stencilBuffer=g.stencilBuffer,g.depthTexture!==null&&(this.depthTexture=g.depthTexture.clone()),this.samples=g.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}WebGLRenderTarget.prototype.isWebGLRenderTarget=!0;class DataArrayTexture extends Texture{constructor(g=null,b=1,$=1,_e=1){super(null),this.image={data:g,width:b,height:$,depth:_e},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}DataArrayTexture.prototype.isDataArrayTexture=!0;class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(g,b,$){super(g,b),this.depth=$,this.texture=new DataArrayTexture(null,g,b,$),this.texture.isRenderTargetTexture=!0}}WebGLArrayRenderTarget.prototype.isWebGLArrayRenderTarget=!0;class Data3DTexture extends Texture{constructor(g=null,b=1,$=1,_e=1){super(null),this.image={data:g,width:b,height:$,depth:_e},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Data3DTexture.prototype.isData3DTexture=!0;class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(g,b,$){super(g,b),this.depth=$,this.texture=new Data3DTexture(null,g,b,$),this.texture.isRenderTargetTexture=!0}}WebGL3DRenderTarget.prototype.isWebGL3DRenderTarget=!0;class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(g,b,$,_e={}){super(g,b,_e);const et=this.texture;this.texture=[];for(let tt=0;tt<$;tt++)this.texture[tt]=et.clone(),this.texture[tt].isRenderTargetTexture=!0}setSize(g,b,$=1){if(this.width!==g||this.height!==b||this.depth!==$){this.width=g,this.height=b,this.depth=$;for(let _e=0,et=this.texture.length;_e<et;_e++)this.texture[_e].image.width=g,this.texture[_e].image.height=b,this.texture[_e].image.depth=$;this.dispose()}return this.viewport.set(0,0,g,b),this.scissor.set(0,0,g,b),this}copy(g){this.dispose(),this.width=g.width,this.height=g.height,this.depth=g.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=g.depthBuffer,this.stencilBuffer=g.stencilBuffer,this.depthTexture=g.depthTexture,this.texture.length=0;for(let b=0,$=g.texture.length;b<$;b++)this.texture[b]=g.texture[b].clone();return this}}WebGLMultipleRenderTargets.prototype.isWebGLMultipleRenderTargets=!0;class Quaternion{constructor(g=0,b=0,$=0,_e=1){this._x=g,this._y=b,this._z=$,this._w=_e}static slerp(g,b,$,_e){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),$.slerpQuaternions(g,b,_e)}static slerpFlat(g,b,$,_e,et,tt,nt){let rt=$[_e+0],it=$[_e+1],ot=$[_e+2],st=$[_e+3];const at=et[tt+0],lt=et[tt+1],ut=et[tt+2],ct=et[tt+3];if(nt===0){g[b+0]=rt,g[b+1]=it,g[b+2]=ot,g[b+3]=st;return}if(nt===1){g[b+0]=at,g[b+1]=lt,g[b+2]=ut,g[b+3]=ct;return}if(st!==ct||rt!==at||it!==lt||ot!==ut){let ft=1-nt;const ht=rt*at+it*lt+ot*ut+st*ct,dt=ht>=0?1:-1,pt=1-ht*ht;if(pt>Number.EPSILON){const gt=Math.sqrt(pt),yt=Math.atan2(gt,ht*dt);ft=Math.sin(ft*yt)/gt,nt=Math.sin(nt*yt)/gt}const mt=nt*dt;if(rt=rt*ft+at*mt,it=it*ft+lt*mt,ot=ot*ft+ut*mt,st=st*ft+ct*mt,ft===1-nt){const gt=1/Math.sqrt(rt*rt+it*it+ot*ot+st*st);rt*=gt,it*=gt,ot*=gt,st*=gt}}g[b]=rt,g[b+1]=it,g[b+2]=ot,g[b+3]=st}static multiplyQuaternionsFlat(g,b,$,_e,et,tt){const nt=$[_e],rt=$[_e+1],it=$[_e+2],ot=$[_e+3],st=et[tt],at=et[tt+1],lt=et[tt+2],ut=et[tt+3];return g[b]=nt*ut+ot*st+rt*lt-it*at,g[b+1]=rt*ut+ot*at+it*st-nt*lt,g[b+2]=it*ut+ot*lt+nt*at-rt*st,g[b+3]=ot*ut-nt*st-rt*at-it*lt,g}get x(){return this._x}set x(g){this._x=g,this._onChangeCallback()}get y(){return this._y}set y(g){this._y=g,this._onChangeCallback()}get z(){return this._z}set z(g){this._z=g,this._onChangeCallback()}get w(){return this._w}set w(g){this._w=g,this._onChangeCallback()}set(g,b,$,_e){return this._x=g,this._y=b,this._z=$,this._w=_e,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(g){return this._x=g.x,this._y=g.y,this._z=g.z,this._w=g.w,this._onChangeCallback(),this}setFromEuler(g,b){if(!(g&&g.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const $=g._x,_e=g._y,et=g._z,tt=g._order,nt=Math.cos,rt=Math.sin,it=nt($/2),ot=nt(_e/2),st=nt(et/2),at=rt($/2),lt=rt(_e/2),ut=rt(et/2);switch(tt){case"XYZ":this._x=at*ot*st+it*lt*ut,this._y=it*lt*st-at*ot*ut,this._z=it*ot*ut+at*lt*st,this._w=it*ot*st-at*lt*ut;break;case"YXZ":this._x=at*ot*st+it*lt*ut,this._y=it*lt*st-at*ot*ut,this._z=it*ot*ut-at*lt*st,this._w=it*ot*st+at*lt*ut;break;case"ZXY":this._x=at*ot*st-it*lt*ut,this._y=it*lt*st+at*ot*ut,this._z=it*ot*ut+at*lt*st,this._w=it*ot*st-at*lt*ut;break;case"ZYX":this._x=at*ot*st-it*lt*ut,this._y=it*lt*st+at*ot*ut,this._z=it*ot*ut-at*lt*st,this._w=it*ot*st+at*lt*ut;break;case"YZX":this._x=at*ot*st+it*lt*ut,this._y=it*lt*st+at*ot*ut,this._z=it*ot*ut-at*lt*st,this._w=it*ot*st-at*lt*ut;break;case"XZY":this._x=at*ot*st-it*lt*ut,this._y=it*lt*st-at*ot*ut,this._z=it*ot*ut+at*lt*st,this._w=it*ot*st+at*lt*ut;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+tt)}return b!==!1&&this._onChangeCallback(),this}setFromAxisAngle(g,b){const $=b/2,_e=Math.sin($);return this._x=g.x*_e,this._y=g.y*_e,this._z=g.z*_e,this._w=Math.cos($),this._onChangeCallback(),this}setFromRotationMatrix(g){const b=g.elements,$=b[0],_e=b[4],et=b[8],tt=b[1],nt=b[5],rt=b[9],it=b[2],ot=b[6],st=b[10],at=$+nt+st;if(at>0){const lt=.5/Math.sqrt(at+1);this._w=.25/lt,this._x=(ot-rt)*lt,this._y=(et-it)*lt,this._z=(tt-_e)*lt}else if($>nt&&$>st){const lt=2*Math.sqrt(1+$-nt-st);this._w=(ot-rt)/lt,this._x=.25*lt,this._y=(_e+tt)/lt,this._z=(et+it)/lt}else if(nt>st){const lt=2*Math.sqrt(1+nt-$-st);this._w=(et-it)/lt,this._x=(_e+tt)/lt,this._y=.25*lt,this._z=(rt+ot)/lt}else{const lt=2*Math.sqrt(1+st-$-nt);this._w=(tt-_e)/lt,this._x=(et+it)/lt,this._y=(rt+ot)/lt,this._z=.25*lt}return this._onChangeCallback(),this}setFromUnitVectors(g,b){let $=g.dot(b)+1;return $<Number.EPSILON?($=0,Math.abs(g.x)>Math.abs(g.z)?(this._x=-g.y,this._y=g.x,this._z=0,this._w=$):(this._x=0,this._y=-g.z,this._z=g.y,this._w=$)):(this._x=g.y*b.z-g.z*b.y,this._y=g.z*b.x-g.x*b.z,this._z=g.x*b.y-g.y*b.x,this._w=$),this.normalize()}angleTo(g){return 2*Math.acos(Math.abs(clamp$1(this.dot(g),-1,1)))}rotateTowards(g,b){const $=this.angleTo(g);if($===0)return this;const _e=Math.min(1,b/$);return this.slerp(g,_e),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(g){return this._x*g._x+this._y*g._y+this._z*g._z+this._w*g._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let g=this.length();return g===0?(this._x=0,this._y=0,this._z=0,this._w=1):(g=1/g,this._x=this._x*g,this._y=this._y*g,this._z=this._z*g,this._w=this._w*g),this._onChangeCallback(),this}multiply(g,b){return b!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(g,b)):this.multiplyQuaternions(this,g)}premultiply(g){return this.multiplyQuaternions(g,this)}multiplyQuaternions(g,b){const $=g._x,_e=g._y,et=g._z,tt=g._w,nt=b._x,rt=b._y,it=b._z,ot=b._w;return this._x=$*ot+tt*nt+_e*it-et*rt,this._y=_e*ot+tt*rt+et*nt-$*it,this._z=et*ot+tt*it+$*rt-_e*nt,this._w=tt*ot-$*nt-_e*rt-et*it,this._onChangeCallback(),this}slerp(g,b){if(b===0)return this;if(b===1)return this.copy(g);const $=this._x,_e=this._y,et=this._z,tt=this._w;let nt=tt*g._w+$*g._x+_e*g._y+et*g._z;if(nt<0?(this._w=-g._w,this._x=-g._x,this._y=-g._y,this._z=-g._z,nt=-nt):this.copy(g),nt>=1)return this._w=tt,this._x=$,this._y=_e,this._z=et,this;const rt=1-nt*nt;if(rt<=Number.EPSILON){const lt=1-b;return this._w=lt*tt+b*this._w,this._x=lt*$+b*this._x,this._y=lt*_e+b*this._y,this._z=lt*et+b*this._z,this.normalize(),this._onChangeCallback(),this}const it=Math.sqrt(rt),ot=Math.atan2(it,nt),st=Math.sin((1-b)*ot)/it,at=Math.sin(b*ot)/it;return this._w=tt*st+this._w*at,this._x=$*st+this._x*at,this._y=_e*st+this._y*at,this._z=et*st+this._z*at,this._onChangeCallback(),this}slerpQuaternions(g,b,$){return this.copy(g).slerp(b,$)}random(){const g=Math.random(),b=Math.sqrt(1-g),$=Math.sqrt(g),_e=2*Math.PI*Math.random(),et=2*Math.PI*Math.random();return this.set(b*Math.cos(_e),$*Math.sin(et),$*Math.cos(et),b*Math.sin(_e))}equals(g){return g._x===this._x&&g._y===this._y&&g._z===this._z&&g._w===this._w}fromArray(g,b=0){return this._x=g[b],this._y=g[b+1],this._z=g[b+2],this._w=g[b+3],this._onChangeCallback(),this}toArray(g=[],b=0){return g[b]=this._x,g[b+1]=this._y,g[b+2]=this._z,g[b+3]=this._w,g}fromBufferAttribute(g,b){return this._x=g.getX(b),this._y=g.getY(b),this._z=g.getZ(b),this._w=g.getW(b),this}_onChange(g){return this._onChangeCallback=g,this}_onChangeCallback(){}}Quaternion.prototype.isQuaternion=!0;class Vector3{constructor(g=0,b=0,$=0){this.x=g,this.y=b,this.z=$}set(g,b,$){return $===void 0&&($=this.z),this.x=g,this.y=b,this.z=$,this}setScalar(g){return this.x=g,this.y=g,this.z=g,this}setX(g){return this.x=g,this}setY(g){return this.y=g,this}setZ(g){return this.z=g,this}setComponent(g,b){switch(g){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw new Error("index is out of range: "+g)}return this}getComponent(g){switch(g){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+g)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(g){return this.x=g.x,this.y=g.y,this.z=g.z,this}add(g,b){return b!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(g,b)):(this.x+=g.x,this.y+=g.y,this.z+=g.z,this)}addScalar(g){return this.x+=g,this.y+=g,this.z+=g,this}addVectors(g,b){return this.x=g.x+b.x,this.y=g.y+b.y,this.z=g.z+b.z,this}addScaledVector(g,b){return this.x+=g.x*b,this.y+=g.y*b,this.z+=g.z*b,this}sub(g,b){return b!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(g,b)):(this.x-=g.x,this.y-=g.y,this.z-=g.z,this)}subScalar(g){return this.x-=g,this.y-=g,this.z-=g,this}subVectors(g,b){return this.x=g.x-b.x,this.y=g.y-b.y,this.z=g.z-b.z,this}multiply(g,b){return b!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(g,b)):(this.x*=g.x,this.y*=g.y,this.z*=g.z,this)}multiplyScalar(g){return this.x*=g,this.y*=g,this.z*=g,this}multiplyVectors(g,b){return this.x=g.x*b.x,this.y=g.y*b.y,this.z=g.z*b.z,this}applyEuler(g){return g&&g.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_quaternion$4.setFromEuler(g))}applyAxisAngle(g,b){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(g,b))}applyMatrix3(g){const b=this.x,$=this.y,_e=this.z,et=g.elements;return this.x=et[0]*b+et[3]*$+et[6]*_e,this.y=et[1]*b+et[4]*$+et[7]*_e,this.z=et[2]*b+et[5]*$+et[8]*_e,this}applyNormalMatrix(g){return this.applyMatrix3(g).normalize()}applyMatrix4(g){const b=this.x,$=this.y,_e=this.z,et=g.elements,tt=1/(et[3]*b+et[7]*$+et[11]*_e+et[15]);return this.x=(et[0]*b+et[4]*$+et[8]*_e+et[12])*tt,this.y=(et[1]*b+et[5]*$+et[9]*_e+et[13])*tt,this.z=(et[2]*b+et[6]*$+et[10]*_e+et[14])*tt,this}applyQuaternion(g){const b=this.x,$=this.y,_e=this.z,et=g.x,tt=g.y,nt=g.z,rt=g.w,it=rt*b+tt*_e-nt*$,ot=rt*$+nt*b-et*_e,st=rt*_e+et*$-tt*b,at=-et*b-tt*$-nt*_e;return this.x=it*rt+at*-et+ot*-nt-st*-tt,this.y=ot*rt+at*-tt+st*-et-it*-nt,this.z=st*rt+at*-nt+it*-tt-ot*-et,this}project(g){return this.applyMatrix4(g.matrixWorldInverse).applyMatrix4(g.projectionMatrix)}unproject(g){return this.applyMatrix4(g.projectionMatrixInverse).applyMatrix4(g.matrixWorld)}transformDirection(g){const b=this.x,$=this.y,_e=this.z,et=g.elements;return this.x=et[0]*b+et[4]*$+et[8]*_e,this.y=et[1]*b+et[5]*$+et[9]*_e,this.z=et[2]*b+et[6]*$+et[10]*_e,this.normalize()}divide(g){return this.x/=g.x,this.y/=g.y,this.z/=g.z,this}divideScalar(g){return this.multiplyScalar(1/g)}min(g){return this.x=Math.min(this.x,g.x),this.y=Math.min(this.y,g.y),this.z=Math.min(this.z,g.z),this}max(g){return this.x=Math.max(this.x,g.x),this.y=Math.max(this.y,g.y),this.z=Math.max(this.z,g.z),this}clamp(g,b){return this.x=Math.max(g.x,Math.min(b.x,this.x)),this.y=Math.max(g.y,Math.min(b.y,this.y)),this.z=Math.max(g.z,Math.min(b.z,this.z)),this}clampScalar(g,b){return this.x=Math.max(g,Math.min(b,this.x)),this.y=Math.max(g,Math.min(b,this.y)),this.z=Math.max(g,Math.min(b,this.z)),this}clampLength(g,b){const $=this.length();return this.divideScalar($||1).multiplyScalar(Math.max(g,Math.min(b,$)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(g){return this.x*g.x+this.y*g.y+this.z*g.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(g){return this.normalize().multiplyScalar(g)}lerp(g,b){return this.x+=(g.x-this.x)*b,this.y+=(g.y-this.y)*b,this.z+=(g.z-this.z)*b,this}lerpVectors(g,b,$){return this.x=g.x+(b.x-g.x)*$,this.y=g.y+(b.y-g.y)*$,this.z=g.z+(b.z-g.z)*$,this}cross(g,b){return b!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(g,b)):this.crossVectors(this,g)}crossVectors(g,b){const $=g.x,_e=g.y,et=g.z,tt=b.x,nt=b.y,rt=b.z;return this.x=_e*rt-et*nt,this.y=et*tt-$*rt,this.z=$*nt-_e*tt,this}projectOnVector(g){const b=g.lengthSq();if(b===0)return this.set(0,0,0);const $=g.dot(this)/b;return this.copy(g).multiplyScalar($)}projectOnPlane(g){return _vector$c.copy(this).projectOnVector(g),this.sub(_vector$c)}reflect(g){return this.sub(_vector$c.copy(g).multiplyScalar(2*this.dot(g)))}angleTo(g){const b=Math.sqrt(this.lengthSq()*g.lengthSq());if(b===0)return Math.PI/2;const $=this.dot(g)/b;return Math.acos(clamp$1($,-1,1))}distanceTo(g){return Math.sqrt(this.distanceToSquared(g))}distanceToSquared(g){const b=this.x-g.x,$=this.y-g.y,_e=this.z-g.z;return b*b+$*$+_e*_e}manhattanDistanceTo(g){return Math.abs(this.x-g.x)+Math.abs(this.y-g.y)+Math.abs(this.z-g.z)}setFromSpherical(g){return this.setFromSphericalCoords(g.radius,g.phi,g.theta)}setFromSphericalCoords(g,b,$){const _e=Math.sin(b)*g;return this.x=_e*Math.sin($),this.y=Math.cos(b)*g,this.z=_e*Math.cos($),this}setFromCylindrical(g){return this.setFromCylindricalCoords(g.radius,g.theta,g.y)}setFromCylindricalCoords(g,b,$){return this.x=g*Math.sin(b),this.y=$,this.z=g*Math.cos(b),this}setFromMatrixPosition(g){const b=g.elements;return this.x=b[12],this.y=b[13],this.z=b[14],this}setFromMatrixScale(g){const b=this.setFromMatrixColumn(g,0).length(),$=this.setFromMatrixColumn(g,1).length(),_e=this.setFromMatrixColumn(g,2).length();return this.x=b,this.y=$,this.z=_e,this}setFromMatrixColumn(g,b){return this.fromArray(g.elements,b*4)}setFromMatrix3Column(g,b){return this.fromArray(g.elements,b*3)}setFromEuler(g){return this.x=g._x,this.y=g._y,this.z=g._z,this}equals(g){return g.x===this.x&&g.y===this.y&&g.z===this.z}fromArray(g,b=0){return this.x=g[b],this.y=g[b+1],this.z=g[b+2],this}toArray(g=[],b=0){return g[b]=this.x,g[b+1]=this.y,g[b+2]=this.z,g}fromBufferAttribute(g,b,$){return $!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=g.getX(b),this.y=g.getY(b),this.z=g.getZ(b),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const g=(Math.random()-.5)*2,b=Math.random()*Math.PI*2,$=Math.sqrt(1-g**2);return this.x=$*Math.cos(b),this.y=$*Math.sin(b),this.z=g,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Vector3.prototype.isVector3=!0;const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(g=new Vector3(1/0,1/0,1/0),b=new Vector3(-1/0,-1/0,-1/0)){this.min=g,this.max=b}set(g,b){return this.min.copy(g),this.max.copy(b),this}setFromArray(g){let b=1/0,$=1/0,_e=1/0,et=-1/0,tt=-1/0,nt=-1/0;for(let rt=0,it=g.length;rt<it;rt+=3){const ot=g[rt],st=g[rt+1],at=g[rt+2];ot<b&&(b=ot),st<$&&($=st),at<_e&&(_e=at),ot>et&&(et=ot),st>tt&&(tt=st),at>nt&&(nt=at)}return this.min.set(b,$,_e),this.max.set(et,tt,nt),this}setFromBufferAttribute(g){let b=1/0,$=1/0,_e=1/0,et=-1/0,tt=-1/0,nt=-1/0;for(let rt=0,it=g.count;rt<it;rt++){const ot=g.getX(rt),st=g.getY(rt),at=g.getZ(rt);ot<b&&(b=ot),st<$&&($=st),at<_e&&(_e=at),ot>et&&(et=ot),st>tt&&(tt=st),at>nt&&(nt=at)}return this.min.set(b,$,_e),this.max.set(et,tt,nt),this}setFromPoints(g){this.makeEmpty();for(let b=0,$=g.length;b<$;b++)this.expandByPoint(g[b]);return this}setFromCenterAndSize(g,b){const $=_vector$b.copy(b).multiplyScalar(.5);return this.min.copy(g).sub($),this.max.copy(g).add($),this}setFromObject(g,b=!1){return this.makeEmpty(),this.expandByObject(g,b)}clone(){return new this.constructor().copy(this)}copy(g){return this.min.copy(g.min),this.max.copy(g.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(g){return this.isEmpty()?g.set(0,0,0):g.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(g){return this.isEmpty()?g.set(0,0,0):g.subVectors(this.max,this.min)}expandByPoint(g){return this.min.min(g),this.max.max(g),this}expandByVector(g){return this.min.sub(g),this.max.add(g),this}expandByScalar(g){return this.min.addScalar(-g),this.max.addScalar(g),this}expandByObject(g,b=!1){g.updateWorldMatrix(!1,!1);const $=g.geometry;if($!==void 0)if(b&&$.attributes!=null&&$.attributes.position!==void 0){const et=$.attributes.position;for(let tt=0,nt=et.count;tt<nt;tt++)_vector$b.fromBufferAttribute(et,tt).applyMatrix4(g.matrixWorld),this.expandByPoint(_vector$b)}else $.boundingBox===null&&$.computeBoundingBox(),_box$3.copy($.boundingBox),_box$3.applyMatrix4(g.matrixWorld),this.union(_box$3);const _e=g.children;for(let et=0,tt=_e.length;et<tt;et++)this.expandByObject(_e[et],b);return this}containsPoint(g){return!(g.x<this.min.x||g.x>this.max.x||g.y<this.min.y||g.y>this.max.y||g.z<this.min.z||g.z>this.max.z)}containsBox(g){return this.min.x<=g.min.x&&g.max.x<=this.max.x&&this.min.y<=g.min.y&&g.max.y<=this.max.y&&this.min.z<=g.min.z&&g.max.z<=this.max.z}getParameter(g,b){return b.set((g.x-this.min.x)/(this.max.x-this.min.x),(g.y-this.min.y)/(this.max.y-this.min.y),(g.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(g){return!(g.max.x<this.min.x||g.min.x>this.max.x||g.max.y<this.min.y||g.min.y>this.max.y||g.max.z<this.min.z||g.min.z>this.max.z)}intersectsSphere(g){return this.clampPoint(g.center,_vector$b),_vector$b.distanceToSquared(g.center)<=g.radius*g.radius}intersectsPlane(g){let b,$;return g.normal.x>0?(b=g.normal.x*this.min.x,$=g.normal.x*this.max.x):(b=g.normal.x*this.max.x,$=g.normal.x*this.min.x),g.normal.y>0?(b+=g.normal.y*this.min.y,$+=g.normal.y*this.max.y):(b+=g.normal.y*this.max.y,$+=g.normal.y*this.min.y),g.normal.z>0?(b+=g.normal.z*this.min.z,$+=g.normal.z*this.max.z):(b+=g.normal.z*this.max.z,$+=g.normal.z*this.min.z),b<=-g.constant&&$>=-g.constant}intersectsTriangle(g){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(g.a,_center),_v1$7.subVectors(g.b,_center),_v2$3.subVectors(g.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$3,_v1$7),_f2.subVectors(_v0$2,_v2$3);let b=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(b,_v0$2,_v1$7,_v2$3,_extents)||(b=[1,0,0,0,1,0,0,0,1],!satForAxes(b,_v0$2,_v1$7,_v2$3,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),b=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(b,_v0$2,_v1$7,_v2$3,_extents))}clampPoint(g,b){return b.copy(g).clamp(this.min,this.max)}distanceToPoint(g){return _vector$b.copy(g).clamp(this.min,this.max).sub(g).length()}getBoundingSphere(g){return this.getCenter(g.center),g.radius=this.getSize(_vector$b).length()*.5,g}intersect(g){return this.min.max(g.min),this.max.min(g.max),this.isEmpty()&&this.makeEmpty(),this}union(g){return this.min.min(g.min),this.max.max(g.max),this}applyMatrix4(g){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(g),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(g),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(g),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(g),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(g),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(g),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(g),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(g),this.setFromPoints(_points),this)}translate(g){return this.min.add(g),this.max.add(g),this}equals(g){return g.min.equals(this.min)&&g.max.equals(this.max)}}Box3.prototype.isBox3=!0;const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$3=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(j,g,b,$,_e){for(let et=0,tt=j.length-3;et<=tt;et+=3){_testAxis.fromArray(j,et);const nt=_e.x*Math.abs(_testAxis.x)+_e.y*Math.abs(_testAxis.y)+_e.z*Math.abs(_testAxis.z),rt=g.dot(_testAxis),it=b.dot(_testAxis),ot=$.dot(_testAxis);if(Math.max(-Math.max(rt,it,ot),Math.min(rt,it,ot))>nt)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_toFarthestPoint=new Vector3,_toPoint=new Vector3;class Sphere{constructor(g=new Vector3,b=-1){this.center=g,this.radius=b}set(g,b){return this.center.copy(g),this.radius=b,this}setFromPoints(g,b){const $=this.center;b!==void 0?$.copy(b):_box$2.setFromPoints(g).getCenter($);let _e=0;for(let et=0,tt=g.length;et<tt;et++)_e=Math.max(_e,$.distanceToSquared(g[et]));return this.radius=Math.sqrt(_e),this}copy(g){return this.center.copy(g.center),this.radius=g.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(g){return g.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(g){return g.distanceTo(this.center)-this.radius}intersectsSphere(g){const b=this.radius+g.radius;return g.center.distanceToSquared(this.center)<=b*b}intersectsBox(g){return g.intersectsSphere(this)}intersectsPlane(g){return Math.abs(g.distanceToPoint(this.center))<=this.radius}clampPoint(g,b){const $=this.center.distanceToSquared(g);return b.copy(g),$>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center)),b}getBoundingBox(g){return this.isEmpty()?(g.makeEmpty(),g):(g.set(this.center,this.center),g.expandByScalar(this.radius),g)}applyMatrix4(g){return this.center.applyMatrix4(g),this.radius=this.radius*g.getMaxScaleOnAxis(),this}translate(g){return this.center.add(g),this}expandByPoint(g){_toPoint.subVectors(g,this.center);const b=_toPoint.lengthSq();if(b>this.radius*this.radius){const $=Math.sqrt(b),_e=($-this.radius)*.5;this.center.add(_toPoint.multiplyScalar(_e/$)),this.radius+=_e}return this}union(g){return this.center.equals(g.center)===!0?_toFarthestPoint.set(0,0,1).multiplyScalar(g.radius):_toFarthestPoint.subVectors(g.center,this.center).normalize().multiplyScalar(g.radius),this.expandByPoint(_v1$6.copy(g.center).add(_toFarthestPoint)),this.expandByPoint(_v1$6.copy(g.center).sub(_toFarthestPoint)),this}equals(g){return g.center.equals(this.center)&&g.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(g=new Vector3,b=new Vector3(0,0,-1)){this.origin=g,this.direction=b}set(g,b){return this.origin.copy(g),this.direction.copy(b),this}copy(g){return this.origin.copy(g.origin),this.direction.copy(g.direction),this}at(g,b){return b.copy(this.direction).multiplyScalar(g).add(this.origin)}lookAt(g){return this.direction.copy(g).sub(this.origin).normalize(),this}recast(g){return this.origin.copy(this.at(g,_vector$a)),this}closestPointToPoint(g,b){b.subVectors(g,this.origin);const $=b.dot(this.direction);return $<0?b.copy(this.origin):b.copy(this.direction).multiplyScalar($).add(this.origin)}distanceToPoint(g){return Math.sqrt(this.distanceSqToPoint(g))}distanceSqToPoint(g){const b=_vector$a.subVectors(g,this.origin).dot(this.direction);return b<0?this.origin.distanceToSquared(g):(_vector$a.copy(this.direction).multiplyScalar(b).add(this.origin),_vector$a.distanceToSquared(g))}distanceSqToSegment(g,b,$,_e){_segCenter.copy(g).add(b).multiplyScalar(.5),_segDir.copy(b).sub(g).normalize(),_diff.copy(this.origin).sub(_segCenter);const et=g.distanceTo(b)*.5,tt=-this.direction.dot(_segDir),nt=_diff.dot(this.direction),rt=-_diff.dot(_segDir),it=_diff.lengthSq(),ot=Math.abs(1-tt*tt);let st,at,lt,ut;if(ot>0)if(st=tt*rt-nt,at=tt*nt-rt,ut=et*ot,st>=0)if(at>=-ut)if(at<=ut){const ct=1/ot;st*=ct,at*=ct,lt=st*(st+tt*at+2*nt)+at*(tt*st+at+2*rt)+it}else at=et,st=Math.max(0,-(tt*at+nt)),lt=-st*st+at*(at+2*rt)+it;else at=-et,st=Math.max(0,-(tt*at+nt)),lt=-st*st+at*(at+2*rt)+it;else at<=-ut?(st=Math.max(0,-(-tt*et+nt)),at=st>0?-et:Math.min(Math.max(-et,-rt),et),lt=-st*st+at*(at+2*rt)+it):at<=ut?(st=0,at=Math.min(Math.max(-et,-rt),et),lt=at*(at+2*rt)+it):(st=Math.max(0,-(tt*et+nt)),at=st>0?et:Math.min(Math.max(-et,-rt),et),lt=-st*st+at*(at+2*rt)+it);else at=tt>0?-et:et,st=Math.max(0,-(tt*at+nt)),lt=-st*st+at*(at+2*rt)+it;return $&&$.copy(this.direction).multiplyScalar(st).add(this.origin),_e&&_e.copy(_segDir).multiplyScalar(at).add(_segCenter),lt}intersectSphere(g,b){_vector$a.subVectors(g.center,this.origin);const $=_vector$a.dot(this.direction),_e=_vector$a.dot(_vector$a)-$*$,et=g.radius*g.radius;if(_e>et)return null;const tt=Math.sqrt(et-_e),nt=$-tt,rt=$+tt;return nt<0&&rt<0?null:nt<0?this.at(rt,b):this.at(nt,b)}intersectsSphere(g){return this.distanceSqToPoint(g.center)<=g.radius*g.radius}distanceToPlane(g){const b=g.normal.dot(this.direction);if(b===0)return g.distanceToPoint(this.origin)===0?0:null;const $=-(this.origin.dot(g.normal)+g.constant)/b;return $>=0?$:null}intersectPlane(g,b){const $=this.distanceToPlane(g);return $===null?null:this.at($,b)}intersectsPlane(g){const b=g.distanceToPoint(this.origin);return b===0||g.normal.dot(this.direction)*b<0}intersectBox(g,b){let $,_e,et,tt,nt,rt;const it=1/this.direction.x,ot=1/this.direction.y,st=1/this.direction.z,at=this.origin;return it>=0?($=(g.min.x-at.x)*it,_e=(g.max.x-at.x)*it):($=(g.max.x-at.x)*it,_e=(g.min.x-at.x)*it),ot>=0?(et=(g.min.y-at.y)*ot,tt=(g.max.y-at.y)*ot):(et=(g.max.y-at.y)*ot,tt=(g.min.y-at.y)*ot),$>tt||et>_e||((et>$||$!==$)&&($=et),(tt<_e||_e!==_e)&&(_e=tt),st>=0?(nt=(g.min.z-at.z)*st,rt=(g.max.z-at.z)*st):(nt=(g.max.z-at.z)*st,rt=(g.min.z-at.z)*st),$>rt||nt>_e)||((nt>$||$!==$)&&($=nt),(rt<_e||_e!==_e)&&(_e=rt),_e<0)?null:this.at($>=0?$:_e,b)}intersectsBox(g){return this.intersectBox(g,_vector$a)!==null}intersectTriangle(g,b,$,_e,et){_edge1.subVectors(b,g),_edge2.subVectors($,g),_normal$1.crossVectors(_edge1,_edge2);let tt=this.direction.dot(_normal$1),nt;if(tt>0){if(_e)return null;nt=1}else if(tt<0)nt=-1,tt=-tt;else return null;_diff.subVectors(this.origin,g);const rt=nt*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(rt<0)return null;const it=nt*this.direction.dot(_edge1.cross(_diff));if(it<0||rt+it>tt)return null;const ot=-nt*_diff.dot(_normal$1);return ot<0?null:this.at(ot/tt,et)}applyMatrix4(g){return this.origin.applyMatrix4(g),this.direction.transformDirection(g),this}equals(g){return g.origin.equals(this.origin)&&g.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(g,b,$,_e,et,tt,nt,rt,it,ot,st,at,lt,ut,ct,ft){const ht=this.elements;return ht[0]=g,ht[4]=b,ht[8]=$,ht[12]=_e,ht[1]=et,ht[5]=tt,ht[9]=nt,ht[13]=rt,ht[2]=it,ht[6]=ot,ht[10]=st,ht[14]=at,ht[3]=lt,ht[7]=ut,ht[11]=ct,ht[15]=ft,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(g){const b=this.elements,$=g.elements;return b[0]=$[0],b[1]=$[1],b[2]=$[2],b[3]=$[3],b[4]=$[4],b[5]=$[5],b[6]=$[6],b[7]=$[7],b[8]=$[8],b[9]=$[9],b[10]=$[10],b[11]=$[11],b[12]=$[12],b[13]=$[13],b[14]=$[14],b[15]=$[15],this}copyPosition(g){const b=this.elements,$=g.elements;return b[12]=$[12],b[13]=$[13],b[14]=$[14],this}setFromMatrix3(g){const b=g.elements;return this.set(b[0],b[3],b[6],0,b[1],b[4],b[7],0,b[2],b[5],b[8],0,0,0,0,1),this}extractBasis(g,b,$){return g.setFromMatrixColumn(this,0),b.setFromMatrixColumn(this,1),$.setFromMatrixColumn(this,2),this}makeBasis(g,b,$){return this.set(g.x,b.x,$.x,0,g.y,b.y,$.y,0,g.z,b.z,$.z,0,0,0,0,1),this}extractRotation(g){const b=this.elements,$=g.elements,_e=1/_v1$5.setFromMatrixColumn(g,0).length(),et=1/_v1$5.setFromMatrixColumn(g,1).length(),tt=1/_v1$5.setFromMatrixColumn(g,2).length();return b[0]=$[0]*_e,b[1]=$[1]*_e,b[2]=$[2]*_e,b[3]=0,b[4]=$[4]*et,b[5]=$[5]*et,b[6]=$[6]*et,b[7]=0,b[8]=$[8]*tt,b[9]=$[9]*tt,b[10]=$[10]*tt,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,this}makeRotationFromEuler(g){g&&g.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const b=this.elements,$=g.x,_e=g.y,et=g.z,tt=Math.cos($),nt=Math.sin($),rt=Math.cos(_e),it=Math.sin(_e),ot=Math.cos(et),st=Math.sin(et);if(g.order==="XYZ"){const at=tt*ot,lt=tt*st,ut=nt*ot,ct=nt*st;b[0]=rt*ot,b[4]=-rt*st,b[8]=it,b[1]=lt+ut*it,b[5]=at-ct*it,b[9]=-nt*rt,b[2]=ct-at*it,b[6]=ut+lt*it,b[10]=tt*rt}else if(g.order==="YXZ"){const at=rt*ot,lt=rt*st,ut=it*ot,ct=it*st;b[0]=at+ct*nt,b[4]=ut*nt-lt,b[8]=tt*it,b[1]=tt*st,b[5]=tt*ot,b[9]=-nt,b[2]=lt*nt-ut,b[6]=ct+at*nt,b[10]=tt*rt}else if(g.order==="ZXY"){const at=rt*ot,lt=rt*st,ut=it*ot,ct=it*st;b[0]=at-ct*nt,b[4]=-tt*st,b[8]=ut+lt*nt,b[1]=lt+ut*nt,b[5]=tt*ot,b[9]=ct-at*nt,b[2]=-tt*it,b[6]=nt,b[10]=tt*rt}else if(g.order==="ZYX"){const at=tt*ot,lt=tt*st,ut=nt*ot,ct=nt*st;b[0]=rt*ot,b[4]=ut*it-lt,b[8]=at*it+ct,b[1]=rt*st,b[5]=ct*it+at,b[9]=lt*it-ut,b[2]=-it,b[6]=nt*rt,b[10]=tt*rt}else if(g.order==="YZX"){const at=tt*rt,lt=tt*it,ut=nt*rt,ct=nt*it;b[0]=rt*ot,b[4]=ct-at*st,b[8]=ut*st+lt,b[1]=st,b[5]=tt*ot,b[9]=-nt*ot,b[2]=-it*ot,b[6]=lt*st+ut,b[10]=at-ct*st}else if(g.order==="XZY"){const at=tt*rt,lt=tt*it,ut=nt*rt,ct=nt*it;b[0]=rt*ot,b[4]=-st,b[8]=it*ot,b[1]=at*st+ct,b[5]=tt*ot,b[9]=lt*st-ut,b[2]=ut*st-lt,b[6]=nt*ot,b[10]=ct*st+at}return b[3]=0,b[7]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,this}makeRotationFromQuaternion(g){return this.compose(_zero,g,_one)}lookAt(g,b,$){const _e=this.elements;return _z.subVectors(g,b),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors($,_z),_x.lengthSq()===0&&(Math.abs($.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors($,_z)),_x.normalize(),_y.crossVectors(_z,_x),_e[0]=_x.x,_e[4]=_y.x,_e[8]=_z.x,_e[1]=_x.y,_e[5]=_y.y,_e[9]=_z.y,_e[2]=_x.z,_e[6]=_y.z,_e[10]=_z.z,this}multiply(g,b){return b!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(g,b)):this.multiplyMatrices(this,g)}premultiply(g){return this.multiplyMatrices(g,this)}multiplyMatrices(g,b){const $=g.elements,_e=b.elements,et=this.elements,tt=$[0],nt=$[4],rt=$[8],it=$[12],ot=$[1],st=$[5],at=$[9],lt=$[13],ut=$[2],ct=$[6],ft=$[10],ht=$[14],dt=$[3],pt=$[7],mt=$[11],gt=$[15],yt=_e[0],_t=_e[4],vt=_e[8],At=_e[12],bt=_e[1],xt=_e[5],Et=_e[9],Mt=_e[13],Tt=_e[2],Lt=_e[6],Ot=_e[10],Rt=_e[14],Ct=_e[3],Dt=_e[7],Bt=_e[11],kt=_e[15];return et[0]=tt*yt+nt*bt+rt*Tt+it*Ct,et[4]=tt*_t+nt*xt+rt*Lt+it*Dt,et[8]=tt*vt+nt*Et+rt*Ot+it*Bt,et[12]=tt*At+nt*Mt+rt*Rt+it*kt,et[1]=ot*yt+st*bt+at*Tt+lt*Ct,et[5]=ot*_t+st*xt+at*Lt+lt*Dt,et[9]=ot*vt+st*Et+at*Ot+lt*Bt,et[13]=ot*At+st*Mt+at*Rt+lt*kt,et[2]=ut*yt+ct*bt+ft*Tt+ht*Ct,et[6]=ut*_t+ct*xt+ft*Lt+ht*Dt,et[10]=ut*vt+ct*Et+ft*Ot+ht*Bt,et[14]=ut*At+ct*Mt+ft*Rt+ht*kt,et[3]=dt*yt+pt*bt+mt*Tt+gt*Ct,et[7]=dt*_t+pt*xt+mt*Lt+gt*Dt,et[11]=dt*vt+pt*Et+mt*Ot+gt*Bt,et[15]=dt*At+pt*Mt+mt*Rt+gt*kt,this}multiplyScalar(g){const b=this.elements;return b[0]*=g,b[4]*=g,b[8]*=g,b[12]*=g,b[1]*=g,b[5]*=g,b[9]*=g,b[13]*=g,b[2]*=g,b[6]*=g,b[10]*=g,b[14]*=g,b[3]*=g,b[7]*=g,b[11]*=g,b[15]*=g,this}determinant(){const g=this.elements,b=g[0],$=g[4],_e=g[8],et=g[12],tt=g[1],nt=g[5],rt=g[9],it=g[13],ot=g[2],st=g[6],at=g[10],lt=g[14],ut=g[3],ct=g[7],ft=g[11],ht=g[15];return ut*(+et*rt*st-_e*it*st-et*nt*at+$*it*at+_e*nt*lt-$*rt*lt)+ct*(+b*rt*lt-b*it*at+et*tt*at-_e*tt*lt+_e*it*ot-et*rt*ot)+ft*(+b*it*st-b*nt*lt-et*tt*st+$*tt*lt+et*nt*ot-$*it*ot)+ht*(-_e*nt*ot-b*rt*st+b*nt*at+_e*tt*st-$*tt*at+$*rt*ot)}transpose(){const g=this.elements;let b;return b=g[1],g[1]=g[4],g[4]=b,b=g[2],g[2]=g[8],g[8]=b,b=g[6],g[6]=g[9],g[9]=b,b=g[3],g[3]=g[12],g[12]=b,b=g[7],g[7]=g[13],g[13]=b,b=g[11],g[11]=g[14],g[14]=b,this}setPosition(g,b,$){const _e=this.elements;return g.isVector3?(_e[12]=g.x,_e[13]=g.y,_e[14]=g.z):(_e[12]=g,_e[13]=b,_e[14]=$),this}invert(){const g=this.elements,b=g[0],$=g[1],_e=g[2],et=g[3],tt=g[4],nt=g[5],rt=g[6],it=g[7],ot=g[8],st=g[9],at=g[10],lt=g[11],ut=g[12],ct=g[13],ft=g[14],ht=g[15],dt=st*ft*it-ct*at*it+ct*rt*lt-nt*ft*lt-st*rt*ht+nt*at*ht,pt=ut*at*it-ot*ft*it-ut*rt*lt+tt*ft*lt+ot*rt*ht-tt*at*ht,mt=ot*ct*it-ut*st*it+ut*nt*lt-tt*ct*lt-ot*nt*ht+tt*st*ht,gt=ut*st*rt-ot*ct*rt-ut*nt*at+tt*ct*at+ot*nt*ft-tt*st*ft,yt=b*dt+$*pt+_e*mt+et*gt;if(yt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _t=1/yt;return g[0]=dt*_t,g[1]=(ct*at*et-st*ft*et-ct*_e*lt+$*ft*lt+st*_e*ht-$*at*ht)*_t,g[2]=(nt*ft*et-ct*rt*et+ct*_e*it-$*ft*it-nt*_e*ht+$*rt*ht)*_t,g[3]=(st*rt*et-nt*at*et-st*_e*it+$*at*it+nt*_e*lt-$*rt*lt)*_t,g[4]=pt*_t,g[5]=(ot*ft*et-ut*at*et+ut*_e*lt-b*ft*lt-ot*_e*ht+b*at*ht)*_t,g[6]=(ut*rt*et-tt*ft*et-ut*_e*it+b*ft*it+tt*_e*ht-b*rt*ht)*_t,g[7]=(tt*at*et-ot*rt*et+ot*_e*it-b*at*it-tt*_e*lt+b*rt*lt)*_t,g[8]=mt*_t,g[9]=(ut*st*et-ot*ct*et-ut*$*lt+b*ct*lt+ot*$*ht-b*st*ht)*_t,g[10]=(tt*ct*et-ut*nt*et+ut*$*it-b*ct*it-tt*$*ht+b*nt*ht)*_t,g[11]=(ot*nt*et-tt*st*et-ot*$*it+b*st*it+tt*$*lt-b*nt*lt)*_t,g[12]=gt*_t,g[13]=(ot*ct*_e-ut*st*_e+ut*$*at-b*ct*at-ot*$*ft+b*st*ft)*_t,g[14]=(ut*nt*_e-tt*ct*_e-ut*$*rt+b*ct*rt+tt*$*ft-b*nt*ft)*_t,g[15]=(tt*st*_e-ot*nt*_e+ot*$*rt-b*st*rt-tt*$*at+b*nt*at)*_t,this}scale(g){const b=this.elements,$=g.x,_e=g.y,et=g.z;return b[0]*=$,b[4]*=_e,b[8]*=et,b[1]*=$,b[5]*=_e,b[9]*=et,b[2]*=$,b[6]*=_e,b[10]*=et,b[3]*=$,b[7]*=_e,b[11]*=et,this}getMaxScaleOnAxis(){const g=this.elements,b=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],$=g[4]*g[4]+g[5]*g[5]+g[6]*g[6],_e=g[8]*g[8]+g[9]*g[9]+g[10]*g[10];return Math.sqrt(Math.max(b,$,_e))}makeTranslation(g,b,$){return this.set(1,0,0,g,0,1,0,b,0,0,1,$,0,0,0,1),this}makeRotationX(g){const b=Math.cos(g),$=Math.sin(g);return this.set(1,0,0,0,0,b,-$,0,0,$,b,0,0,0,0,1),this}makeRotationY(g){const b=Math.cos(g),$=Math.sin(g);return this.set(b,0,$,0,0,1,0,0,-$,0,b,0,0,0,0,1),this}makeRotationZ(g){const b=Math.cos(g),$=Math.sin(g);return this.set(b,-$,0,0,$,b,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(g,b){const $=Math.cos(b),_e=Math.sin(b),et=1-$,tt=g.x,nt=g.y,rt=g.z,it=et*tt,ot=et*nt;return this.set(it*tt+$,it*nt-_e*rt,it*rt+_e*nt,0,it*nt+_e*rt,ot*nt+$,ot*rt-_e*tt,0,it*rt-_e*nt,ot*rt+_e*tt,et*rt*rt+$,0,0,0,0,1),this}makeScale(g,b,$){return this.set(g,0,0,0,0,b,0,0,0,0,$,0,0,0,0,1),this}makeShear(g,b,$,_e,et,tt){return this.set(1,$,et,0,g,1,tt,0,b,_e,1,0,0,0,0,1),this}compose(g,b,$){const _e=this.elements,et=b._x,tt=b._y,nt=b._z,rt=b._w,it=et+et,ot=tt+tt,st=nt+nt,at=et*it,lt=et*ot,ut=et*st,ct=tt*ot,ft=tt*st,ht=nt*st,dt=rt*it,pt=rt*ot,mt=rt*st,gt=$.x,yt=$.y,_t=$.z;return _e[0]=(1-(ct+ht))*gt,_e[1]=(lt+mt)*gt,_e[2]=(ut-pt)*gt,_e[3]=0,_e[4]=(lt-mt)*yt,_e[5]=(1-(at+ht))*yt,_e[6]=(ft+dt)*yt,_e[7]=0,_e[8]=(ut+pt)*_t,_e[9]=(ft-dt)*_t,_e[10]=(1-(at+ct))*_t,_e[11]=0,_e[12]=g.x,_e[13]=g.y,_e[14]=g.z,_e[15]=1,this}decompose(g,b,$){const _e=this.elements;let et=_v1$5.set(_e[0],_e[1],_e[2]).length();const tt=_v1$5.set(_e[4],_e[5],_e[6]).length(),nt=_v1$5.set(_e[8],_e[9],_e[10]).length();this.determinant()<0&&(et=-et),g.x=_e[12],g.y=_e[13],g.z=_e[14],_m1$2.copy(this);const it=1/et,ot=1/tt,st=1/nt;return _m1$2.elements[0]*=it,_m1$2.elements[1]*=it,_m1$2.elements[2]*=it,_m1$2.elements[4]*=ot,_m1$2.elements[5]*=ot,_m1$2.elements[6]*=ot,_m1$2.elements[8]*=st,_m1$2.elements[9]*=st,_m1$2.elements[10]*=st,b.setFromRotationMatrix(_m1$2),$.x=et,$.y=tt,$.z=nt,this}makePerspective(g,b,$,_e,et,tt){tt===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const nt=this.elements,rt=2*et/(b-g),it=2*et/($-_e),ot=(b+g)/(b-g),st=($+_e)/($-_e),at=-(tt+et)/(tt-et),lt=-2*tt*et/(tt-et);return nt[0]=rt,nt[4]=0,nt[8]=ot,nt[12]=0,nt[1]=0,nt[5]=it,nt[9]=st,nt[13]=0,nt[2]=0,nt[6]=0,nt[10]=at,nt[14]=lt,nt[3]=0,nt[7]=0,nt[11]=-1,nt[15]=0,this}makeOrthographic(g,b,$,_e,et,tt){const nt=this.elements,rt=1/(b-g),it=1/($-_e),ot=1/(tt-et),st=(b+g)*rt,at=($+_e)*it,lt=(tt+et)*ot;return nt[0]=2*rt,nt[4]=0,nt[8]=0,nt[12]=-st,nt[1]=0,nt[5]=2*it,nt[9]=0,nt[13]=-at,nt[2]=0,nt[6]=0,nt[10]=-2*ot,nt[14]=-lt,nt[3]=0,nt[7]=0,nt[11]=0,nt[15]=1,this}equals(g){const b=this.elements,$=g.elements;for(let _e=0;_e<16;_e++)if(b[_e]!==$[_e])return!1;return!0}fromArray(g,b=0){for(let $=0;$<16;$++)this.elements[$]=g[$+b];return this}toArray(g=[],b=0){const $=this.elements;return g[b]=$[0],g[b+1]=$[1],g[b+2]=$[2],g[b+3]=$[3],g[b+4]=$[4],g[b+5]=$[5],g[b+6]=$[6],g[b+7]=$[7],g[b+8]=$[8],g[b+9]=$[9],g[b+10]=$[10],g[b+11]=$[11],g[b+12]=$[12],g[b+13]=$[13],g[b+14]=$[14],g[b+15]=$[15],g}}Matrix4.prototype.isMatrix4=!0;const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(g=0,b=0,$=0,_e=Euler.DefaultOrder){this._x=g,this._y=b,this._z=$,this._order=_e}get x(){return this._x}set x(g){this._x=g,this._onChangeCallback()}get y(){return this._y}set y(g){this._y=g,this._onChangeCallback()}get z(){return this._z}set z(g){this._z=g,this._onChangeCallback()}get order(){return this._order}set order(g){this._order=g,this._onChangeCallback()}set(g,b,$,_e=this._order){return this._x=g,this._y=b,this._z=$,this._order=_e,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(g){return this._x=g._x,this._y=g._y,this._z=g._z,this._order=g._order,this._onChangeCallback(),this}setFromRotationMatrix(g,b=this._order,$=!0){const _e=g.elements,et=_e[0],tt=_e[4],nt=_e[8],rt=_e[1],it=_e[5],ot=_e[9],st=_e[2],at=_e[6],lt=_e[10];switch(b){case"XYZ":this._y=Math.asin(clamp$1(nt,-1,1)),Math.abs(nt)<.9999999?(this._x=Math.atan2(-ot,lt),this._z=Math.atan2(-tt,et)):(this._x=Math.atan2(at,it),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$1(ot,-1,1)),Math.abs(ot)<.9999999?(this._y=Math.atan2(nt,lt),this._z=Math.atan2(rt,it)):(this._y=Math.atan2(-st,et),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$1(at,-1,1)),Math.abs(at)<.9999999?(this._y=Math.atan2(-st,lt),this._z=Math.atan2(-tt,it)):(this._y=0,this._z=Math.atan2(rt,et));break;case"ZYX":this._y=Math.asin(-clamp$1(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(at,lt),this._z=Math.atan2(rt,et)):(this._x=0,this._z=Math.atan2(-tt,it));break;case"YZX":this._z=Math.asin(clamp$1(rt,-1,1)),Math.abs(rt)<.9999999?(this._x=Math.atan2(-ot,it),this._y=Math.atan2(-st,et)):(this._x=0,this._y=Math.atan2(nt,lt));break;case"XZY":this._z=Math.asin(-clamp$1(tt,-1,1)),Math.abs(tt)<.9999999?(this._x=Math.atan2(at,it),this._y=Math.atan2(nt,et)):(this._x=Math.atan2(-ot,lt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+b)}return this._order=b,$===!0&&this._onChangeCallback(),this}setFromQuaternion(g,b,$){return _matrix$1.makeRotationFromQuaternion(g),this.setFromRotationMatrix(_matrix$1,b,$)}setFromVector3(g,b=this._order){return this.set(g.x,g.y,g.z,b)}reorder(g){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,g)}equals(g){return g._x===this._x&&g._y===this._y&&g._z===this._z&&g._order===this._order}fromArray(g){return this._x=g[0],this._y=g[1],this._z=g[2],g[3]!==void 0&&(this._order=g[3]),this._onChangeCallback(),this}toArray(g=[],b=0){return g[b]=this._x,g[b+1]=this._y,g[b+2]=this._z,g[b+3]=this._order,g}_onChange(g){return this._onChangeCallback=g,this}_onChangeCallback(){}}Euler.prototype.isEuler=!0;Euler.DefaultOrder="XYZ";Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Layers{constructor(){this.mask=1}set(g){this.mask=(1<<g|0)>>>0}enable(g){this.mask|=1<<g|0}enableAll(){this.mask=-1}toggle(g){this.mask^=1<<g|0}disable(g){this.mask&=~(1<<g|0)}disableAll(){this.mask=0}test(g){return(this.mask&g.mask)!==0}isEnabled(g){return(this.mask&(1<<g|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher$1{constructor(){super(),Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();const g=new Vector3,b=new Euler,$=new Quaternion,_e=new Vector3(1,1,1);function et(){$.setFromEuler(b,!1)}function tt(){b.setFromQuaternion($,void 0,!1)}b._onChange(et),$._onChange(tt),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:g},rotation:{configurable:!0,enumerable:!0,value:b},quaternion:{configurable:!0,enumerable:!0,value:$},scale:{configurable:!0,enumerable:!0,value:_e},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(g){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(g),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(g){return this.quaternion.premultiply(g),this}setRotationFromAxisAngle(g,b){this.quaternion.setFromAxisAngle(g,b)}setRotationFromEuler(g){this.quaternion.setFromEuler(g,!0)}setRotationFromMatrix(g){this.quaternion.setFromRotationMatrix(g)}setRotationFromQuaternion(g){this.quaternion.copy(g)}rotateOnAxis(g,b){return _q1.setFromAxisAngle(g,b),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(g,b){return _q1.setFromAxisAngle(g,b),this.quaternion.premultiply(_q1),this}rotateX(g){return this.rotateOnAxis(_xAxis,g)}rotateY(g){return this.rotateOnAxis(_yAxis,g)}rotateZ(g){return this.rotateOnAxis(_zAxis,g)}translateOnAxis(g,b){return _v1$4.copy(g).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(b)),this}translateX(g){return this.translateOnAxis(_xAxis,g)}translateY(g){return this.translateOnAxis(_yAxis,g)}translateZ(g){return this.translateOnAxis(_zAxis,g)}localToWorld(g){return g.applyMatrix4(this.matrixWorld)}worldToLocal(g){return g.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(g,b,$){g.isVector3?_target.copy(g):_target.set(g,b,$);const _e=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),_e&&(_m1$1.extractRotation(_e.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(g){if(arguments.length>1){for(let b=0;b<arguments.length;b++)this.add(arguments[b]);return this}return g===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",g),this):(g&&g.isObject3D?(g.parent!==null&&g.parent.remove(g),g.parent=this,this.children.push(g),g.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",g),this)}remove(g){if(arguments.length>1){for(let $=0;$<arguments.length;$++)this.remove(arguments[$]);return this}const b=this.children.indexOf(g);return b!==-1&&(g.parent=null,this.children.splice(b,1),g.dispatchEvent(_removedEvent)),this}removeFromParent(){const g=this.parent;return g!==null&&g.remove(this),this}clear(){for(let g=0;g<this.children.length;g++){const b=this.children[g];b.parent=null,b.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(g){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),g.parent!==null&&(g.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(g.parent.matrixWorld)),g.applyMatrix4(_m1$1),this.add(g),g.updateWorldMatrix(!1,!0),this}getObjectById(g){return this.getObjectByProperty("id",g)}getObjectByName(g){return this.getObjectByProperty("name",g)}getObjectByProperty(g,b){if(this[g]===b)return this;for(let $=0,_e=this.children.length;$<_e;$++){const tt=this.children[$].getObjectByProperty(g,b);if(tt!==void 0)return tt}}getWorldPosition(g){return this.updateWorldMatrix(!0,!1),g.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(g){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,g,_scale$2),g}getWorldScale(g){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,g),g}getWorldDirection(g){this.updateWorldMatrix(!0,!1);const b=this.matrixWorld.elements;return g.set(b[8],b[9],b[10]).normalize()}raycast(){}traverse(g){g(this);const b=this.children;for(let $=0,_e=b.length;$<_e;$++)b[$].traverse(g)}traverseVisible(g){if(this.visible===!1)return;g(this);const b=this.children;for(let $=0,_e=b.length;$<_e;$++)b[$].traverseVisible(g)}traverseAncestors(g){const b=this.parent;b!==null&&(g(b),b.traverseAncestors(g))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(g){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||g)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,g=!0);const b=this.children;for(let $=0,_e=b.length;$<_e;$++)b[$].updateMatrixWorld(g)}updateWorldMatrix(g,b){const $=this.parent;if(g===!0&&$!==null&&$.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),b===!0){const _e=this.children;for(let et=0,tt=_e.length;et<tt;et++)_e[et].updateWorldMatrix(!1,!0)}}toJSON(g){const b=g===void 0||typeof g=="string",$={};b&&(g={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},$.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const _e={};_e.uuid=this.uuid,_e.type=this.type,this.name!==""&&(_e.name=this.name),this.castShadow===!0&&(_e.castShadow=!0),this.receiveShadow===!0&&(_e.receiveShadow=!0),this.visible===!1&&(_e.visible=!1),this.frustumCulled===!1&&(_e.frustumCulled=!1),this.renderOrder!==0&&(_e.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(_e.userData=this.userData),_e.layers=this.layers.mask,_e.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(_e.matrixAutoUpdate=!1),this.isInstancedMesh&&(_e.type="InstancedMesh",_e.count=this.count,_e.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(_e.instanceColor=this.instanceColor.toJSON()));function et(nt,rt){return nt[rt.uuid]===void 0&&(nt[rt.uuid]=rt.toJSON(g)),rt.uuid}if(this.isScene)this.background&&(this.background.isColor?_e.background=this.background.toJSON():this.background.isTexture&&(_e.background=this.background.toJSON(g).uuid)),this.environment&&this.environment.isTexture&&(_e.environment=this.environment.toJSON(g).uuid);else if(this.isMesh||this.isLine||this.isPoints){_e.geometry=et(g.geometries,this.geometry);const nt=this.geometry.parameters;if(nt!==void 0&&nt.shapes!==void 0){const rt=nt.shapes;if(Array.isArray(rt))for(let it=0,ot=rt.length;it<ot;it++){const st=rt[it];et(g.shapes,st)}else et(g.shapes,rt)}}if(this.isSkinnedMesh&&(_e.bindMode=this.bindMode,_e.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(et(g.skeletons,this.skeleton),_e.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const nt=[];for(let rt=0,it=this.material.length;rt<it;rt++)nt.push(et(g.materials,this.material[rt]));_e.material=nt}else _e.material=et(g.materials,this.material);if(this.children.length>0){_e.children=[];for(let nt=0;nt<this.children.length;nt++)_e.children.push(this.children[nt].toJSON(g).object)}if(this.animations.length>0){_e.animations=[];for(let nt=0;nt<this.animations.length;nt++){const rt=this.animations[nt];_e.animations.push(et(g.animations,rt))}}if(b){const nt=tt(g.geometries),rt=tt(g.materials),it=tt(g.textures),ot=tt(g.images),st=tt(g.shapes),at=tt(g.skeletons),lt=tt(g.animations),ut=tt(g.nodes);nt.length>0&&($.geometries=nt),rt.length>0&&($.materials=rt),it.length>0&&($.textures=it),ot.length>0&&($.images=ot),st.length>0&&($.shapes=st),at.length>0&&($.skeletons=at),lt.length>0&&($.animations=lt),ut.length>0&&($.nodes=ut)}return $.object=_e,$;function tt(nt){const rt=[];for(const it in nt){const ot=nt[it];delete ot.metadata,rt.push(ot)}return rt}}clone(g){return new this.constructor().copy(this,g)}copy(g,b=!0){if(this.name=g.name,this.up.copy(g.up),this.position.copy(g.position),this.rotation.order=g.rotation.order,this.quaternion.copy(g.quaternion),this.scale.copy(g.scale),this.matrix.copy(g.matrix),this.matrixWorld.copy(g.matrixWorld),this.matrixAutoUpdate=g.matrixAutoUpdate,this.matrixWorldNeedsUpdate=g.matrixWorldNeedsUpdate,this.layers.mask=g.layers.mask,this.visible=g.visible,this.castShadow=g.castShadow,this.receiveShadow=g.receiveShadow,this.frustumCulled=g.frustumCulled,this.renderOrder=g.renderOrder,this.userData=JSON.parse(JSON.stringify(g.userData)),b===!0)for(let $=0;$<g.children.length;$++){const _e=g.children[$];this.add(_e.clone())}return this}}Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=!0;Object3D.prototype.isObject3D=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(g=new Vector3,b=new Vector3,$=new Vector3){this.a=g,this.b=b,this.c=$}static getNormal(g,b,$,_e){_e.subVectors($,b),_v0$1.subVectors(g,b),_e.cross(_v0$1);const et=_e.lengthSq();return et>0?_e.multiplyScalar(1/Math.sqrt(et)):_e.set(0,0,0)}static getBarycoord(g,b,$,_e,et){_v0$1.subVectors(_e,b),_v1$3.subVectors($,b),_v2$2.subVectors(g,b);const tt=_v0$1.dot(_v0$1),nt=_v0$1.dot(_v1$3),rt=_v0$1.dot(_v2$2),it=_v1$3.dot(_v1$3),ot=_v1$3.dot(_v2$2),st=tt*it-nt*nt;if(st===0)return et.set(-2,-1,-1);const at=1/st,lt=(it*rt-nt*ot)*at,ut=(tt*ot-nt*rt)*at;return et.set(1-lt-ut,ut,lt)}static containsPoint(g,b,$,_e){return this.getBarycoord(g,b,$,_e,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(g,b,$,_e,et,tt,nt,rt){return this.getBarycoord(g,b,$,_e,_v3$1),rt.set(0,0),rt.addScaledVector(et,_v3$1.x),rt.addScaledVector(tt,_v3$1.y),rt.addScaledVector(nt,_v3$1.z),rt}static isFrontFacing(g,b,$,_e){return _v0$1.subVectors($,b),_v1$3.subVectors(g,b),_v0$1.cross(_v1$3).dot(_e)<0}set(g,b,$){return this.a.copy(g),this.b.copy(b),this.c.copy($),this}setFromPointsAndIndices(g,b,$,_e){return this.a.copy(g[b]),this.b.copy(g[$]),this.c.copy(g[_e]),this}setFromAttributeAndIndices(g,b,$,_e){return this.a.fromBufferAttribute(g,b),this.b.fromBufferAttribute(g,$),this.c.fromBufferAttribute(g,_e),this}clone(){return new this.constructor().copy(this)}copy(g){return this.a.copy(g.a),this.b.copy(g.b),this.c.copy(g.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(g){return g.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(g){return Triangle.getNormal(this.a,this.b,this.c,g)}getPlane(g){return g.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(g,b){return Triangle.getBarycoord(g,this.a,this.b,this.c,b)}getUV(g,b,$,_e,et){return Triangle.getUV(g,this.a,this.b,this.c,b,$,_e,et)}containsPoint(g){return Triangle.containsPoint(g,this.a,this.b,this.c)}isFrontFacing(g){return Triangle.isFrontFacing(this.a,this.b,this.c,g)}intersectsBox(g){return g.intersectsTriangle(this)}closestPointToPoint(g,b){const $=this.a,_e=this.b,et=this.c;let tt,nt;_vab.subVectors(_e,$),_vac.subVectors(et,$),_vap.subVectors(g,$);const rt=_vab.dot(_vap),it=_vac.dot(_vap);if(rt<=0&&it<=0)return b.copy($);_vbp.subVectors(g,_e);const ot=_vab.dot(_vbp),st=_vac.dot(_vbp);if(ot>=0&&st<=ot)return b.copy(_e);const at=rt*st-ot*it;if(at<=0&&rt>=0&&ot<=0)return tt=rt/(rt-ot),b.copy($).addScaledVector(_vab,tt);_vcp.subVectors(g,et);const lt=_vab.dot(_vcp),ut=_vac.dot(_vcp);if(ut>=0&&lt<=ut)return b.copy(et);const ct=lt*it-rt*ut;if(ct<=0&&it>=0&&ut<=0)return nt=it/(it-ut),b.copy($).addScaledVector(_vac,nt);const ft=ot*ut-lt*st;if(ft<=0&&st-ot>=0&&lt-ut>=0)return _vbc.subVectors(et,_e),nt=(st-ot)/(st-ot+(lt-ut)),b.copy(_e).addScaledVector(_vbc,nt);const ht=1/(ft+ct+at);return tt=ct*ht,nt=at*ht,b.copy($).addScaledVector(_vab,tt).addScaledVector(_vac,nt)}equals(g){return g.a.equals(this.a)&&g.b.equals(this.b)&&g.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher$1{constructor(){super(),Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.fog=!0,this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(g){this._alphaTest>0!=g>0&&this.version++,this._alphaTest=g}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(g){if(g!==void 0)for(const b in g){const $=g[b];if($===void 0){console.warn("THREE.Material: '"+b+"' parameter is undefined.");continue}if(b==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=$===FlatShading;continue}const _e=this[b];if(_e===void 0){console.warn("THREE."+this.type+": '"+b+"' is not a property of this material.");continue}_e&&_e.isColor?_e.set($):_e&&_e.isVector3&&$&&$.isVector3?_e.copy($):this[b]=$}}toJSON(g){const b=g===void 0||typeof g=="string";b&&(g={textures:{},images:{}});const $={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};$.uuid=this.uuid,$.type=this.type,this.name!==""&&($.name=this.name),this.color&&this.color.isColor&&($.color=this.color.getHex()),this.roughness!==void 0&&($.roughness=this.roughness),this.metalness!==void 0&&($.metalness=this.metalness),this.sheen!==void 0&&($.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&($.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&($.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&($.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&($.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&($.specular=this.specular.getHex()),this.specularIntensity!==void 0&&($.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&($.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&($.shininess=this.shininess),this.clearcoat!==void 0&&($.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&($.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&($.clearcoatMap=this.clearcoatMap.toJSON(g).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&($.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(g).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&($.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(g).uuid,$.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&($.map=this.map.toJSON(g).uuid),this.matcap&&this.matcap.isTexture&&($.matcap=this.matcap.toJSON(g).uuid),this.alphaMap&&this.alphaMap.isTexture&&($.alphaMap=this.alphaMap.toJSON(g).uuid),this.lightMap&&this.lightMap.isTexture&&($.lightMap=this.lightMap.toJSON(g).uuid,$.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&($.aoMap=this.aoMap.toJSON(g).uuid,$.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&($.bumpMap=this.bumpMap.toJSON(g).uuid,$.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&($.normalMap=this.normalMap.toJSON(g).uuid,$.normalMapType=this.normalMapType,$.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&($.displacementMap=this.displacementMap.toJSON(g).uuid,$.displacementScale=this.displacementScale,$.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&($.roughnessMap=this.roughnessMap.toJSON(g).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&($.metalnessMap=this.metalnessMap.toJSON(g).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&($.emissiveMap=this.emissiveMap.toJSON(g).uuid),this.specularMap&&this.specularMap.isTexture&&($.specularMap=this.specularMap.toJSON(g).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&($.specularIntensityMap=this.specularIntensityMap.toJSON(g).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&($.specularColorMap=this.specularColorMap.toJSON(g).uuid),this.envMap&&this.envMap.isTexture&&($.envMap=this.envMap.toJSON(g).uuid,this.combine!==void 0&&($.combine=this.combine)),this.envMapIntensity!==void 0&&($.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&($.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&($.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&($.gradientMap=this.gradientMap.toJSON(g).uuid),this.transmission!==void 0&&($.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&($.transmissionMap=this.transmissionMap.toJSON(g).uuid),this.thickness!==void 0&&($.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&($.thicknessMap=this.thicknessMap.toJSON(g).uuid),this.attenuationDistance!==void 0&&($.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&($.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&($.size=this.size),this.shadowSide!==null&&($.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&($.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&($.blending=this.blending),this.side!==FrontSide&&($.side=this.side),this.vertexColors&&($.vertexColors=!0),this.opacity<1&&($.opacity=this.opacity),this.transparent===!0&&($.transparent=this.transparent),$.depthFunc=this.depthFunc,$.depthTest=this.depthTest,$.depthWrite=this.depthWrite,$.colorWrite=this.colorWrite,$.stencilWrite=this.stencilWrite,$.stencilWriteMask=this.stencilWriteMask,$.stencilFunc=this.stencilFunc,$.stencilRef=this.stencilRef,$.stencilFuncMask=this.stencilFuncMask,$.stencilFail=this.stencilFail,$.stencilZFail=this.stencilZFail,$.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&($.rotation=this.rotation),this.polygonOffset===!0&&($.polygonOffset=!0),this.polygonOffsetFactor!==0&&($.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&($.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&($.linewidth=this.linewidth),this.dashSize!==void 0&&($.dashSize=this.dashSize),this.gapSize!==void 0&&($.gapSize=this.gapSize),this.scale!==void 0&&($.scale=this.scale),this.dithering===!0&&($.dithering=!0),this.alphaTest>0&&($.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&($.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&($.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&($.wireframe=this.wireframe),this.wireframeLinewidth>1&&($.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&($.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&($.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&($.flatShading=this.flatShading),this.visible===!1&&($.visible=!1),this.toneMapped===!1&&($.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&($.userData=this.userData);function _e(et){const tt=[];for(const nt in et){const rt=et[nt];delete rt.metadata,tt.push(rt)}return tt}if(b){const et=_e(g.textures),tt=_e(g.images);et.length>0&&($.textures=et),tt.length>0&&($.images=tt)}return $}clone(){return new this.constructor().copy(this)}copy(g){this.name=g.name,this.fog=g.fog,this.blending=g.blending,this.side=g.side,this.vertexColors=g.vertexColors,this.opacity=g.opacity,this.transparent=g.transparent,this.blendSrc=g.blendSrc,this.blendDst=g.blendDst,this.blendEquation=g.blendEquation,this.blendSrcAlpha=g.blendSrcAlpha,this.blendDstAlpha=g.blendDstAlpha,this.blendEquationAlpha=g.blendEquationAlpha,this.depthFunc=g.depthFunc,this.depthTest=g.depthTest,this.depthWrite=g.depthWrite,this.stencilWriteMask=g.stencilWriteMask,this.stencilFunc=g.stencilFunc,this.stencilRef=g.stencilRef,this.stencilFuncMask=g.stencilFuncMask,this.stencilFail=g.stencilFail,this.stencilZFail=g.stencilZFail,this.stencilZPass=g.stencilZPass,this.stencilWrite=g.stencilWrite;const b=g.clippingPlanes;let $=null;if(b!==null){const _e=b.length;$=new Array(_e);for(let et=0;et!==_e;++et)$[et]=b[et].clone()}return this.clippingPlanes=$,this.clipIntersection=g.clipIntersection,this.clipShadows=g.clipShadows,this.shadowSide=g.shadowSide,this.colorWrite=g.colorWrite,this.precision=g.precision,this.polygonOffset=g.polygonOffset,this.polygonOffsetFactor=g.polygonOffsetFactor,this.polygonOffsetUnits=g.polygonOffsetUnits,this.dithering=g.dithering,this.alphaTest=g.alphaTest,this.alphaToCoverage=g.alphaToCoverage,this.premultipliedAlpha=g.premultipliedAlpha,this.visible=g.visible,this.toneMapped=g.toneMapped,this.userData=JSON.parse(JSON.stringify(g.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(g){g===!0&&this.version++}}Material.prototype.isMaterial=!0;Material.fromType=function(){return null};class MeshBasicMaterial extends Material{constructor(g){super(),this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(g)}copy(g){return super.copy(g),this.color.copy(g.color),this.map=g.map,this.lightMap=g.lightMap,this.lightMapIntensity=g.lightMapIntensity,this.aoMap=g.aoMap,this.aoMapIntensity=g.aoMapIntensity,this.specularMap=g.specularMap,this.alphaMap=g.alphaMap,this.envMap=g.envMap,this.combine=g.combine,this.reflectivity=g.reflectivity,this.refractionRatio=g.refractionRatio,this.wireframe=g.wireframe,this.wireframeLinewidth=g.wireframeLinewidth,this.wireframeLinecap=g.wireframeLinecap,this.wireframeLinejoin=g.wireframeLinejoin,this}}MeshBasicMaterial.prototype.isMeshBasicMaterial=!0;const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(g,b,$){if(Array.isArray(g))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=g,this.itemSize=b,this.count=g!==void 0?g.length/b:0,this.normalized=$===!0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(g){g===!0&&this.version++}setUsage(g){return this.usage=g,this}copy(g){return this.name=g.name,this.array=new g.array.constructor(g.array),this.itemSize=g.itemSize,this.count=g.count,this.normalized=g.normalized,this.usage=g.usage,this}copyAt(g,b,$){g*=this.itemSize,$*=b.itemSize;for(let _e=0,et=this.itemSize;_e<et;_e++)this.array[g+_e]=b.array[$+_e];return this}copyArray(g){return this.array.set(g),this}copyColorsArray(g){const b=this.array;let $=0;for(let _e=0,et=g.length;_e<et;_e++){let tt=g[_e];tt===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",_e),tt=new Color),b[$++]=tt.r,b[$++]=tt.g,b[$++]=tt.b}return this}copyVector2sArray(g){const b=this.array;let $=0;for(let _e=0,et=g.length;_e<et;_e++){let tt=g[_e];tt===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",_e),tt=new Vector2),b[$++]=tt.x,b[$++]=tt.y}return this}copyVector3sArray(g){const b=this.array;let $=0;for(let _e=0,et=g.length;_e<et;_e++){let tt=g[_e];tt===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",_e),tt=new Vector3),b[$++]=tt.x,b[$++]=tt.y,b[$++]=tt.z}return this}copyVector4sArray(g){const b=this.array;let $=0;for(let _e=0,et=g.length;_e<et;_e++){let tt=g[_e];tt===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",_e),tt=new Vector4),b[$++]=tt.x,b[$++]=tt.y,b[$++]=tt.z,b[$++]=tt.w}return this}applyMatrix3(g){if(this.itemSize===2)for(let b=0,$=this.count;b<$;b++)_vector2$1.fromBufferAttribute(this,b),_vector2$1.applyMatrix3(g),this.setXY(b,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let b=0,$=this.count;b<$;b++)_vector$9.fromBufferAttribute(this,b),_vector$9.applyMatrix3(g),this.setXYZ(b,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(g){for(let b=0,$=this.count;b<$;b++)_vector$9.x=this.getX(b),_vector$9.y=this.getY(b),_vector$9.z=this.getZ(b),_vector$9.applyMatrix4(g),this.setXYZ(b,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(g){for(let b=0,$=this.count;b<$;b++)_vector$9.x=this.getX(b),_vector$9.y=this.getY(b),_vector$9.z=this.getZ(b),_vector$9.applyNormalMatrix(g),this.setXYZ(b,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(g){for(let b=0,$=this.count;b<$;b++)_vector$9.x=this.getX(b),_vector$9.y=this.getY(b),_vector$9.z=this.getZ(b),_vector$9.transformDirection(g),this.setXYZ(b,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(g,b=0){return this.array.set(g,b),this}getX(g){return this.array[g*this.itemSize]}setX(g,b){return this.array[g*this.itemSize]=b,this}getY(g){return this.array[g*this.itemSize+1]}setY(g,b){return this.array[g*this.itemSize+1]=b,this}getZ(g){return this.array[g*this.itemSize+2]}setZ(g,b){return this.array[g*this.itemSize+2]=b,this}getW(g){return this.array[g*this.itemSize+3]}setW(g,b){return this.array[g*this.itemSize+3]=b,this}setXY(g,b,$){return g*=this.itemSize,this.array[g+0]=b,this.array[g+1]=$,this}setXYZ(g,b,$,_e){return g*=this.itemSize,this.array[g+0]=b,this.array[g+1]=$,this.array[g+2]=_e,this}setXYZW(g,b,$,_e,et){return g*=this.itemSize,this.array[g+0]=b,this.array[g+1]=$,this.array[g+2]=_e,this.array[g+3]=et,this}onUpload(g){return this.onUploadCallback=g,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const g={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(g.name=this.name),this.usage!==StaticDrawUsage&&(g.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(g.updateRange=this.updateRange),g}}BufferAttribute.prototype.isBufferAttribute=!0;class Uint16BufferAttribute extends BufferAttribute{constructor(g,b,$){super(new Uint16Array(g),b,$)}}class Uint32BufferAttribute extends BufferAttribute{constructor(g,b,$){super(new Uint32Array(g),b,$)}}class Float16BufferAttribute extends BufferAttribute{constructor(g,b,$){super(new Uint16Array(g),b,$)}}Float16BufferAttribute.prototype.isFloat16BufferAttribute=!0;class Float32BufferAttribute extends BufferAttribute{constructor(g,b,$){super(new Float32Array(g),b,$)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(g){return Array.isArray(g)?this.index=new(arrayNeedsUint32(g)?Uint32BufferAttribute:Uint16BufferAttribute)(g,1):this.index=g,this}getAttribute(g){return this.attributes[g]}setAttribute(g,b){return this.attributes[g]=b,this}deleteAttribute(g){return delete this.attributes[g],this}hasAttribute(g){return this.attributes[g]!==void 0}addGroup(g,b,$=0){this.groups.push({start:g,count:b,materialIndex:$})}clearGroups(){this.groups=[]}setDrawRange(g,b){this.drawRange.start=g,this.drawRange.count=b}applyMatrix4(g){const b=this.attributes.position;b!==void 0&&(b.applyMatrix4(g),b.needsUpdate=!0);const $=this.attributes.normal;if($!==void 0){const et=new Matrix3().getNormalMatrix(g);$.applyNormalMatrix(et),$.needsUpdate=!0}const _e=this.attributes.tangent;return _e!==void 0&&(_e.transformDirection(g),_e.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(g){return _m1.makeRotationFromQuaternion(g),this.applyMatrix4(_m1),this}rotateX(g){return _m1.makeRotationX(g),this.applyMatrix4(_m1),this}rotateY(g){return _m1.makeRotationY(g),this.applyMatrix4(_m1),this}rotateZ(g){return _m1.makeRotationZ(g),this.applyMatrix4(_m1),this}translate(g,b,$){return _m1.makeTranslation(g,b,$),this.applyMatrix4(_m1),this}scale(g,b,$){return _m1.makeScale(g,b,$),this.applyMatrix4(_m1),this}lookAt(g){return _obj.lookAt(g),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(g){const b=[];for(let $=0,_e=g.length;$<_e;$++){const et=g[$];b.push(et.x,et.y,et.z||0)}return this.setAttribute("position",new Float32BufferAttribute(b,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const g=this.attributes.position,b=this.morphAttributes.position;if(g&&g.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(g!==void 0){if(this.boundingBox.setFromBufferAttribute(g),b)for(let $=0,_e=b.length;$<_e;$++){const et=b[$];_box$1.setFromBufferAttribute(et),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const g=this.attributes.position,b=this.morphAttributes.position;if(g&&g.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(g){const $=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(g),b)for(let et=0,tt=b.length;et<tt;et++){const nt=b[et];_boxMorphTargets.setFromBufferAttribute(nt),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter($);let _e=0;for(let et=0,tt=g.count;et<tt;et++)_vector$8.fromBufferAttribute(g,et),_e=Math.max(_e,$.distanceToSquared(_vector$8));if(b)for(let et=0,tt=b.length;et<tt;et++){const nt=b[et],rt=this.morphTargetsRelative;for(let it=0,ot=nt.count;it<ot;it++)_vector$8.fromBufferAttribute(nt,it),rt&&(_offset.fromBufferAttribute(g,it),_vector$8.add(_offset)),_e=Math.max(_e,$.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(_e),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const g=this.index,b=this.attributes;if(g===null||b.position===void 0||b.normal===void 0||b.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const $=g.array,_e=b.position.array,et=b.normal.array,tt=b.uv.array,nt=_e.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*nt),4));const rt=this.getAttribute("tangent").array,it=[],ot=[];for(let bt=0;bt<nt;bt++)it[bt]=new Vector3,ot[bt]=new Vector3;const st=new Vector3,at=new Vector3,lt=new Vector3,ut=new Vector2,ct=new Vector2,ft=new Vector2,ht=new Vector3,dt=new Vector3;function pt(bt,xt,Et){st.fromArray(_e,bt*3),at.fromArray(_e,xt*3),lt.fromArray(_e,Et*3),ut.fromArray(tt,bt*2),ct.fromArray(tt,xt*2),ft.fromArray(tt,Et*2),at.sub(st),lt.sub(st),ct.sub(ut),ft.sub(ut);const Mt=1/(ct.x*ft.y-ft.x*ct.y);!isFinite(Mt)||(ht.copy(at).multiplyScalar(ft.y).addScaledVector(lt,-ct.y).multiplyScalar(Mt),dt.copy(lt).multiplyScalar(ct.x).addScaledVector(at,-ft.x).multiplyScalar(Mt),it[bt].add(ht),it[xt].add(ht),it[Et].add(ht),ot[bt].add(dt),ot[xt].add(dt),ot[Et].add(dt))}let mt=this.groups;mt.length===0&&(mt=[{start:0,count:$.length}]);for(let bt=0,xt=mt.length;bt<xt;++bt){const Et=mt[bt],Mt=Et.start,Tt=Et.count;for(let Lt=Mt,Ot=Mt+Tt;Lt<Ot;Lt+=3)pt($[Lt+0],$[Lt+1],$[Lt+2])}const gt=new Vector3,yt=new Vector3,_t=new Vector3,vt=new Vector3;function At(bt){_t.fromArray(et,bt*3),vt.copy(_t);const xt=it[bt];gt.copy(xt),gt.sub(_t.multiplyScalar(_t.dot(xt))).normalize(),yt.crossVectors(vt,xt);const Mt=yt.dot(ot[bt])<0?-1:1;rt[bt*4]=gt.x,rt[bt*4+1]=gt.y,rt[bt*4+2]=gt.z,rt[bt*4+3]=Mt}for(let bt=0,xt=mt.length;bt<xt;++bt){const Et=mt[bt],Mt=Et.start,Tt=Et.count;for(let Lt=Mt,Ot=Mt+Tt;Lt<Ot;Lt+=3)At($[Lt+0]),At($[Lt+1]),At($[Lt+2])}}computeVertexNormals(){const g=this.index,b=this.getAttribute("position");if(b!==void 0){let $=this.getAttribute("normal");if($===void 0)$=new BufferAttribute(new Float32Array(b.count*3),3),this.setAttribute("normal",$);else for(let at=0,lt=$.count;at<lt;at++)$.setXYZ(at,0,0,0);const _e=new Vector3,et=new Vector3,tt=new Vector3,nt=new Vector3,rt=new Vector3,it=new Vector3,ot=new Vector3,st=new Vector3;if(g)for(let at=0,lt=g.count;at<lt;at+=3){const ut=g.getX(at+0),ct=g.getX(at+1),ft=g.getX(at+2);_e.fromBufferAttribute(b,ut),et.fromBufferAttribute(b,ct),tt.fromBufferAttribute(b,ft),ot.subVectors(tt,et),st.subVectors(_e,et),ot.cross(st),nt.fromBufferAttribute($,ut),rt.fromBufferAttribute($,ct),it.fromBufferAttribute($,ft),nt.add(ot),rt.add(ot),it.add(ot),$.setXYZ(ut,nt.x,nt.y,nt.z),$.setXYZ(ct,rt.x,rt.y,rt.z),$.setXYZ(ft,it.x,it.y,it.z)}else for(let at=0,lt=b.count;at<lt;at+=3)_e.fromBufferAttribute(b,at+0),et.fromBufferAttribute(b,at+1),tt.fromBufferAttribute(b,at+2),ot.subVectors(tt,et),st.subVectors(_e,et),ot.cross(st),$.setXYZ(at+0,ot.x,ot.y,ot.z),$.setXYZ(at+1,ot.x,ot.y,ot.z),$.setXYZ(at+2,ot.x,ot.y,ot.z);this.normalizeNormals(),$.needsUpdate=!0}}merge(g,b){if(!(g&&g.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",g);return}b===void 0&&(b=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const $=this.attributes;for(const _e in $){if(g.attributes[_e]===void 0)continue;const tt=$[_e].array,nt=g.attributes[_e],rt=nt.array,it=nt.itemSize*b,ot=Math.min(rt.length,tt.length-it);for(let st=0,at=it;st<ot;st++,at++)tt[at]=rt[st]}return this}normalizeNormals(){const g=this.attributes.normal;for(let b=0,$=g.count;b<$;b++)_vector$8.fromBufferAttribute(g,b),_vector$8.normalize(),g.setXYZ(b,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function g(nt,rt){const it=nt.array,ot=nt.itemSize,st=nt.normalized,at=new it.constructor(rt.length*ot);let lt=0,ut=0;for(let ct=0,ft=rt.length;ct<ft;ct++){nt.isInterleavedBufferAttribute?lt=rt[ct]*nt.data.stride+nt.offset:lt=rt[ct]*ot;for(let ht=0;ht<ot;ht++)at[ut++]=it[lt++]}return new BufferAttribute(at,ot,st)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const b=new BufferGeometry,$=this.index.array,_e=this.attributes;for(const nt in _e){const rt=_e[nt],it=g(rt,$);b.setAttribute(nt,it)}const et=this.morphAttributes;for(const nt in et){const rt=[],it=et[nt];for(let ot=0,st=it.length;ot<st;ot++){const at=it[ot],lt=g(at,$);rt.push(lt)}b.morphAttributes[nt]=rt}b.morphTargetsRelative=this.morphTargetsRelative;const tt=this.groups;for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];b.addGroup(it.start,it.count,it.materialIndex)}return b}toJSON(){const g={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(g.uuid=this.uuid,g.type=this.type,this.name!==""&&(g.name=this.name),Object.keys(this.userData).length>0&&(g.userData=this.userData),this.parameters!==void 0){const rt=this.parameters;for(const it in rt)rt[it]!==void 0&&(g[it]=rt[it]);return g}g.data={attributes:{}};const b=this.index;b!==null&&(g.data.index={type:b.array.constructor.name,array:Array.prototype.slice.call(b.array)});const $=this.attributes;for(const rt in $){const it=$[rt];g.data.attributes[rt]=it.toJSON(g.data)}const _e={};let et=!1;for(const rt in this.morphAttributes){const it=this.morphAttributes[rt],ot=[];for(let st=0,at=it.length;st<at;st++){const lt=it[st];ot.push(lt.toJSON(g.data))}ot.length>0&&(_e[rt]=ot,et=!0)}et&&(g.data.morphAttributes=_e,g.data.morphTargetsRelative=this.morphTargetsRelative);const tt=this.groups;tt.length>0&&(g.data.groups=JSON.parse(JSON.stringify(tt)));const nt=this.boundingSphere;return nt!==null&&(g.data.boundingSphere={center:nt.center.toArray(),radius:nt.radius}),g}clone(){return new this.constructor().copy(this)}copy(g){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const b={};this.name=g.name;const $=g.index;$!==null&&this.setIndex($.clone(b));const _e=g.attributes;for(const it in _e){const ot=_e[it];this.setAttribute(it,ot.clone(b))}const et=g.morphAttributes;for(const it in et){const ot=[],st=et[it];for(let at=0,lt=st.length;at<lt;at++)ot.push(st[at].clone(b));this.morphAttributes[it]=ot}this.morphTargetsRelative=g.morphTargetsRelative;const tt=g.groups;for(let it=0,ot=tt.length;it<ot;it++){const st=tt[it];this.addGroup(st.start,st.count,st.materialIndex)}const nt=g.boundingBox;nt!==null&&(this.boundingBox=nt.clone());const rt=g.boundingSphere;return rt!==null&&(this.boundingSphere=rt.clone()),this.drawRange.start=g.drawRange.start,this.drawRange.count=g.drawRange.count,this.userData=g.userData,g.parameters!==void 0&&(this.parameters=Object.assign({},g.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}BufferGeometry.prototype.isBufferGeometry=!0;const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_tempB=new Vector3,_tempC=new Vector3,_morphA=new Vector3,_morphB=new Vector3,_morphC=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(g=new BufferGeometry,b=new MeshBasicMaterial){super(),this.type="Mesh",this.geometry=g,this.material=b,this.updateMorphTargets()}copy(g){return super.copy(g),g.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=g.morphTargetInfluences.slice()),g.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},g.morphTargetDictionary)),this.material=g.material,this.geometry=g.geometry,this}updateMorphTargets(){const g=this.geometry;if(g.isBufferGeometry){const b=g.morphAttributes,$=Object.keys(b);if($.length>0){const _e=b[$[0]];if(_e!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let et=0,tt=_e.length;et<tt;et++){const nt=_e[et].name||String(et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[nt]=et}}}}else{const b=g.morphTargets;b!==void 0&&b.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(g,b){const $=this.geometry,_e=this.material,et=this.matrixWorld;if(_e===void 0||($.boundingSphere===null&&$.computeBoundingSphere(),_sphere$3.copy($.boundingSphere),_sphere$3.applyMatrix4(et),g.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(et).invert(),_ray$2.copy(g.ray).applyMatrix4(_inverseMatrix$2),$.boundingBox!==null&&_ray$2.intersectsBox($.boundingBox)===!1))return;let tt;if($.isBufferGeometry){const nt=$.index,rt=$.attributes.position,it=$.morphAttributes.position,ot=$.morphTargetsRelative,st=$.attributes.uv,at=$.attributes.uv2,lt=$.groups,ut=$.drawRange;if(nt!==null)if(Array.isArray(_e))for(let ct=0,ft=lt.length;ct<ft;ct++){const ht=lt[ct],dt=_e[ht.materialIndex],pt=Math.max(ht.start,ut.start),mt=Math.min(nt.count,Math.min(ht.start+ht.count,ut.start+ut.count));for(let gt=pt,yt=mt;gt<yt;gt+=3){const _t=nt.getX(gt),vt=nt.getX(gt+1),At=nt.getX(gt+2);tt=checkBufferGeometryIntersection(this,dt,g,_ray$2,rt,it,ot,st,at,_t,vt,At),tt&&(tt.faceIndex=Math.floor(gt/3),tt.face.materialIndex=ht.materialIndex,b.push(tt))}}else{const ct=Math.max(0,ut.start),ft=Math.min(nt.count,ut.start+ut.count);for(let ht=ct,dt=ft;ht<dt;ht+=3){const pt=nt.getX(ht),mt=nt.getX(ht+1),gt=nt.getX(ht+2);tt=checkBufferGeometryIntersection(this,_e,g,_ray$2,rt,it,ot,st,at,pt,mt,gt),tt&&(tt.faceIndex=Math.floor(ht/3),b.push(tt))}}else if(rt!==void 0)if(Array.isArray(_e))for(let ct=0,ft=lt.length;ct<ft;ct++){const ht=lt[ct],dt=_e[ht.materialIndex],pt=Math.max(ht.start,ut.start),mt=Math.min(rt.count,Math.min(ht.start+ht.count,ut.start+ut.count));for(let gt=pt,yt=mt;gt<yt;gt+=3){const _t=gt,vt=gt+1,At=gt+2;tt=checkBufferGeometryIntersection(this,dt,g,_ray$2,rt,it,ot,st,at,_t,vt,At),tt&&(tt.faceIndex=Math.floor(gt/3),tt.face.materialIndex=ht.materialIndex,b.push(tt))}}else{const ct=Math.max(0,ut.start),ft=Math.min(rt.count,ut.start+ut.count);for(let ht=ct,dt=ft;ht<dt;ht+=3){const pt=ht,mt=ht+1,gt=ht+2;tt=checkBufferGeometryIntersection(this,_e,g,_ray$2,rt,it,ot,st,at,pt,mt,gt),tt&&(tt.faceIndex=Math.floor(ht/3),b.push(tt))}}}else $.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Mesh.prototype.isMesh=!0;function checkIntersection(j,g,b,$,_e,et,tt,nt){let rt;if(g.side===BackSide?rt=$.intersectTriangle(tt,et,_e,!0,nt):rt=$.intersectTriangle(_e,et,tt,g.side!==DoubleSide,nt),rt===null)return null;_intersectionPointWorld.copy(nt),_intersectionPointWorld.applyMatrix4(j.matrixWorld);const it=b.ray.origin.distanceTo(_intersectionPointWorld);return it<b.near||it>b.far?null:{distance:it,point:_intersectionPointWorld.clone(),object:j}}function checkBufferGeometryIntersection(j,g,b,$,_e,et,tt,nt,rt,it,ot,st){_vA$1.fromBufferAttribute(_e,it),_vB$1.fromBufferAttribute(_e,ot),_vC$1.fromBufferAttribute(_e,st);const at=j.morphTargetInfluences;if(et&&at){_morphA.set(0,0,0),_morphB.set(0,0,0),_morphC.set(0,0,0);for(let ut=0,ct=et.length;ut<ct;ut++){const ft=at[ut],ht=et[ut];ft!==0&&(_tempA.fromBufferAttribute(ht,it),_tempB.fromBufferAttribute(ht,ot),_tempC.fromBufferAttribute(ht,st),tt?(_morphA.addScaledVector(_tempA,ft),_morphB.addScaledVector(_tempB,ft),_morphC.addScaledVector(_tempC,ft)):(_morphA.addScaledVector(_tempA.sub(_vA$1),ft),_morphB.addScaledVector(_tempB.sub(_vB$1),ft),_morphC.addScaledVector(_tempC.sub(_vC$1),ft)))}_vA$1.add(_morphA),_vB$1.add(_morphB),_vC$1.add(_morphC)}j.isSkinnedMesh&&(j.boneTransform(it,_vA$1),j.boneTransform(ot,_vB$1),j.boneTransform(st,_vC$1));const lt=checkIntersection(j,g,b,$,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(lt){nt&&(_uvA$1.fromBufferAttribute(nt,it),_uvB$1.fromBufferAttribute(nt,ot),_uvC$1.fromBufferAttribute(nt,st),lt.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),rt&&(_uvA$1.fromBufferAttribute(rt,it),_uvB$1.fromBufferAttribute(rt,ot),_uvC$1.fromBufferAttribute(rt,st),lt.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const ut={a:it,b:ot,c:st,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,ut.normal),lt.face=ut}return lt}class BoxGeometry extends BufferGeometry{constructor(g=1,b=1,$=1,_e=1,et=1,tt=1){super(),this.type="BoxGeometry",this.parameters={width:g,height:b,depth:$,widthSegments:_e,heightSegments:et,depthSegments:tt};const nt=this;_e=Math.floor(_e),et=Math.floor(et),tt=Math.floor(tt);const rt=[],it=[],ot=[],st=[];let at=0,lt=0;ut("z","y","x",-1,-1,$,b,g,tt,et,0),ut("z","y","x",1,-1,$,b,-g,tt,et,1),ut("x","z","y",1,1,g,$,b,_e,tt,2),ut("x","z","y",1,-1,g,$,-b,_e,tt,3),ut("x","y","z",1,-1,g,b,$,_e,et,4),ut("x","y","z",-1,-1,g,b,-$,_e,et,5),this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2));function ut(ct,ft,ht,dt,pt,mt,gt,yt,_t,vt,At){const bt=mt/_t,xt=gt/vt,Et=mt/2,Mt=gt/2,Tt=yt/2,Lt=_t+1,Ot=vt+1;let Rt=0,Ct=0;const Dt=new Vector3;for(let Bt=0;Bt<Ot;Bt++){const kt=Bt*xt-Mt;for(let zt=0;zt<Lt;zt++){const Ft=zt*bt-Et;Dt[ct]=Ft*dt,Dt[ft]=kt*pt,Dt[ht]=Tt,it.push(Dt.x,Dt.y,Dt.z),Dt[ct]=0,Dt[ft]=0,Dt[ht]=yt>0?1:-1,ot.push(Dt.x,Dt.y,Dt.z),st.push(zt/_t),st.push(1-Bt/vt),Rt+=1}}for(let Bt=0;Bt<vt;Bt++)for(let kt=0;kt<_t;kt++){const zt=at+kt+Lt*Bt,Ft=at+kt+Lt*(Bt+1),It=at+(kt+1)+Lt*(Bt+1),Ut=at+(kt+1)+Lt*Bt;rt.push(zt,Ft,Ut),rt.push(Ft,It,Ut),Ct+=6}nt.addGroup(lt,Ct,At),lt+=Ct,at+=Rt}}static fromJSON(g){return new BoxGeometry(g.width,g.height,g.depth,g.widthSegments,g.heightSegments,g.depthSegments)}}function cloneUniforms(j){const g={};for(const b in j){g[b]={};for(const $ in j[b]){const _e=j[b][$];_e&&(_e.isColor||_e.isMatrix3||_e.isMatrix4||_e.isVector2||_e.isVector3||_e.isVector4||_e.isTexture||_e.isQuaternion)?g[b][$]=_e.clone():Array.isArray(_e)?g[b][$]=_e.slice():g[b][$]=_e}}return g}function mergeUniforms(j){const g={};for(let b=0;b<j.length;b++){const $=cloneUniforms(j[b]);for(const _e in $)g[_e]=$[_e]}return g}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(g){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,g!==void 0&&(g.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(g))}copy(g){return super.copy(g),this.fragmentShader=g.fragmentShader,this.vertexShader=g.vertexShader,this.uniforms=cloneUniforms(g.uniforms),this.defines=Object.assign({},g.defines),this.wireframe=g.wireframe,this.wireframeLinewidth=g.wireframeLinewidth,this.lights=g.lights,this.clipping=g.clipping,this.extensions=Object.assign({},g.extensions),this.glslVersion=g.glslVersion,this}toJSON(g){const b=super.toJSON(g);b.glslVersion=this.glslVersion,b.uniforms={};for(const _e in this.uniforms){const tt=this.uniforms[_e].value;tt&&tt.isTexture?b.uniforms[_e]={type:"t",value:tt.toJSON(g).uuid}:tt&&tt.isColor?b.uniforms[_e]={type:"c",value:tt.getHex()}:tt&&tt.isVector2?b.uniforms[_e]={type:"v2",value:tt.toArray()}:tt&&tt.isVector3?b.uniforms[_e]={type:"v3",value:tt.toArray()}:tt&&tt.isVector4?b.uniforms[_e]={type:"v4",value:tt.toArray()}:tt&&tt.isMatrix3?b.uniforms[_e]={type:"m3",value:tt.toArray()}:tt&&tt.isMatrix4?b.uniforms[_e]={type:"m4",value:tt.toArray()}:b.uniforms[_e]={value:tt}}Object.keys(this.defines).length>0&&(b.defines=this.defines),b.vertexShader=this.vertexShader,b.fragmentShader=this.fragmentShader;const $={};for(const _e in this.extensions)this.extensions[_e]===!0&&($[_e]=!0);return Object.keys($).length>0&&(b.extensions=$),b}}ShaderMaterial.prototype.isShaderMaterial=!0;class Camera extends Object3D{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(g,b){return super.copy(g,b),this.matrixWorldInverse.copy(g.matrixWorldInverse),this.projectionMatrix.copy(g.projectionMatrix),this.projectionMatrixInverse.copy(g.projectionMatrixInverse),this}getWorldDirection(g){this.updateWorldMatrix(!0,!1);const b=this.matrixWorld.elements;return g.set(-b[8],-b[9],-b[10]).normalize()}updateMatrixWorld(g){super.updateMatrixWorld(g),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(g,b){super.updateWorldMatrix(g,b),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Camera.prototype.isCamera=!0;class PerspectiveCamera extends Camera{constructor(g=50,b=1,$=.1,_e=2e3){super(),this.type="PerspectiveCamera",this.fov=g,this.zoom=1,this.near=$,this.far=_e,this.focus=10,this.aspect=b,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(g,b){return super.copy(g,b),this.fov=g.fov,this.zoom=g.zoom,this.near=g.near,this.far=g.far,this.focus=g.focus,this.aspect=g.aspect,this.view=g.view===null?null:Object.assign({},g.view),this.filmGauge=g.filmGauge,this.filmOffset=g.filmOffset,this}setFocalLength(g){const b=.5*this.getFilmHeight()/g;this.fov=RAD2DEG*2*Math.atan(b),this.updateProjectionMatrix()}getFocalLength(){const g=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/g}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(g,b,$,_e,et,tt){this.aspect=g/b,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=g,this.view.fullHeight=b,this.view.offsetX=$,this.view.offsetY=_e,this.view.width=et,this.view.height=tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const g=this.near;let b=g*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,$=2*b,_e=this.aspect*$,et=-.5*_e;const tt=this.view;if(this.view!==null&&this.view.enabled){const rt=tt.fullWidth,it=tt.fullHeight;et+=tt.offsetX*_e/rt,b-=tt.offsetY*$/it,_e*=tt.width/rt,$*=tt.height/it}const nt=this.filmOffset;nt!==0&&(et+=g*nt/this.getFilmWidth()),this.projectionMatrix.makePerspective(et,et+_e,b,b-$,g,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(g){const b=super.toJSON(g);return b.object.fov=this.fov,b.object.zoom=this.zoom,b.object.near=this.near,b.object.far=this.far,b.object.focus=this.focus,b.object.aspect=this.aspect,this.view!==null&&(b.object.view=Object.assign({},this.view)),b.object.filmGauge=this.filmGauge,b.object.filmOffset=this.filmOffset,b}}PerspectiveCamera.prototype.isPerspectiveCamera=!0;const fov=90,aspect=1;class CubeCamera extends Object3D{constructor(g,b,$){if(super(),this.type="CubeCamera",$.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=$;const _e=new PerspectiveCamera(fov,aspect,g,b);_e.layers=this.layers,_e.up.set(0,-1,0),_e.lookAt(new Vector3(1,0,0)),this.add(_e);const et=new PerspectiveCamera(fov,aspect,g,b);et.layers=this.layers,et.up.set(0,-1,0),et.lookAt(new Vector3(-1,0,0)),this.add(et);const tt=new PerspectiveCamera(fov,aspect,g,b);tt.layers=this.layers,tt.up.set(0,0,1),tt.lookAt(new Vector3(0,1,0)),this.add(tt);const nt=new PerspectiveCamera(fov,aspect,g,b);nt.layers=this.layers,nt.up.set(0,0,-1),nt.lookAt(new Vector3(0,-1,0)),this.add(nt);const rt=new PerspectiveCamera(fov,aspect,g,b);rt.layers=this.layers,rt.up.set(0,-1,0),rt.lookAt(new Vector3(0,0,1)),this.add(rt);const it=new PerspectiveCamera(fov,aspect,g,b);it.layers=this.layers,it.up.set(0,-1,0),it.lookAt(new Vector3(0,0,-1)),this.add(it)}update(g,b){this.parent===null&&this.updateMatrixWorld();const $=this.renderTarget,[_e,et,tt,nt,rt,it]=this.children,ot=g.xr.enabled,st=g.getRenderTarget();g.xr.enabled=!1;const at=$.texture.generateMipmaps;$.texture.generateMipmaps=!1,g.setRenderTarget($,0),g.render(b,_e),g.setRenderTarget($,1),g.render(b,et),g.setRenderTarget($,2),g.render(b,tt),g.setRenderTarget($,3),g.render(b,nt),g.setRenderTarget($,4),g.render(b,rt),$.texture.generateMipmaps=at,g.setRenderTarget($,5),g.render(b,it),g.setRenderTarget(st),g.xr.enabled=ot,$.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(g,b,$,_e,et,tt,nt,rt,it,ot){g=g!==void 0?g:[],b=b!==void 0?b:CubeReflectionMapping,super(g,b,$,_e,et,tt,nt,rt,it,ot),this.flipY=!1}get images(){return this.image}set images(g){this.image=g}}CubeTexture.prototype.isCubeTexture=!0;class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(g,b={}){super(g,g,b);const $={width:g,height:g,depth:1},_e=[$,$,$,$,$,$];this.texture=new CubeTexture(_e,b.mapping,b.wrapS,b.wrapT,b.magFilter,b.minFilter,b.format,b.type,b.anisotropy,b.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=b.generateMipmaps!==void 0?b.generateMipmaps:!1,this.texture.minFilter=b.minFilter!==void 0?b.minFilter:LinearFilter}fromEquirectangularTexture(g,b){this.texture.type=b.type,this.texture.format=RGBAFormat,this.texture.encoding=b.encoding,this.texture.generateMipmaps=b.generateMipmaps,this.texture.minFilter=b.minFilter,this.texture.magFilter=b.magFilter;const $={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},_e=new BoxGeometry(5,5,5),et=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms($.uniforms),vertexShader:$.vertexShader,fragmentShader:$.fragmentShader,side:BackSide,blending:NoBlending});et.uniforms.tEquirect.value=b;const tt=new Mesh(_e,et),nt=b.minFilter;return b.minFilter===LinearMipmapLinearFilter&&(b.minFilter=LinearFilter),new CubeCamera(1,10,this).update(g,tt),b.minFilter=nt,tt.geometry.dispose(),tt.material.dispose(),this}clear(g,b,$,_e){const et=g.getRenderTarget();for(let tt=0;tt<6;tt++)g.setRenderTarget(this,tt),g.clear(b,$,_e);g.setRenderTarget(et)}}WebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget=!0;const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(g=new Vector3(1,0,0),b=0){this.normal=g,this.constant=b}set(g,b){return this.normal.copy(g),this.constant=b,this}setComponents(g,b,$,_e){return this.normal.set(g,b,$),this.constant=_e,this}setFromNormalAndCoplanarPoint(g,b){return this.normal.copy(g),this.constant=-b.dot(this.normal),this}setFromCoplanarPoints(g,b,$){const _e=_vector1.subVectors($,b).cross(_vector2.subVectors(g,b)).normalize();return this.setFromNormalAndCoplanarPoint(_e,g),this}copy(g){return this.normal.copy(g.normal),this.constant=g.constant,this}normalize(){const g=1/this.normal.length();return this.normal.multiplyScalar(g),this.constant*=g,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(g){return this.normal.dot(g)+this.constant}distanceToSphere(g){return this.distanceToPoint(g.center)-g.radius}projectPoint(g,b){return b.copy(this.normal).multiplyScalar(-this.distanceToPoint(g)).add(g)}intersectLine(g,b){const $=g.delta(_vector1),_e=this.normal.dot($);if(_e===0)return this.distanceToPoint(g.start)===0?b.copy(g.start):null;const et=-(g.start.dot(this.normal)+this.constant)/_e;return et<0||et>1?null:b.copy($).multiplyScalar(et).add(g.start)}intersectsLine(g){const b=this.distanceToPoint(g.start),$=this.distanceToPoint(g.end);return b<0&&$>0||$<0&&b>0}intersectsBox(g){return g.intersectsPlane(this)}intersectsSphere(g){return g.intersectsPlane(this)}coplanarPoint(g){return g.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(g,b){const $=b||_normalMatrix.getNormalMatrix(g),_e=this.coplanarPoint(_vector1).applyMatrix4(g),et=this.normal.applyMatrix3($).normalize();return this.constant=-_e.dot(et),this}translate(g){return this.constant-=g.dot(this.normal),this}equals(g){return g.normal.equals(this.normal)&&g.constant===this.constant}clone(){return new this.constructor().copy(this)}}Plane.prototype.isPlane=!0;const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor(g=new Plane,b=new Plane,$=new Plane,_e=new Plane,et=new Plane,tt=new Plane){this.planes=[g,b,$,_e,et,tt]}set(g,b,$,_e,et,tt){const nt=this.planes;return nt[0].copy(g),nt[1].copy(b),nt[2].copy($),nt[3].copy(_e),nt[4].copy(et),nt[5].copy(tt),this}copy(g){const b=this.planes;for(let $=0;$<6;$++)b[$].copy(g.planes[$]);return this}setFromProjectionMatrix(g){const b=this.planes,$=g.elements,_e=$[0],et=$[1],tt=$[2],nt=$[3],rt=$[4],it=$[5],ot=$[6],st=$[7],at=$[8],lt=$[9],ut=$[10],ct=$[11],ft=$[12],ht=$[13],dt=$[14],pt=$[15];return b[0].setComponents(nt-_e,st-rt,ct-at,pt-ft).normalize(),b[1].setComponents(nt+_e,st+rt,ct+at,pt+ft).normalize(),b[2].setComponents(nt+et,st+it,ct+lt,pt+ht).normalize(),b[3].setComponents(nt-et,st-it,ct-lt,pt-ht).normalize(),b[4].setComponents(nt-tt,st-ot,ct-ut,pt-dt).normalize(),b[5].setComponents(nt+tt,st+ot,ct+ut,pt+dt).normalize(),this}intersectsObject(g){const b=g.geometry;return b.boundingSphere===null&&b.computeBoundingSphere(),_sphere$2.copy(b.boundingSphere).applyMatrix4(g.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(g){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(g.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(g){const b=this.planes,$=g.center,_e=-g.radius;for(let et=0;et<6;et++)if(b[et].distanceToPoint($)<_e)return!1;return!0}intersectsBox(g){const b=this.planes;for(let $=0;$<6;$++){const _e=b[$];if(_vector$7.x=_e.normal.x>0?g.max.x:g.min.x,_vector$7.y=_e.normal.y>0?g.max.y:g.min.y,_vector$7.z=_e.normal.z>0?g.max.z:g.min.z,_e.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(g){const b=this.planes;for(let $=0;$<6;$++)if(b[$].distanceToPoint(g)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let j=null,g=!1,b=null,$=null;function _e(et,tt){b(et,tt),$=j.requestAnimationFrame(_e)}return{start:function(){g!==!0&&b!==null&&($=j.requestAnimationFrame(_e),g=!0)},stop:function(){j.cancelAnimationFrame($),g=!1},setAnimationLoop:function(et){b=et},setContext:function(et){j=et}}}function WebGLAttributes(j,g){const b=g.isWebGL2,$=new WeakMap;function _e(it,ot){const st=it.array,at=it.usage,lt=j.createBuffer();j.bindBuffer(ot,lt),j.bufferData(ot,st,at),it.onUploadCallback();let ut;if(st instanceof Float32Array)ut=5126;else if(st instanceof Uint16Array)if(it.isFloat16BufferAttribute)if(b)ut=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else ut=5123;else if(st instanceof Int16Array)ut=5122;else if(st instanceof Uint32Array)ut=5125;else if(st instanceof Int32Array)ut=5124;else if(st instanceof Int8Array)ut=5120;else if(st instanceof Uint8Array)ut=5121;else if(st instanceof Uint8ClampedArray)ut=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+st);return{buffer:lt,type:ut,bytesPerElement:st.BYTES_PER_ELEMENT,version:it.version}}function et(it,ot,st){const at=ot.array,lt=ot.updateRange;j.bindBuffer(st,it),lt.count===-1?j.bufferSubData(st,0,at):(b?j.bufferSubData(st,lt.offset*at.BYTES_PER_ELEMENT,at,lt.offset,lt.count):j.bufferSubData(st,lt.offset*at.BYTES_PER_ELEMENT,at.subarray(lt.offset,lt.offset+lt.count)),lt.count=-1)}function tt(it){return it.isInterleavedBufferAttribute&&(it=it.data),$.get(it)}function nt(it){it.isInterleavedBufferAttribute&&(it=it.data);const ot=$.get(it);ot&&(j.deleteBuffer(ot.buffer),$.delete(it))}function rt(it,ot){if(it.isGLBufferAttribute){const at=$.get(it);(!at||at.version<it.version)&&$.set(it,{buffer:it.buffer,type:it.type,bytesPerElement:it.elementSize,version:it.version});return}it.isInterleavedBufferAttribute&&(it=it.data);const st=$.get(it);st===void 0?$.set(it,_e(it,ot)):st.version<it.version&&(et(st.buffer,it,ot),st.version=it.version)}return{get:tt,remove:nt,update:rt}}class PlaneGeometry extends BufferGeometry{constructor(g=1,b=1,$=1,_e=1){super(),this.type="PlaneGeometry",this.parameters={width:g,height:b,widthSegments:$,heightSegments:_e};const et=g/2,tt=b/2,nt=Math.floor($),rt=Math.floor(_e),it=nt+1,ot=rt+1,st=g/nt,at=b/rt,lt=[],ut=[],ct=[],ft=[];for(let ht=0;ht<ot;ht++){const dt=ht*at-tt;for(let pt=0;pt<it;pt++){const mt=pt*st-et;ut.push(mt,-dt,0),ct.push(0,0,1),ft.push(pt/nt),ft.push(1-ht/rt)}}for(let ht=0;ht<rt;ht++)for(let dt=0;dt<nt;dt++){const pt=dt+it*ht,mt=dt+it*(ht+1),gt=dt+1+it*(ht+1),yt=dt+1+it*ht;lt.push(pt,mt,yt),lt.push(mt,gt,yt)}this.setIndex(lt),this.setAttribute("position",new Float32BufferAttribute(ut,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ft,2))}static fromJSON(g){return new PlaneGeometry(g.width,g.height,g.widthSegments,g.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ]
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			float texelIndex = float( vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$g=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$g=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_vertex,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$g,background_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},cube:{uniforms:mergeUniforms([UniformsLib.envmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};function WebGLBackground(j,g,b,$,_e,et){const tt=new Color(0);let nt=_e===!0?0:1,rt,it,ot=null,st=0,at=null;function lt(ct,ft){let ht=!1,dt=ft.isScene===!0?ft.background:null;dt&&dt.isTexture&&(dt=g.get(dt));const pt=j.xr,mt=pt.getSession&&pt.getSession();mt&&mt.environmentBlendMode==="additive"&&(dt=null),dt===null?ut(tt,nt):dt&&dt.isColor&&(ut(dt,1),ht=!0),(j.autoClear||ht)&&j.clear(j.autoClearColor,j.autoClearDepth,j.autoClearStencil),dt&&(dt.isCubeTexture||dt.mapping===CubeUVReflectionMapping)?(it===void 0&&(it=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.cube.uniforms),vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),it.geometry.deleteAttribute("normal"),it.geometry.deleteAttribute("uv"),it.onBeforeRender=function(gt,yt,_t){this.matrixWorld.copyPosition(_t.matrixWorld)},Object.defineProperty(it.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),$.update(it)),it.material.uniforms.envMap.value=dt,it.material.uniforms.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1,(ot!==dt||st!==dt.version||at!==j.toneMapping)&&(it.material.needsUpdate=!0,ot=dt,st=dt.version,at=j.toneMapping),ct.unshift(it,it.geometry,it.material,0,0,null)):dt&&dt.isTexture&&(rt===void 0&&(rt=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),rt.geometry.deleteAttribute("normal"),Object.defineProperty(rt.material,"map",{get:function(){return this.uniforms.t2D.value}}),$.update(rt)),rt.material.uniforms.t2D.value=dt,dt.matrixAutoUpdate===!0&&dt.updateMatrix(),rt.material.uniforms.uvTransform.value.copy(dt.matrix),(ot!==dt||st!==dt.version||at!==j.toneMapping)&&(rt.material.needsUpdate=!0,ot=dt,st=dt.version,at=j.toneMapping),ct.unshift(rt,rt.geometry,rt.material,0,0,null))}function ut(ct,ft){b.buffers.color.setClear(ct.r,ct.g,ct.b,ft,et)}return{getClearColor:function(){return tt},setClearColor:function(ct,ft=1){tt.set(ct),nt=ft,ut(tt,nt)},getClearAlpha:function(){return nt},setClearAlpha:function(ct){nt=ct,ut(tt,nt)},render:lt}}function WebGLBindingStates(j,g,b,$){const _e=j.getParameter(34921),et=$.isWebGL2?null:g.get("OES_vertex_array_object"),tt=$.isWebGL2||et!==null,nt={},rt=ct(null);let it=rt;function ot(Mt,Tt,Lt,Ot,Rt){let Ct=!1;if(tt){const Dt=ut(Ot,Lt,Tt);it!==Dt&&(it=Dt,at(it.object)),Ct=ft(Ot,Rt),Ct&&ht(Ot,Rt)}else{const Dt=Tt.wireframe===!0;(it.geometry!==Ot.id||it.program!==Lt.id||it.wireframe!==Dt)&&(it.geometry=Ot.id,it.program=Lt.id,it.wireframe=Dt,Ct=!0)}Mt.isInstancedMesh===!0&&(Ct=!0),Rt!==null&&b.update(Rt,34963),Ct&&(_t(Mt,Tt,Lt,Ot),Rt!==null&&j.bindBuffer(34963,b.get(Rt).buffer))}function st(){return $.isWebGL2?j.createVertexArray():et.createVertexArrayOES()}function at(Mt){return $.isWebGL2?j.bindVertexArray(Mt):et.bindVertexArrayOES(Mt)}function lt(Mt){return $.isWebGL2?j.deleteVertexArray(Mt):et.deleteVertexArrayOES(Mt)}function ut(Mt,Tt,Lt){const Ot=Lt.wireframe===!0;let Rt=nt[Mt.id];Rt===void 0&&(Rt={},nt[Mt.id]=Rt);let Ct=Rt[Tt.id];Ct===void 0&&(Ct={},Rt[Tt.id]=Ct);let Dt=Ct[Ot];return Dt===void 0&&(Dt=ct(st()),Ct[Ot]=Dt),Dt}function ct(Mt){const Tt=[],Lt=[],Ot=[];for(let Rt=0;Rt<_e;Rt++)Tt[Rt]=0,Lt[Rt]=0,Ot[Rt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Tt,enabledAttributes:Lt,attributeDivisors:Ot,object:Mt,attributes:{},index:null}}function ft(Mt,Tt){const Lt=it.attributes,Ot=Mt.attributes;let Rt=0;for(const Ct in Ot){const Dt=Lt[Ct],Bt=Ot[Ct];if(Dt===void 0||Dt.attribute!==Bt||Dt.data!==Bt.data)return!0;Rt++}return it.attributesNum!==Rt||it.index!==Tt}function ht(Mt,Tt){const Lt={},Ot=Mt.attributes;let Rt=0;for(const Ct in Ot){const Dt=Ot[Ct],Bt={};Bt.attribute=Dt,Dt.data&&(Bt.data=Dt.data),Lt[Ct]=Bt,Rt++}it.attributes=Lt,it.attributesNum=Rt,it.index=Tt}function dt(){const Mt=it.newAttributes;for(let Tt=0,Lt=Mt.length;Tt<Lt;Tt++)Mt[Tt]=0}function pt(Mt){mt(Mt,0)}function mt(Mt,Tt){const Lt=it.newAttributes,Ot=it.enabledAttributes,Rt=it.attributeDivisors;Lt[Mt]=1,Ot[Mt]===0&&(j.enableVertexAttribArray(Mt),Ot[Mt]=1),Rt[Mt]!==Tt&&(($.isWebGL2?j:g.get("ANGLE_instanced_arrays"))[$.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Mt,Tt),Rt[Mt]=Tt)}function gt(){const Mt=it.newAttributes,Tt=it.enabledAttributes;for(let Lt=0,Ot=Tt.length;Lt<Ot;Lt++)Tt[Lt]!==Mt[Lt]&&(j.disableVertexAttribArray(Lt),Tt[Lt]=0)}function yt(Mt,Tt,Lt,Ot,Rt,Ct){$.isWebGL2===!0&&(Lt===5124||Lt===5125)?j.vertexAttribIPointer(Mt,Tt,Lt,Rt,Ct):j.vertexAttribPointer(Mt,Tt,Lt,Ot,Rt,Ct)}function _t(Mt,Tt,Lt,Ot){if($.isWebGL2===!1&&(Mt.isInstancedMesh||Ot.isInstancedBufferGeometry)&&g.get("ANGLE_instanced_arrays")===null)return;dt();const Rt=Ot.attributes,Ct=Lt.getAttributes(),Dt=Tt.defaultAttributeValues;for(const Bt in Ct){const kt=Ct[Bt];if(kt.location>=0){let zt=Rt[Bt];if(zt===void 0&&(Bt==="instanceMatrix"&&Mt.instanceMatrix&&(zt=Mt.instanceMatrix),Bt==="instanceColor"&&Mt.instanceColor&&(zt=Mt.instanceColor)),zt!==void 0){const Ft=zt.normalized,It=zt.itemSize,Ut=b.get(zt);if(Ut===void 0)continue;const Gt=Ut.buffer,jt=Ut.type,Yt=Ut.bytesPerElement;if(zt.isInterleavedBufferAttribute){const Qt=zt.data,ln=Qt.stride,Zt=zt.offset;if(Qt.isInstancedInterleavedBuffer){for(let Wt=0;Wt<kt.locationSize;Wt++)mt(kt.location+Wt,Qt.meshPerAttribute);Mt.isInstancedMesh!==!0&&Ot._maxInstanceCount===void 0&&(Ot._maxInstanceCount=Qt.meshPerAttribute*Qt.count)}else for(let Wt=0;Wt<kt.locationSize;Wt++)pt(kt.location+Wt);j.bindBuffer(34962,Gt);for(let Wt=0;Wt<kt.locationSize;Wt++)yt(kt.location+Wt,It/kt.locationSize,jt,Ft,ln*Yt,(Zt+It/kt.locationSize*Wt)*Yt)}else{if(zt.isInstancedBufferAttribute){for(let Qt=0;Qt<kt.locationSize;Qt++)mt(kt.location+Qt,zt.meshPerAttribute);Mt.isInstancedMesh!==!0&&Ot._maxInstanceCount===void 0&&(Ot._maxInstanceCount=zt.meshPerAttribute*zt.count)}else for(let Qt=0;Qt<kt.locationSize;Qt++)pt(kt.location+Qt);j.bindBuffer(34962,Gt);for(let Qt=0;Qt<kt.locationSize;Qt++)yt(kt.location+Qt,It/kt.locationSize,jt,Ft,It*Yt,It/kt.locationSize*Qt*Yt)}}else if(Dt!==void 0){const Ft=Dt[Bt];if(Ft!==void 0)switch(Ft.length){case 2:j.vertexAttrib2fv(kt.location,Ft);break;case 3:j.vertexAttrib3fv(kt.location,Ft);break;case 4:j.vertexAttrib4fv(kt.location,Ft);break;default:j.vertexAttrib1fv(kt.location,Ft)}}}}gt()}function vt(){xt();for(const Mt in nt){const Tt=nt[Mt];for(const Lt in Tt){const Ot=Tt[Lt];for(const Rt in Ot)lt(Ot[Rt].object),delete Ot[Rt];delete Tt[Lt]}delete nt[Mt]}}function At(Mt){if(nt[Mt.id]===void 0)return;const Tt=nt[Mt.id];for(const Lt in Tt){const Ot=Tt[Lt];for(const Rt in Ot)lt(Ot[Rt].object),delete Ot[Rt];delete Tt[Lt]}delete nt[Mt.id]}function bt(Mt){for(const Tt in nt){const Lt=nt[Tt];if(Lt[Mt.id]===void 0)continue;const Ot=Lt[Mt.id];for(const Rt in Ot)lt(Ot[Rt].object),delete Ot[Rt];delete Lt[Mt.id]}}function xt(){Et(),it!==rt&&(it=rt,at(it.object))}function Et(){rt.geometry=null,rt.program=null,rt.wireframe=!1}return{setup:ot,reset:xt,resetDefaultState:Et,dispose:vt,releaseStatesOfGeometry:At,releaseStatesOfProgram:bt,initAttributes:dt,enableAttribute:pt,disableUnusedAttributes:gt}}function WebGLBufferRenderer(j,g,b,$){const _e=$.isWebGL2;let et;function tt(it){et=it}function nt(it,ot){j.drawArrays(et,it,ot),b.update(ot,et,1)}function rt(it,ot,st){if(st===0)return;let at,lt;if(_e)at=j,lt="drawArraysInstanced";else if(at=g.get("ANGLE_instanced_arrays"),lt="drawArraysInstancedANGLE",at===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}at[lt](et,it,ot,st),b.update(ot,et,st)}this.setMode=tt,this.render=nt,this.renderInstances=rt}function WebGLCapabilities(j,g,b){let $;function _e(){if($!==void 0)return $;if(g.has("EXT_texture_filter_anisotropic")===!0){const _t=g.get("EXT_texture_filter_anisotropic");$=j.getParameter(_t.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else $=0;return $}function et(_t){if(_t==="highp"){if(j.getShaderPrecisionFormat(35633,36338).precision>0&&j.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";_t="mediump"}return _t==="mediump"&&j.getShaderPrecisionFormat(35633,36337).precision>0&&j.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const tt=typeof WebGL2RenderingContext!="undefined"&&j instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&j instanceof WebGL2ComputeRenderingContext;let nt=b.precision!==void 0?b.precision:"highp";const rt=et(nt);rt!==nt&&(console.warn("THREE.WebGLRenderer:",nt,"not supported, using",rt,"instead."),nt=rt);const it=tt||g.has("WEBGL_draw_buffers"),ot=b.logarithmicDepthBuffer===!0,st=j.getParameter(34930),at=j.getParameter(35660),lt=j.getParameter(3379),ut=j.getParameter(34076),ct=j.getParameter(34921),ft=j.getParameter(36347),ht=j.getParameter(36348),dt=j.getParameter(36349),pt=at>0,mt=tt||g.has("OES_texture_float"),gt=pt&&mt,yt=tt?j.getParameter(36183):0;return{isWebGL2:tt,drawBuffers:it,getMaxAnisotropy:_e,getMaxPrecision:et,precision:nt,logarithmicDepthBuffer:ot,maxTextures:st,maxVertexTextures:at,maxTextureSize:lt,maxCubemapSize:ut,maxAttributes:ct,maxVertexUniforms:ft,maxVaryings:ht,maxFragmentUniforms:dt,vertexTextures:pt,floatFragmentTextures:mt,floatVertexTextures:gt,maxSamples:yt}}function WebGLClipping(j){const g=this;let b=null,$=0,_e=!1,et=!1;const tt=new Plane,nt=new Matrix3,rt={value:null,needsUpdate:!1};this.uniform=rt,this.numPlanes=0,this.numIntersection=0,this.init=function(st,at,lt){const ut=st.length!==0||at||$!==0||_e;return _e=at,b=ot(st,lt,0),$=st.length,ut},this.beginShadows=function(){et=!0,ot(null)},this.endShadows=function(){et=!1,it()},this.setState=function(st,at,lt){const ut=st.clippingPlanes,ct=st.clipIntersection,ft=st.clipShadows,ht=j.get(st);if(!_e||ut===null||ut.length===0||et&&!ft)et?ot(null):it();else{const dt=et?0:$,pt=dt*4;let mt=ht.clippingState||null;rt.value=mt,mt=ot(ut,at,pt,lt);for(let gt=0;gt!==pt;++gt)mt[gt]=b[gt];ht.clippingState=mt,this.numIntersection=ct?this.numPlanes:0,this.numPlanes+=dt}};function it(){rt.value!==b&&(rt.value=b,rt.needsUpdate=$>0),g.numPlanes=$,g.numIntersection=0}function ot(st,at,lt,ut){const ct=st!==null?st.length:0;let ft=null;if(ct!==0){if(ft=rt.value,ut!==!0||ft===null){const ht=lt+ct*4,dt=at.matrixWorldInverse;nt.getNormalMatrix(dt),(ft===null||ft.length<ht)&&(ft=new Float32Array(ht));for(let pt=0,mt=lt;pt!==ct;++pt,mt+=4)tt.copy(st[pt]).applyMatrix4(dt,nt),tt.normal.toArray(ft,mt),ft[mt+3]=tt.constant}rt.value=ft,rt.needsUpdate=!0}return g.numPlanes=ct,g.numIntersection=0,ft}}function WebGLCubeMaps(j){let g=new WeakMap;function b(tt,nt){return nt===EquirectangularReflectionMapping?tt.mapping=CubeReflectionMapping:nt===EquirectangularRefractionMapping&&(tt.mapping=CubeRefractionMapping),tt}function $(tt){if(tt&&tt.isTexture&&tt.isRenderTargetTexture===!1){const nt=tt.mapping;if(nt===EquirectangularReflectionMapping||nt===EquirectangularRefractionMapping)if(g.has(tt)){const rt=g.get(tt).texture;return b(rt,tt.mapping)}else{const rt=tt.image;if(rt&&rt.height>0){const it=new WebGLCubeRenderTarget(rt.height/2);return it.fromEquirectangularTexture(j,tt),g.set(tt,it),tt.addEventListener("dispose",_e),b(it.texture,tt.mapping)}else return null}}return tt}function _e(tt){const nt=tt.target;nt.removeEventListener("dispose",_e);const rt=g.get(nt);rt!==void 0&&(g.delete(nt),rt.dispose())}function et(){g=new WeakMap}return{get:$,dispose:et}}class OrthographicCamera extends Camera{constructor(g=-1,b=1,$=1,_e=-1,et=.1,tt=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=g,this.right=b,this.top=$,this.bottom=_e,this.near=et,this.far=tt,this.updateProjectionMatrix()}copy(g,b){return super.copy(g,b),this.left=g.left,this.right=g.right,this.top=g.top,this.bottom=g.bottom,this.near=g.near,this.far=g.far,this.zoom=g.zoom,this.view=g.view===null?null:Object.assign({},g.view),this}setViewOffset(g,b,$,_e,et,tt){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=g,this.view.fullHeight=b,this.view.offsetX=$,this.view.offsetY=_e,this.view.width=et,this.view.height=tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const g=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),$=(this.right+this.left)/2,_e=(this.top+this.bottom)/2;let et=$-g,tt=$+g,nt=_e+b,rt=_e-b;if(this.view!==null&&this.view.enabled){const it=(this.right-this.left)/this.view.fullWidth/this.zoom,ot=(this.top-this.bottom)/this.view.fullHeight/this.zoom;et+=it*this.view.offsetX,tt=et+it*this.view.width,nt-=ot*this.view.offsetY,rt=nt-ot*this.view.height}this.projectionMatrix.makeOrthographic(et,tt,nt,rt,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(g){const b=super.toJSON(g);return b.object.zoom=this.zoom,b.object.left=this.left,b.object.right=this.right,b.object.top=this.top,b.object.bottom=this.bottom,b.object.near=this.near,b.object.far=this.far,this.view!==null&&(b.object.view=Object.assign({},this.view)),b}}OrthographicCamera.prototype.isOrthographicCamera=!0;const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(g){this._renderer=g,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(g,b=0,$=.1,_e=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const et=this._allocateTargets();return et.depthBuffer=!0,this._sceneToCubeUV(g,$,_e,et),b>0&&this._blur(et,0,0,b),this._applyPMREM(et),this._cleanup(et),et}fromEquirectangular(g,b=null){return this._fromTexture(g,b)}fromCubemap(g,b=null){return this._fromTexture(g,b)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(g){this._lodMax=Math.floor(Math.log2(g)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let g=0;g<this._lodPlanes.length;g++)this._lodPlanes[g].dispose()}_cleanup(g){this._renderer.setRenderTarget(_oldTarget),g.scissorTest=!1,_setViewport(g,0,0,g.width,g.height)}_fromTexture(g,b){g.mapping===CubeReflectionMapping||g.mapping===CubeRefractionMapping?this._setSize(g.image.length===0?16:g.image[0].width||g.image[0].image.width):this._setSize(g.image.width/4),_oldTarget=this._renderer.getRenderTarget();const $=b||this._allocateTargets();return this._textureToCubeUV(g,$),this._applyPMREM($),this._cleanup($),$}_allocateTargets(){const g=3*Math.max(this._cubeSize,112),b=4*this._cubeSize-32,$={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},_e=_createRenderTarget(g,b,$);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==g){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(g,b,$);const{_lodMax:et}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(et)),this._blurMaterial=_getBlurShader(et,g,b)}return _e}_compileMaterial(g){const b=new Mesh(this._lodPlanes[0],g);this._renderer.compile(b,_flatCamera)}_sceneToCubeUV(g,b,$,_e){const nt=new PerspectiveCamera(90,1,b,$),rt=[1,-1,1,1,1,1],it=[1,1,1,-1,-1,-1],ot=this._renderer,st=ot.autoClear,at=ot.toneMapping;ot.getClearColor(_clearColor),ot.toneMapping=NoToneMapping,ot.autoClear=!1;const lt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),ut=new Mesh(new BoxGeometry,lt);let ct=!1;const ft=g.background;ft?ft.isColor&&(lt.color.copy(ft),g.background=null,ct=!0):(lt.color.copy(_clearColor),ct=!0);for(let ht=0;ht<6;ht++){const dt=ht%3;dt===0?(nt.up.set(0,rt[ht],0),nt.lookAt(it[ht],0,0)):dt===1?(nt.up.set(0,0,rt[ht]),nt.lookAt(0,it[ht],0)):(nt.up.set(0,rt[ht],0),nt.lookAt(0,0,it[ht]));const pt=this._cubeSize;_setViewport(_e,dt*pt,ht>2?pt:0,pt,pt),ot.setRenderTarget(_e),ct&&ot.render(ut,nt),ot.render(g,nt)}ut.geometry.dispose(),ut.material.dispose(),ot.toneMapping=at,ot.autoClear=st,g.background=ft}_textureToCubeUV(g,b){const $=this._renderer,_e=g.mapping===CubeReflectionMapping||g.mapping===CubeRefractionMapping;_e?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=g.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const et=_e?this._cubemapMaterial:this._equirectMaterial,tt=new Mesh(this._lodPlanes[0],et),nt=et.uniforms;nt.envMap.value=g;const rt=this._cubeSize;_setViewport(b,0,0,3*rt,2*rt),$.setRenderTarget(b),$.render(tt,_flatCamera)}_applyPMREM(g){const b=this._renderer,$=b.autoClear;b.autoClear=!1;for(let _e=1;_e<this._lodPlanes.length;_e++){const et=Math.sqrt(this._sigmas[_e]*this._sigmas[_e]-this._sigmas[_e-1]*this._sigmas[_e-1]),tt=_axisDirections[(_e-1)%_axisDirections.length];this._blur(g,_e-1,_e,et,tt)}b.autoClear=$}_blur(g,b,$,_e,et){const tt=this._pingPongRenderTarget;this._halfBlur(g,tt,b,$,_e,"latitudinal",et),this._halfBlur(tt,g,$,$,_e,"longitudinal",et)}_halfBlur(g,b,$,_e,et,tt,nt){const rt=this._renderer,it=this._blurMaterial;tt!=="latitudinal"&&tt!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ot=3,st=new Mesh(this._lodPlanes[_e],it),at=it.uniforms,lt=this._sizeLods[$]-1,ut=isFinite(et)?Math.PI/(2*lt):2*Math.PI/(2*MAX_SAMPLES-1),ct=et/ut,ft=isFinite(et)?1+Math.floor(ot*ct):MAX_SAMPLES;ft>MAX_SAMPLES&&console.warn(`sigmaRadians, ${et}, is too large and will clip, as it requested ${ft} samples when the maximum is set to ${MAX_SAMPLES}`);const ht=[];let dt=0;for(let _t=0;_t<MAX_SAMPLES;++_t){const vt=_t/ct,At=Math.exp(-vt*vt/2);ht.push(At),_t===0?dt+=At:_t<ft&&(dt+=2*At)}for(let _t=0;_t<ht.length;_t++)ht[_t]=ht[_t]/dt;at.envMap.value=g.texture,at.samples.value=ft,at.weights.value=ht,at.latitudinal.value=tt==="latitudinal",nt&&(at.poleAxis.value=nt);const{_lodMax:pt}=this;at.dTheta.value=ut,at.mipInt.value=pt-$;const mt=this._sizeLods[_e],gt=3*mt*(_e>pt-LOD_MIN?_e-pt+LOD_MIN:0),yt=4*(this._cubeSize-mt);_setViewport(b,gt,yt,3*mt,2*mt),rt.setRenderTarget(b),rt.render(st,_flatCamera)}}function _createPlanes(j){const g=[],b=[],$=[];let _e=j;const et=j-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let tt=0;tt<et;tt++){const nt=Math.pow(2,_e);b.push(nt);let rt=1/nt;tt>j-LOD_MIN?rt=EXTRA_LOD_SIGMA[tt-j+LOD_MIN-1]:tt===0&&(rt=0),$.push(rt);const it=1/(nt-1),ot=-it/2,st=1+it/2,at=[ot,ot,st,ot,st,st,ot,ot,st,st,ot,st],lt=6,ut=6,ct=3,ft=2,ht=1,dt=new Float32Array(ct*ut*lt),pt=new Float32Array(ft*ut*lt),mt=new Float32Array(ht*ut*lt);for(let yt=0;yt<lt;yt++){const _t=yt%3*2/3-1,vt=yt>2?0:-1,At=[_t,vt,0,_t+2/3,vt,0,_t+2/3,vt+1,0,_t,vt,0,_t+2/3,vt+1,0,_t,vt+1,0];dt.set(At,ct*ut*yt),pt.set(at,ft*ut*yt);const bt=[yt,yt,yt,yt,yt,yt];mt.set(bt,ht*ut*yt)}const gt=new BufferGeometry;gt.setAttribute("position",new BufferAttribute(dt,ct)),gt.setAttribute("uv",new BufferAttribute(pt,ft)),gt.setAttribute("faceIndex",new BufferAttribute(mt,ht)),g.push(gt),_e>LOD_MIN&&_e--}return{lodPlanes:g,sizeLods:b,sigmas:$}}function _createRenderTarget(j,g,b){const $=new WebGLRenderTarget(j,g,b);return $.texture.mapping=CubeUVReflectionMapping,$.texture.name="PMREM.cubeUv",$.scissorTest=!0,$}function _setViewport(j,g,b,$,_e){j.viewport.set(g,b,$,_e),j.scissor.set(g,b,$,_e)}function _getBlurShader(j,g,b){const $=new Float32Array(MAX_SAMPLES),_e=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/g,CUBEUV_TEXEL_HEIGHT:1/b,CUBEUV_MAX_MIP:`${j}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:$},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:_e}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(j){let g=new WeakMap,b=null;function $(nt){if(nt&&nt.isTexture){const rt=nt.mapping,it=rt===EquirectangularReflectionMapping||rt===EquirectangularRefractionMapping,ot=rt===CubeReflectionMapping||rt===CubeRefractionMapping;if(it||ot)if(nt.isRenderTargetTexture&&nt.needsPMREMUpdate===!0){nt.needsPMREMUpdate=!1;let st=g.get(nt);return b===null&&(b=new PMREMGenerator(j)),st=it?b.fromEquirectangular(nt,st):b.fromCubemap(nt,st),g.set(nt,st),st.texture}else{if(g.has(nt))return g.get(nt).texture;{const st=nt.image;if(it&&st&&st.height>0||ot&&st&&_e(st)){b===null&&(b=new PMREMGenerator(j));const at=it?b.fromEquirectangular(nt):b.fromCubemap(nt);return g.set(nt,at),nt.addEventListener("dispose",et),at.texture}else return null}}}return nt}function _e(nt){let rt=0;const it=6;for(let ot=0;ot<it;ot++)nt[ot]!==void 0&&rt++;return rt===it}function et(nt){const rt=nt.target;rt.removeEventListener("dispose",et);const it=g.get(rt);it!==void 0&&(g.delete(rt),it.dispose())}function tt(){g=new WeakMap,b!==null&&(b.dispose(),b=null)}return{get:$,dispose:tt}}function WebGLExtensions(j){const g={};function b($){if(g[$]!==void 0)return g[$];let _e;switch($){case"WEBGL_depth_texture":_e=j.getExtension("WEBGL_depth_texture")||j.getExtension("MOZ_WEBGL_depth_texture")||j.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":_e=j.getExtension("EXT_texture_filter_anisotropic")||j.getExtension("MOZ_EXT_texture_filter_anisotropic")||j.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":_e=j.getExtension("WEBGL_compressed_texture_s3tc")||j.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||j.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":_e=j.getExtension("WEBGL_compressed_texture_pvrtc")||j.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:_e=j.getExtension($)}return g[$]=_e,_e}return{has:function($){return b($)!==null},init:function($){$.isWebGL2?b("EXT_color_buffer_float"):(b("WEBGL_depth_texture"),b("OES_texture_float"),b("OES_texture_half_float"),b("OES_texture_half_float_linear"),b("OES_standard_derivatives"),b("OES_element_index_uint"),b("OES_vertex_array_object"),b("ANGLE_instanced_arrays")),b("OES_texture_float_linear"),b("EXT_color_buffer_half_float"),b("WEBGL_multisampled_render_to_texture")},get:function($){const _e=b($);return _e===null&&console.warn("THREE.WebGLRenderer: "+$+" extension not supported."),_e}}}function WebGLGeometries(j,g,b,$){const _e={},et=new WeakMap;function tt(st){const at=st.target;at.index!==null&&g.remove(at.index);for(const ut in at.attributes)g.remove(at.attributes[ut]);at.removeEventListener("dispose",tt),delete _e[at.id];const lt=et.get(at);lt&&(g.remove(lt),et.delete(at)),$.releaseStatesOfGeometry(at),at.isInstancedBufferGeometry===!0&&delete at._maxInstanceCount,b.memory.geometries--}function nt(st,at){return _e[at.id]===!0||(at.addEventListener("dispose",tt),_e[at.id]=!0,b.memory.geometries++),at}function rt(st){const at=st.attributes;for(const ut in at)g.update(at[ut],34962);const lt=st.morphAttributes;for(const ut in lt){const ct=lt[ut];for(let ft=0,ht=ct.length;ft<ht;ft++)g.update(ct[ft],34962)}}function it(st){const at=[],lt=st.index,ut=st.attributes.position;let ct=0;if(lt!==null){const dt=lt.array;ct=lt.version;for(let pt=0,mt=dt.length;pt<mt;pt+=3){const gt=dt[pt+0],yt=dt[pt+1],_t=dt[pt+2];at.push(gt,yt,yt,_t,_t,gt)}}else{const dt=ut.array;ct=ut.version;for(let pt=0,mt=dt.length/3-1;pt<mt;pt+=3){const gt=pt+0,yt=pt+1,_t=pt+2;at.push(gt,yt,yt,_t,_t,gt)}}const ft=new(arrayNeedsUint32(at)?Uint32BufferAttribute:Uint16BufferAttribute)(at,1);ft.version=ct;const ht=et.get(st);ht&&g.remove(ht),et.set(st,ft)}function ot(st){const at=et.get(st);if(at){const lt=st.index;lt!==null&&at.version<lt.version&&it(st)}else it(st);return et.get(st)}return{get:nt,update:rt,getWireframeAttribute:ot}}function WebGLIndexedBufferRenderer(j,g,b,$){const _e=$.isWebGL2;let et;function tt(at){et=at}let nt,rt;function it(at){nt=at.type,rt=at.bytesPerElement}function ot(at,lt){j.drawElements(et,lt,nt,at*rt),b.update(lt,et,1)}function st(at,lt,ut){if(ut===0)return;let ct,ft;if(_e)ct=j,ft="drawElementsInstanced";else if(ct=g.get("ANGLE_instanced_arrays"),ft="drawElementsInstancedANGLE",ct===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ct[ft](et,lt,nt,at*rt,ut),b.update(lt,et,ut)}this.setMode=tt,this.setIndex=it,this.render=ot,this.renderInstances=st}function WebGLInfo(j){const g={geometries:0,textures:0},b={frame:0,calls:0,triangles:0,points:0,lines:0};function $(et,tt,nt){switch(b.calls++,tt){case 4:b.triangles+=nt*(et/3);break;case 1:b.lines+=nt*(et/2);break;case 3:b.lines+=nt*(et-1);break;case 2:b.lines+=nt*et;break;case 0:b.points+=nt*et;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",tt);break}}function _e(){b.frame++,b.calls=0,b.triangles=0,b.points=0,b.lines=0}return{memory:g,render:b,programs:null,autoReset:!0,reset:_e,update:$}}function numericalSort(j,g){return j[0]-g[0]}function absNumericalSort(j,g){return Math.abs(g[1])-Math.abs(j[1])}function denormalize(j,g){let b=1;const $=g.isInterleavedBufferAttribute?g.data.array:g.array;$ instanceof Int8Array?b=127:$ instanceof Int16Array?b=32767:$ instanceof Int32Array?b=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",$),j.divideScalar(b)}function WebGLMorphtargets(j,g,b){const $={},_e=new Float32Array(8),et=new WeakMap,tt=new Vector4,nt=[];for(let it=0;it<8;it++)nt[it]=[it,0];function rt(it,ot,st,at){const lt=it.morphTargetInfluences;if(g.isWebGL2===!0){const ut=ot.morphAttributes.position||ot.morphAttributes.normal||ot.morphAttributes.color,ct=ut!==void 0?ut.length:0;let ft=et.get(ot);if(ft===void 0||ft.count!==ct){let Lt=function(){Mt.dispose(),et.delete(ot),ot.removeEventListener("dispose",Lt)};ft!==void 0&&ft.texture.dispose();const pt=ot.morphAttributes.position!==void 0,mt=ot.morphAttributes.normal!==void 0,gt=ot.morphAttributes.color!==void 0,yt=ot.morphAttributes.position||[],_t=ot.morphAttributes.normal||[],vt=ot.morphAttributes.color||[];let At=0;pt===!0&&(At=1),mt===!0&&(At=2),gt===!0&&(At=3);let bt=ot.attributes.position.count*At,xt=1;bt>g.maxTextureSize&&(xt=Math.ceil(bt/g.maxTextureSize),bt=g.maxTextureSize);const Et=new Float32Array(bt*xt*4*ct),Mt=new DataArrayTexture(Et,bt,xt,ct);Mt.format=RGBAFormat,Mt.type=FloatType,Mt.needsUpdate=!0;const Tt=At*4;for(let Ot=0;Ot<ct;Ot++){const Rt=yt[Ot],Ct=_t[Ot],Dt=vt[Ot],Bt=bt*xt*4*Ot;for(let kt=0;kt<Rt.count;kt++){const zt=kt*Tt;pt===!0&&(tt.fromBufferAttribute(Rt,kt),Rt.normalized===!0&&denormalize(tt,Rt),Et[Bt+zt+0]=tt.x,Et[Bt+zt+1]=tt.y,Et[Bt+zt+2]=tt.z,Et[Bt+zt+3]=0),mt===!0&&(tt.fromBufferAttribute(Ct,kt),Ct.normalized===!0&&denormalize(tt,Ct),Et[Bt+zt+4]=tt.x,Et[Bt+zt+5]=tt.y,Et[Bt+zt+6]=tt.z,Et[Bt+zt+7]=0),gt===!0&&(tt.fromBufferAttribute(Dt,kt),Dt.normalized===!0&&denormalize(tt,Ct),Et[Bt+zt+8]=tt.x,Et[Bt+zt+9]=tt.y,Et[Bt+zt+10]=tt.z,Et[Bt+zt+11]=Dt.itemSize===4?tt.w:1)}}ft={count:ct,texture:Mt,size:new Vector2(bt,xt)},et.set(ot,ft),ot.addEventListener("dispose",Lt)}let ht=0;for(let pt=0;pt<lt.length;pt++)ht+=lt[pt];const dt=ot.morphTargetsRelative?1:1-ht;at.getUniforms().setValue(j,"morphTargetBaseInfluence",dt),at.getUniforms().setValue(j,"morphTargetInfluences",lt),at.getUniforms().setValue(j,"morphTargetsTexture",ft.texture,b),at.getUniforms().setValue(j,"morphTargetsTextureSize",ft.size)}else{const ut=lt===void 0?0:lt.length;let ct=$[ot.id];if(ct===void 0||ct.length!==ut){ct=[];for(let mt=0;mt<ut;mt++)ct[mt]=[mt,0];$[ot.id]=ct}for(let mt=0;mt<ut;mt++){const gt=ct[mt];gt[0]=mt,gt[1]=lt[mt]}ct.sort(absNumericalSort);for(let mt=0;mt<8;mt++)mt<ut&&ct[mt][1]?(nt[mt][0]=ct[mt][0],nt[mt][1]=ct[mt][1]):(nt[mt][0]=Number.MAX_SAFE_INTEGER,nt[mt][1]=0);nt.sort(numericalSort);const ft=ot.morphAttributes.position,ht=ot.morphAttributes.normal;let dt=0;for(let mt=0;mt<8;mt++){const gt=nt[mt],yt=gt[0],_t=gt[1];yt!==Number.MAX_SAFE_INTEGER&&_t?(ft&&ot.getAttribute("morphTarget"+mt)!==ft[yt]&&ot.setAttribute("morphTarget"+mt,ft[yt]),ht&&ot.getAttribute("morphNormal"+mt)!==ht[yt]&&ot.setAttribute("morphNormal"+mt,ht[yt]),_e[mt]=_t,dt+=_t):(ft&&ot.hasAttribute("morphTarget"+mt)===!0&&ot.deleteAttribute("morphTarget"+mt),ht&&ot.hasAttribute("morphNormal"+mt)===!0&&ot.deleteAttribute("morphNormal"+mt),_e[mt]=0)}const pt=ot.morphTargetsRelative?1:1-dt;at.getUniforms().setValue(j,"morphTargetBaseInfluence",pt),at.getUniforms().setValue(j,"morphTargetInfluences",_e)}}return{update:rt}}function WebGLObjects(j,g,b,$){let _e=new WeakMap;function et(rt){const it=$.render.frame,ot=rt.geometry,st=g.get(rt,ot);return _e.get(st)!==it&&(g.update(st),_e.set(st,it)),rt.isInstancedMesh&&(rt.hasEventListener("dispose",nt)===!1&&rt.addEventListener("dispose",nt),b.update(rt.instanceMatrix,34962),rt.instanceColor!==null&&b.update(rt.instanceColor,34962)),st}function tt(){_e=new WeakMap}function nt(rt){const it=rt.target;it.removeEventListener("dispose",nt),b.remove(it.instanceMatrix),it.instanceColor!==null&&b.remove(it.instanceColor)}return{update:et,dispose:tt}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(j,g,b){const $=j[0];if($<=0||$>0)return j;const _e=g*b;let et=arrayCacheF32[_e];if(et===void 0&&(et=new Float32Array(_e),arrayCacheF32[_e]=et),g!==0){$.toArray(et,0);for(let tt=1,nt=0;tt!==g;++tt)nt+=b,j[tt].toArray(et,nt)}return et}function arraysEqual(j,g){if(j.length!==g.length)return!1;for(let b=0,$=j.length;b<$;b++)if(j[b]!==g[b])return!1;return!0}function copyArray(j,g){for(let b=0,$=g.length;b<$;b++)j[b]=g[b]}function allocTexUnits(j,g){let b=arrayCacheI32[g];b===void 0&&(b=new Int32Array(g),arrayCacheI32[g]=b);for(let $=0;$!==g;++$)b[$]=j.allocateTextureUnit();return b}function setValueV1f(j,g){const b=this.cache;b[0]!==g&&(j.uniform1f(this.addr,g),b[0]=g)}function setValueV2f(j,g){const b=this.cache;if(g.x!==void 0)(b[0]!==g.x||b[1]!==g.y)&&(j.uniform2f(this.addr,g.x,g.y),b[0]=g.x,b[1]=g.y);else{if(arraysEqual(b,g))return;j.uniform2fv(this.addr,g),copyArray(b,g)}}function setValueV3f(j,g){const b=this.cache;if(g.x!==void 0)(b[0]!==g.x||b[1]!==g.y||b[2]!==g.z)&&(j.uniform3f(this.addr,g.x,g.y,g.z),b[0]=g.x,b[1]=g.y,b[2]=g.z);else if(g.r!==void 0)(b[0]!==g.r||b[1]!==g.g||b[2]!==g.b)&&(j.uniform3f(this.addr,g.r,g.g,g.b),b[0]=g.r,b[1]=g.g,b[2]=g.b);else{if(arraysEqual(b,g))return;j.uniform3fv(this.addr,g),copyArray(b,g)}}function setValueV4f(j,g){const b=this.cache;if(g.x!==void 0)(b[0]!==g.x||b[1]!==g.y||b[2]!==g.z||b[3]!==g.w)&&(j.uniform4f(this.addr,g.x,g.y,g.z,g.w),b[0]=g.x,b[1]=g.y,b[2]=g.z,b[3]=g.w);else{if(arraysEqual(b,g))return;j.uniform4fv(this.addr,g),copyArray(b,g)}}function setValueM2(j,g){const b=this.cache,$=g.elements;if($===void 0){if(arraysEqual(b,g))return;j.uniformMatrix2fv(this.addr,!1,g),copyArray(b,g)}else{if(arraysEqual(b,$))return;mat2array.set($),j.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(b,$)}}function setValueM3(j,g){const b=this.cache,$=g.elements;if($===void 0){if(arraysEqual(b,g))return;j.uniformMatrix3fv(this.addr,!1,g),copyArray(b,g)}else{if(arraysEqual(b,$))return;mat3array.set($),j.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(b,$)}}function setValueM4(j,g){const b=this.cache,$=g.elements;if($===void 0){if(arraysEqual(b,g))return;j.uniformMatrix4fv(this.addr,!1,g),copyArray(b,g)}else{if(arraysEqual(b,$))return;mat4array.set($),j.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(b,$)}}function setValueV1i(j,g){const b=this.cache;b[0]!==g&&(j.uniform1i(this.addr,g),b[0]=g)}function setValueV2i(j,g){const b=this.cache;arraysEqual(b,g)||(j.uniform2iv(this.addr,g),copyArray(b,g))}function setValueV3i(j,g){const b=this.cache;arraysEqual(b,g)||(j.uniform3iv(this.addr,g),copyArray(b,g))}function setValueV4i(j,g){const b=this.cache;arraysEqual(b,g)||(j.uniform4iv(this.addr,g),copyArray(b,g))}function setValueV1ui(j,g){const b=this.cache;b[0]!==g&&(j.uniform1ui(this.addr,g),b[0]=g)}function setValueV2ui(j,g){const b=this.cache;arraysEqual(b,g)||(j.uniform2uiv(this.addr,g),copyArray(b,g))}function setValueV3ui(j,g){const b=this.cache;arraysEqual(b,g)||(j.uniform3uiv(this.addr,g),copyArray(b,g))}function setValueV4ui(j,g){const b=this.cache;arraysEqual(b,g)||(j.uniform4uiv(this.addr,g),copyArray(b,g))}function setValueT1(j,g,b){const $=this.cache,_e=b.allocateTextureUnit();$[0]!==_e&&(j.uniform1i(this.addr,_e),$[0]=_e),b.setTexture2D(g||emptyTexture,_e)}function setValueT3D1(j,g,b){const $=this.cache,_e=b.allocateTextureUnit();$[0]!==_e&&(j.uniform1i(this.addr,_e),$[0]=_e),b.setTexture3D(g||empty3dTexture,_e)}function setValueT6(j,g,b){const $=this.cache,_e=b.allocateTextureUnit();$[0]!==_e&&(j.uniform1i(this.addr,_e),$[0]=_e),b.setTextureCube(g||emptyCubeTexture,_e)}function setValueT2DArray1(j,g,b){const $=this.cache,_e=b.allocateTextureUnit();$[0]!==_e&&(j.uniform1i(this.addr,_e),$[0]=_e),b.setTexture2DArray(g||emptyArrayTexture,_e)}function getSingularSetter(j){switch(j){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(j,g){j.uniform1fv(this.addr,g)}function setValueV2fArray(j,g){const b=flatten(g,this.size,2);j.uniform2fv(this.addr,b)}function setValueV3fArray(j,g){const b=flatten(g,this.size,3);j.uniform3fv(this.addr,b)}function setValueV4fArray(j,g){const b=flatten(g,this.size,4);j.uniform4fv(this.addr,b)}function setValueM2Array(j,g){const b=flatten(g,this.size,4);j.uniformMatrix2fv(this.addr,!1,b)}function setValueM3Array(j,g){const b=flatten(g,this.size,9);j.uniformMatrix3fv(this.addr,!1,b)}function setValueM4Array(j,g){const b=flatten(g,this.size,16);j.uniformMatrix4fv(this.addr,!1,b)}function setValueV1iArray(j,g){j.uniform1iv(this.addr,g)}function setValueV2iArray(j,g){j.uniform2iv(this.addr,g)}function setValueV3iArray(j,g){j.uniform3iv(this.addr,g)}function setValueV4iArray(j,g){j.uniform4iv(this.addr,g)}function setValueV1uiArray(j,g){j.uniform1uiv(this.addr,g)}function setValueV2uiArray(j,g){j.uniform2uiv(this.addr,g)}function setValueV3uiArray(j,g){j.uniform3uiv(this.addr,g)}function setValueV4uiArray(j,g){j.uniform4uiv(this.addr,g)}function setValueT1Array(j,g,b){const $=g.length,_e=allocTexUnits(b,$);j.uniform1iv(this.addr,_e);for(let et=0;et!==$;++et)b.setTexture2D(g[et]||emptyTexture,_e[et])}function setValueT3DArray(j,g,b){const $=g.length,_e=allocTexUnits(b,$);j.uniform1iv(this.addr,_e);for(let et=0;et!==$;++et)b.setTexture3D(g[et]||empty3dTexture,_e[et])}function setValueT6Array(j,g,b){const $=g.length,_e=allocTexUnits(b,$);j.uniform1iv(this.addr,_e);for(let et=0;et!==$;++et)b.setTextureCube(g[et]||emptyCubeTexture,_e[et])}function setValueT2DArrayArray(j,g,b){const $=g.length,_e=allocTexUnits(b,$);j.uniform1iv(this.addr,_e);for(let et=0;et!==$;++et)b.setTexture2DArray(g[et]||emptyArrayTexture,_e[et])}function getPureArraySetter(j){switch(j){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}function SingleUniform(j,g,b){this.id=j,this.addr=b,this.cache=[],this.setValue=getSingularSetter(g.type)}function PureArrayUniform(j,g,b){this.id=j,this.addr=b,this.cache=[],this.size=g.size,this.setValue=getPureArraySetter(g.type)}PureArrayUniform.prototype.updateCache=function(j){const g=this.cache;j instanceof Float32Array&&g.length!==j.length&&(this.cache=new Float32Array(j.length)),copyArray(g,j)};function StructuredUniform(j){this.id=j,this.seq=[],this.map={}}StructuredUniform.prototype.setValue=function(j,g,b){const $=this.seq;for(let _e=0,et=$.length;_e!==et;++_e){const tt=$[_e];tt.setValue(j,g[tt.id],b)}};const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(j,g){j.seq.push(g),j.map[g.id]=g}function parseUniform(j,g,b){const $=j.name,_e=$.length;for(RePathPart.lastIndex=0;;){const et=RePathPart.exec($),tt=RePathPart.lastIndex;let nt=et[1];const rt=et[2]==="]",it=et[3];if(rt&&(nt=nt|0),it===void 0||it==="["&&tt+2===_e){addUniform(b,it===void 0?new SingleUniform(nt,j,g):new PureArrayUniform(nt,j,g));break}else{let st=b.map[nt];st===void 0&&(st=new StructuredUniform(nt),addUniform(b,st)),b=st}}}function WebGLUniforms(j,g){this.seq=[],this.map={};const b=j.getProgramParameter(g,35718);for(let $=0;$<b;++$){const _e=j.getActiveUniform(g,$),et=j.getUniformLocation(g,_e.name);parseUniform(_e,et,this)}}WebGLUniforms.prototype.setValue=function(j,g,b,$){const _e=this.map[g];_e!==void 0&&_e.setValue(j,b,$)};WebGLUniforms.prototype.setOptional=function(j,g,b){const $=g[b];$!==void 0&&this.setValue(j,b,$)};WebGLUniforms.upload=function(j,g,b,$){for(let _e=0,et=g.length;_e!==et;++_e){const tt=g[_e],nt=b[tt.id];nt.needsUpdate!==!1&&tt.setValue(j,nt.value,$)}};WebGLUniforms.seqWithValue=function(j,g){const b=[];for(let $=0,_e=j.length;$!==_e;++$){const et=j[$];et.id in g&&b.push(et)}return b};function WebGLShader(j,g,b){const $=j.createShader(g);return j.shaderSource($,b),j.compileShader($),$}let programIdCount=0;function addLineNumbers(j){const g=j.split(`
`);for(let b=0;b<g.length;b++)g[b]=b+1+": "+g[b];return g.join(`
`)}function getEncodingComponents(j){switch(j){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",j),["Linear","( value )"]}}function getShaderErrors(j,g,b){const $=j.getShaderParameter(g,35713),_e=j.getShaderInfoLog(g).trim();return $&&_e===""?"":b.toUpperCase()+`

`+_e+`

`+addLineNumbers(j.getShaderSource(g))}function getTexelEncodingFunction(j,g){const b=getEncodingComponents(g);return"vec4 "+j+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function getToneMappingFunction(j,g){let b;switch(g){case LinearToneMapping:b="Linear";break;case ReinhardToneMapping:b="Reinhard";break;case CineonToneMapping:b="OptimizedCineon";break;case ACESFilmicToneMapping:b="ACESFilmic";break;case CustomToneMapping:b="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",g),b="Linear"}return"vec3 "+j+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}function generateExtensions(j){return[j.extensionDerivatives||!!j.envMapCubeUVHeight||j.bumpMap||j.tangentSpaceNormalMap||j.clearcoatNormalMap||j.flatShading||j.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(j.extensionFragDepth||j.logarithmicDepthBuffer)&&j.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",j.extensionDrawBuffers&&j.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(j.extensionShaderTextureLOD||j.envMap||j.transmission)&&j.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(j){const g=[];for(const b in j){const $=j[b];$!==!1&&g.push("#define "+b+" "+$)}return g.join(`
`)}function fetchAttributeLocations(j,g){const b={},$=j.getProgramParameter(g,35721);for(let _e=0;_e<$;_e++){const et=j.getActiveAttrib(g,_e),tt=et.name;let nt=1;et.type===35674&&(nt=2),et.type===35675&&(nt=3),et.type===35676&&(nt=4),b[tt]={type:et.type,location:j.getAttribLocation(g,tt),locationSize:nt}}return b}function filterEmptyLine(j){return j!==""}function replaceLightNums(j,g){return j.replace(/NUM_DIR_LIGHTS/g,g.numDirLights).replace(/NUM_SPOT_LIGHTS/g,g.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,g.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,g.numPointLights).replace(/NUM_HEMI_LIGHTS/g,g.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,g.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,g.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,g.numPointLightShadows)}function replaceClippingPlaneNums(j,g){return j.replace(/NUM_CLIPPING_PLANES/g,g.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,g.numClippingPlanes-g.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(j){return j.replace(includePattern,includeReplacer)}function includeReplacer(j,g){const b=ShaderChunk[g];if(b===void 0)throw new Error("Can not resolve #include <"+g+">");return resolveIncludes(b)}const deprecatedUnrollLoopPattern=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(j){return j.replace(unrollLoopPattern,loopReplacer).replace(deprecatedUnrollLoopPattern,deprecatedLoopReplacer)}function deprecatedLoopReplacer(j,g,b,$){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),loopReplacer(j,g,b,$)}function loopReplacer(j,g,b,$){let _e="";for(let et=parseInt(g);et<parseInt(b);et++)_e+=$.replace(/\[\s*i\s*\]/g,"[ "+et+" ]").replace(/UNROLLED_LOOP_INDEX/g,et);return _e}function generatePrecision(j){let g="precision "+j.precision+` float;
precision `+j.precision+" int;";return j.precision==="highp"?g+=`
#define HIGH_PRECISION`:j.precision==="mediump"?g+=`
#define MEDIUM_PRECISION`:j.precision==="lowp"&&(g+=`
#define LOW_PRECISION`),g}function generateShadowMapTypeDefine(j){let g="SHADOWMAP_TYPE_BASIC";return j.shadowMapType===PCFShadowMap?g="SHADOWMAP_TYPE_PCF":j.shadowMapType===PCFSoftShadowMap?g="SHADOWMAP_TYPE_PCF_SOFT":j.shadowMapType===VSMShadowMap&&(g="SHADOWMAP_TYPE_VSM"),g}function generateEnvMapTypeDefine(j){let g="ENVMAP_TYPE_CUBE";if(j.envMap)switch(j.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:g="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:case CubeUVRefractionMapping:g="ENVMAP_TYPE_CUBE_UV";break}return g}function generateEnvMapModeDefine(j){let g="ENVMAP_MODE_REFLECTION";if(j.envMap)switch(j.envMapMode){case CubeRefractionMapping:case CubeUVRefractionMapping:g="ENVMAP_MODE_REFRACTION";break}return g}function generateEnvMapBlendingDefine(j){let g="ENVMAP_BLENDING_NONE";if(j.envMap)switch(j.combine){case MultiplyOperation:g="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:g="ENVMAP_BLENDING_MIX";break;case AddOperation:g="ENVMAP_BLENDING_ADD";break}return g}function generateCubeUVSize(j){const g=j.envMapCubeUVHeight;if(g===null)return null;const b=Math.log2(g/32+1)+3,$=1/g;return{texelWidth:1/(3*Math.max(Math.pow(2,b),7*16)),texelHeight:$,maxMip:b}}function WebGLProgram(j,g,b,$){const _e=j.getContext(),et=b.defines;let tt=b.vertexShader,nt=b.fragmentShader;const rt=generateShadowMapTypeDefine(b),it=generateEnvMapTypeDefine(b),ot=generateEnvMapModeDefine(b),st=generateEnvMapBlendingDefine(b),at=generateCubeUVSize(b),lt=b.isWebGL2?"":generateExtensions(b),ut=generateDefines(et),ct=_e.createProgram();let ft,ht,dt=b.glslVersion?"#version "+b.glslVersion+`
`:"";b.isRawShaderMaterial?(ft=[ut].filter(filterEmptyLine).join(`
`),ft.length>0&&(ft+=`
`),ht=[lt,ut].filter(filterEmptyLine).join(`
`),ht.length>0&&(ht+=`
`)):(ft=[generatePrecision(b),"#define SHADER_NAME "+b.shaderName,ut,b.instancing?"#define USE_INSTANCING":"",b.instancingColor?"#define USE_INSTANCING_COLOR":"",b.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+b.maxBones,b.useFog&&b.fog?"#define USE_FOG":"",b.useFog&&b.fogExp2?"#define FOG_EXP2":"",b.map?"#define USE_MAP":"",b.envMap?"#define USE_ENVMAP":"",b.envMap?"#define "+ot:"",b.lightMap?"#define USE_LIGHTMAP":"",b.aoMap?"#define USE_AOMAP":"",b.emissiveMap?"#define USE_EMISSIVEMAP":"",b.bumpMap?"#define USE_BUMPMAP":"",b.normalMap?"#define USE_NORMALMAP":"",b.normalMap&&b.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",b.normalMap&&b.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",b.clearcoatMap?"#define USE_CLEARCOATMAP":"",b.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",b.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",b.displacementMap&&b.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",b.specularMap?"#define USE_SPECULARMAP":"",b.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",b.specularColorMap?"#define USE_SPECULARCOLORMAP":"",b.roughnessMap?"#define USE_ROUGHNESSMAP":"",b.metalnessMap?"#define USE_METALNESSMAP":"",b.alphaMap?"#define USE_ALPHAMAP":"",b.transmission?"#define USE_TRANSMISSION":"",b.transmissionMap?"#define USE_TRANSMISSIONMAP":"",b.thicknessMap?"#define USE_THICKNESSMAP":"",b.sheenColorMap?"#define USE_SHEENCOLORMAP":"",b.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",b.vertexTangents?"#define USE_TANGENT":"",b.vertexColors?"#define USE_COLOR":"",b.vertexAlphas?"#define USE_COLOR_ALPHA":"",b.vertexUvs?"#define USE_UV":"",b.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",b.flatShading?"#define FLAT_SHADED":"",b.skinning?"#define USE_SKINNING":"",b.useVertexTexture?"#define BONE_TEXTURE":"",b.morphTargets?"#define USE_MORPHTARGETS":"",b.morphNormals&&b.flatShading===!1?"#define USE_MORPHNORMALS":"",b.morphColors&&b.isWebGL2?"#define USE_MORPHCOLORS":"",b.morphTargetsCount>0&&b.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",b.morphTargetsCount>0&&b.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+b.morphTextureStride:"",b.morphTargetsCount>0&&b.isWebGL2?"#define MORPHTARGETS_COUNT "+b.morphTargetsCount:"",b.doubleSided?"#define DOUBLE_SIDED":"",b.flipSided?"#define FLIP_SIDED":"",b.shadowMapEnabled?"#define USE_SHADOWMAP":"",b.shadowMapEnabled?"#define "+rt:"",b.sizeAttenuation?"#define USE_SIZEATTENUATION":"",b.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",b.logarithmicDepthBuffer&&b.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),ht=[lt,generatePrecision(b),"#define SHADER_NAME "+b.shaderName,ut,b.useFog&&b.fog?"#define USE_FOG":"",b.useFog&&b.fogExp2?"#define FOG_EXP2":"",b.map?"#define USE_MAP":"",b.matcap?"#define USE_MATCAP":"",b.envMap?"#define USE_ENVMAP":"",b.envMap?"#define "+it:"",b.envMap?"#define "+ot:"",b.envMap?"#define "+st:"",at?"#define CUBEUV_TEXEL_WIDTH "+at.texelWidth:"",at?"#define CUBEUV_TEXEL_HEIGHT "+at.texelHeight:"",at?"#define CUBEUV_MAX_MIP "+at.maxMip+".0":"",b.lightMap?"#define USE_LIGHTMAP":"",b.aoMap?"#define USE_AOMAP":"",b.emissiveMap?"#define USE_EMISSIVEMAP":"",b.bumpMap?"#define USE_BUMPMAP":"",b.normalMap?"#define USE_NORMALMAP":"",b.normalMap&&b.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",b.normalMap&&b.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",b.clearcoat?"#define USE_CLEARCOAT":"",b.clearcoatMap?"#define USE_CLEARCOATMAP":"",b.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",b.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",b.specularMap?"#define USE_SPECULARMAP":"",b.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",b.specularColorMap?"#define USE_SPECULARCOLORMAP":"",b.roughnessMap?"#define USE_ROUGHNESSMAP":"",b.metalnessMap?"#define USE_METALNESSMAP":"",b.alphaMap?"#define USE_ALPHAMAP":"",b.alphaTest?"#define USE_ALPHATEST":"",b.sheen?"#define USE_SHEEN":"",b.sheenColorMap?"#define USE_SHEENCOLORMAP":"",b.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",b.transmission?"#define USE_TRANSMISSION":"",b.transmissionMap?"#define USE_TRANSMISSIONMAP":"",b.thicknessMap?"#define USE_THICKNESSMAP":"",b.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",b.vertexTangents?"#define USE_TANGENT":"",b.vertexColors||b.instancingColor?"#define USE_COLOR":"",b.vertexAlphas?"#define USE_COLOR_ALPHA":"",b.vertexUvs?"#define USE_UV":"",b.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",b.gradientMap?"#define USE_GRADIENTMAP":"",b.flatShading?"#define FLAT_SHADED":"",b.doubleSided?"#define DOUBLE_SIDED":"",b.flipSided?"#define FLIP_SIDED":"",b.shadowMapEnabled?"#define USE_SHADOWMAP":"",b.shadowMapEnabled?"#define "+rt:"",b.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",b.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",b.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",b.logarithmicDepthBuffer&&b.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",b.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",b.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",b.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",b.toneMapping):"",b.dithering?"#define DITHERING":"",b.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",b.outputEncoding),b.depthPacking?"#define DEPTH_PACKING "+b.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),tt=resolveIncludes(tt),tt=replaceLightNums(tt,b),tt=replaceClippingPlaneNums(tt,b),nt=resolveIncludes(nt),nt=replaceLightNums(nt,b),nt=replaceClippingPlaneNums(nt,b),tt=unrollLoops(tt),nt=unrollLoops(nt),b.isWebGL2&&b.isRawShaderMaterial!==!0&&(dt=`#version 300 es
`,ft=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ft,ht=["#define varying in",b.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",b.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ht);const pt=dt+ft+tt,mt=dt+ht+nt,gt=WebGLShader(_e,35633,pt),yt=WebGLShader(_e,35632,mt);if(_e.attachShader(ct,gt),_e.attachShader(ct,yt),b.index0AttributeName!==void 0?_e.bindAttribLocation(ct,0,b.index0AttributeName):b.morphTargets===!0&&_e.bindAttribLocation(ct,0,"position"),_e.linkProgram(ct),j.debug.checkShaderErrors){const At=_e.getProgramInfoLog(ct).trim(),bt=_e.getShaderInfoLog(gt).trim(),xt=_e.getShaderInfoLog(yt).trim();let Et=!0,Mt=!0;if(_e.getProgramParameter(ct,35714)===!1){Et=!1;const Tt=getShaderErrors(_e,gt,"vertex"),Lt=getShaderErrors(_e,yt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+_e.getError()+" - VALIDATE_STATUS "+_e.getProgramParameter(ct,35715)+`

Program Info Log: `+At+`
`+Tt+`
`+Lt)}else At!==""?console.warn("THREE.WebGLProgram: Program Info Log:",At):(bt===""||xt==="")&&(Mt=!1);Mt&&(this.diagnostics={runnable:Et,programLog:At,vertexShader:{log:bt,prefix:ft},fragmentShader:{log:xt,prefix:ht}})}_e.deleteShader(gt),_e.deleteShader(yt);let _t;this.getUniforms=function(){return _t===void 0&&(_t=new WebGLUniforms(_e,ct)),_t};let vt;return this.getAttributes=function(){return vt===void 0&&(vt=fetchAttributeLocations(_e,ct)),vt},this.destroy=function(){$.releaseStatesOfProgram(this),_e.deleteProgram(ct),this.program=void 0},this.name=b.shaderName,this.id=programIdCount++,this.cacheKey=g,this.usedTimes=1,this.program=ct,this.vertexShader=gt,this.fragmentShader=yt,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(g){const b=g.vertexShader,$=g.fragmentShader,_e=this._getShaderStage(b),et=this._getShaderStage($),tt=this._getShaderCacheForMaterial(g);return tt.has(_e)===!1&&(tt.add(_e),_e.usedTimes++),tt.has(et)===!1&&(tt.add(et),et.usedTimes++),this}remove(g){const b=this.materialCache.get(g);for(const $ of b)$.usedTimes--,$.usedTimes===0&&this.shaderCache.delete($);return this.materialCache.delete(g),this}getVertexShaderID(g){return this._getShaderStage(g.vertexShader).id}getFragmentShaderID(g){return this._getShaderStage(g.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(g){const b=this.materialCache;return b.has(g)===!1&&b.set(g,new Set),b.get(g)}_getShaderStage(g){const b=this.shaderCache;if(b.has(g)===!1){const $=new WebGLShaderStage;b.set(g,$)}return b.get(g)}}class WebGLShaderStage{constructor(){this.id=_id++,this.usedTimes=0}}function WebGLPrograms(j,g,b,$,_e,et,tt){const nt=new Layers,rt=new WebGLShaderCache,it=[],ot=_e.isWebGL2,st=_e.logarithmicDepthBuffer,at=_e.floatVertexTextures,lt=_e.maxVertexUniforms,ut=_e.vertexTextures;let ct=_e.precision;const ft={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ht(xt){const Mt=xt.skeleton.bones;if(at)return 1024;{const Lt=Math.floor((lt-20)/4),Ot=Math.min(Lt,Mt.length);return Ot<Mt.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Mt.length+" bones. This GPU supports "+Ot+"."),0):Ot}}function dt(xt,Et,Mt,Tt,Lt){const Ot=Tt.fog,Rt=Lt.geometry,Ct=xt.isMeshStandardMaterial?Tt.environment:null,Dt=(xt.isMeshStandardMaterial?b:g).get(xt.envMap||Ct),Bt=!!Dt&&(Dt.mapping===CubeUVReflectionMapping||Dt.mapping===CubeUVRefractionMapping)?Dt.image.height:null,kt=ft[xt.type],zt=Lt.isSkinnedMesh?ht(Lt):0;xt.precision!==null&&(ct=_e.getMaxPrecision(xt.precision),ct!==xt.precision&&console.warn("THREE.WebGLProgram.getParameters:",xt.precision,"not supported, using",ct,"instead."));const Ft=Rt.morphAttributes.position||Rt.morphAttributes.normal||Rt.morphAttributes.color,It=Ft!==void 0?Ft.length:0;let Ut=0;Rt.morphAttributes.position!==void 0&&(Ut=1),Rt.morphAttributes.normal!==void 0&&(Ut=2),Rt.morphAttributes.color!==void 0&&(Ut=3);let Gt,jt,Yt,Qt;if(kt){const Xt=ShaderLib[kt];Gt=Xt.vertexShader,jt=Xt.fragmentShader}else Gt=xt.vertexShader,jt=xt.fragmentShader,rt.update(xt),Yt=rt.getVertexShaderID(xt),Qt=rt.getFragmentShaderID(xt);const ln=j.getRenderTarget(),Zt=xt.alphaTest>0,Wt=xt.clearcoat>0;return{isWebGL2:ot,shaderID:kt,shaderName:xt.type,vertexShader:Gt,fragmentShader:jt,defines:xt.defines,customVertexShaderID:Yt,customFragmentShaderID:Qt,isRawShaderMaterial:xt.isRawShaderMaterial===!0,glslVersion:xt.glslVersion,precision:ct,instancing:Lt.isInstancedMesh===!0,instancingColor:Lt.isInstancedMesh===!0&&Lt.instanceColor!==null,supportsVertexTextures:ut,outputEncoding:ln===null?j.outputEncoding:ln.isXRRenderTarget===!0?ln.texture.encoding:LinearEncoding,map:!!xt.map,matcap:!!xt.matcap,envMap:!!Dt,envMapMode:Dt&&Dt.mapping,envMapCubeUVHeight:Bt,lightMap:!!xt.lightMap,aoMap:!!xt.aoMap,emissiveMap:!!xt.emissiveMap,bumpMap:!!xt.bumpMap,normalMap:!!xt.normalMap,objectSpaceNormalMap:xt.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:xt.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!xt.map&&xt.map.isVideoTexture===!0&&xt.map.encoding===sRGBEncoding,clearcoat:Wt,clearcoatMap:Wt&&!!xt.clearcoatMap,clearcoatRoughnessMap:Wt&&!!xt.clearcoatRoughnessMap,clearcoatNormalMap:Wt&&!!xt.clearcoatNormalMap,displacementMap:!!xt.displacementMap,roughnessMap:!!xt.roughnessMap,metalnessMap:!!xt.metalnessMap,specularMap:!!xt.specularMap,specularIntensityMap:!!xt.specularIntensityMap,specularColorMap:!!xt.specularColorMap,opaque:xt.transparent===!1&&xt.blending===NormalBlending,alphaMap:!!xt.alphaMap,alphaTest:Zt,gradientMap:!!xt.gradientMap,sheen:xt.sheen>0,sheenColorMap:!!xt.sheenColorMap,sheenRoughnessMap:!!xt.sheenRoughnessMap,transmission:xt.transmission>0,transmissionMap:!!xt.transmissionMap,thicknessMap:!!xt.thicknessMap,combine:xt.combine,vertexTangents:!!xt.normalMap&&!!Rt.attributes.tangent,vertexColors:xt.vertexColors,vertexAlphas:xt.vertexColors===!0&&!!Rt.attributes.color&&Rt.attributes.color.itemSize===4,vertexUvs:!!xt.map||!!xt.bumpMap||!!xt.normalMap||!!xt.specularMap||!!xt.alphaMap||!!xt.emissiveMap||!!xt.roughnessMap||!!xt.metalnessMap||!!xt.clearcoatMap||!!xt.clearcoatRoughnessMap||!!xt.clearcoatNormalMap||!!xt.displacementMap||!!xt.transmissionMap||!!xt.thicknessMap||!!xt.specularIntensityMap||!!xt.specularColorMap||!!xt.sheenColorMap||!!xt.sheenRoughnessMap,uvsVertexOnly:!(!!xt.map||!!xt.bumpMap||!!xt.normalMap||!!xt.specularMap||!!xt.alphaMap||!!xt.emissiveMap||!!xt.roughnessMap||!!xt.metalnessMap||!!xt.clearcoatNormalMap||xt.transmission>0||!!xt.transmissionMap||!!xt.thicknessMap||!!xt.specularIntensityMap||!!xt.specularColorMap||xt.sheen>0||!!xt.sheenColorMap||!!xt.sheenRoughnessMap)&&!!xt.displacementMap,fog:!!Ot,useFog:xt.fog,fogExp2:Ot&&Ot.isFogExp2,flatShading:!!xt.flatShading,sizeAttenuation:xt.sizeAttenuation,logarithmicDepthBuffer:st,skinning:Lt.isSkinnedMesh===!0&&zt>0,maxBones:zt,useVertexTexture:at,morphTargets:Rt.morphAttributes.position!==void 0,morphNormals:Rt.morphAttributes.normal!==void 0,morphColors:Rt.morphAttributes.color!==void 0,morphTargetsCount:It,morphTextureStride:Ut,numDirLights:Et.directional.length,numPointLights:Et.point.length,numSpotLights:Et.spot.length,numRectAreaLights:Et.rectArea.length,numHemiLights:Et.hemi.length,numDirLightShadows:Et.directionalShadowMap.length,numPointLightShadows:Et.pointShadowMap.length,numSpotLightShadows:Et.spotShadowMap.length,numClippingPlanes:tt.numPlanes,numClipIntersection:tt.numIntersection,dithering:xt.dithering,shadowMapEnabled:j.shadowMap.enabled&&Mt.length>0,shadowMapType:j.shadowMap.type,toneMapping:xt.toneMapped?j.toneMapping:NoToneMapping,physicallyCorrectLights:j.physicallyCorrectLights,premultipliedAlpha:xt.premultipliedAlpha,doubleSided:xt.side===DoubleSide,flipSided:xt.side===BackSide,depthPacking:xt.depthPacking!==void 0?xt.depthPacking:!1,index0AttributeName:xt.index0AttributeName,extensionDerivatives:xt.extensions&&xt.extensions.derivatives,extensionFragDepth:xt.extensions&&xt.extensions.fragDepth,extensionDrawBuffers:xt.extensions&&xt.extensions.drawBuffers,extensionShaderTextureLOD:xt.extensions&&xt.extensions.shaderTextureLOD,rendererExtensionFragDepth:ot||$.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ot||$.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ot||$.has("EXT_shader_texture_lod"),customProgramCacheKey:xt.customProgramCacheKey()}}function pt(xt){const Et=[];if(xt.shaderID?Et.push(xt.shaderID):(Et.push(xt.customVertexShaderID),Et.push(xt.customFragmentShaderID)),xt.defines!==void 0)for(const Mt in xt.defines)Et.push(Mt),Et.push(xt.defines[Mt]);return xt.isRawShaderMaterial===!1&&(mt(Et,xt),gt(Et,xt),Et.push(j.outputEncoding)),Et.push(xt.customProgramCacheKey),Et.join()}function mt(xt,Et){xt.push(Et.precision),xt.push(Et.outputEncoding),xt.push(Et.envMapMode),xt.push(Et.envMapCubeUVHeight),xt.push(Et.combine),xt.push(Et.vertexUvs),xt.push(Et.fogExp2),xt.push(Et.sizeAttenuation),xt.push(Et.maxBones),xt.push(Et.morphTargetsCount),xt.push(Et.morphAttributeCount),xt.push(Et.numDirLights),xt.push(Et.numPointLights),xt.push(Et.numSpotLights),xt.push(Et.numHemiLights),xt.push(Et.numRectAreaLights),xt.push(Et.numDirLightShadows),xt.push(Et.numPointLightShadows),xt.push(Et.numSpotLightShadows),xt.push(Et.shadowMapType),xt.push(Et.toneMapping),xt.push(Et.numClippingPlanes),xt.push(Et.numClipIntersection)}function gt(xt,Et){nt.disableAll(),Et.isWebGL2&&nt.enable(0),Et.supportsVertexTextures&&nt.enable(1),Et.instancing&&nt.enable(2),Et.instancingColor&&nt.enable(3),Et.map&&nt.enable(4),Et.matcap&&nt.enable(5),Et.envMap&&nt.enable(6),Et.lightMap&&nt.enable(7),Et.aoMap&&nt.enable(8),Et.emissiveMap&&nt.enable(9),Et.bumpMap&&nt.enable(10),Et.normalMap&&nt.enable(11),Et.objectSpaceNormalMap&&nt.enable(12),Et.tangentSpaceNormalMap&&nt.enable(13),Et.clearcoat&&nt.enable(14),Et.clearcoatMap&&nt.enable(15),Et.clearcoatRoughnessMap&&nt.enable(16),Et.clearcoatNormalMap&&nt.enable(17),Et.displacementMap&&nt.enable(18),Et.specularMap&&nt.enable(19),Et.roughnessMap&&nt.enable(20),Et.metalnessMap&&nt.enable(21),Et.gradientMap&&nt.enable(22),Et.alphaMap&&nt.enable(23),Et.alphaTest&&nt.enable(24),Et.vertexColors&&nt.enable(25),Et.vertexAlphas&&nt.enable(26),Et.vertexUvs&&nt.enable(27),Et.vertexTangents&&nt.enable(28),Et.uvsVertexOnly&&nt.enable(29),Et.fog&&nt.enable(30),xt.push(nt.mask),nt.disableAll(),Et.useFog&&nt.enable(0),Et.flatShading&&nt.enable(1),Et.logarithmicDepthBuffer&&nt.enable(2),Et.skinning&&nt.enable(3),Et.useVertexTexture&&nt.enable(4),Et.morphTargets&&nt.enable(5),Et.morphNormals&&nt.enable(6),Et.morphColors&&nt.enable(7),Et.premultipliedAlpha&&nt.enable(8),Et.shadowMapEnabled&&nt.enable(9),Et.physicallyCorrectLights&&nt.enable(10),Et.doubleSided&&nt.enable(11),Et.flipSided&&nt.enable(12),Et.depthPacking&&nt.enable(13),Et.dithering&&nt.enable(14),Et.specularIntensityMap&&nt.enable(15),Et.specularColorMap&&nt.enable(16),Et.transmission&&nt.enable(17),Et.transmissionMap&&nt.enable(18),Et.thicknessMap&&nt.enable(19),Et.sheen&&nt.enable(20),Et.sheenColorMap&&nt.enable(21),Et.sheenRoughnessMap&&nt.enable(22),Et.decodeVideoTexture&&nt.enable(23),Et.opaque&&nt.enable(24),xt.push(nt.mask)}function yt(xt){const Et=ft[xt.type];let Mt;if(Et){const Tt=ShaderLib[Et];Mt=UniformsUtils.clone(Tt.uniforms)}else Mt=xt.uniforms;return Mt}function _t(xt,Et){let Mt;for(let Tt=0,Lt=it.length;Tt<Lt;Tt++){const Ot=it[Tt];if(Ot.cacheKey===Et){Mt=Ot,++Mt.usedTimes;break}}return Mt===void 0&&(Mt=new WebGLProgram(j,Et,xt,et),it.push(Mt)),Mt}function vt(xt){if(--xt.usedTimes===0){const Et=it.indexOf(xt);it[Et]=it[it.length-1],it.pop(),xt.destroy()}}function At(xt){rt.remove(xt)}function bt(){rt.dispose()}return{getParameters:dt,getProgramCacheKey:pt,getUniforms:yt,acquireProgram:_t,releaseProgram:vt,releaseShaderCache:At,programs:it,dispose:bt}}function WebGLProperties(){let j=new WeakMap;function g(et){let tt=j.get(et);return tt===void 0&&(tt={},j.set(et,tt)),tt}function b(et){j.delete(et)}function $(et,tt,nt){j.get(et)[tt]=nt}function _e(){j=new WeakMap}return{get:g,remove:b,update:$,dispose:_e}}function painterSortStable(j,g){return j.groupOrder!==g.groupOrder?j.groupOrder-g.groupOrder:j.renderOrder!==g.renderOrder?j.renderOrder-g.renderOrder:j.material.id!==g.material.id?j.material.id-g.material.id:j.z!==g.z?j.z-g.z:j.id-g.id}function reversePainterSortStable(j,g){return j.groupOrder!==g.groupOrder?j.groupOrder-g.groupOrder:j.renderOrder!==g.renderOrder?j.renderOrder-g.renderOrder:j.z!==g.z?g.z-j.z:j.id-g.id}function WebGLRenderList(){const j=[];let g=0;const b=[],$=[],_e=[];function et(){g=0,b.length=0,$.length=0,_e.length=0}function tt(st,at,lt,ut,ct,ft){let ht=j[g];return ht===void 0?(ht={id:st.id,object:st,geometry:at,material:lt,groupOrder:ut,renderOrder:st.renderOrder,z:ct,group:ft},j[g]=ht):(ht.id=st.id,ht.object=st,ht.geometry=at,ht.material=lt,ht.groupOrder=ut,ht.renderOrder=st.renderOrder,ht.z=ct,ht.group=ft),g++,ht}function nt(st,at,lt,ut,ct,ft){const ht=tt(st,at,lt,ut,ct,ft);lt.transmission>0?$.push(ht):lt.transparent===!0?_e.push(ht):b.push(ht)}function rt(st,at,lt,ut,ct,ft){const ht=tt(st,at,lt,ut,ct,ft);lt.transmission>0?$.unshift(ht):lt.transparent===!0?_e.unshift(ht):b.unshift(ht)}function it(st,at){b.length>1&&b.sort(st||painterSortStable),$.length>1&&$.sort(at||reversePainterSortStable),_e.length>1&&_e.sort(at||reversePainterSortStable)}function ot(){for(let st=g,at=j.length;st<at;st++){const lt=j[st];if(lt.id===null)break;lt.id=null,lt.object=null,lt.geometry=null,lt.material=null,lt.group=null}}return{opaque:b,transmissive:$,transparent:_e,init:et,push:nt,unshift:rt,finish:ot,sort:it}}function WebGLRenderLists(){let j=new WeakMap;function g($,_e){let et;return j.has($)===!1?(et=new WebGLRenderList,j.set($,[et])):_e>=j.get($).length?(et=new WebGLRenderList,j.get($).push(et)):et=j.get($)[_e],et}function b(){j=new WeakMap}return{get:g,dispose:b}}function UniformsCache(){const j={};return{get:function(g){if(j[g.id]!==void 0)return j[g.id];let b;switch(g.type){case"DirectionalLight":b={direction:new Vector3,color:new Color};break;case"SpotLight":b={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":b={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":b={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":b={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return j[g.id]=b,b}}}function ShadowUniformsCache(){const j={};return{get:function(g){if(j[g.id]!==void 0)return j[g.id];let b;switch(g.type){case"DirectionalLight":b={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":b={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":b={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return j[g.id]=b,b}}}let nextVersion=0;function shadowCastingLightsFirst(j,g){return(g.castShadow?1:0)-(j.castShadow?1:0)}function WebGLLights(j,g){const b=new UniformsCache,$=ShadowUniformsCache(),_e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let ot=0;ot<9;ot++)_e.probe.push(new Vector3);const et=new Vector3,tt=new Matrix4,nt=new Matrix4;function rt(ot,st){let at=0,lt=0,ut=0;for(let At=0;At<9;At++)_e.probe[At].set(0,0,0);let ct=0,ft=0,ht=0,dt=0,pt=0,mt=0,gt=0,yt=0;ot.sort(shadowCastingLightsFirst);const _t=st!==!0?Math.PI:1;for(let At=0,bt=ot.length;At<bt;At++){const xt=ot[At],Et=xt.color,Mt=xt.intensity,Tt=xt.distance,Lt=xt.shadow&&xt.shadow.map?xt.shadow.map.texture:null;if(xt.isAmbientLight)at+=Et.r*Mt*_t,lt+=Et.g*Mt*_t,ut+=Et.b*Mt*_t;else if(xt.isLightProbe)for(let Ot=0;Ot<9;Ot++)_e.probe[Ot].addScaledVector(xt.sh.coefficients[Ot],Mt);else if(xt.isDirectionalLight){const Ot=b.get(xt);if(Ot.color.copy(xt.color).multiplyScalar(xt.intensity*_t),xt.castShadow){const Rt=xt.shadow,Ct=$.get(xt);Ct.shadowBias=Rt.bias,Ct.shadowNormalBias=Rt.normalBias,Ct.shadowRadius=Rt.radius,Ct.shadowMapSize=Rt.mapSize,_e.directionalShadow[ct]=Ct,_e.directionalShadowMap[ct]=Lt,_e.directionalShadowMatrix[ct]=xt.shadow.matrix,mt++}_e.directional[ct]=Ot,ct++}else if(xt.isSpotLight){const Ot=b.get(xt);if(Ot.position.setFromMatrixPosition(xt.matrixWorld),Ot.color.copy(Et).multiplyScalar(Mt*_t),Ot.distance=Tt,Ot.coneCos=Math.cos(xt.angle),Ot.penumbraCos=Math.cos(xt.angle*(1-xt.penumbra)),Ot.decay=xt.decay,xt.castShadow){const Rt=xt.shadow,Ct=$.get(xt);Ct.shadowBias=Rt.bias,Ct.shadowNormalBias=Rt.normalBias,Ct.shadowRadius=Rt.radius,Ct.shadowMapSize=Rt.mapSize,_e.spotShadow[ht]=Ct,_e.spotShadowMap[ht]=Lt,_e.spotShadowMatrix[ht]=xt.shadow.matrix,yt++}_e.spot[ht]=Ot,ht++}else if(xt.isRectAreaLight){const Ot=b.get(xt);Ot.color.copy(Et).multiplyScalar(Mt),Ot.halfWidth.set(xt.width*.5,0,0),Ot.halfHeight.set(0,xt.height*.5,0),_e.rectArea[dt]=Ot,dt++}else if(xt.isPointLight){const Ot=b.get(xt);if(Ot.color.copy(xt.color).multiplyScalar(xt.intensity*_t),Ot.distance=xt.distance,Ot.decay=xt.decay,xt.castShadow){const Rt=xt.shadow,Ct=$.get(xt);Ct.shadowBias=Rt.bias,Ct.shadowNormalBias=Rt.normalBias,Ct.shadowRadius=Rt.radius,Ct.shadowMapSize=Rt.mapSize,Ct.shadowCameraNear=Rt.camera.near,Ct.shadowCameraFar=Rt.camera.far,_e.pointShadow[ft]=Ct,_e.pointShadowMap[ft]=Lt,_e.pointShadowMatrix[ft]=xt.shadow.matrix,gt++}_e.point[ft]=Ot,ft++}else if(xt.isHemisphereLight){const Ot=b.get(xt);Ot.skyColor.copy(xt.color).multiplyScalar(Mt*_t),Ot.groundColor.copy(xt.groundColor).multiplyScalar(Mt*_t),_e.hemi[pt]=Ot,pt++}}dt>0&&(g.isWebGL2||j.has("OES_texture_float_linear")===!0?(_e.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,_e.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):j.has("OES_texture_half_float_linear")===!0?(_e.rectAreaLTC1=UniformsLib.LTC_HALF_1,_e.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),_e.ambient[0]=at,_e.ambient[1]=lt,_e.ambient[2]=ut;const vt=_e.hash;(vt.directionalLength!==ct||vt.pointLength!==ft||vt.spotLength!==ht||vt.rectAreaLength!==dt||vt.hemiLength!==pt||vt.numDirectionalShadows!==mt||vt.numPointShadows!==gt||vt.numSpotShadows!==yt)&&(_e.directional.length=ct,_e.spot.length=ht,_e.rectArea.length=dt,_e.point.length=ft,_e.hemi.length=pt,_e.directionalShadow.length=mt,_e.directionalShadowMap.length=mt,_e.pointShadow.length=gt,_e.pointShadowMap.length=gt,_e.spotShadow.length=yt,_e.spotShadowMap.length=yt,_e.directionalShadowMatrix.length=mt,_e.pointShadowMatrix.length=gt,_e.spotShadowMatrix.length=yt,vt.directionalLength=ct,vt.pointLength=ft,vt.spotLength=ht,vt.rectAreaLength=dt,vt.hemiLength=pt,vt.numDirectionalShadows=mt,vt.numPointShadows=gt,vt.numSpotShadows=yt,_e.version=nextVersion++)}function it(ot,st){let at=0,lt=0,ut=0,ct=0,ft=0;const ht=st.matrixWorldInverse;for(let dt=0,pt=ot.length;dt<pt;dt++){const mt=ot[dt];if(mt.isDirectionalLight){const gt=_e.directional[at];gt.direction.setFromMatrixPosition(mt.matrixWorld),et.setFromMatrixPosition(mt.target.matrixWorld),gt.direction.sub(et),gt.direction.transformDirection(ht),at++}else if(mt.isSpotLight){const gt=_e.spot[ut];gt.position.setFromMatrixPosition(mt.matrixWorld),gt.position.applyMatrix4(ht),gt.direction.setFromMatrixPosition(mt.matrixWorld),et.setFromMatrixPosition(mt.target.matrixWorld),gt.direction.sub(et),gt.direction.transformDirection(ht),ut++}else if(mt.isRectAreaLight){const gt=_e.rectArea[ct];gt.position.setFromMatrixPosition(mt.matrixWorld),gt.position.applyMatrix4(ht),nt.identity(),tt.copy(mt.matrixWorld),tt.premultiply(ht),nt.extractRotation(tt),gt.halfWidth.set(mt.width*.5,0,0),gt.halfHeight.set(0,mt.height*.5,0),gt.halfWidth.applyMatrix4(nt),gt.halfHeight.applyMatrix4(nt),ct++}else if(mt.isPointLight){const gt=_e.point[lt];gt.position.setFromMatrixPosition(mt.matrixWorld),gt.position.applyMatrix4(ht),lt++}else if(mt.isHemisphereLight){const gt=_e.hemi[ft];gt.direction.setFromMatrixPosition(mt.matrixWorld),gt.direction.transformDirection(ht),gt.direction.normalize(),ft++}}}return{setup:rt,setupView:it,state:_e}}function WebGLRenderState(j,g){const b=new WebGLLights(j,g),$=[],_e=[];function et(){$.length=0,_e.length=0}function tt(st){$.push(st)}function nt(st){_e.push(st)}function rt(st){b.setup($,st)}function it(st){b.setupView($,st)}return{init:et,state:{lightsArray:$,shadowsArray:_e,lights:b},setupLights:rt,setupLightsView:it,pushLight:tt,pushShadow:nt}}function WebGLRenderStates(j,g){let b=new WeakMap;function $(et,tt=0){let nt;return b.has(et)===!1?(nt=new WebGLRenderState(j,g),b.set(et,[nt])):tt>=b.get(et).length?(nt=new WebGLRenderState(j,g),b.get(et).push(nt)):nt=b.get(et)[tt],nt}function _e(){b=new WeakMap}return{get:$,dispose:_e}}class MeshDepthMaterial extends Material{constructor(g){super(),this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(g)}copy(g){return super.copy(g),this.depthPacking=g.depthPacking,this.map=g.map,this.alphaMap=g.alphaMap,this.displacementMap=g.displacementMap,this.displacementScale=g.displacementScale,this.displacementBias=g.displacementBias,this.wireframe=g.wireframe,this.wireframeLinewidth=g.wireframeLinewidth,this}}MeshDepthMaterial.prototype.isMeshDepthMaterial=!0;class MeshDistanceMaterial extends Material{constructor(g){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(g)}copy(g){return super.copy(g),this.referencePosition.copy(g.referencePosition),this.nearDistance=g.nearDistance,this.farDistance=g.farDistance,this.map=g.map,this.alphaMap=g.alphaMap,this.displacementMap=g.displacementMap,this.displacementScale=g.displacementScale,this.displacementBias=g.displacementBias,this}}MeshDistanceMaterial.prototype.isMeshDistanceMaterial=!0;const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(j,g,b){let $=new Frustum;const _e=new Vector2,et=new Vector2,tt=new Vector4,nt=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),rt=new MeshDistanceMaterial,it={},ot=b.maxTextureSize,st={0:BackSide,1:FrontSide,2:DoubleSide},at=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),lt=at.clone();lt.defines.HORIZONTAL_PASS=1;const ut=new BufferGeometry;ut.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ct=new Mesh(ut,at),ft=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(mt,gt,yt){if(ft.enabled===!1||ft.autoUpdate===!1&&ft.needsUpdate===!1||mt.length===0)return;const _t=j.getRenderTarget(),vt=j.getActiveCubeFace(),At=j.getActiveMipmapLevel(),bt=j.state;bt.setBlending(NoBlending),bt.buffers.color.setClear(1,1,1,1),bt.buffers.depth.setTest(!0),bt.setScissorTest(!1);for(let xt=0,Et=mt.length;xt<Et;xt++){const Mt=mt[xt],Tt=Mt.shadow;if(Tt===void 0){console.warn("THREE.WebGLShadowMap:",Mt,"has no shadow.");continue}if(Tt.autoUpdate===!1&&Tt.needsUpdate===!1)continue;_e.copy(Tt.mapSize);const Lt=Tt.getFrameExtents();if(_e.multiply(Lt),et.copy(Tt.mapSize),(_e.x>ot||_e.y>ot)&&(_e.x>ot&&(et.x=Math.floor(ot/Lt.x),_e.x=et.x*Lt.x,Tt.mapSize.x=et.x),_e.y>ot&&(et.y=Math.floor(ot/Lt.y),_e.y=et.y*Lt.y,Tt.mapSize.y=et.y)),Tt.map===null&&!Tt.isPointLightShadow&&this.type===VSMShadowMap){const Rt={minFilter:LinearFilter,magFilter:LinearFilter,format:RGBAFormat};Tt.map=new WebGLRenderTarget(_e.x,_e.y,Rt),Tt.map.texture.name=Mt.name+".shadowMap",Tt.mapPass=new WebGLRenderTarget(_e.x,_e.y,Rt),Tt.camera.updateProjectionMatrix()}if(Tt.map===null){const Rt={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};Tt.map=new WebGLRenderTarget(_e.x,_e.y,Rt),Tt.map.texture.name=Mt.name+".shadowMap",Tt.camera.updateProjectionMatrix()}j.setRenderTarget(Tt.map),j.clear();const Ot=Tt.getViewportCount();for(let Rt=0;Rt<Ot;Rt++){const Ct=Tt.getViewport(Rt);tt.set(et.x*Ct.x,et.y*Ct.y,et.x*Ct.z,et.y*Ct.w),bt.viewport(tt),Tt.updateMatrices(Mt,Rt),$=Tt.getFrustum(),pt(gt,yt,Tt.camera,Mt,this.type)}!Tt.isPointLightShadow&&this.type===VSMShadowMap&&ht(Tt,yt),Tt.needsUpdate=!1}ft.needsUpdate=!1,j.setRenderTarget(_t,vt,At)};function ht(mt,gt){const yt=g.update(ct);at.defines.VSM_SAMPLES!==mt.blurSamples&&(at.defines.VSM_SAMPLES=mt.blurSamples,lt.defines.VSM_SAMPLES=mt.blurSamples,at.needsUpdate=!0,lt.needsUpdate=!0),at.uniforms.shadow_pass.value=mt.map.texture,at.uniforms.resolution.value=mt.mapSize,at.uniforms.radius.value=mt.radius,j.setRenderTarget(mt.mapPass),j.clear(),j.renderBufferDirect(gt,null,yt,at,ct,null),lt.uniforms.shadow_pass.value=mt.mapPass.texture,lt.uniforms.resolution.value=mt.mapSize,lt.uniforms.radius.value=mt.radius,j.setRenderTarget(mt.map),j.clear(),j.renderBufferDirect(gt,null,yt,lt,ct,null)}function dt(mt,gt,yt,_t,vt,At){let bt=null;const xt=yt.isPointLight===!0?mt.customDistanceMaterial:mt.customDepthMaterial;if(xt!==void 0?bt=xt:bt=yt.isPointLight===!0?rt:nt,j.localClippingEnabled&&gt.clipShadows===!0&&gt.clippingPlanes.length!==0||gt.displacementMap&&gt.displacementScale!==0||gt.alphaMap&&gt.alphaTest>0){const Et=bt.uuid,Mt=gt.uuid;let Tt=it[Et];Tt===void 0&&(Tt={},it[Et]=Tt);let Lt=Tt[Mt];Lt===void 0&&(Lt=bt.clone(),Tt[Mt]=Lt),bt=Lt}return bt.visible=gt.visible,bt.wireframe=gt.wireframe,At===VSMShadowMap?bt.side=gt.shadowSide!==null?gt.shadowSide:gt.side:bt.side=gt.shadowSide!==null?gt.shadowSide:st[gt.side],bt.alphaMap=gt.alphaMap,bt.alphaTest=gt.alphaTest,bt.clipShadows=gt.clipShadows,bt.clippingPlanes=gt.clippingPlanes,bt.clipIntersection=gt.clipIntersection,bt.displacementMap=gt.displacementMap,bt.displacementScale=gt.displacementScale,bt.displacementBias=gt.displacementBias,bt.wireframeLinewidth=gt.wireframeLinewidth,bt.linewidth=gt.linewidth,yt.isPointLight===!0&&bt.isMeshDistanceMaterial===!0&&(bt.referencePosition.setFromMatrixPosition(yt.matrixWorld),bt.nearDistance=_t,bt.farDistance=vt),bt}function pt(mt,gt,yt,_t,vt){if(mt.visible===!1)return;if(mt.layers.test(gt.layers)&&(mt.isMesh||mt.isLine||mt.isPoints)&&(mt.castShadow||mt.receiveShadow&&vt===VSMShadowMap)&&(!mt.frustumCulled||$.intersectsObject(mt))){mt.modelViewMatrix.multiplyMatrices(yt.matrixWorldInverse,mt.matrixWorld);const xt=g.update(mt),Et=mt.material;if(Array.isArray(Et)){const Mt=xt.groups;for(let Tt=0,Lt=Mt.length;Tt<Lt;Tt++){const Ot=Mt[Tt],Rt=Et[Ot.materialIndex];if(Rt&&Rt.visible){const Ct=dt(mt,Rt,_t,yt.near,yt.far,vt);j.renderBufferDirect(yt,null,xt,Ct,mt,Ot)}}}else if(Et.visible){const Mt=dt(mt,Et,_t,yt.near,yt.far,vt);j.renderBufferDirect(yt,null,xt,Mt,mt,null)}}const bt=mt.children;for(let xt=0,Et=bt.length;xt<Et;xt++)pt(bt[xt],gt,yt,_t,vt)}}function WebGLState(j,g,b){const $=b.isWebGL2;function _e(){let nn=!1;const En=new Vector4;let wn=null;const In=new Vector4(0,0,0,0);return{setMask:function(Rn){wn!==Rn&&!nn&&(j.colorMask(Rn,Rn,Rn,Rn),wn=Rn)},setLocked:function(Rn){nn=Rn},setClear:function(Rn,Pn,Gn,zn,ar){ar===!0&&(Rn*=zn,Pn*=zn,Gn*=zn),En.set(Rn,Pn,Gn,zn),In.equals(En)===!1&&(j.clearColor(Rn,Pn,Gn,zn),In.copy(En))},reset:function(){nn=!1,wn=null,In.set(-1,0,0,0)}}}function et(){let nn=!1,En=null,wn=null,In=null;return{setTest:function(Rn){Rn?Ut(2929):Gt(2929)},setMask:function(Rn){En!==Rn&&!nn&&(j.depthMask(Rn),En=Rn)},setFunc:function(Rn){if(wn!==Rn){if(Rn)switch(Rn){case NeverDepth:j.depthFunc(512);break;case AlwaysDepth:j.depthFunc(519);break;case LessDepth:j.depthFunc(513);break;case LessEqualDepth:j.depthFunc(515);break;case EqualDepth:j.depthFunc(514);break;case GreaterEqualDepth:j.depthFunc(518);break;case GreaterDepth:j.depthFunc(516);break;case NotEqualDepth:j.depthFunc(517);break;default:j.depthFunc(515)}else j.depthFunc(515);wn=Rn}},setLocked:function(Rn){nn=Rn},setClear:function(Rn){In!==Rn&&(j.clearDepth(Rn),In=Rn)},reset:function(){nn=!1,En=null,wn=null,In=null}}}function tt(){let nn=!1,En=null,wn=null,In=null,Rn=null,Pn=null,Gn=null,zn=null,ar=null;return{setTest:function(ir){nn||(ir?Ut(2960):Gt(2960))},setMask:function(ir){En!==ir&&!nn&&(j.stencilMask(ir),En=ir)},setFunc:function(ir,rr,mr){(wn!==ir||In!==rr||Rn!==mr)&&(j.stencilFunc(ir,rr,mr),wn=ir,In=rr,Rn=mr)},setOp:function(ir,rr,mr){(Pn!==ir||Gn!==rr||zn!==mr)&&(j.stencilOp(ir,rr,mr),Pn=ir,Gn=rr,zn=mr)},setLocked:function(ir){nn=ir},setClear:function(ir){ar!==ir&&(j.clearStencil(ir),ar=ir)},reset:function(){nn=!1,En=null,wn=null,In=null,Rn=null,Pn=null,Gn=null,zn=null,ar=null}}}const nt=new _e,rt=new et,it=new tt;let ot={},st={},at=new WeakMap,lt=[],ut=null,ct=!1,ft=null,ht=null,dt=null,pt=null,mt=null,gt=null,yt=null,_t=!1,vt=null,At=null,bt=null,xt=null,Et=null;const Mt=j.getParameter(35661);let Tt=!1,Lt=0;const Ot=j.getParameter(7938);Ot.indexOf("WebGL")!==-1?(Lt=parseFloat(/^WebGL (\d)/.exec(Ot)[1]),Tt=Lt>=1):Ot.indexOf("OpenGL ES")!==-1&&(Lt=parseFloat(/^OpenGL ES (\d)/.exec(Ot)[1]),Tt=Lt>=2);let Rt=null,Ct={};const Dt=j.getParameter(3088),Bt=j.getParameter(2978),kt=new Vector4().fromArray(Dt),zt=new Vector4().fromArray(Bt);function Ft(nn,En,wn){const In=new Uint8Array(4),Rn=j.createTexture();j.bindTexture(nn,Rn),j.texParameteri(nn,10241,9728),j.texParameteri(nn,10240,9728);for(let Pn=0;Pn<wn;Pn++)j.texImage2D(En+Pn,0,6408,1,1,0,6408,5121,In);return Rn}const It={};It[3553]=Ft(3553,3553,1),It[34067]=Ft(34067,34069,6),nt.setClear(0,0,0,1),rt.setClear(1),it.setClear(0),Ut(2929),rt.setFunc(LessEqualDepth),Xt(!1),vn(CullFaceBack),Ut(2884),Wt(NoBlending);function Ut(nn){ot[nn]!==!0&&(j.enable(nn),ot[nn]=!0)}function Gt(nn){ot[nn]!==!1&&(j.disable(nn),ot[nn]=!1)}function jt(nn,En){return st[nn]!==En?(j.bindFramebuffer(nn,En),st[nn]=En,$&&(nn===36009&&(st[36160]=En),nn===36160&&(st[36009]=En)),!0):!1}function Yt(nn,En){let wn=lt,In=!1;if(nn)if(wn=at.get(En),wn===void 0&&(wn=[],at.set(En,wn)),nn.isWebGLMultipleRenderTargets){const Rn=nn.texture;if(wn.length!==Rn.length||wn[0]!==36064){for(let Pn=0,Gn=Rn.length;Pn<Gn;Pn++)wn[Pn]=36064+Pn;wn.length=Rn.length,In=!0}}else wn[0]!==36064&&(wn[0]=36064,In=!0);else wn[0]!==1029&&(wn[0]=1029,In=!0);In&&(b.isWebGL2?j.drawBuffers(wn):g.get("WEBGL_draw_buffers").drawBuffersWEBGL(wn))}function Qt(nn){return ut!==nn?(j.useProgram(nn),ut=nn,!0):!1}const ln={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if($)ln[MinEquation]=32775,ln[MaxEquation]=32776;else{const nn=g.get("EXT_blend_minmax");nn!==null&&(ln[MinEquation]=nn.MIN_EXT,ln[MaxEquation]=nn.MAX_EXT)}const Zt={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function Wt(nn,En,wn,In,Rn,Pn,Gn,zn){if(nn===NoBlending){ct===!0&&(Gt(3042),ct=!1);return}if(ct===!1&&(Ut(3042),ct=!0),nn!==CustomBlending){if(nn!==ft||zn!==_t){if((ht!==AddEquation||mt!==AddEquation)&&(j.blendEquation(32774),ht=AddEquation,mt=AddEquation),zn)switch(nn){case NormalBlending:j.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:j.blendFunc(1,1);break;case SubtractiveBlending:j.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:j.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",nn);break}else switch(nn){case NormalBlending:j.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:j.blendFunc(770,1);break;case SubtractiveBlending:j.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:j.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",nn);break}dt=null,pt=null,gt=null,yt=null,ft=nn,_t=zn}return}Rn=Rn||En,Pn=Pn||wn,Gn=Gn||In,(En!==ht||Rn!==mt)&&(j.blendEquationSeparate(ln[En],ln[Rn]),ht=En,mt=Rn),(wn!==dt||In!==pt||Pn!==gt||Gn!==yt)&&(j.blendFuncSeparate(Zt[wn],Zt[In],Zt[Pn],Zt[Gn]),dt=wn,pt=In,gt=Pn,yt=Gn),ft=nn,_t=null}function qt(nn,En){nn.side===DoubleSide?Gt(2884):Ut(2884);let wn=nn.side===BackSide;En&&(wn=!wn),Xt(wn),nn.blending===NormalBlending&&nn.transparent===!1?Wt(NoBlending):Wt(nn.blending,nn.blendEquation,nn.blendSrc,nn.blendDst,nn.blendEquationAlpha,nn.blendSrcAlpha,nn.blendDstAlpha,nn.premultipliedAlpha),rt.setFunc(nn.depthFunc),rt.setTest(nn.depthTest),rt.setMask(nn.depthWrite),nt.setMask(nn.colorWrite);const In=nn.stencilWrite;it.setTest(In),In&&(it.setMask(nn.stencilWriteMask),it.setFunc(nn.stencilFunc,nn.stencilRef,nn.stencilFuncMask),it.setOp(nn.stencilFail,nn.stencilZFail,nn.stencilZPass)),en(nn.polygonOffset,nn.polygonOffsetFactor,nn.polygonOffsetUnits),nn.alphaToCoverage===!0?Ut(32926):Gt(32926)}function Xt(nn){vt!==nn&&(nn?j.frontFace(2304):j.frontFace(2305),vt=nn)}function vn(nn){nn!==CullFaceNone?(Ut(2884),nn!==At&&(nn===CullFaceBack?j.cullFace(1029):nn===CullFaceFront?j.cullFace(1028):j.cullFace(1032))):Gt(2884),At=nn}function gn(nn){nn!==bt&&(Tt&&j.lineWidth(nn),bt=nn)}function en(nn,En,wn){nn?(Ut(32823),(xt!==En||Et!==wn)&&(j.polygonOffset(En,wn),xt=En,Et=wn)):Gt(32823)}function hn(nn){nn?Ut(3089):Gt(3089)}function rn(nn){nn===void 0&&(nn=33984+Mt-1),Rt!==nn&&(j.activeTexture(nn),Rt=nn)}function un(nn,En){Rt===null&&rn();let wn=Ct[Rt];wn===void 0&&(wn={type:void 0,texture:void 0},Ct[Rt]=wn),(wn.type!==nn||wn.texture!==En)&&(j.bindTexture(nn,En||It[nn]),wn.type=nn,wn.texture=En)}function Nt(){const nn=Ct[Rt];nn!==void 0&&nn.type!==void 0&&(j.bindTexture(nn.type,null),nn.type=void 0,nn.texture=void 0)}function Vt(){try{j.compressedTexImage2D.apply(j,arguments)}catch(nn){console.error("THREE.WebGLState:",nn)}}function cn(){try{j.texSubImage2D.apply(j,arguments)}catch(nn){console.error("THREE.WebGLState:",nn)}}function dn(){try{j.texSubImage3D.apply(j,arguments)}catch(nn){console.error("THREE.WebGLState:",nn)}}function mn(){try{j.compressedTexSubImage2D.apply(j,arguments)}catch(nn){console.error("THREE.WebGLState:",nn)}}function bn(){try{j.texStorage2D.apply(j,arguments)}catch(nn){console.error("THREE.WebGLState:",nn)}}function Cn(){try{j.texStorage3D.apply(j,arguments)}catch(nn){console.error("THREE.WebGLState:",nn)}}function an(){try{j.texImage2D.apply(j,arguments)}catch(nn){console.error("THREE.WebGLState:",nn)}}function Tn(){try{j.texImage3D.apply(j,arguments)}catch(nn){console.error("THREE.WebGLState:",nn)}}function Dn(nn){kt.equals(nn)===!1&&(j.scissor(nn.x,nn.y,nn.z,nn.w),kt.copy(nn))}function Sn(nn){zt.equals(nn)===!1&&(j.viewport(nn.x,nn.y,nn.z,nn.w),zt.copy(nn))}function Ln(){j.disable(3042),j.disable(2884),j.disable(2929),j.disable(32823),j.disable(3089),j.disable(2960),j.disable(32926),j.blendEquation(32774),j.blendFunc(1,0),j.blendFuncSeparate(1,0,1,0),j.colorMask(!0,!0,!0,!0),j.clearColor(0,0,0,0),j.depthMask(!0),j.depthFunc(513),j.clearDepth(1),j.stencilMask(4294967295),j.stencilFunc(519,0,4294967295),j.stencilOp(7680,7680,7680),j.clearStencil(0),j.cullFace(1029),j.frontFace(2305),j.polygonOffset(0,0),j.activeTexture(33984),j.bindFramebuffer(36160,null),$===!0&&(j.bindFramebuffer(36009,null),j.bindFramebuffer(36008,null)),j.useProgram(null),j.lineWidth(1),j.scissor(0,0,j.canvas.width,j.canvas.height),j.viewport(0,0,j.canvas.width,j.canvas.height),ot={},Rt=null,Ct={},st={},at=new WeakMap,lt=[],ut=null,ct=!1,ft=null,ht=null,dt=null,pt=null,mt=null,gt=null,yt=null,_t=!1,vt=null,At=null,bt=null,xt=null,Et=null,kt.set(0,0,j.canvas.width,j.canvas.height),zt.set(0,0,j.canvas.width,j.canvas.height),nt.reset(),rt.reset(),it.reset()}return{buffers:{color:nt,depth:rt,stencil:it},enable:Ut,disable:Gt,bindFramebuffer:jt,drawBuffers:Yt,useProgram:Qt,setBlending:Wt,setMaterial:qt,setFlipSided:Xt,setCullFace:vn,setLineWidth:gn,setPolygonOffset:en,setScissorTest:hn,activeTexture:rn,bindTexture:un,unbindTexture:Nt,compressedTexImage2D:Vt,texImage2D:an,texImage3D:Tn,texStorage2D:bn,texStorage3D:Cn,texSubImage2D:cn,texSubImage3D:dn,compressedTexSubImage2D:mn,scissor:Dn,viewport:Sn,reset:Ln}}function WebGLTextures(j,g,b,$,_e,et,tt){const nt=_e.isWebGL2,rt=_e.maxTextures,it=_e.maxCubemapSize,ot=_e.maxTextureSize,st=_e.maxSamples,at=g.has("WEBGL_multisampled_render_to_texture")?g.get("WEBGL_multisampled_render_to_texture"):null,lt=new WeakMap;let ut;const ct=new WeakMap;let ft=!1;try{ft=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ht(Nt,Vt){return ft?new OffscreenCanvas(Nt,Vt):createElementNS$1("canvas")}function dt(Nt,Vt,cn,dn){let mn=1;if((Nt.width>dn||Nt.height>dn)&&(mn=dn/Math.max(Nt.width,Nt.height)),mn<1||Vt===!0)if(typeof HTMLImageElement!="undefined"&&Nt instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&Nt instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&Nt instanceof ImageBitmap){const bn=Vt?floorPowerOfTwo:Math.floor,Cn=bn(mn*Nt.width),an=bn(mn*Nt.height);ut===void 0&&(ut=ht(Cn,an));const Tn=cn?ht(Cn,an):ut;return Tn.width=Cn,Tn.height=an,Tn.getContext("2d").drawImage(Nt,0,0,Cn,an),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Nt.width+"x"+Nt.height+") to ("+Cn+"x"+an+")."),Tn}else return"data"in Nt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Nt.width+"x"+Nt.height+")."),Nt;return Nt}function pt(Nt){return isPowerOfTwo(Nt.width)&&isPowerOfTwo(Nt.height)}function mt(Nt){return nt?!1:Nt.wrapS!==ClampToEdgeWrapping||Nt.wrapT!==ClampToEdgeWrapping||Nt.minFilter!==NearestFilter&&Nt.minFilter!==LinearFilter}function gt(Nt,Vt){return Nt.generateMipmaps&&Vt&&Nt.minFilter!==NearestFilter&&Nt.minFilter!==LinearFilter}function yt(Nt){j.generateMipmap(Nt)}function _t(Nt,Vt,cn,dn,mn=!1){if(nt===!1)return Vt;if(Nt!==null){if(j[Nt]!==void 0)return j[Nt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Nt+"'")}let bn=Vt;return Vt===6403&&(cn===5126&&(bn=33326),cn===5131&&(bn=33325),cn===5121&&(bn=33321)),Vt===33319&&(cn===5126&&(bn=33328),cn===5131&&(bn=33327),cn===5121&&(bn=33323)),Vt===6408&&(cn===5126&&(bn=34836),cn===5131&&(bn=34842),cn===5121&&(bn=dn===sRGBEncoding&&mn===!1?35907:32856),cn===32819&&(bn=32854),cn===32820&&(bn=32855)),(bn===33325||bn===33326||bn===33327||bn===33328||bn===34842||bn===34836)&&g.get("EXT_color_buffer_float"),bn}function vt(Nt,Vt,cn){return gt(Nt,cn)===!0||Nt.isFramebufferTexture&&Nt.minFilter!==NearestFilter&&Nt.minFilter!==LinearFilter?Math.log2(Math.max(Vt.width,Vt.height))+1:Nt.mipmaps!==void 0&&Nt.mipmaps.length>0?Nt.mipmaps.length:Nt.isCompressedTexture&&Array.isArray(Nt.image)?Vt.mipmaps.length:1}function At(Nt){return Nt===NearestFilter||Nt===NearestMipmapNearestFilter||Nt===NearestMipmapLinearFilter?9728:9729}function bt(Nt){const Vt=Nt.target;Vt.removeEventListener("dispose",bt),Et(Vt),Vt.isVideoTexture&&lt.delete(Vt)}function xt(Nt){const Vt=Nt.target;Vt.removeEventListener("dispose",xt),Tt(Vt)}function Et(Nt){const Vt=$.get(Nt);if(Vt.__webglInit===void 0)return;const cn=Nt.source,dn=ct.get(cn);if(dn){const mn=dn[Vt.__cacheKey];mn.usedTimes--,mn.usedTimes===0&&Mt(Nt),Object.keys(dn).length===0&&ct.delete(cn)}$.remove(Nt)}function Mt(Nt){const Vt=$.get(Nt);j.deleteTexture(Vt.__webglTexture);const cn=Nt.source,dn=ct.get(cn);delete dn[Vt.__cacheKey],tt.memory.textures--}function Tt(Nt){const Vt=Nt.texture,cn=$.get(Nt),dn=$.get(Vt);if(dn.__webglTexture!==void 0&&(j.deleteTexture(dn.__webglTexture),tt.memory.textures--),Nt.depthTexture&&Nt.depthTexture.dispose(),Nt.isWebGLCubeRenderTarget)for(let mn=0;mn<6;mn++)j.deleteFramebuffer(cn.__webglFramebuffer[mn]),cn.__webglDepthbuffer&&j.deleteRenderbuffer(cn.__webglDepthbuffer[mn]);else j.deleteFramebuffer(cn.__webglFramebuffer),cn.__webglDepthbuffer&&j.deleteRenderbuffer(cn.__webglDepthbuffer),cn.__webglMultisampledFramebuffer&&j.deleteFramebuffer(cn.__webglMultisampledFramebuffer),cn.__webglColorRenderbuffer&&j.deleteRenderbuffer(cn.__webglColorRenderbuffer),cn.__webglDepthRenderbuffer&&j.deleteRenderbuffer(cn.__webglDepthRenderbuffer);if(Nt.isWebGLMultipleRenderTargets)for(let mn=0,bn=Vt.length;mn<bn;mn++){const Cn=$.get(Vt[mn]);Cn.__webglTexture&&(j.deleteTexture(Cn.__webglTexture),tt.memory.textures--),$.remove(Vt[mn])}$.remove(Vt),$.remove(Nt)}let Lt=0;function Ot(){Lt=0}function Rt(){const Nt=Lt;return Nt>=rt&&console.warn("THREE.WebGLTextures: Trying to use "+Nt+" texture units while this GPU supports only "+rt),Lt+=1,Nt}function Ct(Nt){const Vt=[];return Vt.push(Nt.wrapS),Vt.push(Nt.wrapT),Vt.push(Nt.magFilter),Vt.push(Nt.minFilter),Vt.push(Nt.anisotropy),Vt.push(Nt.internalFormat),Vt.push(Nt.format),Vt.push(Nt.type),Vt.push(Nt.generateMipmaps),Vt.push(Nt.premultiplyAlpha),Vt.push(Nt.flipY),Vt.push(Nt.unpackAlignment),Vt.push(Nt.encoding),Vt.join()}function Dt(Nt,Vt){const cn=$.get(Nt);if(Nt.isVideoTexture&&rn(Nt),Nt.isRenderTargetTexture===!1&&Nt.version>0&&cn.__version!==Nt.version){const dn=Nt.image;if(dn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(dn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{jt(cn,Nt,Vt);return}}b.activeTexture(33984+Vt),b.bindTexture(3553,cn.__webglTexture)}function Bt(Nt,Vt){const cn=$.get(Nt);if(Nt.version>0&&cn.__version!==Nt.version){jt(cn,Nt,Vt);return}b.activeTexture(33984+Vt),b.bindTexture(35866,cn.__webglTexture)}function kt(Nt,Vt){const cn=$.get(Nt);if(Nt.version>0&&cn.__version!==Nt.version){jt(cn,Nt,Vt);return}b.activeTexture(33984+Vt),b.bindTexture(32879,cn.__webglTexture)}function zt(Nt,Vt){const cn=$.get(Nt);if(Nt.version>0&&cn.__version!==Nt.version){Yt(cn,Nt,Vt);return}b.activeTexture(33984+Vt),b.bindTexture(34067,cn.__webglTexture)}const Ft={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},It={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function Ut(Nt,Vt,cn){if(cn?(j.texParameteri(Nt,10242,Ft[Vt.wrapS]),j.texParameteri(Nt,10243,Ft[Vt.wrapT]),(Nt===32879||Nt===35866)&&j.texParameteri(Nt,32882,Ft[Vt.wrapR]),j.texParameteri(Nt,10240,It[Vt.magFilter]),j.texParameteri(Nt,10241,It[Vt.minFilter])):(j.texParameteri(Nt,10242,33071),j.texParameteri(Nt,10243,33071),(Nt===32879||Nt===35866)&&j.texParameteri(Nt,32882,33071),(Vt.wrapS!==ClampToEdgeWrapping||Vt.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),j.texParameteri(Nt,10240,At(Vt.magFilter)),j.texParameteri(Nt,10241,At(Vt.minFilter)),Vt.minFilter!==NearestFilter&&Vt.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),g.has("EXT_texture_filter_anisotropic")===!0){const dn=g.get("EXT_texture_filter_anisotropic");if(Vt.type===FloatType&&g.has("OES_texture_float_linear")===!1||nt===!1&&Vt.type===HalfFloatType&&g.has("OES_texture_half_float_linear")===!1)return;(Vt.anisotropy>1||$.get(Vt).__currentAnisotropy)&&(j.texParameterf(Nt,dn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Vt.anisotropy,_e.getMaxAnisotropy())),$.get(Vt).__currentAnisotropy=Vt.anisotropy)}}function Gt(Nt,Vt){let cn=!1;Nt.__webglInit===void 0&&(Nt.__webglInit=!0,Vt.addEventListener("dispose",bt));const dn=Vt.source;let mn=ct.get(dn);mn===void 0&&(mn={},ct.set(dn,mn));const bn=Ct(Vt);if(bn!==Nt.__cacheKey){mn[bn]===void 0&&(mn[bn]={texture:j.createTexture(),usedTimes:0},tt.memory.textures++,cn=!0),mn[bn].usedTimes++;const Cn=mn[Nt.__cacheKey];Cn!==void 0&&(mn[Nt.__cacheKey].usedTimes--,Cn.usedTimes===0&&Mt(Vt)),Nt.__cacheKey=bn,Nt.__webglTexture=mn[bn].texture}return cn}function jt(Nt,Vt,cn){let dn=3553;Vt.isDataArrayTexture&&(dn=35866),Vt.isData3DTexture&&(dn=32879);const mn=Gt(Nt,Vt),bn=Vt.source;if(b.activeTexture(33984+cn),b.bindTexture(dn,Nt.__webglTexture),bn.version!==bn.__currentVersion||mn===!0){j.pixelStorei(37440,Vt.flipY),j.pixelStorei(37441,Vt.premultiplyAlpha),j.pixelStorei(3317,Vt.unpackAlignment),j.pixelStorei(37443,0);const Cn=mt(Vt)&&pt(Vt.image)===!1;let an=dt(Vt.image,Cn,!1,ot);an=un(Vt,an);const Tn=pt(an)||nt,Dn=et.convert(Vt.format,Vt.encoding);let Sn=et.convert(Vt.type),Ln=_t(Vt.internalFormat,Dn,Sn,Vt.encoding,Vt.isVideoTexture);Ut(dn,Vt,Tn);let nn;const En=Vt.mipmaps,wn=nt&&Vt.isVideoTexture!==!0,In=Nt.__version===void 0,Rn=vt(Vt,an,Tn);if(Vt.isDepthTexture)Ln=6402,nt?Vt.type===FloatType?Ln=36012:Vt.type===UnsignedIntType?Ln=33190:Vt.type===UnsignedInt248Type?Ln=35056:Ln=33189:Vt.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Vt.format===DepthFormat&&Ln===6402&&Vt.type!==UnsignedShortType&&Vt.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Vt.type=UnsignedShortType,Sn=et.convert(Vt.type)),Vt.format===DepthStencilFormat&&Ln===6402&&(Ln=34041,Vt.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Vt.type=UnsignedInt248Type,Sn=et.convert(Vt.type))),wn&&In?b.texStorage2D(3553,1,Ln,an.width,an.height):b.texImage2D(3553,0,Ln,an.width,an.height,0,Dn,Sn,null);else if(Vt.isDataTexture)if(En.length>0&&Tn){wn&&In&&b.texStorage2D(3553,Rn,Ln,En[0].width,En[0].height);for(let Pn=0,Gn=En.length;Pn<Gn;Pn++)nn=En[Pn],wn?b.texSubImage2D(3553,Pn,0,0,nn.width,nn.height,Dn,Sn,nn.data):b.texImage2D(3553,Pn,Ln,nn.width,nn.height,0,Dn,Sn,nn.data);Vt.generateMipmaps=!1}else wn?(In&&b.texStorage2D(3553,Rn,Ln,an.width,an.height),b.texSubImage2D(3553,0,0,0,an.width,an.height,Dn,Sn,an.data)):b.texImage2D(3553,0,Ln,an.width,an.height,0,Dn,Sn,an.data);else if(Vt.isCompressedTexture){wn&&In&&b.texStorage2D(3553,Rn,Ln,En[0].width,En[0].height);for(let Pn=0,Gn=En.length;Pn<Gn;Pn++)nn=En[Pn],Vt.format!==RGBAFormat?Dn!==null?wn?b.compressedTexSubImage2D(3553,Pn,0,0,nn.width,nn.height,Dn,nn.data):b.compressedTexImage2D(3553,Pn,Ln,nn.width,nn.height,0,nn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wn?b.texSubImage2D(3553,Pn,0,0,nn.width,nn.height,Dn,Sn,nn.data):b.texImage2D(3553,Pn,Ln,nn.width,nn.height,0,Dn,Sn,nn.data)}else if(Vt.isDataArrayTexture)wn?(In&&b.texStorage3D(35866,Rn,Ln,an.width,an.height,an.depth),b.texSubImage3D(35866,0,0,0,0,an.width,an.height,an.depth,Dn,Sn,an.data)):b.texImage3D(35866,0,Ln,an.width,an.height,an.depth,0,Dn,Sn,an.data);else if(Vt.isData3DTexture)wn?(In&&b.texStorage3D(32879,Rn,Ln,an.width,an.height,an.depth),b.texSubImage3D(32879,0,0,0,0,an.width,an.height,an.depth,Dn,Sn,an.data)):b.texImage3D(32879,0,Ln,an.width,an.height,an.depth,0,Dn,Sn,an.data);else if(Vt.isFramebufferTexture)wn&&In?b.texStorage2D(3553,Rn,Ln,an.width,an.height):b.texImage2D(3553,0,Ln,an.width,an.height,0,Dn,Sn,null);else if(En.length>0&&Tn){wn&&In&&b.texStorage2D(3553,Rn,Ln,En[0].width,En[0].height);for(let Pn=0,Gn=En.length;Pn<Gn;Pn++)nn=En[Pn],wn?b.texSubImage2D(3553,Pn,0,0,Dn,Sn,nn):b.texImage2D(3553,Pn,Ln,Dn,Sn,nn);Vt.generateMipmaps=!1}else wn?(In&&b.texStorage2D(3553,Rn,Ln,an.width,an.height),b.texSubImage2D(3553,0,0,0,Dn,Sn,an)):b.texImage2D(3553,0,Ln,Dn,Sn,an);gt(Vt,Tn)&&yt(dn),bn.__currentVersion=bn.version,Vt.onUpdate&&Vt.onUpdate(Vt)}Nt.__version=Vt.version}function Yt(Nt,Vt,cn){if(Vt.image.length!==6)return;const dn=Gt(Nt,Vt),mn=Vt.source;if(b.activeTexture(33984+cn),b.bindTexture(34067,Nt.__webglTexture),mn.version!==mn.__currentVersion||dn===!0){j.pixelStorei(37440,Vt.flipY),j.pixelStorei(37441,Vt.premultiplyAlpha),j.pixelStorei(3317,Vt.unpackAlignment),j.pixelStorei(37443,0);const bn=Vt.isCompressedTexture||Vt.image[0].isCompressedTexture,Cn=Vt.image[0]&&Vt.image[0].isDataTexture,an=[];for(let Pn=0;Pn<6;Pn++)!bn&&!Cn?an[Pn]=dt(Vt.image[Pn],!1,!0,it):an[Pn]=Cn?Vt.image[Pn].image:Vt.image[Pn],an[Pn]=un(Vt,an[Pn]);const Tn=an[0],Dn=pt(Tn)||nt,Sn=et.convert(Vt.format,Vt.encoding),Ln=et.convert(Vt.type),nn=_t(Vt.internalFormat,Sn,Ln,Vt.encoding),En=nt&&Vt.isVideoTexture!==!0,wn=Nt.__version===void 0;let In=vt(Vt,Tn,Dn);Ut(34067,Vt,Dn);let Rn;if(bn){En&&wn&&b.texStorage2D(34067,In,nn,Tn.width,Tn.height);for(let Pn=0;Pn<6;Pn++){Rn=an[Pn].mipmaps;for(let Gn=0;Gn<Rn.length;Gn++){const zn=Rn[Gn];Vt.format!==RGBAFormat?Sn!==null?En?b.compressedTexSubImage2D(34069+Pn,Gn,0,0,zn.width,zn.height,Sn,zn.data):b.compressedTexImage2D(34069+Pn,Gn,nn,zn.width,zn.height,0,zn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):En?b.texSubImage2D(34069+Pn,Gn,0,0,zn.width,zn.height,Sn,Ln,zn.data):b.texImage2D(34069+Pn,Gn,nn,zn.width,zn.height,0,Sn,Ln,zn.data)}}}else{Rn=Vt.mipmaps,En&&wn&&(Rn.length>0&&In++,b.texStorage2D(34067,In,nn,an[0].width,an[0].height));for(let Pn=0;Pn<6;Pn++)if(Cn){En?b.texSubImage2D(34069+Pn,0,0,0,an[Pn].width,an[Pn].height,Sn,Ln,an[Pn].data):b.texImage2D(34069+Pn,0,nn,an[Pn].width,an[Pn].height,0,Sn,Ln,an[Pn].data);for(let Gn=0;Gn<Rn.length;Gn++){const ar=Rn[Gn].image[Pn].image;En?b.texSubImage2D(34069+Pn,Gn+1,0,0,ar.width,ar.height,Sn,Ln,ar.data):b.texImage2D(34069+Pn,Gn+1,nn,ar.width,ar.height,0,Sn,Ln,ar.data)}}else{En?b.texSubImage2D(34069+Pn,0,0,0,Sn,Ln,an[Pn]):b.texImage2D(34069+Pn,0,nn,Sn,Ln,an[Pn]);for(let Gn=0;Gn<Rn.length;Gn++){const zn=Rn[Gn];En?b.texSubImage2D(34069+Pn,Gn+1,0,0,Sn,Ln,zn.image[Pn]):b.texImage2D(34069+Pn,Gn+1,nn,Sn,Ln,zn.image[Pn])}}}gt(Vt,Dn)&&yt(34067),mn.__currentVersion=mn.version,Vt.onUpdate&&Vt.onUpdate(Vt)}Nt.__version=Vt.version}function Qt(Nt,Vt,cn,dn,mn){const bn=et.convert(cn.format,cn.encoding),Cn=et.convert(cn.type),an=_t(cn.internalFormat,bn,Cn,cn.encoding);$.get(Vt).__hasExternalTextures||(mn===32879||mn===35866?b.texImage3D(mn,0,an,Vt.width,Vt.height,Vt.depth,0,bn,Cn,null):b.texImage2D(mn,0,an,Vt.width,Vt.height,0,bn,Cn,null)),b.bindFramebuffer(36160,Nt),hn(Vt)?at.framebufferTexture2DMultisampleEXT(36160,dn,mn,$.get(cn).__webglTexture,0,en(Vt)):j.framebufferTexture2D(36160,dn,mn,$.get(cn).__webglTexture,0),b.bindFramebuffer(36160,null)}function ln(Nt,Vt,cn){if(j.bindRenderbuffer(36161,Nt),Vt.depthBuffer&&!Vt.stencilBuffer){let dn=33189;if(cn||hn(Vt)){const mn=Vt.depthTexture;mn&&mn.isDepthTexture&&(mn.type===FloatType?dn=36012:mn.type===UnsignedIntType&&(dn=33190));const bn=en(Vt);hn(Vt)?at.renderbufferStorageMultisampleEXT(36161,bn,dn,Vt.width,Vt.height):j.renderbufferStorageMultisample(36161,bn,dn,Vt.width,Vt.height)}else j.renderbufferStorage(36161,dn,Vt.width,Vt.height);j.framebufferRenderbuffer(36160,36096,36161,Nt)}else if(Vt.depthBuffer&&Vt.stencilBuffer){const dn=en(Vt);cn&&hn(Vt)===!1?j.renderbufferStorageMultisample(36161,dn,35056,Vt.width,Vt.height):hn(Vt)?at.renderbufferStorageMultisampleEXT(36161,dn,35056,Vt.width,Vt.height):j.renderbufferStorage(36161,34041,Vt.width,Vt.height),j.framebufferRenderbuffer(36160,33306,36161,Nt)}else{const dn=Vt.isWebGLMultipleRenderTargets===!0?Vt.texture[0]:Vt.texture,mn=et.convert(dn.format,dn.encoding),bn=et.convert(dn.type),Cn=_t(dn.internalFormat,mn,bn,dn.encoding),an=en(Vt);cn&&hn(Vt)===!1?j.renderbufferStorageMultisample(36161,an,Cn,Vt.width,Vt.height):hn(Vt)?at.renderbufferStorageMultisampleEXT(36161,an,Cn,Vt.width,Vt.height):j.renderbufferStorage(36161,Cn,Vt.width,Vt.height)}j.bindRenderbuffer(36161,null)}function Zt(Nt,Vt){if(Vt&&Vt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(b.bindFramebuffer(36160,Nt),!(Vt.depthTexture&&Vt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!$.get(Vt.depthTexture).__webglTexture||Vt.depthTexture.image.width!==Vt.width||Vt.depthTexture.image.height!==Vt.height)&&(Vt.depthTexture.image.width=Vt.width,Vt.depthTexture.image.height=Vt.height,Vt.depthTexture.needsUpdate=!0),Dt(Vt.depthTexture,0);const dn=$.get(Vt.depthTexture).__webglTexture,mn=en(Vt);if(Vt.depthTexture.format===DepthFormat)hn(Vt)?at.framebufferTexture2DMultisampleEXT(36160,36096,3553,dn,0,mn):j.framebufferTexture2D(36160,36096,3553,dn,0);else if(Vt.depthTexture.format===DepthStencilFormat)hn(Vt)?at.framebufferTexture2DMultisampleEXT(36160,33306,3553,dn,0,mn):j.framebufferTexture2D(36160,33306,3553,dn,0);else throw new Error("Unknown depthTexture format")}function Wt(Nt){const Vt=$.get(Nt),cn=Nt.isWebGLCubeRenderTarget===!0;if(Nt.depthTexture&&!Vt.__autoAllocateDepthBuffer){if(cn)throw new Error("target.depthTexture not supported in Cube render targets");Zt(Vt.__webglFramebuffer,Nt)}else if(cn){Vt.__webglDepthbuffer=[];for(let dn=0;dn<6;dn++)b.bindFramebuffer(36160,Vt.__webglFramebuffer[dn]),Vt.__webglDepthbuffer[dn]=j.createRenderbuffer(),ln(Vt.__webglDepthbuffer[dn],Nt,!1)}else b.bindFramebuffer(36160,Vt.__webglFramebuffer),Vt.__webglDepthbuffer=j.createRenderbuffer(),ln(Vt.__webglDepthbuffer,Nt,!1);b.bindFramebuffer(36160,null)}function qt(Nt,Vt,cn){const dn=$.get(Nt);Vt!==void 0&&Qt(dn.__webglFramebuffer,Nt,Nt.texture,36064,3553),cn!==void 0&&Wt(Nt)}function Xt(Nt){const Vt=Nt.texture,cn=$.get(Nt),dn=$.get(Vt);Nt.addEventListener("dispose",xt),Nt.isWebGLMultipleRenderTargets!==!0&&(dn.__webglTexture===void 0&&(dn.__webglTexture=j.createTexture()),dn.__version=Vt.version,tt.memory.textures++);const mn=Nt.isWebGLCubeRenderTarget===!0,bn=Nt.isWebGLMultipleRenderTargets===!0,Cn=pt(Nt)||nt;if(mn){cn.__webglFramebuffer=[];for(let an=0;an<6;an++)cn.__webglFramebuffer[an]=j.createFramebuffer()}else if(cn.__webglFramebuffer=j.createFramebuffer(),bn)if(_e.drawBuffers){const an=Nt.texture;for(let Tn=0,Dn=an.length;Tn<Dn;Tn++){const Sn=$.get(an[Tn]);Sn.__webglTexture===void 0&&(Sn.__webglTexture=j.createTexture(),tt.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(nt&&Nt.samples>0&&hn(Nt)===!1){cn.__webglMultisampledFramebuffer=j.createFramebuffer(),cn.__webglColorRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(36161,cn.__webglColorRenderbuffer);const an=et.convert(Vt.format,Vt.encoding),Tn=et.convert(Vt.type),Dn=_t(Vt.internalFormat,an,Tn,Vt.encoding),Sn=en(Nt);j.renderbufferStorageMultisample(36161,Sn,Dn,Nt.width,Nt.height),b.bindFramebuffer(36160,cn.__webglMultisampledFramebuffer),j.framebufferRenderbuffer(36160,36064,36161,cn.__webglColorRenderbuffer),j.bindRenderbuffer(36161,null),Nt.depthBuffer&&(cn.__webglDepthRenderbuffer=j.createRenderbuffer(),ln(cn.__webglDepthRenderbuffer,Nt,!0)),b.bindFramebuffer(36160,null)}if(mn){b.bindTexture(34067,dn.__webglTexture),Ut(34067,Vt,Cn);for(let an=0;an<6;an++)Qt(cn.__webglFramebuffer[an],Nt,Vt,36064,34069+an);gt(Vt,Cn)&&yt(34067),b.unbindTexture()}else if(bn){const an=Nt.texture;for(let Tn=0,Dn=an.length;Tn<Dn;Tn++){const Sn=an[Tn],Ln=$.get(Sn);b.bindTexture(3553,Ln.__webglTexture),Ut(3553,Sn,Cn),Qt(cn.__webglFramebuffer,Nt,Sn,36064+Tn,3553),gt(Sn,Cn)&&yt(3553)}b.unbindTexture()}else{let an=3553;(Nt.isWebGL3DRenderTarget||Nt.isWebGLArrayRenderTarget)&&(nt?an=Nt.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),b.bindTexture(an,dn.__webglTexture),Ut(an,Vt,Cn),Qt(cn.__webglFramebuffer,Nt,Vt,36064,an),gt(Vt,Cn)&&yt(an),b.unbindTexture()}Nt.depthBuffer&&Wt(Nt)}function vn(Nt){const Vt=pt(Nt)||nt,cn=Nt.isWebGLMultipleRenderTargets===!0?Nt.texture:[Nt.texture];for(let dn=0,mn=cn.length;dn<mn;dn++){const bn=cn[dn];if(gt(bn,Vt)){const Cn=Nt.isWebGLCubeRenderTarget?34067:3553,an=$.get(bn).__webglTexture;b.bindTexture(Cn,an),yt(Cn),b.unbindTexture()}}}function gn(Nt){if(nt&&Nt.samples>0&&hn(Nt)===!1){const Vt=Nt.width,cn=Nt.height;let dn=16384;const mn=[36064],bn=Nt.stencilBuffer?33306:36096;Nt.depthBuffer&&mn.push(bn);const Cn=$.get(Nt),an=Cn.__ignoreDepthValues!==void 0?Cn.__ignoreDepthValues:!1;an===!1&&(Nt.depthBuffer&&(dn|=256),Nt.stencilBuffer&&(dn|=1024)),b.bindFramebuffer(36008,Cn.__webglMultisampledFramebuffer),b.bindFramebuffer(36009,Cn.__webglFramebuffer),an===!0&&(j.invalidateFramebuffer(36008,[bn]),j.invalidateFramebuffer(36009,[bn])),j.blitFramebuffer(0,0,Vt,cn,0,0,Vt,cn,dn,9728),j.invalidateFramebuffer(36008,mn),b.bindFramebuffer(36008,null),b.bindFramebuffer(36009,Cn.__webglMultisampledFramebuffer)}}function en(Nt){return Math.min(st,Nt.samples)}function hn(Nt){const Vt=$.get(Nt);return nt&&Nt.samples>0&&g.has("WEBGL_multisampled_render_to_texture")===!0&&Vt.__useRenderToTexture!==!1}function rn(Nt){const Vt=tt.render.frame;lt.get(Nt)!==Vt&&(lt.set(Nt,Vt),Nt.update())}function un(Nt,Vt){const cn=Nt.encoding,dn=Nt.format,mn=Nt.type;return Nt.isCompressedTexture===!0||Nt.isVideoTexture===!0||Nt.format===_SRGBAFormat||cn!==LinearEncoding&&(cn===sRGBEncoding?nt===!1?g.has("EXT_sRGB")===!0&&dn===RGBAFormat?(Nt.format=_SRGBAFormat,Nt.minFilter=LinearFilter,Nt.generateMipmaps=!1):Vt=ImageUtils.sRGBToLinear(Vt):(dn!==RGBAFormat||mn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",cn)),Vt}this.allocateTextureUnit=Rt,this.resetTextureUnits=Ot,this.setTexture2D=Dt,this.setTexture2DArray=Bt,this.setTexture3D=kt,this.setTextureCube=zt,this.rebindTextures=qt,this.setupRenderTarget=Xt,this.updateRenderTargetMipmap=vn,this.updateMultisampleRenderTarget=gn,this.setupDepthRenderbuffer=Wt,this.setupFrameBufferTexture=Qt,this.useMultisampledRTT=hn}function WebGLUtils(j,g,b){const $=b.isWebGL2;function _e(et,tt=null){let nt;if(et===UnsignedByteType)return 5121;if(et===UnsignedShort4444Type)return 32819;if(et===UnsignedShort5551Type)return 32820;if(et===ByteType)return 5120;if(et===ShortType)return 5122;if(et===UnsignedShortType)return 5123;if(et===IntType)return 5124;if(et===UnsignedIntType)return 5125;if(et===FloatType)return 5126;if(et===HalfFloatType)return $?5131:(nt=g.get("OES_texture_half_float"),nt!==null?nt.HALF_FLOAT_OES:null);if(et===AlphaFormat)return 6406;if(et===RGBAFormat)return 6408;if(et===LuminanceFormat)return 6409;if(et===LuminanceAlphaFormat)return 6410;if(et===DepthFormat)return 6402;if(et===DepthStencilFormat)return 34041;if(et===RedFormat)return 6403;if(et===RGBFormat)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(et===_SRGBAFormat)return nt=g.get("EXT_sRGB"),nt!==null?nt.SRGB_ALPHA_EXT:null;if(et===RedIntegerFormat)return 36244;if(et===RGFormat)return 33319;if(et===RGIntegerFormat)return 33320;if(et===RGBAIntegerFormat)return 36249;if(et===RGB_S3TC_DXT1_Format||et===RGBA_S3TC_DXT1_Format||et===RGBA_S3TC_DXT3_Format||et===RGBA_S3TC_DXT5_Format)if(tt===sRGBEncoding)if(nt=g.get("WEBGL_compressed_texture_s3tc_srgb"),nt!==null){if(et===RGB_S3TC_DXT1_Format)return nt.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT1_Format)return nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT3_Format)return nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(et===RGBA_S3TC_DXT5_Format)return nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(nt=g.get("WEBGL_compressed_texture_s3tc"),nt!==null){if(et===RGB_S3TC_DXT1_Format)return nt.COMPRESSED_RGB_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT1_Format)return nt.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT3_Format)return nt.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(et===RGBA_S3TC_DXT5_Format)return nt.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(et===RGB_PVRTC_4BPPV1_Format||et===RGB_PVRTC_2BPPV1_Format||et===RGBA_PVRTC_4BPPV1_Format||et===RGBA_PVRTC_2BPPV1_Format)if(nt=g.get("WEBGL_compressed_texture_pvrtc"),nt!==null){if(et===RGB_PVRTC_4BPPV1_Format)return nt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(et===RGB_PVRTC_2BPPV1_Format)return nt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(et===RGBA_PVRTC_4BPPV1_Format)return nt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(et===RGBA_PVRTC_2BPPV1_Format)return nt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(et===RGB_ETC1_Format)return nt=g.get("WEBGL_compressed_texture_etc1"),nt!==null?nt.COMPRESSED_RGB_ETC1_WEBGL:null;if(et===RGB_ETC2_Format||et===RGBA_ETC2_EAC_Format)if(nt=g.get("WEBGL_compressed_texture_etc"),nt!==null){if(et===RGB_ETC2_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ETC2:nt.COMPRESSED_RGB8_ETC2;if(et===RGBA_ETC2_EAC_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:nt.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(et===RGBA_ASTC_4x4_Format||et===RGBA_ASTC_5x4_Format||et===RGBA_ASTC_5x5_Format||et===RGBA_ASTC_6x5_Format||et===RGBA_ASTC_6x6_Format||et===RGBA_ASTC_8x5_Format||et===RGBA_ASTC_8x6_Format||et===RGBA_ASTC_8x8_Format||et===RGBA_ASTC_10x5_Format||et===RGBA_ASTC_10x6_Format||et===RGBA_ASTC_10x8_Format||et===RGBA_ASTC_10x10_Format||et===RGBA_ASTC_12x10_Format||et===RGBA_ASTC_12x12_Format)if(nt=g.get("WEBGL_compressed_texture_astc"),nt!==null){if(et===RGBA_ASTC_4x4_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:nt.COMPRESSED_RGBA_ASTC_4x4_KHR;if(et===RGBA_ASTC_5x4_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:nt.COMPRESSED_RGBA_ASTC_5x4_KHR;if(et===RGBA_ASTC_5x5_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:nt.COMPRESSED_RGBA_ASTC_5x5_KHR;if(et===RGBA_ASTC_6x5_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:nt.COMPRESSED_RGBA_ASTC_6x5_KHR;if(et===RGBA_ASTC_6x6_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:nt.COMPRESSED_RGBA_ASTC_6x6_KHR;if(et===RGBA_ASTC_8x5_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:nt.COMPRESSED_RGBA_ASTC_8x5_KHR;if(et===RGBA_ASTC_8x6_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:nt.COMPRESSED_RGBA_ASTC_8x6_KHR;if(et===RGBA_ASTC_8x8_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:nt.COMPRESSED_RGBA_ASTC_8x8_KHR;if(et===RGBA_ASTC_10x5_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:nt.COMPRESSED_RGBA_ASTC_10x5_KHR;if(et===RGBA_ASTC_10x6_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:nt.COMPRESSED_RGBA_ASTC_10x6_KHR;if(et===RGBA_ASTC_10x8_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:nt.COMPRESSED_RGBA_ASTC_10x8_KHR;if(et===RGBA_ASTC_10x10_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:nt.COMPRESSED_RGBA_ASTC_10x10_KHR;if(et===RGBA_ASTC_12x10_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:nt.COMPRESSED_RGBA_ASTC_12x10_KHR;if(et===RGBA_ASTC_12x12_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:nt.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(et===RGBA_BPTC_Format)if(nt=g.get("EXT_texture_compression_bptc"),nt!==null){if(et===RGBA_BPTC_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:nt.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(et===UnsignedInt248Type)return $?34042:(nt=g.get("WEBGL_depth_texture"),nt!==null?nt.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:_e}}class ArrayCamera extends PerspectiveCamera{constructor(g=[]){super(),this.cameras=g}}ArrayCamera.prototype.isArrayCamera=!0;class Group extends Object3D{constructor(){super(),this.type="Group"}}Group.prototype.isGroup=!0;const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(g){return this._targetRay!==null&&this._targetRay.dispatchEvent(g),this._grip!==null&&this._grip.dispatchEvent(g),this._hand!==null&&this._hand.dispatchEvent(g),this}disconnect(g){return this.dispatchEvent({type:"disconnected",data:g}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(g,b,$){let _e=null,et=null,tt=null;const nt=this._targetRay,rt=this._grip,it=this._hand;if(g&&b.session.visibilityState!=="visible-blurred")if(nt!==null&&(_e=b.getPose(g.targetRaySpace,$),_e!==null&&(nt.matrix.fromArray(_e.transform.matrix),nt.matrix.decompose(nt.position,nt.rotation,nt.scale),_e.linearVelocity?(nt.hasLinearVelocity=!0,nt.linearVelocity.copy(_e.linearVelocity)):nt.hasLinearVelocity=!1,_e.angularVelocity?(nt.hasAngularVelocity=!0,nt.angularVelocity.copy(_e.angularVelocity)):nt.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent))),it&&g.hand){tt=!0;for(const ct of g.hand.values()){const ft=b.getJointPose(ct,$);if(it.joints[ct.jointName]===void 0){const dt=new Group;dt.matrixAutoUpdate=!1,dt.visible=!1,it.joints[ct.jointName]=dt,it.add(dt)}const ht=it.joints[ct.jointName];ft!==null&&(ht.matrix.fromArray(ft.transform.matrix),ht.matrix.decompose(ht.position,ht.rotation,ht.scale),ht.jointRadius=ft.radius),ht.visible=ft!==null}const ot=it.joints["index-finger-tip"],st=it.joints["thumb-tip"],at=ot.position.distanceTo(st.position),lt=.02,ut=.005;it.inputState.pinching&&at>lt+ut?(it.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:g.handedness,target:this})):!it.inputState.pinching&&at<=lt-ut&&(it.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:g.handedness,target:this}))}else rt!==null&&g.gripSpace&&(et=b.getPose(g.gripSpace,$),et!==null&&(rt.matrix.fromArray(et.transform.matrix),rt.matrix.decompose(rt.position,rt.rotation,rt.scale),et.linearVelocity?(rt.hasLinearVelocity=!0,rt.linearVelocity.copy(et.linearVelocity)):rt.hasLinearVelocity=!1,et.angularVelocity?(rt.hasAngularVelocity=!0,rt.angularVelocity.copy(et.angularVelocity)):rt.hasAngularVelocity=!1));return nt!==null&&(nt.visible=_e!==null),rt!==null&&(rt.visible=et!==null),it!==null&&(it.visible=tt!==null),this}}class DepthTexture extends Texture{constructor(g,b,$,_e,et,tt,nt,rt,it,ot){if(ot=ot!==void 0?ot:DepthFormat,ot!==DepthFormat&&ot!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");$===void 0&&ot===DepthFormat&&($=UnsignedShortType),$===void 0&&ot===DepthStencilFormat&&($=UnsignedInt248Type),super(null,_e,et,tt,nt,rt,ot,$,it),this.image={width:g,height:b},this.magFilter=nt!==void 0?nt:NearestFilter,this.minFilter=rt!==void 0?rt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}DepthTexture.prototype.isDepthTexture=!0;class WebXRManager extends EventDispatcher$1{constructor(g,b){super();const $=this;let _e=null,et=1,tt=null,nt="local-floor",rt=null,it=null,ot=null,st=null,at=null;const lt=b.getContextAttributes();let ut=null,ct=null;const ft=[],ht=new Map,dt=new PerspectiveCamera;dt.layers.enable(1),dt.viewport=new Vector4;const pt=new PerspectiveCamera;pt.layers.enable(2),pt.viewport=new Vector4;const mt=[dt,pt],gt=new ArrayCamera;gt.layers.enable(1),gt.layers.enable(2);let yt=null,_t=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ct){let Dt=ft[Ct];return Dt===void 0&&(Dt=new WebXRController,ft[Ct]=Dt),Dt.getTargetRaySpace()},this.getControllerGrip=function(Ct){let Dt=ft[Ct];return Dt===void 0&&(Dt=new WebXRController,ft[Ct]=Dt),Dt.getGripSpace()},this.getHand=function(Ct){let Dt=ft[Ct];return Dt===void 0&&(Dt=new WebXRController,ft[Ct]=Dt),Dt.getHandSpace()};function vt(Ct){const Dt=ht.get(Ct.inputSource);Dt&&Dt.dispatchEvent({type:Ct.type,data:Ct.inputSource})}function At(){ht.forEach(function(Ct,Dt){Ct.disconnect(Dt)}),ht.clear(),yt=null,_t=null,g.setRenderTarget(ut),st=null,ot=null,it=null,_e=null,ct=null,Rt.stop(),$.isPresenting=!1,$.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ct){et=Ct,$.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ct){nt=Ct,$.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return tt},this.getBaseLayer=function(){return ot!==null?ot:st},this.getBinding=function(){return it},this.getFrame=function(){return at},this.getSession=function(){return _e},this.setSession=async function(Ct){if(_e=Ct,_e!==null){if(ut=g.getRenderTarget(),_e.addEventListener("select",vt),_e.addEventListener("selectstart",vt),_e.addEventListener("selectend",vt),_e.addEventListener("squeeze",vt),_e.addEventListener("squeezestart",vt),_e.addEventListener("squeezeend",vt),_e.addEventListener("end",At),_e.addEventListener("inputsourceschange",bt),lt.xrCompatible!==!0&&await b.makeXRCompatible(),_e.renderState.layers===void 0||g.capabilities.isWebGL2===!1){const Dt={antialias:_e.renderState.layers===void 0?lt.antialias:!0,alpha:lt.alpha,depth:lt.depth,stencil:lt.stencil,framebufferScaleFactor:et};st=new XRWebGLLayer(_e,b,Dt),_e.updateRenderState({baseLayer:st}),ct=new WebGLRenderTarget(st.framebufferWidth,st.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:g.outputEncoding})}else{let Dt=null,Bt=null,kt=null;lt.depth&&(kt=lt.stencil?35056:33190,Dt=lt.stencil?DepthStencilFormat:DepthFormat,Bt=lt.stencil?UnsignedInt248Type:UnsignedShortType);const zt={colorFormat:g.outputEncoding===sRGBEncoding?35907:32856,depthFormat:kt,scaleFactor:et};it=new XRWebGLBinding(_e,b),ot=it.createProjectionLayer(zt),_e.updateRenderState({layers:[ot]}),ct=new WebGLRenderTarget(ot.textureWidth,ot.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ot.textureWidth,ot.textureHeight,Bt,void 0,void 0,void 0,void 0,void 0,void 0,Dt),stencilBuffer:lt.stencil,encoding:g.outputEncoding,samples:lt.antialias?4:0});const Ft=g.properties.get(ct);Ft.__ignoreDepthValues=ot.ignoreDepthValues}ct.isXRRenderTarget=!0,this.setFoveation(1),tt=await _e.requestReferenceSpace(nt),Rt.setContext(_e),Rt.start(),$.isPresenting=!0,$.dispatchEvent({type:"sessionstart"})}};function bt(Ct){const Dt=_e.inputSources;for(let Bt=0;Bt<ft.length;Bt++)ht.set(Dt[Bt],ft[Bt]);for(let Bt=0;Bt<Ct.removed.length;Bt++){const kt=Ct.removed[Bt],zt=ht.get(kt);zt&&(zt.dispatchEvent({type:"disconnected",data:kt}),ht.delete(kt))}for(let Bt=0;Bt<Ct.added.length;Bt++){const kt=Ct.added[Bt],zt=ht.get(kt);zt&&zt.dispatchEvent({type:"connected",data:kt})}}const xt=new Vector3,Et=new Vector3;function Mt(Ct,Dt,Bt){xt.setFromMatrixPosition(Dt.matrixWorld),Et.setFromMatrixPosition(Bt.matrixWorld);const kt=xt.distanceTo(Et),zt=Dt.projectionMatrix.elements,Ft=Bt.projectionMatrix.elements,It=zt[14]/(zt[10]-1),Ut=zt[14]/(zt[10]+1),Gt=(zt[9]+1)/zt[5],jt=(zt[9]-1)/zt[5],Yt=(zt[8]-1)/zt[0],Qt=(Ft[8]+1)/Ft[0],ln=It*Yt,Zt=It*Qt,Wt=kt/(-Yt+Qt),qt=Wt*-Yt;Dt.matrixWorld.decompose(Ct.position,Ct.quaternion,Ct.scale),Ct.translateX(qt),Ct.translateZ(Wt),Ct.matrixWorld.compose(Ct.position,Ct.quaternion,Ct.scale),Ct.matrixWorldInverse.copy(Ct.matrixWorld).invert();const Xt=It+Wt,vn=Ut+Wt,gn=ln-qt,en=Zt+(kt-qt),hn=Gt*Ut/vn*Xt,rn=jt*Ut/vn*Xt;Ct.projectionMatrix.makePerspective(gn,en,hn,rn,Xt,vn)}function Tt(Ct,Dt){Dt===null?Ct.matrixWorld.copy(Ct.matrix):Ct.matrixWorld.multiplyMatrices(Dt.matrixWorld,Ct.matrix),Ct.matrixWorldInverse.copy(Ct.matrixWorld).invert()}this.updateCamera=function(Ct){if(_e===null)return;gt.near=pt.near=dt.near=Ct.near,gt.far=pt.far=dt.far=Ct.far,(yt!==gt.near||_t!==gt.far)&&(_e.updateRenderState({depthNear:gt.near,depthFar:gt.far}),yt=gt.near,_t=gt.far);const Dt=Ct.parent,Bt=gt.cameras;Tt(gt,Dt);for(let zt=0;zt<Bt.length;zt++)Tt(Bt[zt],Dt);gt.matrixWorld.decompose(gt.position,gt.quaternion,gt.scale),Ct.position.copy(gt.position),Ct.quaternion.copy(gt.quaternion),Ct.scale.copy(gt.scale),Ct.matrix.copy(gt.matrix),Ct.matrixWorld.copy(gt.matrixWorld);const kt=Ct.children;for(let zt=0,Ft=kt.length;zt<Ft;zt++)kt[zt].updateMatrixWorld(!0);Bt.length===2?Mt(gt,dt,pt):gt.projectionMatrix.copy(dt.projectionMatrix)},this.getCamera=function(){return gt},this.getFoveation=function(){if(ot!==null)return ot.fixedFoveation;if(st!==null)return st.fixedFoveation},this.setFoveation=function(Ct){ot!==null&&(ot.fixedFoveation=Ct),st!==null&&st.fixedFoveation!==void 0&&(st.fixedFoveation=Ct)};let Lt=null;function Ot(Ct,Dt){if(rt=Dt.getViewerPose(tt),at=Dt,rt!==null){const kt=rt.views;st!==null&&(g.setRenderTargetFramebuffer(ct,st.framebuffer),g.setRenderTarget(ct));let zt=!1;kt.length!==gt.cameras.length&&(gt.cameras.length=0,zt=!0);for(let Ft=0;Ft<kt.length;Ft++){const It=kt[Ft];let Ut=null;if(st!==null)Ut=st.getViewport(It);else{const jt=it.getViewSubImage(ot,It);Ut=jt.viewport,Ft===0&&(g.setRenderTargetTextures(ct,jt.colorTexture,ot.ignoreDepthValues?void 0:jt.depthStencilTexture),g.setRenderTarget(ct))}const Gt=mt[Ft];Gt.matrix.fromArray(It.transform.matrix),Gt.projectionMatrix.fromArray(It.projectionMatrix),Gt.viewport.set(Ut.x,Ut.y,Ut.width,Ut.height),Ft===0&&gt.matrix.copy(Gt.matrix),zt===!0&&gt.cameras.push(Gt)}}const Bt=_e.inputSources;for(let kt=0;kt<ft.length;kt++){const zt=ft[kt],Ft=Bt[kt];zt.update(Ft,Dt,tt)}Lt&&Lt(Ct,Dt),at=null}const Rt=new WebGLAnimation;Rt.setAnimationLoop(Ot),this.setAnimationLoop=function(Ct){Lt=Ct},this.dispose=function(){}}}function WebGLMaterials(j){function g(ht,dt){ht.fogColor.value.copy(dt.color),dt.isFog?(ht.fogNear.value=dt.near,ht.fogFar.value=dt.far):dt.isFogExp2&&(ht.fogDensity.value=dt.density)}function b(ht,dt,pt,mt,gt){dt.isMeshBasicMaterial?$(ht,dt):dt.isMeshLambertMaterial?($(ht,dt),rt(ht,dt)):dt.isMeshToonMaterial?($(ht,dt),ot(ht,dt)):dt.isMeshPhongMaterial?($(ht,dt),it(ht,dt)):dt.isMeshStandardMaterial?($(ht,dt),dt.isMeshPhysicalMaterial?at(ht,dt,gt):st(ht,dt)):dt.isMeshMatcapMaterial?($(ht,dt),lt(ht,dt)):dt.isMeshDepthMaterial?($(ht,dt),ut(ht,dt)):dt.isMeshDistanceMaterial?($(ht,dt),ct(ht,dt)):dt.isMeshNormalMaterial?($(ht,dt),ft(ht,dt)):dt.isLineBasicMaterial?(_e(ht,dt),dt.isLineDashedMaterial&&et(ht,dt)):dt.isPointsMaterial?tt(ht,dt,pt,mt):dt.isSpriteMaterial?nt(ht,dt):dt.isShadowMaterial?(ht.color.value.copy(dt.color),ht.opacity.value=dt.opacity):dt.isShaderMaterial&&(dt.uniformsNeedUpdate=!1)}function $(ht,dt){ht.opacity.value=dt.opacity,dt.color&&ht.diffuse.value.copy(dt.color),dt.emissive&&ht.emissive.value.copy(dt.emissive).multiplyScalar(dt.emissiveIntensity),dt.map&&(ht.map.value=dt.map),dt.alphaMap&&(ht.alphaMap.value=dt.alphaMap),dt.specularMap&&(ht.specularMap.value=dt.specularMap),dt.alphaTest>0&&(ht.alphaTest.value=dt.alphaTest);const pt=j.get(dt).envMap;pt&&(ht.envMap.value=pt,ht.flipEnvMap.value=pt.isCubeTexture&&pt.isRenderTargetTexture===!1?-1:1,ht.reflectivity.value=dt.reflectivity,ht.ior.value=dt.ior,ht.refractionRatio.value=dt.refractionRatio),dt.lightMap&&(ht.lightMap.value=dt.lightMap,ht.lightMapIntensity.value=dt.lightMapIntensity),dt.aoMap&&(ht.aoMap.value=dt.aoMap,ht.aoMapIntensity.value=dt.aoMapIntensity);let mt;dt.map?mt=dt.map:dt.specularMap?mt=dt.specularMap:dt.displacementMap?mt=dt.displacementMap:dt.normalMap?mt=dt.normalMap:dt.bumpMap?mt=dt.bumpMap:dt.roughnessMap?mt=dt.roughnessMap:dt.metalnessMap?mt=dt.metalnessMap:dt.alphaMap?mt=dt.alphaMap:dt.emissiveMap?mt=dt.emissiveMap:dt.clearcoatMap?mt=dt.clearcoatMap:dt.clearcoatNormalMap?mt=dt.clearcoatNormalMap:dt.clearcoatRoughnessMap?mt=dt.clearcoatRoughnessMap:dt.specularIntensityMap?mt=dt.specularIntensityMap:dt.specularColorMap?mt=dt.specularColorMap:dt.transmissionMap?mt=dt.transmissionMap:dt.thicknessMap?mt=dt.thicknessMap:dt.sheenColorMap?mt=dt.sheenColorMap:dt.sheenRoughnessMap&&(mt=dt.sheenRoughnessMap),mt!==void 0&&(mt.isWebGLRenderTarget&&(mt=mt.texture),mt.matrixAutoUpdate===!0&&mt.updateMatrix(),ht.uvTransform.value.copy(mt.matrix));let gt;dt.aoMap?gt=dt.aoMap:dt.lightMap&&(gt=dt.lightMap),gt!==void 0&&(gt.isWebGLRenderTarget&&(gt=gt.texture),gt.matrixAutoUpdate===!0&&gt.updateMatrix(),ht.uv2Transform.value.copy(gt.matrix))}function _e(ht,dt){ht.diffuse.value.copy(dt.color),ht.opacity.value=dt.opacity}function et(ht,dt){ht.dashSize.value=dt.dashSize,ht.totalSize.value=dt.dashSize+dt.gapSize,ht.scale.value=dt.scale}function tt(ht,dt,pt,mt){ht.diffuse.value.copy(dt.color),ht.opacity.value=dt.opacity,ht.size.value=dt.size*pt,ht.scale.value=mt*.5,dt.map&&(ht.map.value=dt.map),dt.alphaMap&&(ht.alphaMap.value=dt.alphaMap),dt.alphaTest>0&&(ht.alphaTest.value=dt.alphaTest);let gt;dt.map?gt=dt.map:dt.alphaMap&&(gt=dt.alphaMap),gt!==void 0&&(gt.matrixAutoUpdate===!0&&gt.updateMatrix(),ht.uvTransform.value.copy(gt.matrix))}function nt(ht,dt){ht.diffuse.value.copy(dt.color),ht.opacity.value=dt.opacity,ht.rotation.value=dt.rotation,dt.map&&(ht.map.value=dt.map),dt.alphaMap&&(ht.alphaMap.value=dt.alphaMap),dt.alphaTest>0&&(ht.alphaTest.value=dt.alphaTest);let pt;dt.map?pt=dt.map:dt.alphaMap&&(pt=dt.alphaMap),pt!==void 0&&(pt.matrixAutoUpdate===!0&&pt.updateMatrix(),ht.uvTransform.value.copy(pt.matrix))}function rt(ht,dt){dt.emissiveMap&&(ht.emissiveMap.value=dt.emissiveMap)}function it(ht,dt){ht.specular.value.copy(dt.specular),ht.shininess.value=Math.max(dt.shininess,1e-4),dt.emissiveMap&&(ht.emissiveMap.value=dt.emissiveMap),dt.bumpMap&&(ht.bumpMap.value=dt.bumpMap,ht.bumpScale.value=dt.bumpScale,dt.side===BackSide&&(ht.bumpScale.value*=-1)),dt.normalMap&&(ht.normalMap.value=dt.normalMap,ht.normalScale.value.copy(dt.normalScale),dt.side===BackSide&&ht.normalScale.value.negate()),dt.displacementMap&&(ht.displacementMap.value=dt.displacementMap,ht.displacementScale.value=dt.displacementScale,ht.displacementBias.value=dt.displacementBias)}function ot(ht,dt){dt.gradientMap&&(ht.gradientMap.value=dt.gradientMap),dt.emissiveMap&&(ht.emissiveMap.value=dt.emissiveMap),dt.bumpMap&&(ht.bumpMap.value=dt.bumpMap,ht.bumpScale.value=dt.bumpScale,dt.side===BackSide&&(ht.bumpScale.value*=-1)),dt.normalMap&&(ht.normalMap.value=dt.normalMap,ht.normalScale.value.copy(dt.normalScale),dt.side===BackSide&&ht.normalScale.value.negate()),dt.displacementMap&&(ht.displacementMap.value=dt.displacementMap,ht.displacementScale.value=dt.displacementScale,ht.displacementBias.value=dt.displacementBias)}function st(ht,dt){ht.roughness.value=dt.roughness,ht.metalness.value=dt.metalness,dt.roughnessMap&&(ht.roughnessMap.value=dt.roughnessMap),dt.metalnessMap&&(ht.metalnessMap.value=dt.metalnessMap),dt.emissiveMap&&(ht.emissiveMap.value=dt.emissiveMap),dt.bumpMap&&(ht.bumpMap.value=dt.bumpMap,ht.bumpScale.value=dt.bumpScale,dt.side===BackSide&&(ht.bumpScale.value*=-1)),dt.normalMap&&(ht.normalMap.value=dt.normalMap,ht.normalScale.value.copy(dt.normalScale),dt.side===BackSide&&ht.normalScale.value.negate()),dt.displacementMap&&(ht.displacementMap.value=dt.displacementMap,ht.displacementScale.value=dt.displacementScale,ht.displacementBias.value=dt.displacementBias),j.get(dt).envMap&&(ht.envMapIntensity.value=dt.envMapIntensity)}function at(ht,dt,pt){st(ht,dt),ht.ior.value=dt.ior,dt.sheen>0&&(ht.sheenColor.value.copy(dt.sheenColor).multiplyScalar(dt.sheen),ht.sheenRoughness.value=dt.sheenRoughness,dt.sheenColorMap&&(ht.sheenColorMap.value=dt.sheenColorMap),dt.sheenRoughnessMap&&(ht.sheenRoughnessMap.value=dt.sheenRoughnessMap)),dt.clearcoat>0&&(ht.clearcoat.value=dt.clearcoat,ht.clearcoatRoughness.value=dt.clearcoatRoughness,dt.clearcoatMap&&(ht.clearcoatMap.value=dt.clearcoatMap),dt.clearcoatRoughnessMap&&(ht.clearcoatRoughnessMap.value=dt.clearcoatRoughnessMap),dt.clearcoatNormalMap&&(ht.clearcoatNormalScale.value.copy(dt.clearcoatNormalScale),ht.clearcoatNormalMap.value=dt.clearcoatNormalMap,dt.side===BackSide&&ht.clearcoatNormalScale.value.negate())),dt.transmission>0&&(ht.transmission.value=dt.transmission,ht.transmissionSamplerMap.value=pt.texture,ht.transmissionSamplerSize.value.set(pt.width,pt.height),dt.transmissionMap&&(ht.transmissionMap.value=dt.transmissionMap),ht.thickness.value=dt.thickness,dt.thicknessMap&&(ht.thicknessMap.value=dt.thicknessMap),ht.attenuationDistance.value=dt.attenuationDistance,ht.attenuationColor.value.copy(dt.attenuationColor)),ht.specularIntensity.value=dt.specularIntensity,ht.specularColor.value.copy(dt.specularColor),dt.specularIntensityMap&&(ht.specularIntensityMap.value=dt.specularIntensityMap),dt.specularColorMap&&(ht.specularColorMap.value=dt.specularColorMap)}function lt(ht,dt){dt.matcap&&(ht.matcap.value=dt.matcap),dt.bumpMap&&(ht.bumpMap.value=dt.bumpMap,ht.bumpScale.value=dt.bumpScale,dt.side===BackSide&&(ht.bumpScale.value*=-1)),dt.normalMap&&(ht.normalMap.value=dt.normalMap,ht.normalScale.value.copy(dt.normalScale),dt.side===BackSide&&ht.normalScale.value.negate()),dt.displacementMap&&(ht.displacementMap.value=dt.displacementMap,ht.displacementScale.value=dt.displacementScale,ht.displacementBias.value=dt.displacementBias)}function ut(ht,dt){dt.displacementMap&&(ht.displacementMap.value=dt.displacementMap,ht.displacementScale.value=dt.displacementScale,ht.displacementBias.value=dt.displacementBias)}function ct(ht,dt){dt.displacementMap&&(ht.displacementMap.value=dt.displacementMap,ht.displacementScale.value=dt.displacementScale,ht.displacementBias.value=dt.displacementBias),ht.referencePosition.value.copy(dt.referencePosition),ht.nearDistance.value=dt.nearDistance,ht.farDistance.value=dt.farDistance}function ft(ht,dt){dt.bumpMap&&(ht.bumpMap.value=dt.bumpMap,ht.bumpScale.value=dt.bumpScale,dt.side===BackSide&&(ht.bumpScale.value*=-1)),dt.normalMap&&(ht.normalMap.value=dt.normalMap,ht.normalScale.value.copy(dt.normalScale),dt.side===BackSide&&ht.normalScale.value.negate()),dt.displacementMap&&(ht.displacementMap.value=dt.displacementMap,ht.displacementScale.value=dt.displacementScale,ht.displacementBias.value=dt.displacementBias)}return{refreshFogUniforms:g,refreshMaterialUniforms:b}}function createCanvasElement(){const j=createElementNS$1("canvas");return j.style.display="block",j}function WebGLRenderer(j={}){const g=j.canvas!==void 0?j.canvas:createCanvasElement(),b=j.context!==void 0?j.context:null,$=j.depth!==void 0?j.depth:!0,_e=j.stencil!==void 0?j.stencil:!0,et=j.antialias!==void 0?j.antialias:!1,tt=j.premultipliedAlpha!==void 0?j.premultipliedAlpha:!0,nt=j.preserveDrawingBuffer!==void 0?j.preserveDrawingBuffer:!1,rt=j.powerPreference!==void 0?j.powerPreference:"default",it=j.failIfMajorPerformanceCaveat!==void 0?j.failIfMajorPerformanceCaveat:!1;let ot;j.context!==void 0?ot=b.getContextAttributes().alpha:ot=j.alpha!==void 0?j.alpha:!1;let st=null,at=null;const lt=[],ut=[];this.domElement=g,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const ct=this;let ft=!1,ht=0,dt=0,pt=null,mt=-1,gt=null;const yt=new Vector4,_t=new Vector4;let vt=null,At=g.width,bt=g.height,xt=1,Et=null,Mt=null;const Tt=new Vector4(0,0,At,bt),Lt=new Vector4(0,0,At,bt);let Ot=!1;const Rt=new Frustum;let Ct=!1,Dt=!1,Bt=null;const kt=new Matrix4,zt=new Vector2,Ft=new Vector3,It={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ut(){return pt===null?xt:1}let Gt=b;function jt($t,pn){for(let yn=0;yn<$t.length;yn++){const _n=$t[yn],xn=g.getContext(_n,pn);if(xn!==null)return xn}return null}try{const $t={alpha:!0,depth:$,stencil:_e,antialias:et,premultipliedAlpha:tt,preserveDrawingBuffer:nt,powerPreference:rt,failIfMajorPerformanceCaveat:it};if("setAttribute"in g&&g.setAttribute("data-engine",`three.js r${REVISION}`),g.addEventListener("webglcontextlost",nn,!1),g.addEventListener("webglcontextrestored",En,!1),Gt===null){const pn=["webgl2","webgl","experimental-webgl"];if(ct.isWebGL1Renderer===!0&&pn.shift(),Gt=jt(pn,$t),Gt===null)throw jt(pn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Gt.getShaderPrecisionFormat===void 0&&(Gt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($t){throw console.error("THREE.WebGLRenderer: "+$t.message),$t}let Yt,Qt,ln,Zt,Wt,qt,Xt,vn,gn,en,hn,rn,un,Nt,Vt,cn,dn,mn,bn,Cn,an,Tn,Dn;function Sn(){Yt=new WebGLExtensions(Gt),Qt=new WebGLCapabilities(Gt,Yt,j),Yt.init(Qt),Tn=new WebGLUtils(Gt,Yt,Qt),ln=new WebGLState(Gt,Yt,Qt),Zt=new WebGLInfo,Wt=new WebGLProperties,qt=new WebGLTextures(Gt,Yt,ln,Wt,Qt,Tn,Zt),Xt=new WebGLCubeMaps(ct),vn=new WebGLCubeUVMaps(ct),gn=new WebGLAttributes(Gt,Qt),Dn=new WebGLBindingStates(Gt,Yt,gn,Qt),en=new WebGLGeometries(Gt,gn,Zt,Dn),hn=new WebGLObjects(Gt,en,gn,Zt),bn=new WebGLMorphtargets(Gt,Qt,qt),cn=new WebGLClipping(Wt),rn=new WebGLPrograms(ct,Xt,vn,Yt,Qt,Dn,cn),un=new WebGLMaterials(Wt),Nt=new WebGLRenderLists,Vt=new WebGLRenderStates(Yt,Qt),mn=new WebGLBackground(ct,Xt,ln,hn,ot,tt),dn=new WebGLShadowMap(ct,hn,Qt),Cn=new WebGLBufferRenderer(Gt,Yt,Zt,Qt),an=new WebGLIndexedBufferRenderer(Gt,Yt,Zt,Qt),Zt.programs=rn.programs,ct.capabilities=Qt,ct.extensions=Yt,ct.properties=Wt,ct.renderLists=Nt,ct.shadowMap=dn,ct.state=ln,ct.info=Zt}Sn();const Ln=new WebXRManager(ct,Gt);this.xr=Ln,this.getContext=function(){return Gt},this.getContextAttributes=function(){return Gt.getContextAttributes()},this.forceContextLoss=function(){const $t=Yt.get("WEBGL_lose_context");$t&&$t.loseContext()},this.forceContextRestore=function(){const $t=Yt.get("WEBGL_lose_context");$t&&$t.restoreContext()},this.getPixelRatio=function(){return xt},this.setPixelRatio=function($t){$t!==void 0&&(xt=$t,this.setSize(At,bt,!1))},this.getSize=function($t){return $t.set(At,bt)},this.setSize=function($t,pn,yn){if(Ln.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}At=$t,bt=pn,g.width=Math.floor($t*xt),g.height=Math.floor(pn*xt),yn!==!1&&(g.style.width=$t+"px",g.style.height=pn+"px"),this.setViewport(0,0,$t,pn)},this.getDrawingBufferSize=function($t){return $t.set(At*xt,bt*xt).floor()},this.setDrawingBufferSize=function($t,pn,yn){At=$t,bt=pn,xt=yn,g.width=Math.floor($t*yn),g.height=Math.floor(pn*yn),this.setViewport(0,0,$t,pn)},this.getCurrentViewport=function($t){return $t.copy(yt)},this.getViewport=function($t){return $t.copy(Tt)},this.setViewport=function($t,pn,yn,_n){$t.isVector4?Tt.set($t.x,$t.y,$t.z,$t.w):Tt.set($t,pn,yn,_n),ln.viewport(yt.copy(Tt).multiplyScalar(xt).floor())},this.getScissor=function($t){return $t.copy(Lt)},this.setScissor=function($t,pn,yn,_n){$t.isVector4?Lt.set($t.x,$t.y,$t.z,$t.w):Lt.set($t,pn,yn,_n),ln.scissor(_t.copy(Lt).multiplyScalar(xt).floor())},this.getScissorTest=function(){return Ot},this.setScissorTest=function($t){ln.setScissorTest(Ot=$t)},this.setOpaqueSort=function($t){Et=$t},this.setTransparentSort=function($t){Mt=$t},this.getClearColor=function($t){return $t.copy(mn.getClearColor())},this.setClearColor=function(){mn.setClearColor.apply(mn,arguments)},this.getClearAlpha=function(){return mn.getClearAlpha()},this.setClearAlpha=function(){mn.setClearAlpha.apply(mn,arguments)},this.clear=function($t=!0,pn=!0,yn=!0){let _n=0;$t&&(_n|=16384),pn&&(_n|=256),yn&&(_n|=1024),Gt.clear(_n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){g.removeEventListener("webglcontextlost",nn,!1),g.removeEventListener("webglcontextrestored",En,!1),Nt.dispose(),Vt.dispose(),Wt.dispose(),Xt.dispose(),vn.dispose(),hn.dispose(),Dn.dispose(),rn.dispose(),Ln.dispose(),Ln.removeEventListener("sessionstart",zn),Ln.removeEventListener("sessionend",ar),Bt&&(Bt.dispose(),Bt=null),ir.stop()};function nn($t){$t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ft=!0}function En(){console.log("THREE.WebGLRenderer: Context Restored."),ft=!1;const $t=Zt.autoReset,pn=dn.enabled,yn=dn.autoUpdate,_n=dn.needsUpdate,xn=dn.type;Sn(),Zt.autoReset=$t,dn.enabled=pn,dn.autoUpdate=yn,dn.needsUpdate=_n,dn.type=xn}function wn($t){const pn=$t.target;pn.removeEventListener("dispose",wn),In(pn)}function In($t){Rn($t),Wt.remove($t)}function Rn($t){const pn=Wt.get($t).programs;pn!==void 0&&(pn.forEach(function(yn){rn.releaseProgram(yn)}),$t.isShaderMaterial&&rn.releaseShaderCache($t))}this.renderBufferDirect=function($t,pn,yn,_n,xn,Hn){pn===null&&(pn=It);const Kn=xn.isMesh&&xn.matrixWorld.determinant()<0,Wn=Un($t,pn,yn,_n,xn);ln.setMaterial(_n,Kn);let Vn=yn.index;const qn=yn.attributes.position;if(Vn===null){if(qn===void 0||qn.count===0)return}else if(Vn.count===0)return;let Yn=1;_n.wireframe===!0&&(Vn=en.getWireframeAttribute(yn),Yn=2),Dn.setup(xn,_n,Wn,yn,Vn);let nr,er=Cn;Vn!==null&&(nr=gn.get(Vn),er=an,er.setIndex(nr));const hr=Vn!==null?Vn.count:qn.count,vr=yn.drawRange.start*Yn,Sr=yn.drawRange.count*Yn,xr=Hn!==null?Hn.start*Yn:0,or=Hn!==null?Hn.count*Yn:1/0,jn=Math.max(vr,xr),pr=Math.min(hr,vr+Sr,xr+or)-1,Pr=Math.max(0,pr-jn+1);if(Pr!==0){if(xn.isMesh)_n.wireframe===!0?(ln.setLineWidth(_n.wireframeLinewidth*Ut()),er.setMode(1)):er.setMode(4);else if(xn.isLine){let Tr=_n.linewidth;Tr===void 0&&(Tr=1),ln.setLineWidth(Tr*Ut()),xn.isLineSegments?er.setMode(1):xn.isLineLoop?er.setMode(2):er.setMode(3)}else xn.isPoints?er.setMode(0):xn.isSprite&&er.setMode(4);if(xn.isInstancedMesh)er.renderInstances(jn,Pr,xn.count);else if(yn.isInstancedBufferGeometry){const Tr=Math.min(yn.instanceCount,yn._maxInstanceCount);er.renderInstances(jn,Pr,Tr)}else er.render(jn,Pr)}},this.compile=function($t,pn){at=Vt.get($t),at.init(),ut.push(at),$t.traverseVisible(function(yn){yn.isLight&&yn.layers.test(pn.layers)&&(at.pushLight(yn),yn.castShadow&&at.pushShadow(yn))}),at.setupLights(ct.physicallyCorrectLights),$t.traverse(function(yn){const _n=yn.material;if(_n)if(Array.isArray(_n))for(let xn=0;xn<_n.length;xn++){const Hn=_n[xn];Mn(Hn,$t,yn)}else Mn(_n,$t,yn)}),ut.pop(),at=null};let Pn=null;function Gn($t){Pn&&Pn($t)}function zn(){ir.stop()}function ar(){ir.start()}const ir=new WebGLAnimation;ir.setAnimationLoop(Gn),typeof window!="undefined"&&ir.setContext(window),this.setAnimationLoop=function($t){Pn=$t,Ln.setAnimationLoop($t),$t===null?ir.stop():ir.start()},Ln.addEventListener("sessionstart",zn),Ln.addEventListener("sessionend",ar),this.render=function($t,pn){if(pn!==void 0&&pn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(ft===!0)return;$t.autoUpdate===!0&&$t.updateMatrixWorld(),pn.parent===null&&pn.updateMatrixWorld(),Ln.enabled===!0&&Ln.isPresenting===!0&&(Ln.cameraAutoUpdate===!0&&Ln.updateCamera(pn),pn=Ln.getCamera()),$t.isScene===!0&&$t.onBeforeRender(ct,$t,pn,pt),at=Vt.get($t,ut.length),at.init(),ut.push(at),kt.multiplyMatrices(pn.projectionMatrix,pn.matrixWorldInverse),Rt.setFromProjectionMatrix(kt),Dt=this.localClippingEnabled,Ct=cn.init(this.clippingPlanes,Dt,pn),st=Nt.get($t,lt.length),st.init(),lt.push(st),rr($t,pn,0,ct.sortObjects),st.finish(),ct.sortObjects===!0&&st.sort(Et,Mt),Ct===!0&&cn.beginShadows();const yn=at.state.shadowsArray;if(dn.render(yn,$t,pn),Ct===!0&&cn.endShadows(),this.info.autoReset===!0&&this.info.reset(),mn.render(st,$t),at.setupLights(ct.physicallyCorrectLights),pn.isArrayCamera){const _n=pn.cameras;for(let xn=0,Hn=_n.length;xn<Hn;xn++){const Kn=_n[xn];mr(st,$t,Kn,Kn.viewport)}}else mr(st,$t,pn);pt!==null&&(qt.updateMultisampleRenderTarget(pt),qt.updateRenderTargetMipmap(pt)),$t.isScene===!0&&$t.onAfterRender(ct,$t,pn),Dn.resetDefaultState(),mt=-1,gt=null,ut.pop(),ut.length>0?at=ut[ut.length-1]:at=null,lt.pop(),lt.length>0?st=lt[lt.length-1]:st=null};function rr($t,pn,yn,_n){if($t.visible===!1)return;if($t.layers.test(pn.layers)){if($t.isGroup)yn=$t.renderOrder;else if($t.isLOD)$t.autoUpdate===!0&&$t.update(pn);else if($t.isLight)at.pushLight($t),$t.castShadow&&at.pushShadow($t);else if($t.isSprite){if(!$t.frustumCulled||Rt.intersectsSprite($t)){_n&&Ft.setFromMatrixPosition($t.matrixWorld).applyMatrix4(kt);const Kn=hn.update($t),Wn=$t.material;Wn.visible&&st.push($t,Kn,Wn,yn,Ft.z,null)}}else if(($t.isMesh||$t.isLine||$t.isPoints)&&($t.isSkinnedMesh&&$t.skeleton.frame!==Zt.render.frame&&($t.skeleton.update(),$t.skeleton.frame=Zt.render.frame),!$t.frustumCulled||Rt.intersectsObject($t))){_n&&Ft.setFromMatrixPosition($t.matrixWorld).applyMatrix4(kt);const Kn=hn.update($t),Wn=$t.material;if(Array.isArray(Wn)){const Vn=Kn.groups;for(let qn=0,Yn=Vn.length;qn<Yn;qn++){const nr=Vn[qn],er=Wn[nr.materialIndex];er&&er.visible&&st.push($t,Kn,er,yn,Ft.z,nr)}}else Wn.visible&&st.push($t,Kn,Wn,yn,Ft.z,null)}}const Hn=$t.children;for(let Kn=0,Wn=Hn.length;Kn<Wn;Kn++)rr(Hn[Kn],pn,yn,_n)}function mr($t,pn,yn,_n){const xn=$t.opaque,Hn=$t.transmissive,Kn=$t.transparent;at.setupLightsView(yn),Hn.length>0&&cr(xn,pn,yn),_n&&ln.viewport(yt.copy(_n)),xn.length>0&&tr(xn,pn,yn),Hn.length>0&&tr(Hn,pn,yn),Kn.length>0&&tr(Kn,pn,yn),ln.buffers.depth.setTest(!0),ln.buffers.depth.setMask(!0),ln.buffers.color.setMask(!0),ln.setPolygonOffset(!1)}function cr($t,pn,yn){const _n=Qt.isWebGL2;Bt===null&&(Bt=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Tn.convert(HalfFloatType)!==null?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:_n&&et===!0?4:0})),ct.getDrawingBufferSize(zt),_n?Bt.setSize(zt.x,zt.y):Bt.setSize(floorPowerOfTwo(zt.x),floorPowerOfTwo(zt.y));const xn=ct.getRenderTarget();ct.setRenderTarget(Bt),ct.clear();const Hn=ct.toneMapping;ct.toneMapping=NoToneMapping,tr($t,pn,yn),ct.toneMapping=Hn,qt.updateMultisampleRenderTarget(Bt),qt.updateRenderTargetMipmap(Bt),ct.setRenderTarget(xn)}function tr($t,pn,yn){const _n=pn.isScene===!0?pn.overrideMaterial:null;for(let xn=0,Hn=$t.length;xn<Hn;xn++){const Kn=$t[xn],Wn=Kn.object,Vn=Kn.geometry,qn=_n===null?Kn.material:_n,Yn=Kn.group;Wn.layers.test(yn.layers)&&Zn(Wn,pn,yn,Vn,qn,Yn)}}function Zn($t,pn,yn,_n,xn,Hn){$t.onBeforeRender(ct,pn,yn,_n,xn,Hn),$t.modelViewMatrix.multiplyMatrices(yn.matrixWorldInverse,$t.matrixWorld),$t.normalMatrix.getNormalMatrix($t.modelViewMatrix),xn.onBeforeRender(ct,pn,yn,_n,$t,Hn),xn.transparent===!0&&xn.side===DoubleSide?(xn.side=BackSide,xn.needsUpdate=!0,ct.renderBufferDirect(yn,pn,_n,xn,$t,Hn),xn.side=FrontSide,xn.needsUpdate=!0,ct.renderBufferDirect(yn,pn,_n,xn,$t,Hn),xn.side=DoubleSide):ct.renderBufferDirect(yn,pn,_n,xn,$t,Hn),$t.onAfterRender(ct,pn,yn,_n,xn,Hn)}function Mn($t,pn,yn){pn.isScene!==!0&&(pn=It);const _n=Wt.get($t),xn=at.state.lights,Hn=at.state.shadowsArray,Kn=xn.state.version,Wn=rn.getParameters($t,xn.state,Hn,pn,yn),Vn=rn.getProgramCacheKey(Wn);let qn=_n.programs;_n.environment=$t.isMeshStandardMaterial?pn.environment:null,_n.fog=pn.fog,_n.envMap=($t.isMeshStandardMaterial?vn:Xt).get($t.envMap||_n.environment),qn===void 0&&($t.addEventListener("dispose",wn),qn=new Map,_n.programs=qn);let Yn=qn.get(Vn);if(Yn!==void 0){if(_n.currentProgram===Yn&&_n.lightsStateVersion===Kn)return On($t,Wn),Yn}else Wn.uniforms=rn.getUniforms($t),$t.onBuild(yn,Wn,ct),$t.onBeforeCompile(Wn,ct),Yn=rn.acquireProgram(Wn,Vn),qn.set(Vn,Yn),_n.uniforms=Wn.uniforms;const nr=_n.uniforms;(!$t.isShaderMaterial&&!$t.isRawShaderMaterial||$t.clipping===!0)&&(nr.clippingPlanes=cn.uniform),On($t,Wn),_n.needsLights=sr($t),_n.lightsStateVersion=Kn,_n.needsLights&&(nr.ambientLightColor.value=xn.state.ambient,nr.lightProbe.value=xn.state.probe,nr.directionalLights.value=xn.state.directional,nr.directionalLightShadows.value=xn.state.directionalShadow,nr.spotLights.value=xn.state.spot,nr.spotLightShadows.value=xn.state.spotShadow,nr.rectAreaLights.value=xn.state.rectArea,nr.ltc_1.value=xn.state.rectAreaLTC1,nr.ltc_2.value=xn.state.rectAreaLTC2,nr.pointLights.value=xn.state.point,nr.pointLightShadows.value=xn.state.pointShadow,nr.hemisphereLights.value=xn.state.hemi,nr.directionalShadowMap.value=xn.state.directionalShadowMap,nr.directionalShadowMatrix.value=xn.state.directionalShadowMatrix,nr.spotShadowMap.value=xn.state.spotShadowMap,nr.spotShadowMatrix.value=xn.state.spotShadowMatrix,nr.pointShadowMap.value=xn.state.pointShadowMap,nr.pointShadowMatrix.value=xn.state.pointShadowMatrix);const er=Yn.getUniforms(),hr=WebGLUniforms.seqWithValue(er.seq,nr);return _n.currentProgram=Yn,_n.uniformsList=hr,Yn}function On($t,pn){const yn=Wt.get($t);yn.outputEncoding=pn.outputEncoding,yn.instancing=pn.instancing,yn.skinning=pn.skinning,yn.morphTargets=pn.morphTargets,yn.morphNormals=pn.morphNormals,yn.morphColors=pn.morphColors,yn.morphTargetsCount=pn.morphTargetsCount,yn.numClippingPlanes=pn.numClippingPlanes,yn.numIntersection=pn.numClipIntersection,yn.vertexAlphas=pn.vertexAlphas,yn.vertexTangents=pn.vertexTangents,yn.toneMapping=pn.toneMapping}function Un($t,pn,yn,_n,xn){pn.isScene!==!0&&(pn=It),qt.resetTextureUnits();const Hn=pn.fog,Kn=_n.isMeshStandardMaterial?pn.environment:null,Wn=pt===null?ct.outputEncoding:pt.isXRRenderTarget===!0?pt.texture.encoding:LinearEncoding,Vn=(_n.isMeshStandardMaterial?vn:Xt).get(_n.envMap||Kn),qn=_n.vertexColors===!0&&!!yn.attributes.color&&yn.attributes.color.itemSize===4,Yn=!!_n.normalMap&&!!yn.attributes.tangent,nr=!!yn.morphAttributes.position,er=!!yn.morphAttributes.normal,hr=!!yn.morphAttributes.color,vr=_n.toneMapped?ct.toneMapping:NoToneMapping,Sr=yn.morphAttributes.position||yn.morphAttributes.normal||yn.morphAttributes.color,xr=Sr!==void 0?Sr.length:0,or=Wt.get(_n),jn=at.state.lights;if(Ct===!0&&(Dt===!0||$t!==gt)){const gr=$t===gt&&_n.id===mt;cn.setState(_n,$t,gr)}let pr=!1;_n.version===or.__version?(or.needsLights&&or.lightsStateVersion!==jn.state.version||or.outputEncoding!==Wn||xn.isInstancedMesh&&or.instancing===!1||!xn.isInstancedMesh&&or.instancing===!0||xn.isSkinnedMesh&&or.skinning===!1||!xn.isSkinnedMesh&&or.skinning===!0||or.envMap!==Vn||_n.fog&&or.fog!==Hn||or.numClippingPlanes!==void 0&&(or.numClippingPlanes!==cn.numPlanes||or.numIntersection!==cn.numIntersection)||or.vertexAlphas!==qn||or.vertexTangents!==Yn||or.morphTargets!==nr||or.morphNormals!==er||or.morphColors!==hr||or.toneMapping!==vr||Qt.isWebGL2===!0&&or.morphTargetsCount!==xr)&&(pr=!0):(pr=!0,or.__version=_n.version);let Pr=or.currentProgram;pr===!0&&(Pr=Mn(_n,pn,xn));let Tr=!1,Ir=!1,Nr=!1;const dr=Pr.getUniforms(),Fr=or.uniforms;if(ln.useProgram(Pr.program)&&(Tr=!0,Ir=!0,Nr=!0),_n.id!==mt&&(mt=_n.id,Ir=!0),Tr||gt!==$t){if(dr.setValue(Gt,"projectionMatrix",$t.projectionMatrix),Qt.logarithmicDepthBuffer&&dr.setValue(Gt,"logDepthBufFC",2/(Math.log($t.far+1)/Math.LN2)),gt!==$t&&(gt=$t,Ir=!0,Nr=!0),_n.isShaderMaterial||_n.isMeshPhongMaterial||_n.isMeshToonMaterial||_n.isMeshStandardMaterial||_n.envMap){const gr=dr.map.cameraPosition;gr!==void 0&&gr.setValue(Gt,Ft.setFromMatrixPosition($t.matrixWorld))}(_n.isMeshPhongMaterial||_n.isMeshToonMaterial||_n.isMeshLambertMaterial||_n.isMeshBasicMaterial||_n.isMeshStandardMaterial||_n.isShaderMaterial)&&dr.setValue(Gt,"isOrthographic",$t.isOrthographicCamera===!0),(_n.isMeshPhongMaterial||_n.isMeshToonMaterial||_n.isMeshLambertMaterial||_n.isMeshBasicMaterial||_n.isMeshStandardMaterial||_n.isShaderMaterial||_n.isShadowMaterial||xn.isSkinnedMesh)&&dr.setValue(Gt,"viewMatrix",$t.matrixWorldInverse)}if(xn.isSkinnedMesh){dr.setOptional(Gt,xn,"bindMatrix"),dr.setOptional(Gt,xn,"bindMatrixInverse");const gr=xn.skeleton;gr&&(Qt.floatVertexTextures?(gr.boneTexture===null&&gr.computeBoneTexture(),dr.setValue(Gt,"boneTexture",gr.boneTexture,qt),dr.setValue(Gt,"boneTextureSize",gr.boneTextureSize)):dr.setOptional(Gt,gr,"boneMatrices"))}const Gr=yn.morphAttributes;return(Gr.position!==void 0||Gr.normal!==void 0||Gr.color!==void 0&&Qt.isWebGL2===!0)&&bn.update(xn,yn,_n,Pr),(Ir||or.receiveShadow!==xn.receiveShadow)&&(or.receiveShadow=xn.receiveShadow,dr.setValue(Gt,"receiveShadow",xn.receiveShadow)),Ir&&(dr.setValue(Gt,"toneMappingExposure",ct.toneMappingExposure),or.needsLights&&$n(Fr,Nr),Hn&&_n.fog&&un.refreshFogUniforms(Fr,Hn),un.refreshMaterialUniforms(Fr,_n,xt,bt,Bt),WebGLUniforms.upload(Gt,or.uniformsList,Fr,qt)),_n.isShaderMaterial&&_n.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Gt,or.uniformsList,Fr,qt),_n.uniformsNeedUpdate=!1),_n.isSpriteMaterial&&dr.setValue(Gt,"center",xn.center),dr.setValue(Gt,"modelViewMatrix",xn.modelViewMatrix),dr.setValue(Gt,"normalMatrix",xn.normalMatrix),dr.setValue(Gt,"modelMatrix",xn.matrixWorld),Pr}function $n($t,pn){$t.ambientLightColor.needsUpdate=pn,$t.lightProbe.needsUpdate=pn,$t.directionalLights.needsUpdate=pn,$t.directionalLightShadows.needsUpdate=pn,$t.pointLights.needsUpdate=pn,$t.pointLightShadows.needsUpdate=pn,$t.spotLights.needsUpdate=pn,$t.spotLightShadows.needsUpdate=pn,$t.rectAreaLights.needsUpdate=pn,$t.hemisphereLights.needsUpdate=pn}function sr($t){return $t.isMeshLambertMaterial||$t.isMeshToonMaterial||$t.isMeshPhongMaterial||$t.isMeshStandardMaterial||$t.isShadowMaterial||$t.isShaderMaterial&&$t.lights===!0}this.getActiveCubeFace=function(){return ht},this.getActiveMipmapLevel=function(){return dt},this.getRenderTarget=function(){return pt},this.setRenderTargetTextures=function($t,pn,yn){Wt.get($t.texture).__webglTexture=pn,Wt.get($t.depthTexture).__webglTexture=yn;const _n=Wt.get($t);_n.__hasExternalTextures=!0,_n.__hasExternalTextures&&(_n.__autoAllocateDepthBuffer=yn===void 0,_n.__autoAllocateDepthBuffer||Yt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),_n.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($t,pn){const yn=Wt.get($t);yn.__webglFramebuffer=pn,yn.__useDefaultFramebuffer=pn===void 0},this.setRenderTarget=function($t,pn=0,yn=0){pt=$t,ht=pn,dt=yn;let _n=!0;if($t){const Vn=Wt.get($t);Vn.__useDefaultFramebuffer!==void 0?(ln.bindFramebuffer(36160,null),_n=!1):Vn.__webglFramebuffer===void 0?qt.setupRenderTarget($t):Vn.__hasExternalTextures&&qt.rebindTextures($t,Wt.get($t.texture).__webglTexture,Wt.get($t.depthTexture).__webglTexture)}let xn=null,Hn=!1,Kn=!1;if($t){const Vn=$t.texture;(Vn.isData3DTexture||Vn.isDataArrayTexture)&&(Kn=!0);const qn=Wt.get($t).__webglFramebuffer;$t.isWebGLCubeRenderTarget?(xn=qn[pn],Hn=!0):Qt.isWebGL2&&$t.samples>0&&qt.useMultisampledRTT($t)===!1?xn=Wt.get($t).__webglMultisampledFramebuffer:xn=qn,yt.copy($t.viewport),_t.copy($t.scissor),vt=$t.scissorTest}else yt.copy(Tt).multiplyScalar(xt).floor(),_t.copy(Lt).multiplyScalar(xt).floor(),vt=Ot;if(ln.bindFramebuffer(36160,xn)&&Qt.drawBuffers&&_n&&ln.drawBuffers($t,xn),ln.viewport(yt),ln.scissor(_t),ln.setScissorTest(vt),Hn){const Vn=Wt.get($t.texture);Gt.framebufferTexture2D(36160,36064,34069+pn,Vn.__webglTexture,yn)}else if(Kn){const Vn=Wt.get($t.texture),qn=pn||0;Gt.framebufferTextureLayer(36160,36064,Vn.__webglTexture,yn||0,qn)}mt=-1},this.readRenderTargetPixels=function($t,pn,yn,_n,xn,Hn,Kn){if(!($t&&$t.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Wn=Wt.get($t).__webglFramebuffer;if($t.isWebGLCubeRenderTarget&&Kn!==void 0&&(Wn=Wn[Kn]),Wn){ln.bindFramebuffer(36160,Wn);try{const Vn=$t.texture,qn=Vn.format,Yn=Vn.type;if(qn!==RGBAFormat&&Tn.convert(qn)!==Gt.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const nr=Yn===HalfFloatType&&(Yt.has("EXT_color_buffer_half_float")||Qt.isWebGL2&&Yt.has("EXT_color_buffer_float"));if(Yn!==UnsignedByteType&&Tn.convert(Yn)!==Gt.getParameter(35738)&&!(Yn===FloatType&&(Qt.isWebGL2||Yt.has("OES_texture_float")||Yt.has("WEBGL_color_buffer_float")))&&!nr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Gt.checkFramebufferStatus(36160)===36053?pn>=0&&pn<=$t.width-_n&&yn>=0&&yn<=$t.height-xn&&Gt.readPixels(pn,yn,_n,xn,Tn.convert(qn),Tn.convert(Yn),Hn):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Vn=pt!==null?Wt.get(pt).__webglFramebuffer:null;ln.bindFramebuffer(36160,Vn)}}},this.copyFramebufferToTexture=function($t,pn,yn=0){if(pn.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const _n=Math.pow(2,-yn),xn=Math.floor(pn.image.width*_n),Hn=Math.floor(pn.image.height*_n);qt.setTexture2D(pn,0),Gt.copyTexSubImage2D(3553,yn,0,0,$t.x,$t.y,xn,Hn),ln.unbindTexture()},this.copyTextureToTexture=function($t,pn,yn,_n=0){const xn=pn.image.width,Hn=pn.image.height,Kn=Tn.convert(yn.format),Wn=Tn.convert(yn.type);qt.setTexture2D(yn,0),Gt.pixelStorei(37440,yn.flipY),Gt.pixelStorei(37441,yn.premultiplyAlpha),Gt.pixelStorei(3317,yn.unpackAlignment),pn.isDataTexture?Gt.texSubImage2D(3553,_n,$t.x,$t.y,xn,Hn,Kn,Wn,pn.image.data):pn.isCompressedTexture?Gt.compressedTexSubImage2D(3553,_n,$t.x,$t.y,pn.mipmaps[0].width,pn.mipmaps[0].height,Kn,pn.mipmaps[0].data):Gt.texSubImage2D(3553,_n,$t.x,$t.y,Kn,Wn,pn.image),_n===0&&yn.generateMipmaps&&Gt.generateMipmap(3553),ln.unbindTexture()},this.copyTextureToTexture3D=function($t,pn,yn,_n,xn=0){if(ct.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Hn=$t.max.x-$t.min.x+1,Kn=$t.max.y-$t.min.y+1,Wn=$t.max.z-$t.min.z+1,Vn=Tn.convert(_n.format),qn=Tn.convert(_n.type);let Yn;if(_n.isData3DTexture)qt.setTexture3D(_n,0),Yn=32879;else if(_n.isDataArrayTexture)qt.setTexture2DArray(_n,0),Yn=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Gt.pixelStorei(37440,_n.flipY),Gt.pixelStorei(37441,_n.premultiplyAlpha),Gt.pixelStorei(3317,_n.unpackAlignment);const nr=Gt.getParameter(3314),er=Gt.getParameter(32878),hr=Gt.getParameter(3316),vr=Gt.getParameter(3315),Sr=Gt.getParameter(32877),xr=yn.isCompressedTexture?yn.mipmaps[0]:yn.image;Gt.pixelStorei(3314,xr.width),Gt.pixelStorei(32878,xr.height),Gt.pixelStorei(3316,$t.min.x),Gt.pixelStorei(3315,$t.min.y),Gt.pixelStorei(32877,$t.min.z),yn.isDataTexture||yn.isData3DTexture?Gt.texSubImage3D(Yn,xn,pn.x,pn.y,pn.z,Hn,Kn,Wn,Vn,qn,xr.data):yn.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Gt.compressedTexSubImage3D(Yn,xn,pn.x,pn.y,pn.z,Hn,Kn,Wn,Vn,xr.data)):Gt.texSubImage3D(Yn,xn,pn.x,pn.y,pn.z,Hn,Kn,Wn,Vn,qn,xr),Gt.pixelStorei(3314,nr),Gt.pixelStorei(32878,er),Gt.pixelStorei(3316,hr),Gt.pixelStorei(3315,vr),Gt.pixelStorei(32877,Sr),xn===0&&_n.generateMipmaps&&Gt.generateMipmap(Yn),ln.unbindTexture()},this.initTexture=function($t){qt.setTexture2D($t,0),ln.unbindTexture()},this.resetState=function(){ht=0,dt=0,pt=null,ln.reset(),Dn.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}WebGLRenderer.prototype.isWebGLRenderer=!0;class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class Fog{constructor(g,b=1,$=1e3){this.name="",this.color=new Color(g),this.near=b,this.far=$}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Fog.prototype.isFog=!0;class Scene extends Object3D{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(g,b){return super.copy(g,b),g.background!==null&&(this.background=g.background.clone()),g.environment!==null&&(this.environment=g.environment.clone()),g.fog!==null&&(this.fog=g.fog.clone()),g.overrideMaterial!==null&&(this.overrideMaterial=g.overrideMaterial.clone()),this.autoUpdate=g.autoUpdate,this.matrixAutoUpdate=g.matrixAutoUpdate,this}toJSON(g){const b=super.toJSON(g);return this.fog!==null&&(b.object.fog=this.fog.toJSON()),b}}Scene.prototype.isScene=!0;class InterleavedBuffer{constructor(g,b){this.array=g,this.stride=b,this.count=g!==void 0?g.length/b:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(g){g===!0&&this.version++}setUsage(g){return this.usage=g,this}copy(g){return this.array=new g.array.constructor(g.array),this.count=g.count,this.stride=g.stride,this.usage=g.usage,this}copyAt(g,b,$){g*=this.stride,$*=b.stride;for(let _e=0,et=this.stride;_e<et;_e++)this.array[g+_e]=b.array[$+_e];return this}set(g,b=0){return this.array.set(g,b),this}clone(g){g.arrayBuffers===void 0&&(g.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),g.arrayBuffers[this.array.buffer._uuid]===void 0&&(g.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const b=new this.array.constructor(g.arrayBuffers[this.array.buffer._uuid]),$=new this.constructor(b,this.stride);return $.setUsage(this.usage),$}onUpload(g){return this.onUploadCallback=g,this}toJSON(g){return g.arrayBuffers===void 0&&(g.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),g.arrayBuffers[this.array.buffer._uuid]===void 0&&(g.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}InterleavedBuffer.prototype.isInterleavedBuffer=!0;const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(g,b,$,_e=!1){this.name="",this.data=g,this.itemSize=b,this.offset=$,this.normalized=_e===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(g){this.data.needsUpdate=g}applyMatrix4(g){for(let b=0,$=this.data.count;b<$;b++)_vector$6.x=this.getX(b),_vector$6.y=this.getY(b),_vector$6.z=this.getZ(b),_vector$6.applyMatrix4(g),this.setXYZ(b,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(g){for(let b=0,$=this.count;b<$;b++)_vector$6.x=this.getX(b),_vector$6.y=this.getY(b),_vector$6.z=this.getZ(b),_vector$6.applyNormalMatrix(g),this.setXYZ(b,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(g){for(let b=0,$=this.count;b<$;b++)_vector$6.x=this.getX(b),_vector$6.y=this.getY(b),_vector$6.z=this.getZ(b),_vector$6.transformDirection(g),this.setXYZ(b,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(g,b){return this.data.array[g*this.data.stride+this.offset]=b,this}setY(g,b){return this.data.array[g*this.data.stride+this.offset+1]=b,this}setZ(g,b){return this.data.array[g*this.data.stride+this.offset+2]=b,this}setW(g,b){return this.data.array[g*this.data.stride+this.offset+3]=b,this}getX(g){return this.data.array[g*this.data.stride+this.offset]}getY(g){return this.data.array[g*this.data.stride+this.offset+1]}getZ(g){return this.data.array[g*this.data.stride+this.offset+2]}getW(g){return this.data.array[g*this.data.stride+this.offset+3]}setXY(g,b,$){return g=g*this.data.stride+this.offset,this.data.array[g+0]=b,this.data.array[g+1]=$,this}setXYZ(g,b,$,_e){return g=g*this.data.stride+this.offset,this.data.array[g+0]=b,this.data.array[g+1]=$,this.data.array[g+2]=_e,this}setXYZW(g,b,$,_e,et){return g=g*this.data.stride+this.offset,this.data.array[g+0]=b,this.data.array[g+1]=$,this.data.array[g+2]=_e,this.data.array[g+3]=et,this}clone(g){if(g===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const b=[];for(let $=0;$<this.count;$++){const _e=$*this.data.stride+this.offset;for(let et=0;et<this.itemSize;et++)b.push(this.data.array[_e+et])}return new BufferAttribute(new this.array.constructor(b),this.itemSize,this.normalized)}else return g.interleavedBuffers===void 0&&(g.interleavedBuffers={}),g.interleavedBuffers[this.data.uuid]===void 0&&(g.interleavedBuffers[this.data.uuid]=this.data.clone(g)),new InterleavedBufferAttribute(g.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(g){if(g===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const b=[];for(let $=0;$<this.count;$++){const _e=$*this.data.stride+this.offset;for(let et=0;et<this.itemSize;et++)b.push(this.data.array[_e+et])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:b,normalized:this.normalized}}else return g.interleavedBuffers===void 0&&(g.interleavedBuffers={}),g.interleavedBuffers[this.data.uuid]===void 0&&(g.interleavedBuffers[this.data.uuid]=this.data.toJSON(g)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}InterleavedBufferAttribute.prototype.isInterleavedBufferAttribute=!0;class SpriteMaterial extends Material{constructor(g){super(),this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(g)}copy(g){return super.copy(g),this.color.copy(g.color),this.map=g.map,this.alphaMap=g.alphaMap,this.rotation=g.rotation,this.sizeAttenuation=g.sizeAttenuation,this}}SpriteMaterial.prototype.isSpriteMaterial=!0;let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(g){if(super(),this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const b=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),$=new InterleavedBuffer(b,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute($,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute($,2,3,!1))}this.geometry=_geometry,this.material=g!==void 0?g:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(g,b){g.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(g.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(g.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),g.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const $=this.material.rotation;let _e,et;$!==0&&(et=Math.cos($),_e=Math.sin($));const tt=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,tt,_worldScale,_e,et),transformVertex(_vB.set(.5,-.5,0),_mvPosition,tt,_worldScale,_e,et),transformVertex(_vC.set(.5,.5,0),_mvPosition,tt,_worldScale,_e,et),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let nt=g.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(nt===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,tt,_worldScale,_e,et),_uvB.set(0,1),nt=g.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),nt===null))return;const rt=g.ray.origin.distanceTo(_intersectPoint);rt<g.near||rt>g.far||b.push({distance:rt,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(g){return super.copy(g),g.center!==void 0&&this.center.copy(g.center),this.material=g.material,this}}Sprite.prototype.isSprite=!0;function transformVertex(j,g,b,$,_e,et){_alignedPosition.subVectors(j,b).addScalar(.5).multiply($),_e!==void 0?(_rotatedPosition.x=et*_alignedPosition.x-_e*_alignedPosition.y,_rotatedPosition.y=_e*_alignedPosition.x+et*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),j.copy(g),j.x+=_rotatedPosition.x,j.y+=_rotatedPosition.y,j.applyMatrix4(_viewWorldMatrix)}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(g,b){super(g,b),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(g){return super.copy(g),this.bindMode=g.bindMode,this.bindMatrix.copy(g.bindMatrix),this.bindMatrixInverse.copy(g.bindMatrixInverse),this.skeleton=g.skeleton,this}bind(g,b){this.skeleton=g,b===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld),this.bindMatrix.copy(b),this.bindMatrixInverse.copy(b).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const g=new Vector4,b=this.geometry.attributes.skinWeight;for(let $=0,_e=b.count;$<_e;$++){g.x=b.getX($),g.y=b.getY($),g.z=b.getZ($),g.w=b.getW($);const et=1/g.manhattanLength();et!==1/0?g.multiplyScalar(et):g.set(1,0,0,0),b.setXYZW($,g.x,g.y,g.z,g.w)}}updateMatrixWorld(g){super.updateMatrixWorld(g),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(g,b){const $=this.skeleton,_e=this.geometry;_skinIndex.fromBufferAttribute(_e.attributes.skinIndex,g),_skinWeight.fromBufferAttribute(_e.attributes.skinWeight,g),_basePosition.copy(b).applyMatrix4(this.bindMatrix),b.set(0,0,0);for(let et=0;et<4;et++){const tt=_skinWeight.getComponent(et);if(tt!==0){const nt=_skinIndex.getComponent(et);_matrix.multiplyMatrices($.bones[nt].matrixWorld,$.boneInverses[nt]),b.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),tt)}}return b.applyMatrix4(this.bindMatrixInverse)}}SkinnedMesh.prototype.isSkinnedMesh=!0;class Bone extends Object3D{constructor(){super(),this.type="Bone"}}Bone.prototype.isBone=!0;class DataTexture extends Texture{constructor(g=null,b=1,$=1,_e,et,tt,nt,rt,it=NearestFilter,ot=NearestFilter,st,at){super(null,tt,nt,rt,it,ot,_e,et,st,at),this.image={data:g,width:b,height:$},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}DataTexture.prototype.isDataTexture=!0;const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(g=[],b=[]){this.uuid=generateUUID$1(),this.bones=g.slice(0),this.boneInverses=b,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const g=this.bones,b=this.boneInverses;if(this.boneMatrices=new Float32Array(g.length*16),b.length===0)this.calculateInverses();else if(g.length!==b.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let $=0,_e=this.bones.length;$<_e;$++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let g=0,b=this.bones.length;g<b;g++){const $=new Matrix4;this.bones[g]&&$.copy(this.bones[g].matrixWorld).invert(),this.boneInverses.push($)}}pose(){for(let g=0,b=this.bones.length;g<b;g++){const $=this.bones[g];$&&$.matrixWorld.copy(this.boneInverses[g]).invert()}for(let g=0,b=this.bones.length;g<b;g++){const $=this.bones[g];$&&($.parent&&$.parent.isBone?($.matrix.copy($.parent.matrixWorld).invert(),$.matrix.multiply($.matrixWorld)):$.matrix.copy($.matrixWorld),$.matrix.decompose($.position,$.quaternion,$.scale))}}update(){const g=this.bones,b=this.boneInverses,$=this.boneMatrices,_e=this.boneTexture;for(let et=0,tt=g.length;et<tt;et++){const nt=g[et]?g[et].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(nt,b[et]),_offsetMatrix.toArray($,et*16)}_e!==null&&(_e.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let g=Math.sqrt(this.bones.length*4);g=ceilPowerOfTwo(g),g=Math.max(g,4);const b=new Float32Array(g*g*4);b.set(this.boneMatrices);const $=new DataTexture(b,g,g,RGBAFormat,FloatType);return $.needsUpdate=!0,this.boneMatrices=b,this.boneTexture=$,this.boneTextureSize=g,this}getBoneByName(g){for(let b=0,$=this.bones.length;b<$;b++){const _e=this.bones[b];if(_e.name===g)return _e}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(g,b){this.uuid=g.uuid;for(let $=0,_e=g.bones.length;$<_e;$++){const et=g.bones[$];let tt=b[et];tt===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",et),tt=new Bone),this.bones.push(tt),this.boneInverses.push(new Matrix4().fromArray(g.boneInverses[$]))}return this.init(),this}toJSON(){const g={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};g.uuid=this.uuid;const b=this.bones,$=this.boneInverses;for(let _e=0,et=b.length;_e<et;_e++){const tt=b[_e];g.bones.push(tt.uuid);const nt=$[_e];g.boneInverses.push(nt.toArray())}return g}}class InstancedBufferAttribute extends BufferAttribute{constructor(g,b,$,_e=1){typeof $=="number"&&(_e=$,$=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(g,b,$),this.meshPerAttribute=_e}copy(g){return super.copy(g),this.meshPerAttribute=g.meshPerAttribute,this}toJSON(){const g=super.toJSON();return g.meshPerAttribute=this.meshPerAttribute,g.isInstancedBufferAttribute=!0,g}}InstancedBufferAttribute.prototype.isInstancedBufferAttribute=!0;const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(g,b,$){super(g,b),this.instanceMatrix=new InstancedBufferAttribute(new Float32Array($*16),16),this.instanceColor=null,this.count=$,this.frustumCulled=!1}copy(g){return super.copy(g),this.instanceMatrix.copy(g.instanceMatrix),g.instanceColor!==null&&(this.instanceColor=g.instanceColor.clone()),this.count=g.count,this}getColorAt(g,b){b.fromArray(this.instanceColor.array,g*3)}getMatrixAt(g,b){b.fromArray(this.instanceMatrix.array,g*16)}raycast(g,b){const $=this.matrixWorld,_e=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let et=0;et<_e;et++){this.getMatrixAt(et,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices($,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(g,_instanceIntersects);for(let tt=0,nt=_instanceIntersects.length;tt<nt;tt++){const rt=_instanceIntersects[tt];rt.instanceId=et,rt.object=this,b.push(rt)}_instanceIntersects.length=0}}setColorAt(g,b){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),b.toArray(this.instanceColor.array,g*3)}setMatrixAt(g,b){b.toArray(this.instanceMatrix.array,g*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}InstancedMesh.prototype.isInstancedMesh=!0;class LineBasicMaterial extends Material{constructor(g){super(),this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(g)}copy(g){return super.copy(g),this.color.copy(g.color),this.linewidth=g.linewidth,this.linecap=g.linecap,this.linejoin=g.linejoin,this}}LineBasicMaterial.prototype.isLineBasicMaterial=!0;const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(g=new BufferGeometry,b=new LineBasicMaterial){super(),this.type="Line",this.geometry=g,this.material=b,this.updateMorphTargets()}copy(g){return super.copy(g),this.material=g.material,this.geometry=g.geometry,this}computeLineDistances(){const g=this.geometry;if(g.isBufferGeometry)if(g.index===null){const b=g.attributes.position,$=[0];for(let _e=1,et=b.count;_e<et;_e++)_start$1.fromBufferAttribute(b,_e-1),_end$1.fromBufferAttribute(b,_e),$[_e]=$[_e-1],$[_e]+=_start$1.distanceTo(_end$1);g.setAttribute("lineDistance",new Float32BufferAttribute($,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else g.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(g,b){const $=this.geometry,_e=this.matrixWorld,et=g.params.Line.threshold,tt=$.drawRange;if($.boundingSphere===null&&$.computeBoundingSphere(),_sphere$1.copy($.boundingSphere),_sphere$1.applyMatrix4(_e),_sphere$1.radius+=et,g.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(_e).invert(),_ray$1.copy(g.ray).applyMatrix4(_inverseMatrix$1);const nt=et/((this.scale.x+this.scale.y+this.scale.z)/3),rt=nt*nt,it=new Vector3,ot=new Vector3,st=new Vector3,at=new Vector3,lt=this.isLineSegments?2:1;if($.isBufferGeometry){const ut=$.index,ft=$.attributes.position;if(ut!==null){const ht=Math.max(0,tt.start),dt=Math.min(ut.count,tt.start+tt.count);for(let pt=ht,mt=dt-1;pt<mt;pt+=lt){const gt=ut.getX(pt),yt=ut.getX(pt+1);if(it.fromBufferAttribute(ft,gt),ot.fromBufferAttribute(ft,yt),_ray$1.distanceSqToSegment(it,ot,at,st)>rt)continue;at.applyMatrix4(this.matrixWorld);const vt=g.ray.origin.distanceTo(at);vt<g.near||vt>g.far||b.push({distance:vt,point:st.clone().applyMatrix4(this.matrixWorld),index:pt,face:null,faceIndex:null,object:this})}}else{const ht=Math.max(0,tt.start),dt=Math.min(ft.count,tt.start+tt.count);for(let pt=ht,mt=dt-1;pt<mt;pt+=lt){if(it.fromBufferAttribute(ft,pt),ot.fromBufferAttribute(ft,pt+1),_ray$1.distanceSqToSegment(it,ot,at,st)>rt)continue;at.applyMatrix4(this.matrixWorld);const yt=g.ray.origin.distanceTo(at);yt<g.near||yt>g.far||b.push({distance:yt,point:st.clone().applyMatrix4(this.matrixWorld),index:pt,face:null,faceIndex:null,object:this})}}}else $.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const g=this.geometry;if(g.isBufferGeometry){const b=g.morphAttributes,$=Object.keys(b);if($.length>0){const _e=b[$[0]];if(_e!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let et=0,tt=_e.length;et<tt;et++){const nt=_e[et].name||String(et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[nt]=et}}}}else{const b=g.morphTargets;b!==void 0&&b.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Line.prototype.isLine=!0;const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(g,b){super(g,b),this.type="LineSegments"}computeLineDistances(){const g=this.geometry;if(g.isBufferGeometry)if(g.index===null){const b=g.attributes.position,$=[];for(let _e=0,et=b.count;_e<et;_e+=2)_start.fromBufferAttribute(b,_e),_end.fromBufferAttribute(b,_e+1),$[_e]=_e===0?0:$[_e-1],$[_e+1]=$[_e]+_start.distanceTo(_end);g.setAttribute("lineDistance",new Float32BufferAttribute($,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else g.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}LineSegments.prototype.isLineSegments=!0;class LineLoop extends Line{constructor(g,b){super(g,b),this.type="LineLoop"}}LineLoop.prototype.isLineLoop=!0;class PointsMaterial extends Material{constructor(g){super(),this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(g)}copy(g){return super.copy(g),this.color.copy(g.color),this.map=g.map,this.alphaMap=g.alphaMap,this.size=g.size,this.sizeAttenuation=g.sizeAttenuation,this}}PointsMaterial.prototype.isPointsMaterial=!0;const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere$4=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(g=new BufferGeometry,b=new PointsMaterial){super(),this.type="Points",this.geometry=g,this.material=b,this.updateMorphTargets()}copy(g){return super.copy(g),this.material=g.material,this.geometry=g.geometry,this}raycast(g,b){const $=this.geometry,_e=this.matrixWorld,et=g.params.Points.threshold,tt=$.drawRange;if($.boundingSphere===null&&$.computeBoundingSphere(),_sphere$4.copy($.boundingSphere),_sphere$4.applyMatrix4(_e),_sphere$4.radius+=et,g.ray.intersectsSphere(_sphere$4)===!1)return;_inverseMatrix.copy(_e).invert(),_ray.copy(g.ray).applyMatrix4(_inverseMatrix);const nt=et/((this.scale.x+this.scale.y+this.scale.z)/3),rt=nt*nt;if($.isBufferGeometry){const it=$.index,st=$.attributes.position;if(it!==null){const at=Math.max(0,tt.start),lt=Math.min(it.count,tt.start+tt.count);for(let ut=at,ct=lt;ut<ct;ut++){const ft=it.getX(ut);_position$2.fromBufferAttribute(st,ft),testPoint(_position$2,ft,rt,_e,g,b,this)}}else{const at=Math.max(0,tt.start),lt=Math.min(st.count,tt.start+tt.count);for(let ut=at,ct=lt;ut<ct;ut++)_position$2.fromBufferAttribute(st,ut),testPoint(_position$2,ut,rt,_e,g,b,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const g=this.geometry;if(g.isBufferGeometry){const b=g.morphAttributes,$=Object.keys(b);if($.length>0){const _e=b[$[0]];if(_e!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let et=0,tt=_e.length;et<tt;et++){const nt=_e[et].name||String(et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[nt]=et}}}}else{const b=g.morphTargets;b!==void 0&&b.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Points.prototype.isPoints=!0;function testPoint(j,g,b,$,_e,et,tt){const nt=_ray.distanceSqToPoint(j);if(nt<b){const rt=new Vector3;_ray.closestPointToPoint(j,rt),rt.applyMatrix4($);const it=_e.ray.origin.distanceTo(rt);if(it<_e.near||it>_e.far)return;et.push({distance:it,distanceToRay:Math.sqrt(nt),point:rt,index:g,face:null,object:tt})}}class VideoTexture extends Texture{constructor(g,b,$,_e,et,tt,nt,rt,it){super(g,b,$,_e,et,tt,nt,rt,it),this.minFilter=tt!==void 0?tt:LinearFilter,this.magFilter=et!==void 0?et:LinearFilter,this.generateMipmaps=!1;const ot=this;function st(){ot.needsUpdate=!0,g.requestVideoFrameCallback(st)}"requestVideoFrameCallback"in g&&g.requestVideoFrameCallback(st)}clone(){return new this.constructor(this.image).copy(this)}update(){const g=this.image;"requestVideoFrameCallback"in g===!1&&g.readyState>=g.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}VideoTexture.prototype.isVideoTexture=!0;class FramebufferTexture extends Texture{constructor(g,b,$){super({width:g,height:b}),this.format=$,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}FramebufferTexture.prototype.isFramebufferTexture=!0;class CompressedTexture extends Texture{constructor(g,b,$,_e,et,tt,nt,rt,it,ot,st,at){super(null,tt,nt,rt,it,ot,_e,et,st,at),this.image={width:b,height:$},this.mipmaps=g,this.flipY=!1,this.generateMipmaps=!1}}CompressedTexture.prototype.isCompressedTexture=!0;class CanvasTexture extends Texture{constructor(g,b,$,_e,et,tt,nt,rt,it){super(g,b,$,_e,et,tt,nt,rt,it),this.needsUpdate=!0}}CanvasTexture.prototype.isCanvasTexture=!0;class CircleGeometry extends BufferGeometry{constructor(g=1,b=8,$=0,_e=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:g,segments:b,thetaStart:$,thetaLength:_e},b=Math.max(3,b);const et=[],tt=[],nt=[],rt=[],it=new Vector3,ot=new Vector2;tt.push(0,0,0),nt.push(0,0,1),rt.push(.5,.5);for(let st=0,at=3;st<=b;st++,at+=3){const lt=$+st/b*_e;it.x=g*Math.cos(lt),it.y=g*Math.sin(lt),tt.push(it.x,it.y,it.z),nt.push(0,0,1),ot.x=(tt[at]/g+1)/2,ot.y=(tt[at+1]/g+1)/2,rt.push(ot.x,ot.y)}for(let st=1;st<=b;st++)et.push(st,st+1,0);this.setIndex(et),this.setAttribute("position",new Float32BufferAttribute(tt,3)),this.setAttribute("normal",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(rt,2))}static fromJSON(g){return new CircleGeometry(g.radius,g.segments,g.thetaStart,g.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(g=1,b=1,$=1,_e=8,et=1,tt=!1,nt=0,rt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:g,radiusBottom:b,height:$,radialSegments:_e,heightSegments:et,openEnded:tt,thetaStart:nt,thetaLength:rt};const it=this;_e=Math.floor(_e),et=Math.floor(et);const ot=[],st=[],at=[],lt=[];let ut=0;const ct=[],ft=$/2;let ht=0;dt(),tt===!1&&(g>0&&pt(!0),b>0&&pt(!1)),this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2));function dt(){const mt=new Vector3,gt=new Vector3;let yt=0;const _t=(b-g)/$;for(let vt=0;vt<=et;vt++){const At=[],bt=vt/et,xt=bt*(b-g)+g;for(let Et=0;Et<=_e;Et++){const Mt=Et/_e,Tt=Mt*rt+nt,Lt=Math.sin(Tt),Ot=Math.cos(Tt);gt.x=xt*Lt,gt.y=-bt*$+ft,gt.z=xt*Ot,st.push(gt.x,gt.y,gt.z),mt.set(Lt,_t,Ot).normalize(),at.push(mt.x,mt.y,mt.z),lt.push(Mt,1-bt),At.push(ut++)}ct.push(At)}for(let vt=0;vt<_e;vt++)for(let At=0;At<et;At++){const bt=ct[At][vt],xt=ct[At+1][vt],Et=ct[At+1][vt+1],Mt=ct[At][vt+1];ot.push(bt,xt,Mt),ot.push(xt,Et,Mt),yt+=6}it.addGroup(ht,yt,0),ht+=yt}function pt(mt){const gt=ut,yt=new Vector2,_t=new Vector3;let vt=0;const At=mt===!0?g:b,bt=mt===!0?1:-1;for(let Et=1;Et<=_e;Et++)st.push(0,ft*bt,0),at.push(0,bt,0),lt.push(.5,.5),ut++;const xt=ut;for(let Et=0;Et<=_e;Et++){const Tt=Et/_e*rt+nt,Lt=Math.cos(Tt),Ot=Math.sin(Tt);_t.x=At*Ot,_t.y=ft*bt,_t.z=At*Lt,st.push(_t.x,_t.y,_t.z),at.push(0,bt,0),yt.x=Lt*.5+.5,yt.y=Ot*.5*bt+.5,lt.push(yt.x,yt.y),ut++}for(let Et=0;Et<_e;Et++){const Mt=gt+Et,Tt=xt+Et;mt===!0?ot.push(Tt,Tt+1,Mt):ot.push(Tt+1,Tt,Mt),vt+=3}it.addGroup(ht,vt,mt===!0?1:2),ht+=vt}}static fromJSON(g){return new CylinderGeometry(g.radiusTop,g.radiusBottom,g.height,g.radialSegments,g.heightSegments,g.openEnded,g.thetaStart,g.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(g=[],b=[],$=1,_e=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:g,indices:b,radius:$,detail:_e};const et=[],tt=[];nt(_e),it($),ot(),this.setAttribute("position",new Float32BufferAttribute(et,3)),this.setAttribute("normal",new Float32BufferAttribute(et.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(tt,2)),_e===0?this.computeVertexNormals():this.normalizeNormals();function nt(dt){const pt=new Vector3,mt=new Vector3,gt=new Vector3;for(let yt=0;yt<b.length;yt+=3)lt(b[yt+0],pt),lt(b[yt+1],mt),lt(b[yt+2],gt),rt(pt,mt,gt,dt)}function rt(dt,pt,mt,gt){const yt=gt+1,_t=[];for(let vt=0;vt<=yt;vt++){_t[vt]=[];const At=dt.clone().lerp(mt,vt/yt),bt=pt.clone().lerp(mt,vt/yt),xt=yt-vt;for(let Et=0;Et<=xt;Et++)Et===0&&vt===yt?_t[vt][Et]=At:_t[vt][Et]=At.clone().lerp(bt,Et/xt)}for(let vt=0;vt<yt;vt++)for(let At=0;At<2*(yt-vt)-1;At++){const bt=Math.floor(At/2);At%2===0?(at(_t[vt][bt+1]),at(_t[vt+1][bt]),at(_t[vt][bt])):(at(_t[vt][bt+1]),at(_t[vt+1][bt+1]),at(_t[vt+1][bt]))}}function it(dt){const pt=new Vector3;for(let mt=0;mt<et.length;mt+=3)pt.x=et[mt+0],pt.y=et[mt+1],pt.z=et[mt+2],pt.normalize().multiplyScalar(dt),et[mt+0]=pt.x,et[mt+1]=pt.y,et[mt+2]=pt.z}function ot(){const dt=new Vector3;for(let pt=0;pt<et.length;pt+=3){dt.x=et[pt+0],dt.y=et[pt+1],dt.z=et[pt+2];const mt=ft(dt)/2/Math.PI+.5,gt=ht(dt)/Math.PI+.5;tt.push(mt,1-gt)}ut(),st()}function st(){for(let dt=0;dt<tt.length;dt+=6){const pt=tt[dt+0],mt=tt[dt+2],gt=tt[dt+4],yt=Math.max(pt,mt,gt),_t=Math.min(pt,mt,gt);yt>.9&&_t<.1&&(pt<.2&&(tt[dt+0]+=1),mt<.2&&(tt[dt+2]+=1),gt<.2&&(tt[dt+4]+=1))}}function at(dt){et.push(dt.x,dt.y,dt.z)}function lt(dt,pt){const mt=dt*3;pt.x=g[mt+0],pt.y=g[mt+1],pt.z=g[mt+2]}function ut(){const dt=new Vector3,pt=new Vector3,mt=new Vector3,gt=new Vector3,yt=new Vector2,_t=new Vector2,vt=new Vector2;for(let At=0,bt=0;At<et.length;At+=9,bt+=6){dt.set(et[At+0],et[At+1],et[At+2]),pt.set(et[At+3],et[At+4],et[At+5]),mt.set(et[At+6],et[At+7],et[At+8]),yt.set(tt[bt+0],tt[bt+1]),_t.set(tt[bt+2],tt[bt+3]),vt.set(tt[bt+4],tt[bt+5]),gt.copy(dt).add(pt).add(mt).divideScalar(3);const xt=ft(gt);ct(yt,bt+0,dt,xt),ct(_t,bt+2,pt,xt),ct(vt,bt+4,mt,xt)}}function ct(dt,pt,mt,gt){gt<0&&dt.x===1&&(tt[pt]=dt.x-1),mt.x===0&&mt.z===0&&(tt[pt]=gt/2/Math.PI+.5)}function ft(dt){return Math.atan2(dt.z,-dt.x)}function ht(dt){return Math.atan2(-dt.y,Math.sqrt(dt.x*dt.x+dt.z*dt.z))}}static fromJSON(g){return new PolyhedronGeometry(g.vertices,g.indices,g.radius,g.details)}}new Vector3;new Vector3;new Vector3;new Triangle;class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(g,b){const $=this.getUtoTmapping(g);return this.getPoint($,b)}getPoints(g=5){const b=[];for(let $=0;$<=g;$++)b.push(this.getPoint($/g));return b}getSpacedPoints(g=5){const b=[];for(let $=0;$<=g;$++)b.push(this.getPointAt($/g));return b}getLength(){const g=this.getLengths();return g[g.length-1]}getLengths(g=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===g+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const b=[];let $,_e=this.getPoint(0),et=0;b.push(0);for(let tt=1;tt<=g;tt++)$=this.getPoint(tt/g),et+=$.distanceTo(_e),b.push(et),_e=$;return this.cacheArcLengths=b,b}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(g,b){const $=this.getLengths();let _e=0;const et=$.length;let tt;b?tt=b:tt=g*$[et-1];let nt=0,rt=et-1,it;for(;nt<=rt;)if(_e=Math.floor(nt+(rt-nt)/2),it=$[_e]-tt,it<0)nt=_e+1;else if(it>0)rt=_e-1;else{rt=_e;break}if(_e=rt,$[_e]===tt)return _e/(et-1);const ot=$[_e],at=$[_e+1]-ot,lt=(tt-ot)/at;return(_e+lt)/(et-1)}getTangent(g,b){let _e=g-1e-4,et=g+1e-4;_e<0&&(_e=0),et>1&&(et=1);const tt=this.getPoint(_e),nt=this.getPoint(et),rt=b||(tt.isVector2?new Vector2:new Vector3);return rt.copy(nt).sub(tt).normalize(),rt}getTangentAt(g,b){const $=this.getUtoTmapping(g);return this.getTangent($,b)}computeFrenetFrames(g,b){const $=new Vector3,_e=[],et=[],tt=[],nt=new Vector3,rt=new Matrix4;for(let lt=0;lt<=g;lt++){const ut=lt/g;_e[lt]=this.getTangentAt(ut,new Vector3)}et[0]=new Vector3,tt[0]=new Vector3;let it=Number.MAX_VALUE;const ot=Math.abs(_e[0].x),st=Math.abs(_e[0].y),at=Math.abs(_e[0].z);ot<=it&&(it=ot,$.set(1,0,0)),st<=it&&(it=st,$.set(0,1,0)),at<=it&&$.set(0,0,1),nt.crossVectors(_e[0],$).normalize(),et[0].crossVectors(_e[0],nt),tt[0].crossVectors(_e[0],et[0]);for(let lt=1;lt<=g;lt++){if(et[lt]=et[lt-1].clone(),tt[lt]=tt[lt-1].clone(),nt.crossVectors(_e[lt-1],_e[lt]),nt.length()>Number.EPSILON){nt.normalize();const ut=Math.acos(clamp$1(_e[lt-1].dot(_e[lt]),-1,1));et[lt].applyMatrix4(rt.makeRotationAxis(nt,ut))}tt[lt].crossVectors(_e[lt],et[lt])}if(b===!0){let lt=Math.acos(clamp$1(et[0].dot(et[g]),-1,1));lt/=g,_e[0].dot(nt.crossVectors(et[0],et[g]))>0&&(lt=-lt);for(let ut=1;ut<=g;ut++)et[ut].applyMatrix4(rt.makeRotationAxis(_e[ut],lt*ut)),tt[ut].crossVectors(_e[ut],et[ut])}return{tangents:_e,normals:et,binormals:tt}}clone(){return new this.constructor().copy(this)}copy(g){return this.arcLengthDivisions=g.arcLengthDivisions,this}toJSON(){const g={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return g.arcLengthDivisions=this.arcLengthDivisions,g.type=this.type,g}fromJSON(g){return this.arcLengthDivisions=g.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(g=0,b=0,$=1,_e=1,et=0,tt=Math.PI*2,nt=!1,rt=0){super(),this.type="EllipseCurve",this.aX=g,this.aY=b,this.xRadius=$,this.yRadius=_e,this.aStartAngle=et,this.aEndAngle=tt,this.aClockwise=nt,this.aRotation=rt}getPoint(g,b){const $=b||new Vector2,_e=Math.PI*2;let et=this.aEndAngle-this.aStartAngle;const tt=Math.abs(et)<Number.EPSILON;for(;et<0;)et+=_e;for(;et>_e;)et-=_e;et<Number.EPSILON&&(tt?et=0:et=_e),this.aClockwise===!0&&!tt&&(et===_e?et=-_e:et=et-_e);const nt=this.aStartAngle+g*et;let rt=this.aX+this.xRadius*Math.cos(nt),it=this.aY+this.yRadius*Math.sin(nt);if(this.aRotation!==0){const ot=Math.cos(this.aRotation),st=Math.sin(this.aRotation),at=rt-this.aX,lt=it-this.aY;rt=at*ot-lt*st+this.aX,it=at*st+lt*ot+this.aY}return $.set(rt,it)}copy(g){return super.copy(g),this.aX=g.aX,this.aY=g.aY,this.xRadius=g.xRadius,this.yRadius=g.yRadius,this.aStartAngle=g.aStartAngle,this.aEndAngle=g.aEndAngle,this.aClockwise=g.aClockwise,this.aRotation=g.aRotation,this}toJSON(){const g=super.toJSON();return g.aX=this.aX,g.aY=this.aY,g.xRadius=this.xRadius,g.yRadius=this.yRadius,g.aStartAngle=this.aStartAngle,g.aEndAngle=this.aEndAngle,g.aClockwise=this.aClockwise,g.aRotation=this.aRotation,g}fromJSON(g){return super.fromJSON(g),this.aX=g.aX,this.aY=g.aY,this.xRadius=g.xRadius,this.yRadius=g.yRadius,this.aStartAngle=g.aStartAngle,this.aEndAngle=g.aEndAngle,this.aClockwise=g.aClockwise,this.aRotation=g.aRotation,this}}EllipseCurve.prototype.isEllipseCurve=!0;class ArcCurve extends EllipseCurve{constructor(g,b,$,_e,et,tt){super(g,b,$,$,_e,et,tt),this.type="ArcCurve"}}ArcCurve.prototype.isArcCurve=!0;function CubicPoly(){let j=0,g=0,b=0,$=0;function _e(et,tt,nt,rt){j=et,g=nt,b=-3*et+3*tt-2*nt-rt,$=2*et-2*tt+nt+rt}return{initCatmullRom:function(et,tt,nt,rt,it){_e(tt,nt,it*(nt-et),it*(rt-tt))},initNonuniformCatmullRom:function(et,tt,nt,rt,it,ot,st){let at=(tt-et)/it-(nt-et)/(it+ot)+(nt-tt)/ot,lt=(nt-tt)/ot-(rt-tt)/(ot+st)+(rt-nt)/st;at*=ot,lt*=ot,_e(tt,nt,at,lt)},calc:function(et){const tt=et*et,nt=tt*et;return j+g*et+b*tt+$*nt}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(g=[],b=!1,$="centripetal",_e=.5){super(),this.type="CatmullRomCurve3",this.points=g,this.closed=b,this.curveType=$,this.tension=_e}getPoint(g,b=new Vector3){const $=b,_e=this.points,et=_e.length,tt=(et-(this.closed?0:1))*g;let nt=Math.floor(tt),rt=tt-nt;this.closed?nt+=nt>0?0:(Math.floor(Math.abs(nt)/et)+1)*et:rt===0&&nt===et-1&&(nt=et-2,rt=1);let it,ot;this.closed||nt>0?it=_e[(nt-1)%et]:(tmp.subVectors(_e[0],_e[1]).add(_e[0]),it=tmp);const st=_e[nt%et],at=_e[(nt+1)%et];if(this.closed||nt+2<et?ot=_e[(nt+2)%et]:(tmp.subVectors(_e[et-1],_e[et-2]).add(_e[et-1]),ot=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const lt=this.curveType==="chordal"?.5:.25;let ut=Math.pow(it.distanceToSquared(st),lt),ct=Math.pow(st.distanceToSquared(at),lt),ft=Math.pow(at.distanceToSquared(ot),lt);ct<1e-4&&(ct=1),ut<1e-4&&(ut=ct),ft<1e-4&&(ft=ct),px.initNonuniformCatmullRom(it.x,st.x,at.x,ot.x,ut,ct,ft),py.initNonuniformCatmullRom(it.y,st.y,at.y,ot.y,ut,ct,ft),pz.initNonuniformCatmullRom(it.z,st.z,at.z,ot.z,ut,ct,ft)}else this.curveType==="catmullrom"&&(px.initCatmullRom(it.x,st.x,at.x,ot.x,this.tension),py.initCatmullRom(it.y,st.y,at.y,ot.y,this.tension),pz.initCatmullRom(it.z,st.z,at.z,ot.z,this.tension));return $.set(px.calc(rt),py.calc(rt),pz.calc(rt)),$}copy(g){super.copy(g),this.points=[];for(let b=0,$=g.points.length;b<$;b++){const _e=g.points[b];this.points.push(_e.clone())}return this.closed=g.closed,this.curveType=g.curveType,this.tension=g.tension,this}toJSON(){const g=super.toJSON();g.points=[];for(let b=0,$=this.points.length;b<$;b++){const _e=this.points[b];g.points.push(_e.toArray())}return g.closed=this.closed,g.curveType=this.curveType,g.tension=this.tension,g}fromJSON(g){super.fromJSON(g),this.points=[];for(let b=0,$=g.points.length;b<$;b++){const _e=g.points[b];this.points.push(new Vector3().fromArray(_e))}return this.closed=g.closed,this.curveType=g.curveType,this.tension=g.tension,this}}CatmullRomCurve3.prototype.isCatmullRomCurve3=!0;function CatmullRom(j,g,b,$,_e){const et=($-g)*.5,tt=(_e-b)*.5,nt=j*j,rt=j*nt;return(2*b-2*$+et+tt)*rt+(-3*b+3*$-2*et-tt)*nt+et*j+b}function QuadraticBezierP0(j,g){const b=1-j;return b*b*g}function QuadraticBezierP1(j,g){return 2*(1-j)*j*g}function QuadraticBezierP2(j,g){return j*j*g}function QuadraticBezier(j,g,b,$){return QuadraticBezierP0(j,g)+QuadraticBezierP1(j,b)+QuadraticBezierP2(j,$)}function CubicBezierP0(j,g){const b=1-j;return b*b*b*g}function CubicBezierP1(j,g){const b=1-j;return 3*b*b*j*g}function CubicBezierP2(j,g){return 3*(1-j)*j*j*g}function CubicBezierP3(j,g){return j*j*j*g}function CubicBezier(j,g,b,$,_e){return CubicBezierP0(j,g)+CubicBezierP1(j,b)+CubicBezierP2(j,$)+CubicBezierP3(j,_e)}class CubicBezierCurve extends Curve{constructor(g=new Vector2,b=new Vector2,$=new Vector2,_e=new Vector2){super(),this.type="CubicBezierCurve",this.v0=g,this.v1=b,this.v2=$,this.v3=_e}getPoint(g,b=new Vector2){const $=b,_e=this.v0,et=this.v1,tt=this.v2,nt=this.v3;return $.set(CubicBezier(g,_e.x,et.x,tt.x,nt.x),CubicBezier(g,_e.y,et.y,tt.y,nt.y)),$}copy(g){return super.copy(g),this.v0.copy(g.v0),this.v1.copy(g.v1),this.v2.copy(g.v2),this.v3.copy(g.v3),this}toJSON(){const g=super.toJSON();return g.v0=this.v0.toArray(),g.v1=this.v1.toArray(),g.v2=this.v2.toArray(),g.v3=this.v3.toArray(),g}fromJSON(g){return super.fromJSON(g),this.v0.fromArray(g.v0),this.v1.fromArray(g.v1),this.v2.fromArray(g.v2),this.v3.fromArray(g.v3),this}}CubicBezierCurve.prototype.isCubicBezierCurve=!0;class CubicBezierCurve3 extends Curve{constructor(g=new Vector3,b=new Vector3,$=new Vector3,_e=new Vector3){super(),this.type="CubicBezierCurve3",this.v0=g,this.v1=b,this.v2=$,this.v3=_e}getPoint(g,b=new Vector3){const $=b,_e=this.v0,et=this.v1,tt=this.v2,nt=this.v3;return $.set(CubicBezier(g,_e.x,et.x,tt.x,nt.x),CubicBezier(g,_e.y,et.y,tt.y,nt.y),CubicBezier(g,_e.z,et.z,tt.z,nt.z)),$}copy(g){return super.copy(g),this.v0.copy(g.v0),this.v1.copy(g.v1),this.v2.copy(g.v2),this.v3.copy(g.v3),this}toJSON(){const g=super.toJSON();return g.v0=this.v0.toArray(),g.v1=this.v1.toArray(),g.v2=this.v2.toArray(),g.v3=this.v3.toArray(),g}fromJSON(g){return super.fromJSON(g),this.v0.fromArray(g.v0),this.v1.fromArray(g.v1),this.v2.fromArray(g.v2),this.v3.fromArray(g.v3),this}}CubicBezierCurve3.prototype.isCubicBezierCurve3=!0;class LineCurve extends Curve{constructor(g=new Vector2,b=new Vector2){super(),this.type="LineCurve",this.v1=g,this.v2=b}getPoint(g,b=new Vector2){const $=b;return g===1?$.copy(this.v2):($.copy(this.v2).sub(this.v1),$.multiplyScalar(g).add(this.v1)),$}getPointAt(g,b){return this.getPoint(g,b)}getTangent(g,b){const $=b||new Vector2;return $.copy(this.v2).sub(this.v1).normalize(),$}copy(g){return super.copy(g),this.v1.copy(g.v1),this.v2.copy(g.v2),this}toJSON(){const g=super.toJSON();return g.v1=this.v1.toArray(),g.v2=this.v2.toArray(),g}fromJSON(g){return super.fromJSON(g),this.v1.fromArray(g.v1),this.v2.fromArray(g.v2),this}}LineCurve.prototype.isLineCurve=!0;class LineCurve3 extends Curve{constructor(g=new Vector3,b=new Vector3){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=g,this.v2=b}getPoint(g,b=new Vector3){const $=b;return g===1?$.copy(this.v2):($.copy(this.v2).sub(this.v1),$.multiplyScalar(g).add(this.v1)),$}getPointAt(g,b){return this.getPoint(g,b)}copy(g){return super.copy(g),this.v1.copy(g.v1),this.v2.copy(g.v2),this}toJSON(){const g=super.toJSON();return g.v1=this.v1.toArray(),g.v2=this.v2.toArray(),g}fromJSON(g){return super.fromJSON(g),this.v1.fromArray(g.v1),this.v2.fromArray(g.v2),this}}class QuadraticBezierCurve extends Curve{constructor(g=new Vector2,b=new Vector2,$=new Vector2){super(),this.type="QuadraticBezierCurve",this.v0=g,this.v1=b,this.v2=$}getPoint(g,b=new Vector2){const $=b,_e=this.v0,et=this.v1,tt=this.v2;return $.set(QuadraticBezier(g,_e.x,et.x,tt.x),QuadraticBezier(g,_e.y,et.y,tt.y)),$}copy(g){return super.copy(g),this.v0.copy(g.v0),this.v1.copy(g.v1),this.v2.copy(g.v2),this}toJSON(){const g=super.toJSON();return g.v0=this.v0.toArray(),g.v1=this.v1.toArray(),g.v2=this.v2.toArray(),g}fromJSON(g){return super.fromJSON(g),this.v0.fromArray(g.v0),this.v1.fromArray(g.v1),this.v2.fromArray(g.v2),this}}QuadraticBezierCurve.prototype.isQuadraticBezierCurve=!0;class QuadraticBezierCurve3 extends Curve{constructor(g=new Vector3,b=new Vector3,$=new Vector3){super(),this.type="QuadraticBezierCurve3",this.v0=g,this.v1=b,this.v2=$}getPoint(g,b=new Vector3){const $=b,_e=this.v0,et=this.v1,tt=this.v2;return $.set(QuadraticBezier(g,_e.x,et.x,tt.x),QuadraticBezier(g,_e.y,et.y,tt.y),QuadraticBezier(g,_e.z,et.z,tt.z)),$}copy(g){return super.copy(g),this.v0.copy(g.v0),this.v1.copy(g.v1),this.v2.copy(g.v2),this}toJSON(){const g=super.toJSON();return g.v0=this.v0.toArray(),g.v1=this.v1.toArray(),g.v2=this.v2.toArray(),g}fromJSON(g){return super.fromJSON(g),this.v0.fromArray(g.v0),this.v1.fromArray(g.v1),this.v2.fromArray(g.v2),this}}QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3=!0;class SplineCurve extends Curve{constructor(g=[]){super(),this.type="SplineCurve",this.points=g}getPoint(g,b=new Vector2){const $=b,_e=this.points,et=(_e.length-1)*g,tt=Math.floor(et),nt=et-tt,rt=_e[tt===0?tt:tt-1],it=_e[tt],ot=_e[tt>_e.length-2?_e.length-1:tt+1],st=_e[tt>_e.length-3?_e.length-1:tt+2];return $.set(CatmullRom(nt,rt.x,it.x,ot.x,st.x),CatmullRom(nt,rt.y,it.y,ot.y,st.y)),$}copy(g){super.copy(g),this.points=[];for(let b=0,$=g.points.length;b<$;b++){const _e=g.points[b];this.points.push(_e.clone())}return this}toJSON(){const g=super.toJSON();g.points=[];for(let b=0,$=this.points.length;b<$;b++){const _e=this.points[b];g.points.push(_e.toArray())}return g}fromJSON(g){super.fromJSON(g),this.points=[];for(let b=0,$=g.points.length;b<$;b++){const _e=g.points[b];this.points.push(new Vector2().fromArray(_e))}return this}}SplineCurve.prototype.isSplineCurve=!0;var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(g){this.curves.push(g)}closePath(){const g=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);g.equals(b)||this.curves.push(new LineCurve(b,g))}getPoint(g,b){const $=g*this.getLength(),_e=this.getCurveLengths();let et=0;for(;et<_e.length;){if(_e[et]>=$){const tt=_e[et]-$,nt=this.curves[et],rt=nt.getLength(),it=rt===0?0:1-tt/rt;return nt.getPointAt(it,b)}et++}return null}getLength(){const g=this.getCurveLengths();return g[g.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const g=[];let b=0;for(let $=0,_e=this.curves.length;$<_e;$++)b+=this.curves[$].getLength(),g.push(b);return this.cacheLengths=g,g}getSpacedPoints(g=40){const b=[];for(let $=0;$<=g;$++)b.push(this.getPoint($/g));return this.autoClose&&b.push(b[0]),b}getPoints(g=12){const b=[];let $;for(let _e=0,et=this.curves;_e<et.length;_e++){const tt=et[_e],nt=tt.isEllipseCurve?g*2:tt.isLineCurve||tt.isLineCurve3?1:tt.isSplineCurve?g*tt.points.length:g,rt=tt.getPoints(nt);for(let it=0;it<rt.length;it++){const ot=rt[it];$&&$.equals(ot)||(b.push(ot),$=ot)}}return this.autoClose&&b.length>1&&!b[b.length-1].equals(b[0])&&b.push(b[0]),b}copy(g){super.copy(g),this.curves=[];for(let b=0,$=g.curves.length;b<$;b++){const _e=g.curves[b];this.curves.push(_e.clone())}return this.autoClose=g.autoClose,this}toJSON(){const g=super.toJSON();g.autoClose=this.autoClose,g.curves=[];for(let b=0,$=this.curves.length;b<$;b++){const _e=this.curves[b];g.curves.push(_e.toJSON())}return g}fromJSON(g){super.fromJSON(g),this.autoClose=g.autoClose,this.curves=[];for(let b=0,$=g.curves.length;b<$;b++){const _e=g.curves[b];this.curves.push(new Curves[_e.type]().fromJSON(_e))}return this}}class Path extends CurvePath{constructor(g){super(),this.type="Path",this.currentPoint=new Vector2,g&&this.setFromPoints(g)}setFromPoints(g){this.moveTo(g[0].x,g[0].y);for(let b=1,$=g.length;b<$;b++)this.lineTo(g[b].x,g[b].y);return this}moveTo(g,b){return this.currentPoint.set(g,b),this}lineTo(g,b){const $=new LineCurve(this.currentPoint.clone(),new Vector2(g,b));return this.curves.push($),this.currentPoint.set(g,b),this}quadraticCurveTo(g,b,$,_e){const et=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(g,b),new Vector2($,_e));return this.curves.push(et),this.currentPoint.set($,_e),this}bezierCurveTo(g,b,$,_e,et,tt){const nt=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(g,b),new Vector2($,_e),new Vector2(et,tt));return this.curves.push(nt),this.currentPoint.set(et,tt),this}splineThru(g){const b=[this.currentPoint.clone()].concat(g),$=new SplineCurve(b);return this.curves.push($),this.currentPoint.copy(g[g.length-1]),this}arc(g,b,$,_e,et,tt){const nt=this.currentPoint.x,rt=this.currentPoint.y;return this.absarc(g+nt,b+rt,$,_e,et,tt),this}absarc(g,b,$,_e,et,tt){return this.absellipse(g,b,$,$,_e,et,tt),this}ellipse(g,b,$,_e,et,tt,nt,rt){const it=this.currentPoint.x,ot=this.currentPoint.y;return this.absellipse(g+it,b+ot,$,_e,et,tt,nt,rt),this}absellipse(g,b,$,_e,et,tt,nt,rt){const it=new EllipseCurve(g,b,$,_e,et,tt,nt,rt);if(this.curves.length>0){const st=it.getPoint(0);st.equals(this.currentPoint)||this.lineTo(st.x,st.y)}this.curves.push(it);const ot=it.getPoint(1);return this.currentPoint.copy(ot),this}copy(g){return super.copy(g),this.currentPoint.copy(g.currentPoint),this}toJSON(){const g=super.toJSON();return g.currentPoint=this.currentPoint.toArray(),g}fromJSON(g){return super.fromJSON(g),this.currentPoint.fromArray(g.currentPoint),this}}class Shape extends Path{constructor(g){super(g),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(g){const b=[];for(let $=0,_e=this.holes.length;$<_e;$++)b[$]=this.holes[$].getPoints(g);return b}extractPoints(g){return{shape:this.getPoints(g),holes:this.getPointsHoles(g)}}copy(g){super.copy(g),this.holes=[];for(let b=0,$=g.holes.length;b<$;b++){const _e=g.holes[b];this.holes.push(_e.clone())}return this}toJSON(){const g=super.toJSON();g.uuid=this.uuid,g.holes=[];for(let b=0,$=this.holes.length;b<$;b++){const _e=this.holes[b];g.holes.push(_e.toJSON())}return g}fromJSON(g){super.fromJSON(g),this.uuid=g.uuid,this.holes=[];for(let b=0,$=g.holes.length;b<$;b++){const _e=g.holes[b];this.holes.push(new Path().fromJSON(_e))}return this}}const Earcut={triangulate:function(j,g,b=2){const $=g&&g.length,_e=$?g[0]*b:j.length;let et=linkedList(j,0,_e,b,!0);const tt=[];if(!et||et.next===et.prev)return tt;let nt,rt,it,ot,st,at,lt;if($&&(et=eliminateHoles(j,g,et,b)),j.length>80*b){nt=it=j[0],rt=ot=j[1];for(let ut=b;ut<_e;ut+=b)st=j[ut],at=j[ut+1],st<nt&&(nt=st),at<rt&&(rt=at),st>it&&(it=st),at>ot&&(ot=at);lt=Math.max(it-nt,ot-rt),lt=lt!==0?1/lt:0}return earcutLinked(et,tt,b,nt,rt,lt),tt}};function linkedList(j,g,b,$,_e){let et,tt;if(_e===signedArea(j,g,b,$)>0)for(et=g;et<b;et+=$)tt=insertNode(et,j[et],j[et+1],tt);else for(et=b-$;et>=g;et-=$)tt=insertNode(et,j[et],j[et+1],tt);return tt&&equals(tt,tt.next)&&(removeNode(tt),tt=tt.next),tt}function filterPoints(j,g){if(!j)return j;g||(g=j);let b=j,$;do if($=!1,!b.steiner&&(equals(b,b.next)||area(b.prev,b,b.next)===0)){if(removeNode(b),b=g=b.prev,b===b.next)break;$=!0}else b=b.next;while($||b!==g);return g}function earcutLinked(j,g,b,$,_e,et,tt){if(!j)return;!tt&&et&&indexCurve(j,$,_e,et);let nt=j,rt,it;for(;j.prev!==j.next;){if(rt=j.prev,it=j.next,et?isEarHashed(j,$,_e,et):isEar(j)){g.push(rt.i/b),g.push(j.i/b),g.push(it.i/b),removeNode(j),j=it.next,nt=it.next;continue}if(j=it,j===nt){tt?tt===1?(j=cureLocalIntersections(filterPoints(j),g,b),earcutLinked(j,g,b,$,_e,et,2)):tt===2&&splitEarcut(j,g,b,$,_e,et):earcutLinked(filterPoints(j),g,b,$,_e,et,1);break}}}function isEar(j){const g=j.prev,b=j,$=j.next;if(area(g,b,$)>=0)return!1;let _e=j.next.next;for(;_e!==j.prev;){if(pointInTriangle(g.x,g.y,b.x,b.y,$.x,$.y,_e.x,_e.y)&&area(_e.prev,_e,_e.next)>=0)return!1;_e=_e.next}return!0}function isEarHashed(j,g,b,$){const _e=j.prev,et=j,tt=j.next;if(area(_e,et,tt)>=0)return!1;const nt=_e.x<et.x?_e.x<tt.x?_e.x:tt.x:et.x<tt.x?et.x:tt.x,rt=_e.y<et.y?_e.y<tt.y?_e.y:tt.y:et.y<tt.y?et.y:tt.y,it=_e.x>et.x?_e.x>tt.x?_e.x:tt.x:et.x>tt.x?et.x:tt.x,ot=_e.y>et.y?_e.y>tt.y?_e.y:tt.y:et.y>tt.y?et.y:tt.y,st=zOrder(nt,rt,g,b,$),at=zOrder(it,ot,g,b,$);let lt=j.prevZ,ut=j.nextZ;for(;lt&&lt.z>=st&&ut&&ut.z<=at;){if(lt!==j.prev&&lt!==j.next&&pointInTriangle(_e.x,_e.y,et.x,et.y,tt.x,tt.y,lt.x,lt.y)&&area(lt.prev,lt,lt.next)>=0||(lt=lt.prevZ,ut!==j.prev&&ut!==j.next&&pointInTriangle(_e.x,_e.y,et.x,et.y,tt.x,tt.y,ut.x,ut.y)&&area(ut.prev,ut,ut.next)>=0))return!1;ut=ut.nextZ}for(;lt&&lt.z>=st;){if(lt!==j.prev&&lt!==j.next&&pointInTriangle(_e.x,_e.y,et.x,et.y,tt.x,tt.y,lt.x,lt.y)&&area(lt.prev,lt,lt.next)>=0)return!1;lt=lt.prevZ}for(;ut&&ut.z<=at;){if(ut!==j.prev&&ut!==j.next&&pointInTriangle(_e.x,_e.y,et.x,et.y,tt.x,tt.y,ut.x,ut.y)&&area(ut.prev,ut,ut.next)>=0)return!1;ut=ut.nextZ}return!0}function cureLocalIntersections(j,g,b){let $=j;do{const _e=$.prev,et=$.next.next;!equals(_e,et)&&intersects(_e,$,$.next,et)&&locallyInside(_e,et)&&locallyInside(et,_e)&&(g.push(_e.i/b),g.push($.i/b),g.push(et.i/b),removeNode($),removeNode($.next),$=j=et),$=$.next}while($!==j);return filterPoints($)}function splitEarcut(j,g,b,$,_e,et){let tt=j;do{let nt=tt.next.next;for(;nt!==tt.prev;){if(tt.i!==nt.i&&isValidDiagonal(tt,nt)){let rt=splitPolygon(tt,nt);tt=filterPoints(tt,tt.next),rt=filterPoints(rt,rt.next),earcutLinked(tt,g,b,$,_e,et),earcutLinked(rt,g,b,$,_e,et);return}nt=nt.next}tt=tt.next}while(tt!==j)}function eliminateHoles(j,g,b,$){const _e=[];let et,tt,nt,rt,it;for(et=0,tt=g.length;et<tt;et++)nt=g[et]*$,rt=et<tt-1?g[et+1]*$:j.length,it=linkedList(j,nt,rt,$,!1),it===it.next&&(it.steiner=!0),_e.push(getLeftmost(it));for(_e.sort(compareX),et=0;et<_e.length;et++)eliminateHole(_e[et],b),b=filterPoints(b,b.next);return b}function compareX(j,g){return j.x-g.x}function eliminateHole(j,g){if(g=findHoleBridge(j,g),g){const b=splitPolygon(g,j);filterPoints(g,g.next),filterPoints(b,b.next)}}function findHoleBridge(j,g){let b=g;const $=j.x,_e=j.y;let et=-1/0,tt;do{if(_e<=b.y&&_e>=b.next.y&&b.next.y!==b.y){const at=b.x+(_e-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(at<=$&&at>et){if(et=at,at===$){if(_e===b.y)return b;if(_e===b.next.y)return b.next}tt=b.x<b.next.x?b:b.next}}b=b.next}while(b!==g);if(!tt)return null;if($===et)return tt;const nt=tt,rt=tt.x,it=tt.y;let ot=1/0,st;b=tt;do $>=b.x&&b.x>=rt&&$!==b.x&&pointInTriangle(_e<it?$:et,_e,rt,it,_e<it?et:$,_e,b.x,b.y)&&(st=Math.abs(_e-b.y)/($-b.x),locallyInside(b,j)&&(st<ot||st===ot&&(b.x>tt.x||b.x===tt.x&&sectorContainsSector(tt,b)))&&(tt=b,ot=st)),b=b.next;while(b!==nt);return tt}function sectorContainsSector(j,g){return area(j.prev,j,g.prev)<0&&area(g.next,j,j.next)<0}function indexCurve(j,g,b,$){let _e=j;do _e.z===null&&(_e.z=zOrder(_e.x,_e.y,g,b,$)),_e.prevZ=_e.prev,_e.nextZ=_e.next,_e=_e.next;while(_e!==j);_e.prevZ.nextZ=null,_e.prevZ=null,sortLinked(_e)}function sortLinked(j){let g,b,$,_e,et,tt,nt,rt,it=1;do{for(b=j,j=null,et=null,tt=0;b;){for(tt++,$=b,nt=0,g=0;g<it&&(nt++,$=$.nextZ,!!$);g++);for(rt=it;nt>0||rt>0&&$;)nt!==0&&(rt===0||!$||b.z<=$.z)?(_e=b,b=b.nextZ,nt--):(_e=$,$=$.nextZ,rt--),et?et.nextZ=_e:j=_e,_e.prevZ=et,et=_e;b=$}et.nextZ=null,it*=2}while(tt>1);return j}function zOrder(j,g,b,$,_e){return j=32767*(j-b)*_e,g=32767*(g-$)*_e,j=(j|j<<8)&16711935,j=(j|j<<4)&252645135,j=(j|j<<2)&858993459,j=(j|j<<1)&1431655765,g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,g=(g|g<<1)&1431655765,j|g<<1}function getLeftmost(j){let g=j,b=j;do(g.x<b.x||g.x===b.x&&g.y<b.y)&&(b=g),g=g.next;while(g!==j);return b}function pointInTriangle(j,g,b,$,_e,et,tt,nt){return(_e-tt)*(g-nt)-(j-tt)*(et-nt)>=0&&(j-tt)*($-nt)-(b-tt)*(g-nt)>=0&&(b-tt)*(et-nt)-(_e-tt)*($-nt)>=0}function isValidDiagonal(j,g){return j.next.i!==g.i&&j.prev.i!==g.i&&!intersectsPolygon(j,g)&&(locallyInside(j,g)&&locallyInside(g,j)&&middleInside(j,g)&&(area(j.prev,j,g.prev)||area(j,g.prev,g))||equals(j,g)&&area(j.prev,j,j.next)>0&&area(g.prev,g,g.next)>0)}function area(j,g,b){return(g.y-j.y)*(b.x-g.x)-(g.x-j.x)*(b.y-g.y)}function equals(j,g){return j.x===g.x&&j.y===g.y}function intersects(j,g,b,$){const _e=sign(area(j,g,b)),et=sign(area(j,g,$)),tt=sign(area(b,$,j)),nt=sign(area(b,$,g));return!!(_e!==et&&tt!==nt||_e===0&&onSegment(j,b,g)||et===0&&onSegment(j,$,g)||tt===0&&onSegment(b,j,$)||nt===0&&onSegment(b,g,$))}function onSegment(j,g,b){return g.x<=Math.max(j.x,b.x)&&g.x>=Math.min(j.x,b.x)&&g.y<=Math.max(j.y,b.y)&&g.y>=Math.min(j.y,b.y)}function sign(j){return j>0?1:j<0?-1:0}function intersectsPolygon(j,g){let b=j;do{if(b.i!==j.i&&b.next.i!==j.i&&b.i!==g.i&&b.next.i!==g.i&&intersects(b,b.next,j,g))return!0;b=b.next}while(b!==j);return!1}function locallyInside(j,g){return area(j.prev,j,j.next)<0?area(j,g,j.next)>=0&&area(j,j.prev,g)>=0:area(j,g,j.prev)<0||area(j,j.next,g)<0}function middleInside(j,g){let b=j,$=!1;const _e=(j.x+g.x)/2,et=(j.y+g.y)/2;do b.y>et!=b.next.y>et&&b.next.y!==b.y&&_e<(b.next.x-b.x)*(et-b.y)/(b.next.y-b.y)+b.x&&($=!$),b=b.next;while(b!==j);return $}function splitPolygon(j,g){const b=new Node(j.i,j.x,j.y),$=new Node(g.i,g.x,g.y),_e=j.next,et=g.prev;return j.next=g,g.prev=j,b.next=_e,_e.prev=b,$.next=b,b.prev=$,et.next=$,$.prev=et,$}function insertNode(j,g,b,$){const _e=new Node(j,g,b);return $?(_e.next=$.next,_e.prev=$,$.next.prev=_e,$.next=_e):(_e.prev=_e,_e.next=_e),_e}function removeNode(j){j.next.prev=j.prev,j.prev.next=j.next,j.prevZ&&(j.prevZ.nextZ=j.nextZ),j.nextZ&&(j.nextZ.prevZ=j.prevZ)}function Node(j,g,b){this.i=j,this.x=g,this.y=b,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(j,g,b,$){let _e=0;for(let et=g,tt=b-$;et<b;et+=$)_e+=(j[tt]-j[et])*(j[et+1]+j[tt+1]),tt=et;return _e}class ShapeUtils{static area(g){const b=g.length;let $=0;for(let _e=b-1,et=0;et<b;_e=et++)$+=g[_e].x*g[et].y-g[et].x*g[_e].y;return $*.5}static isClockWise(g){return ShapeUtils.area(g)<0}static triangulateShape(g,b){const $=[],_e=[],et=[];removeDupEndPts(g),addContour($,g);let tt=g.length;b.forEach(removeDupEndPts);for(let rt=0;rt<b.length;rt++)_e.push(tt),tt+=b[rt].length,addContour($,b[rt]);const nt=Earcut.triangulate($,_e);for(let rt=0;rt<nt.length;rt+=3)et.push(nt.slice(rt,rt+3));return et}}function removeDupEndPts(j){const g=j.length;g>2&&j[g-1].equals(j[0])&&j.pop()}function addContour(j,g){for(let b=0;b<g.length;b++)j.push(g[b].x),j.push(g[b].y)}class ExtrudeGeometry extends BufferGeometry{constructor(g=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),b={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:g,options:b},g=Array.isArray(g)?g:[g];const $=this,_e=[],et=[];for(let nt=0,rt=g.length;nt<rt;nt++){const it=g[nt];tt(it)}this.setAttribute("position",new Float32BufferAttribute(_e,3)),this.setAttribute("uv",new Float32BufferAttribute(et,2)),this.computeVertexNormals();function tt(nt){const rt=[],it=b.curveSegments!==void 0?b.curveSegments:12,ot=b.steps!==void 0?b.steps:1;let st=b.depth!==void 0?b.depth:1,at=b.bevelEnabled!==void 0?b.bevelEnabled:!0,lt=b.bevelThickness!==void 0?b.bevelThickness:.2,ut=b.bevelSize!==void 0?b.bevelSize:lt-.1,ct=b.bevelOffset!==void 0?b.bevelOffset:0,ft=b.bevelSegments!==void 0?b.bevelSegments:3;const ht=b.extrudePath,dt=b.UVGenerator!==void 0?b.UVGenerator:WorldUVGenerator;b.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),st=b.amount);let pt,mt=!1,gt,yt,_t,vt;ht&&(pt=ht.getSpacedPoints(ot),mt=!0,at=!1,gt=ht.computeFrenetFrames(ot,!1),yt=new Vector3,_t=new Vector3,vt=new Vector3),at||(ft=0,lt=0,ut=0,ct=0);const At=nt.extractPoints(it);let bt=At.shape;const xt=At.holes;if(!ShapeUtils.isClockWise(bt)){bt=bt.reverse();for(let Wt=0,qt=xt.length;Wt<qt;Wt++){const Xt=xt[Wt];ShapeUtils.isClockWise(Xt)&&(xt[Wt]=Xt.reverse())}}const Mt=ShapeUtils.triangulateShape(bt,xt),Tt=bt;for(let Wt=0,qt=xt.length;Wt<qt;Wt++){const Xt=xt[Wt];bt=bt.concat(Xt)}function Lt(Wt,qt,Xt){return qt||console.error("THREE.ExtrudeGeometry: vec does not exist"),qt.clone().multiplyScalar(Xt).add(Wt)}const Ot=bt.length,Rt=Mt.length;function Ct(Wt,qt,Xt){let vn,gn,en;const hn=Wt.x-qt.x,rn=Wt.y-qt.y,un=Xt.x-Wt.x,Nt=Xt.y-Wt.y,Vt=hn*hn+rn*rn,cn=hn*Nt-rn*un;if(Math.abs(cn)>Number.EPSILON){const dn=Math.sqrt(Vt),mn=Math.sqrt(un*un+Nt*Nt),bn=qt.x-rn/dn,Cn=qt.y+hn/dn,an=Xt.x-Nt/mn,Tn=Xt.y+un/mn,Dn=((an-bn)*Nt-(Tn-Cn)*un)/(hn*Nt-rn*un);vn=bn+hn*Dn-Wt.x,gn=Cn+rn*Dn-Wt.y;const Sn=vn*vn+gn*gn;if(Sn<=2)return new Vector2(vn,gn);en=Math.sqrt(Sn/2)}else{let dn=!1;hn>Number.EPSILON?un>Number.EPSILON&&(dn=!0):hn<-Number.EPSILON?un<-Number.EPSILON&&(dn=!0):Math.sign(rn)===Math.sign(Nt)&&(dn=!0),dn?(vn=-rn,gn=hn,en=Math.sqrt(Vt)):(vn=hn,gn=rn,en=Math.sqrt(Vt/2))}return new Vector2(vn/en,gn/en)}const Dt=[];for(let Wt=0,qt=Tt.length,Xt=qt-1,vn=Wt+1;Wt<qt;Wt++,Xt++,vn++)Xt===qt&&(Xt=0),vn===qt&&(vn=0),Dt[Wt]=Ct(Tt[Wt],Tt[Xt],Tt[vn]);const Bt=[];let kt,zt=Dt.concat();for(let Wt=0,qt=xt.length;Wt<qt;Wt++){const Xt=xt[Wt];kt=[];for(let vn=0,gn=Xt.length,en=gn-1,hn=vn+1;vn<gn;vn++,en++,hn++)en===gn&&(en=0),hn===gn&&(hn=0),kt[vn]=Ct(Xt[vn],Xt[en],Xt[hn]);Bt.push(kt),zt=zt.concat(kt)}for(let Wt=0;Wt<ft;Wt++){const qt=Wt/ft,Xt=lt*Math.cos(qt*Math.PI/2),vn=ut*Math.sin(qt*Math.PI/2)+ct;for(let gn=0,en=Tt.length;gn<en;gn++){const hn=Lt(Tt[gn],Dt[gn],vn);jt(hn.x,hn.y,-Xt)}for(let gn=0,en=xt.length;gn<en;gn++){const hn=xt[gn];kt=Bt[gn];for(let rn=0,un=hn.length;rn<un;rn++){const Nt=Lt(hn[rn],kt[rn],vn);jt(Nt.x,Nt.y,-Xt)}}}const Ft=ut+ct;for(let Wt=0;Wt<Ot;Wt++){const qt=at?Lt(bt[Wt],zt[Wt],Ft):bt[Wt];mt?(_t.copy(gt.normals[0]).multiplyScalar(qt.x),yt.copy(gt.binormals[0]).multiplyScalar(qt.y),vt.copy(pt[0]).add(_t).add(yt),jt(vt.x,vt.y,vt.z)):jt(qt.x,qt.y,0)}for(let Wt=1;Wt<=ot;Wt++)for(let qt=0;qt<Ot;qt++){const Xt=at?Lt(bt[qt],zt[qt],Ft):bt[qt];mt?(_t.copy(gt.normals[Wt]).multiplyScalar(Xt.x),yt.copy(gt.binormals[Wt]).multiplyScalar(Xt.y),vt.copy(pt[Wt]).add(_t).add(yt),jt(vt.x,vt.y,vt.z)):jt(Xt.x,Xt.y,st/ot*Wt)}for(let Wt=ft-1;Wt>=0;Wt--){const qt=Wt/ft,Xt=lt*Math.cos(qt*Math.PI/2),vn=ut*Math.sin(qt*Math.PI/2)+ct;for(let gn=0,en=Tt.length;gn<en;gn++){const hn=Lt(Tt[gn],Dt[gn],vn);jt(hn.x,hn.y,st+Xt)}for(let gn=0,en=xt.length;gn<en;gn++){const hn=xt[gn];kt=Bt[gn];for(let rn=0,un=hn.length;rn<un;rn++){const Nt=Lt(hn[rn],kt[rn],vn);mt?jt(Nt.x,Nt.y+pt[ot-1].y,pt[ot-1].x+Xt):jt(Nt.x,Nt.y,st+Xt)}}}It(),Ut();function It(){const Wt=_e.length/3;if(at){let qt=0,Xt=Ot*qt;for(let vn=0;vn<Rt;vn++){const gn=Mt[vn];Yt(gn[2]+Xt,gn[1]+Xt,gn[0]+Xt)}qt=ot+ft*2,Xt=Ot*qt;for(let vn=0;vn<Rt;vn++){const gn=Mt[vn];Yt(gn[0]+Xt,gn[1]+Xt,gn[2]+Xt)}}else{for(let qt=0;qt<Rt;qt++){const Xt=Mt[qt];Yt(Xt[2],Xt[1],Xt[0])}for(let qt=0;qt<Rt;qt++){const Xt=Mt[qt];Yt(Xt[0]+Ot*ot,Xt[1]+Ot*ot,Xt[2]+Ot*ot)}}$.addGroup(Wt,_e.length/3-Wt,0)}function Ut(){const Wt=_e.length/3;let qt=0;Gt(Tt,qt),qt+=Tt.length;for(let Xt=0,vn=xt.length;Xt<vn;Xt++){const gn=xt[Xt];Gt(gn,qt),qt+=gn.length}$.addGroup(Wt,_e.length/3-Wt,1)}function Gt(Wt,qt){let Xt=Wt.length;for(;--Xt>=0;){const vn=Xt;let gn=Xt-1;gn<0&&(gn=Wt.length-1);for(let en=0,hn=ot+ft*2;en<hn;en++){const rn=Ot*en,un=Ot*(en+1),Nt=qt+vn+rn,Vt=qt+gn+rn,cn=qt+gn+un,dn=qt+vn+un;Qt(Nt,Vt,cn,dn)}}}function jt(Wt,qt,Xt){rt.push(Wt),rt.push(qt),rt.push(Xt)}function Yt(Wt,qt,Xt){ln(Wt),ln(qt),ln(Xt);const vn=_e.length/3,gn=dt.generateTopUV($,_e,vn-3,vn-2,vn-1);Zt(gn[0]),Zt(gn[1]),Zt(gn[2])}function Qt(Wt,qt,Xt,vn){ln(Wt),ln(qt),ln(vn),ln(qt),ln(Xt),ln(vn);const gn=_e.length/3,en=dt.generateSideWallUV($,_e,gn-6,gn-3,gn-2,gn-1);Zt(en[0]),Zt(en[1]),Zt(en[3]),Zt(en[1]),Zt(en[2]),Zt(en[3])}function ln(Wt){_e.push(rt[Wt*3+0]),_e.push(rt[Wt*3+1]),_e.push(rt[Wt*3+2])}function Zt(Wt){et.push(Wt.x),et.push(Wt.y)}}}toJSON(){const g=super.toJSON(),b=this.parameters.shapes,$=this.parameters.options;return toJSON$1(b,$,g)}static fromJSON(g,b){const $=[];for(let et=0,tt=g.shapes.length;et<tt;et++){const nt=b[g.shapes[et]];$.push(nt)}const _e=g.options.extrudePath;return _e!==void 0&&(g.options.extrudePath=new Curves[_e.type]().fromJSON(_e)),new ExtrudeGeometry($,g.options)}}const WorldUVGenerator={generateTopUV:function(j,g,b,$,_e){const et=g[b*3],tt=g[b*3+1],nt=g[$*3],rt=g[$*3+1],it=g[_e*3],ot=g[_e*3+1];return[new Vector2(et,tt),new Vector2(nt,rt),new Vector2(it,ot)]},generateSideWallUV:function(j,g,b,$,_e,et){const tt=g[b*3],nt=g[b*3+1],rt=g[b*3+2],it=g[$*3],ot=g[$*3+1],st=g[$*3+2],at=g[_e*3],lt=g[_e*3+1],ut=g[_e*3+2],ct=g[et*3],ft=g[et*3+1],ht=g[et*3+2];return Math.abs(nt-ot)<Math.abs(tt-it)?[new Vector2(tt,1-rt),new Vector2(it,1-st),new Vector2(at,1-ut),new Vector2(ct,1-ht)]:[new Vector2(nt,1-rt),new Vector2(ot,1-st),new Vector2(lt,1-ut),new Vector2(ft,1-ht)]}};function toJSON$1(j,g,b){if(b.shapes=[],Array.isArray(j))for(let $=0,_e=j.length;$<_e;$++){const et=j[$];b.shapes.push(et.uuid)}else b.shapes.push(j.uuid);return g.extrudePath!==void 0&&(b.options.extrudePath=g.extrudePath.toJSON()),b}class OctahedronGeometry extends PolyhedronGeometry{constructor(g=1,b=0){const $=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],_e=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super($,_e,g,b),this.type="OctahedronGeometry",this.parameters={radius:g,detail:b}}static fromJSON(g){return new OctahedronGeometry(g.radius,g.detail)}}class ShapeGeometry extends BufferGeometry{constructor(g=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),b=12){super(),this.type="ShapeGeometry",this.parameters={shapes:g,curveSegments:b};const $=[],_e=[],et=[],tt=[];let nt=0,rt=0;if(Array.isArray(g)===!1)it(g);else for(let ot=0;ot<g.length;ot++)it(g[ot]),this.addGroup(nt,rt,ot),nt+=rt,rt=0;this.setIndex($),this.setAttribute("position",new Float32BufferAttribute(_e,3)),this.setAttribute("normal",new Float32BufferAttribute(et,3)),this.setAttribute("uv",new Float32BufferAttribute(tt,2));function it(ot){const st=_e.length/3,at=ot.extractPoints(b);let lt=at.shape;const ut=at.holes;ShapeUtils.isClockWise(lt)===!1&&(lt=lt.reverse());for(let ft=0,ht=ut.length;ft<ht;ft++){const dt=ut[ft];ShapeUtils.isClockWise(dt)===!0&&(ut[ft]=dt.reverse())}const ct=ShapeUtils.triangulateShape(lt,ut);for(let ft=0,ht=ut.length;ft<ht;ft++){const dt=ut[ft];lt=lt.concat(dt)}for(let ft=0,ht=lt.length;ft<ht;ft++){const dt=lt[ft];_e.push(dt.x,dt.y,0),et.push(0,0,1),tt.push(dt.x,dt.y)}for(let ft=0,ht=ct.length;ft<ht;ft++){const dt=ct[ft],pt=dt[0]+st,mt=dt[1]+st,gt=dt[2]+st;$.push(pt,mt,gt),rt+=3}}}toJSON(){const g=super.toJSON(),b=this.parameters.shapes;return toJSON(b,g)}static fromJSON(g,b){const $=[];for(let _e=0,et=g.shapes.length;_e<et;_e++){const tt=b[g.shapes[_e]];$.push(tt)}return new ShapeGeometry($,g.curveSegments)}}function toJSON(j,g){if(g.shapes=[],Array.isArray(j))for(let b=0,$=j.length;b<$;b++){const _e=j[b];g.shapes.push(_e.uuid)}else g.shapes.push(j.uuid);return g}class SphereGeometry extends BufferGeometry{constructor(g=1,b=32,$=16,_e=0,et=Math.PI*2,tt=0,nt=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:g,widthSegments:b,heightSegments:$,phiStart:_e,phiLength:et,thetaStart:tt,thetaLength:nt},b=Math.max(3,Math.floor(b)),$=Math.max(2,Math.floor($));const rt=Math.min(tt+nt,Math.PI);let it=0;const ot=[],st=new Vector3,at=new Vector3,lt=[],ut=[],ct=[],ft=[];for(let ht=0;ht<=$;ht++){const dt=[],pt=ht/$;let mt=0;ht==0&&tt==0?mt=.5/b:ht==$&&rt==Math.PI&&(mt=-.5/b);for(let gt=0;gt<=b;gt++){const yt=gt/b;st.x=-g*Math.cos(_e+yt*et)*Math.sin(tt+pt*nt),st.y=g*Math.cos(tt+pt*nt),st.z=g*Math.sin(_e+yt*et)*Math.sin(tt+pt*nt),ut.push(st.x,st.y,st.z),at.copy(st).normalize(),ct.push(at.x,at.y,at.z),ft.push(yt+mt,1-pt),dt.push(it++)}ot.push(dt)}for(let ht=0;ht<$;ht++)for(let dt=0;dt<b;dt++){const pt=ot[ht][dt+1],mt=ot[ht][dt],gt=ot[ht+1][dt],yt=ot[ht+1][dt+1];(ht!==0||tt>0)&&lt.push(pt,mt,yt),(ht!==$-1||rt<Math.PI)&&lt.push(mt,gt,yt)}this.setIndex(lt),this.setAttribute("position",new Float32BufferAttribute(ut,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ft,2))}static fromJSON(g){return new SphereGeometry(g.radius,g.widthSegments,g.heightSegments,g.phiStart,g.phiLength,g.thetaStart,g.thetaLength)}}class TorusGeometry extends BufferGeometry{constructor(g=1,b=.4,$=8,_e=6,et=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:g,tube:b,radialSegments:$,tubularSegments:_e,arc:et},$=Math.floor($),_e=Math.floor(_e);const tt=[],nt=[],rt=[],it=[],ot=new Vector3,st=new Vector3,at=new Vector3;for(let lt=0;lt<=$;lt++)for(let ut=0;ut<=_e;ut++){const ct=ut/_e*et,ft=lt/$*Math.PI*2;st.x=(g+b*Math.cos(ft))*Math.cos(ct),st.y=(g+b*Math.cos(ft))*Math.sin(ct),st.z=b*Math.sin(ft),nt.push(st.x,st.y,st.z),ot.x=g*Math.cos(ct),ot.y=g*Math.sin(ct),at.subVectors(st,ot).normalize(),rt.push(at.x,at.y,at.z),it.push(ut/_e),it.push(lt/$)}for(let lt=1;lt<=$;lt++)for(let ut=1;ut<=_e;ut++){const ct=(_e+1)*lt+ut-1,ft=(_e+1)*(lt-1)+ut-1,ht=(_e+1)*(lt-1)+ut,dt=(_e+1)*lt+ut;tt.push(ct,ft,dt),tt.push(ft,ht,dt)}this.setIndex(tt),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2))}static fromJSON(g){return new TorusGeometry(g.radius,g.tube,g.radialSegments,g.tubularSegments,g.arc)}}class ShadowMaterial extends Material{constructor(g){super(),this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.setValues(g)}copy(g){return super.copy(g),this.color.copy(g.color),this}}ShadowMaterial.prototype.isShadowMaterial=!0;class RawShaderMaterial extends ShaderMaterial{constructor(g){super(g),this.type="RawShaderMaterial"}}RawShaderMaterial.prototype.isRawShaderMaterial=!0;class MeshStandardMaterial extends Material{constructor(g){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(g)}copy(g){return super.copy(g),this.defines={STANDARD:""},this.color.copy(g.color),this.roughness=g.roughness,this.metalness=g.metalness,this.map=g.map,this.lightMap=g.lightMap,this.lightMapIntensity=g.lightMapIntensity,this.aoMap=g.aoMap,this.aoMapIntensity=g.aoMapIntensity,this.emissive.copy(g.emissive),this.emissiveMap=g.emissiveMap,this.emissiveIntensity=g.emissiveIntensity,this.bumpMap=g.bumpMap,this.bumpScale=g.bumpScale,this.normalMap=g.normalMap,this.normalMapType=g.normalMapType,this.normalScale.copy(g.normalScale),this.displacementMap=g.displacementMap,this.displacementScale=g.displacementScale,this.displacementBias=g.displacementBias,this.roughnessMap=g.roughnessMap,this.metalnessMap=g.metalnessMap,this.alphaMap=g.alphaMap,this.envMap=g.envMap,this.envMapIntensity=g.envMapIntensity,this.refractionRatio=g.refractionRatio,this.wireframe=g.wireframe,this.wireframeLinewidth=g.wireframeLinewidth,this.wireframeLinecap=g.wireframeLinecap,this.wireframeLinejoin=g.wireframeLinejoin,this.flatShading=g.flatShading,this}}MeshStandardMaterial.prototype.isMeshStandardMaterial=!0;class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(g){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$1(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(b){this.ior=(1+.4*b)/(1-.4*b)}}),this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(g)}get sheen(){return this._sheen}set sheen(g){this._sheen>0!=g>0&&this.version++,this._sheen=g}get clearcoat(){return this._clearcoat}set clearcoat(g){this._clearcoat>0!=g>0&&this.version++,this._clearcoat=g}get transmission(){return this._transmission}set transmission(g){this._transmission>0!=g>0&&this.version++,this._transmission=g}copy(g){return super.copy(g),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=g.clearcoat,this.clearcoatMap=g.clearcoatMap,this.clearcoatRoughness=g.clearcoatRoughness,this.clearcoatRoughnessMap=g.clearcoatRoughnessMap,this.clearcoatNormalMap=g.clearcoatNormalMap,this.clearcoatNormalScale.copy(g.clearcoatNormalScale),this.ior=g.ior,this.sheen=g.sheen,this.sheenColor.copy(g.sheenColor),this.sheenColorMap=g.sheenColorMap,this.sheenRoughness=g.sheenRoughness,this.sheenRoughnessMap=g.sheenRoughnessMap,this.transmission=g.transmission,this.transmissionMap=g.transmissionMap,this.thickness=g.thickness,this.thicknessMap=g.thicknessMap,this.attenuationDistance=g.attenuationDistance,this.attenuationColor.copy(g.attenuationColor),this.specularIntensity=g.specularIntensity,this.specularIntensityMap=g.specularIntensityMap,this.specularColor.copy(g.specularColor),this.specularColorMap=g.specularColorMap,this}}MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=!0;class MeshPhongMaterial extends Material{constructor(g){super(),this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(g)}copy(g){return super.copy(g),this.color.copy(g.color),this.specular.copy(g.specular),this.shininess=g.shininess,this.map=g.map,this.lightMap=g.lightMap,this.lightMapIntensity=g.lightMapIntensity,this.aoMap=g.aoMap,this.aoMapIntensity=g.aoMapIntensity,this.emissive.copy(g.emissive),this.emissiveMap=g.emissiveMap,this.emissiveIntensity=g.emissiveIntensity,this.bumpMap=g.bumpMap,this.bumpScale=g.bumpScale,this.normalMap=g.normalMap,this.normalMapType=g.normalMapType,this.normalScale.copy(g.normalScale),this.displacementMap=g.displacementMap,this.displacementScale=g.displacementScale,this.displacementBias=g.displacementBias,this.specularMap=g.specularMap,this.alphaMap=g.alphaMap,this.envMap=g.envMap,this.combine=g.combine,this.reflectivity=g.reflectivity,this.refractionRatio=g.refractionRatio,this.wireframe=g.wireframe,this.wireframeLinewidth=g.wireframeLinewidth,this.wireframeLinecap=g.wireframeLinecap,this.wireframeLinejoin=g.wireframeLinejoin,this.flatShading=g.flatShading,this}}MeshPhongMaterial.prototype.isMeshPhongMaterial=!0;class MeshToonMaterial extends Material{constructor(g){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(g)}copy(g){return super.copy(g),this.color.copy(g.color),this.map=g.map,this.gradientMap=g.gradientMap,this.lightMap=g.lightMap,this.lightMapIntensity=g.lightMapIntensity,this.aoMap=g.aoMap,this.aoMapIntensity=g.aoMapIntensity,this.emissive.copy(g.emissive),this.emissiveMap=g.emissiveMap,this.emissiveIntensity=g.emissiveIntensity,this.bumpMap=g.bumpMap,this.bumpScale=g.bumpScale,this.normalMap=g.normalMap,this.normalMapType=g.normalMapType,this.normalScale.copy(g.normalScale),this.displacementMap=g.displacementMap,this.displacementScale=g.displacementScale,this.displacementBias=g.displacementBias,this.alphaMap=g.alphaMap,this.wireframe=g.wireframe,this.wireframeLinewidth=g.wireframeLinewidth,this.wireframeLinecap=g.wireframeLinecap,this.wireframeLinejoin=g.wireframeLinejoin,this}}MeshToonMaterial.prototype.isMeshToonMaterial=!0;class MeshNormalMaterial extends Material{constructor(g){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(g)}copy(g){return super.copy(g),this.bumpMap=g.bumpMap,this.bumpScale=g.bumpScale,this.normalMap=g.normalMap,this.normalMapType=g.normalMapType,this.normalScale.copy(g.normalScale),this.displacementMap=g.displacementMap,this.displacementScale=g.displacementScale,this.displacementBias=g.displacementBias,this.wireframe=g.wireframe,this.wireframeLinewidth=g.wireframeLinewidth,this.flatShading=g.flatShading,this}}MeshNormalMaterial.prototype.isMeshNormalMaterial=!0;class MeshLambertMaterial extends Material{constructor(g){super(),this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(g)}copy(g){return super.copy(g),this.color.copy(g.color),this.map=g.map,this.lightMap=g.lightMap,this.lightMapIntensity=g.lightMapIntensity,this.aoMap=g.aoMap,this.aoMapIntensity=g.aoMapIntensity,this.emissive.copy(g.emissive),this.emissiveMap=g.emissiveMap,this.emissiveIntensity=g.emissiveIntensity,this.specularMap=g.specularMap,this.alphaMap=g.alphaMap,this.envMap=g.envMap,this.combine=g.combine,this.reflectivity=g.reflectivity,this.refractionRatio=g.refractionRatio,this.wireframe=g.wireframe,this.wireframeLinewidth=g.wireframeLinewidth,this.wireframeLinecap=g.wireframeLinecap,this.wireframeLinejoin=g.wireframeLinejoin,this}}MeshLambertMaterial.prototype.isMeshLambertMaterial=!0;class MeshMatcapMaterial extends Material{constructor(g){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(g)}copy(g){return super.copy(g),this.defines={MATCAP:""},this.color.copy(g.color),this.matcap=g.matcap,this.map=g.map,this.bumpMap=g.bumpMap,this.bumpScale=g.bumpScale,this.normalMap=g.normalMap,this.normalMapType=g.normalMapType,this.normalScale.copy(g.normalScale),this.displacementMap=g.displacementMap,this.displacementScale=g.displacementScale,this.displacementBias=g.displacementBias,this.alphaMap=g.alphaMap,this.flatShading=g.flatShading,this}}MeshMatcapMaterial.prototype.isMeshMatcapMaterial=!0;class LineDashedMaterial extends LineBasicMaterial{constructor(g){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(g)}copy(g){return super.copy(g),this.scale=g.scale,this.dashSize=g.dashSize,this.gapSize=g.gapSize,this}}LineDashedMaterial.prototype.isLineDashedMaterial=!0;const materialLib={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};Material.fromType=function(j){return new materialLib[j]};const AnimationUtils={arraySlice:function(j,g,b){return AnimationUtils.isTypedArray(j)?new j.constructor(j.subarray(g,b!==void 0?b:j.length)):j.slice(g,b)},convertArray:function(j,g,b){return!j||!b&&j.constructor===g?j:typeof g.BYTES_PER_ELEMENT=="number"?new g(j):Array.prototype.slice.call(j)},isTypedArray:function(j){return ArrayBuffer.isView(j)&&!(j instanceof DataView)},getKeyframeOrder:function(j){function g(_e,et){return j[_e]-j[et]}const b=j.length,$=new Array(b);for(let _e=0;_e!==b;++_e)$[_e]=_e;return $.sort(g),$},sortedArray:function(j,g,b){const $=j.length,_e=new j.constructor($);for(let et=0,tt=0;tt!==$;++et){const nt=b[et]*g;for(let rt=0;rt!==g;++rt)_e[tt++]=j[nt+rt]}return _e},flattenJSON:function(j,g,b,$){let _e=1,et=j[0];for(;et!==void 0&&et[$]===void 0;)et=j[_e++];if(et===void 0)return;let tt=et[$];if(tt!==void 0)if(Array.isArray(tt))do tt=et[$],tt!==void 0&&(g.push(et.time),b.push.apply(b,tt)),et=j[_e++];while(et!==void 0);else if(tt.toArray!==void 0)do tt=et[$],tt!==void 0&&(g.push(et.time),tt.toArray(b,b.length)),et=j[_e++];while(et!==void 0);else do tt=et[$],tt!==void 0&&(g.push(et.time),b.push(tt)),et=j[_e++];while(et!==void 0)},subclip:function(j,g,b,$,_e=30){const et=j.clone();et.name=g;const tt=[];for(let rt=0;rt<et.tracks.length;++rt){const it=et.tracks[rt],ot=it.getValueSize(),st=[],at=[];for(let lt=0;lt<it.times.length;++lt){const ut=it.times[lt]*_e;if(!(ut<b||ut>=$)){st.push(it.times[lt]);for(let ct=0;ct<ot;++ct)at.push(it.values[lt*ot+ct])}}st.length!==0&&(it.times=AnimationUtils.convertArray(st,it.times.constructor),it.values=AnimationUtils.convertArray(at,it.values.constructor),tt.push(it))}et.tracks=tt;let nt=1/0;for(let rt=0;rt<et.tracks.length;++rt)nt>et.tracks[rt].times[0]&&(nt=et.tracks[rt].times[0]);for(let rt=0;rt<et.tracks.length;++rt)et.tracks[rt].shift(-1*nt);return et.resetDuration(),et},makeClipAdditive:function(j,g=0,b=j,$=30){$<=0&&($=30);const _e=b.tracks.length,et=g/$;for(let tt=0;tt<_e;++tt){const nt=b.tracks[tt],rt=nt.ValueTypeName;if(rt==="bool"||rt==="string")continue;const it=j.tracks.find(function(ht){return ht.name===nt.name&&ht.ValueTypeName===rt});if(it===void 0)continue;let ot=0;const st=nt.getValueSize();nt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ot=st/3);let at=0;const lt=it.getValueSize();it.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(at=lt/3);const ut=nt.times.length-1;let ct;if(et<=nt.times[0]){const ht=ot,dt=st-ot;ct=AnimationUtils.arraySlice(nt.values,ht,dt)}else if(et>=nt.times[ut]){const ht=ut*st+ot,dt=ht+st-ot;ct=AnimationUtils.arraySlice(nt.values,ht,dt)}else{const ht=nt.createInterpolant(),dt=ot,pt=st-ot;ht.evaluate(et),ct=AnimationUtils.arraySlice(ht.resultBuffer,dt,pt)}rt==="quaternion"&&new Quaternion().fromArray(ct).normalize().conjugate().toArray(ct);const ft=it.times.length;for(let ht=0;ht<ft;++ht){const dt=ht*lt+at;if(rt==="quaternion")Quaternion.multiplyQuaternionsFlat(it.values,dt,ct,0,it.values,dt);else{const pt=lt-at*2;for(let mt=0;mt<pt;++mt)it.values[dt+mt]-=ct[mt]}}}return j.blendMode=AdditiveAnimationBlendMode,j}};class Interpolant{constructor(g,b,$,_e){this.parameterPositions=g,this._cachedIndex=0,this.resultBuffer=_e!==void 0?_e:new b.constructor($),this.sampleValues=b,this.valueSize=$,this.settings=null,this.DefaultSettings_={}}evaluate(g){const b=this.parameterPositions;let $=this._cachedIndex,_e=b[$],et=b[$-1];e:{t:{let tt;n:{r:if(!(g<_e)){for(let nt=$+2;;){if(_e===void 0){if(g<et)break r;return $=b.length,this._cachedIndex=$,this.afterEnd_($-1,g,et)}if($===nt)break;if(et=_e,_e=b[++$],g<_e)break t}tt=b.length;break n}if(!(g>=et)){const nt=b[1];g<nt&&($=2,et=nt);for(let rt=$-2;;){if(et===void 0)return this._cachedIndex=0,this.beforeStart_(0,g,_e);if($===rt)break;if(_e=et,et=b[--$-1],g>=et)break t}tt=$,$=0;break n}break e}for(;$<tt;){const nt=$+tt>>>1;g<b[nt]?tt=nt:$=nt+1}if(_e=b[$],et=b[$-1],et===void 0)return this._cachedIndex=0,this.beforeStart_(0,g,_e);if(_e===void 0)return $=b.length,this._cachedIndex=$,this.afterEnd_($-1,et,g)}this._cachedIndex=$,this.intervalChanged_($,et,_e)}return this.interpolate_($,et,g,_e)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(g){const b=this.resultBuffer,$=this.sampleValues,_e=this.valueSize,et=g*_e;for(let tt=0;tt!==_e;++tt)b[tt]=$[et+tt];return b}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Interpolant.prototype.beforeStart_=Interpolant.prototype.copySampleValue_;Interpolant.prototype.afterEnd_=Interpolant.prototype.copySampleValue_;class CubicInterpolant extends Interpolant{constructor(g,b,$,_e){super(g,b,$,_e),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(g,b,$){const _e=this.parameterPositions;let et=g-2,tt=g+1,nt=_e[et],rt=_e[tt];if(nt===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:et=g,nt=2*b-$;break;case WrapAroundEnding:et=_e.length-2,nt=b+_e[et]-_e[et+1];break;default:et=g,nt=$}if(rt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:tt=g,rt=2*$-b;break;case WrapAroundEnding:tt=1,rt=$+_e[1]-_e[0];break;default:tt=g-1,rt=b}const it=($-b)*.5,ot=this.valueSize;this._weightPrev=it/(b-nt),this._weightNext=it/(rt-$),this._offsetPrev=et*ot,this._offsetNext=tt*ot}interpolate_(g,b,$,_e){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=g*nt,it=rt-nt,ot=this._offsetPrev,st=this._offsetNext,at=this._weightPrev,lt=this._weightNext,ut=($-b)/(_e-b),ct=ut*ut,ft=ct*ut,ht=-at*ft+2*at*ct-at*ut,dt=(1+at)*ft+(-1.5-2*at)*ct+(-.5+at)*ut+1,pt=(-1-lt)*ft+(1.5+lt)*ct+.5*ut,mt=lt*ft-lt*ct;for(let gt=0;gt!==nt;++gt)et[gt]=ht*tt[ot+gt]+dt*tt[it+gt]+pt*tt[rt+gt]+mt*tt[st+gt];return et}}class LinearInterpolant extends Interpolant{constructor(g,b,$,_e){super(g,b,$,_e)}interpolate_(g,b,$,_e){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=g*nt,it=rt-nt,ot=($-b)/(_e-b),st=1-ot;for(let at=0;at!==nt;++at)et[at]=tt[it+at]*st+tt[rt+at]*ot;return et}}class DiscreteInterpolant extends Interpolant{constructor(g,b,$,_e){super(g,b,$,_e)}interpolate_(g){return this.copySampleValue_(g-1)}}class KeyframeTrack{constructor(g,b,$,_e){if(g===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(b===void 0||b.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+g);this.name=g,this.times=AnimationUtils.convertArray(b,this.TimeBufferType),this.values=AnimationUtils.convertArray($,this.ValueBufferType),this.setInterpolation(_e||this.DefaultInterpolation)}static toJSON(g){const b=g.constructor;let $;if(b.toJSON!==this.toJSON)$=b.toJSON(g);else{$={name:g.name,times:AnimationUtils.convertArray(g.times,Array),values:AnimationUtils.convertArray(g.values,Array)};const _e=g.getInterpolation();_e!==g.DefaultInterpolation&&($.interpolation=_e)}return $.type=g.ValueTypeName,$}InterpolantFactoryMethodDiscrete(g){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),g)}InterpolantFactoryMethodLinear(g){return new LinearInterpolant(this.times,this.values,this.getValueSize(),g)}InterpolantFactoryMethodSmooth(g){return new CubicInterpolant(this.times,this.values,this.getValueSize(),g)}setInterpolation(g){let b;switch(g){case InterpolateDiscrete:b=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:b=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:b=this.InterpolantFactoryMethodSmooth;break}if(b===void 0){const $="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(g!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error($);return console.warn("THREE.KeyframeTrack:",$),this}return this.createInterpolant=b,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(g){if(g!==0){const b=this.times;for(let $=0,_e=b.length;$!==_e;++$)b[$]+=g}return this}scale(g){if(g!==1){const b=this.times;for(let $=0,_e=b.length;$!==_e;++$)b[$]*=g}return this}trim(g,b){const $=this.times,_e=$.length;let et=0,tt=_e-1;for(;et!==_e&&$[et]<g;)++et;for(;tt!==-1&&$[tt]>b;)--tt;if(++tt,et!==0||tt!==_e){et>=tt&&(tt=Math.max(tt,1),et=tt-1);const nt=this.getValueSize();this.times=AnimationUtils.arraySlice($,et,tt),this.values=AnimationUtils.arraySlice(this.values,et*nt,tt*nt)}return this}validate(){let g=!0;const b=this.getValueSize();b-Math.floor(b)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),g=!1);const $=this.times,_e=this.values,et=$.length;et===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),g=!1);let tt=null;for(let nt=0;nt!==et;nt++){const rt=$[nt];if(typeof rt=="number"&&isNaN(rt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,nt,rt),g=!1;break}if(tt!==null&&tt>rt){console.error("THREE.KeyframeTrack: Out of order keys.",this,nt,rt,tt),g=!1;break}tt=rt}if(_e!==void 0&&AnimationUtils.isTypedArray(_e))for(let nt=0,rt=_e.length;nt!==rt;++nt){const it=_e[nt];if(isNaN(it)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,nt,it),g=!1;break}}return g}optimize(){const g=AnimationUtils.arraySlice(this.times),b=AnimationUtils.arraySlice(this.values),$=this.getValueSize(),_e=this.getInterpolation()===InterpolateSmooth,et=g.length-1;let tt=1;for(let nt=1;nt<et;++nt){let rt=!1;const it=g[nt],ot=g[nt+1];if(it!==ot&&(nt!==1||it!==g[0]))if(_e)rt=!0;else{const st=nt*$,at=st-$,lt=st+$;for(let ut=0;ut!==$;++ut){const ct=b[st+ut];if(ct!==b[at+ut]||ct!==b[lt+ut]){rt=!0;break}}}if(rt){if(nt!==tt){g[tt]=g[nt];const st=nt*$,at=tt*$;for(let lt=0;lt!==$;++lt)b[at+lt]=b[st+lt]}++tt}}if(et>0){g[tt]=g[et];for(let nt=et*$,rt=tt*$,it=0;it!==$;++it)b[rt+it]=b[nt+it];++tt}return tt!==g.length?(this.times=AnimationUtils.arraySlice(g,0,tt),this.values=AnimationUtils.arraySlice(b,0,tt*$)):(this.times=g,this.values=b),this}clone(){const g=AnimationUtils.arraySlice(this.times,0),b=AnimationUtils.arraySlice(this.values,0),$=this.constructor,_e=new $(this.name,g,b);return _e.createInterpolant=this.createInterpolant,_e}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(g,b,$,_e){super(g,b,$,_e)}interpolate_(g,b,$,_e){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=($-b)/(_e-b);let it=g*nt;for(let ot=it+nt;it!==ot;it+=4)Quaternion.slerpFlat(et,0,tt,it-nt,tt,it,rt);return et}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(g){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),g)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(g,b=-1,$,_e=NormalAnimationBlendMode){this.name=g,this.tracks=$,this.duration=b,this.blendMode=_e,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(g){const b=[],$=g.tracks,_e=1/(g.fps||1);for(let tt=0,nt=$.length;tt!==nt;++tt)b.push(parseKeyframeTrack($[tt]).scale(_e));const et=new this(g.name,g.duration,b,g.blendMode);return et.uuid=g.uuid,et}static toJSON(g){const b=[],$=g.tracks,_e={name:g.name,duration:g.duration,tracks:b,uuid:g.uuid,blendMode:g.blendMode};for(let et=0,tt=$.length;et!==tt;++et)b.push(KeyframeTrack.toJSON($[et]));return _e}static CreateFromMorphTargetSequence(g,b,$,_e){const et=b.length,tt=[];for(let nt=0;nt<et;nt++){let rt=[],it=[];rt.push((nt+et-1)%et,nt,(nt+1)%et),it.push(0,1,0);const ot=AnimationUtils.getKeyframeOrder(rt);rt=AnimationUtils.sortedArray(rt,1,ot),it=AnimationUtils.sortedArray(it,1,ot),!_e&&rt[0]===0&&(rt.push(et),it.push(it[0])),tt.push(new NumberKeyframeTrack(".morphTargetInfluences["+b[nt].name+"]",rt,it).scale(1/$))}return new this(g,-1,tt)}static findByName(g,b){let $=g;if(!Array.isArray(g)){const _e=g;$=_e.geometry&&_e.geometry.animations||_e.animations}for(let _e=0;_e<$.length;_e++)if($[_e].name===b)return $[_e];return null}static CreateClipsFromMorphTargetSequences(g,b,$){const _e={},et=/^([\w-]*?)([\d]+)$/;for(let nt=0,rt=g.length;nt<rt;nt++){const it=g[nt],ot=it.name.match(et);if(ot&&ot.length>1){const st=ot[1];let at=_e[st];at||(_e[st]=at=[]),at.push(it)}}const tt=[];for(const nt in _e)tt.push(this.CreateFromMorphTargetSequence(nt,_e[nt],b,$));return tt}static parseAnimation(g,b){if(!g)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const $=function(st,at,lt,ut,ct){if(lt.length!==0){const ft=[],ht=[];AnimationUtils.flattenJSON(lt,ft,ht,ut),ft.length!==0&&ct.push(new st(at,ft,ht))}},_e=[],et=g.name||"default",tt=g.fps||30,nt=g.blendMode;let rt=g.length||-1;const it=g.hierarchy||[];for(let st=0;st<it.length;st++){const at=it[st].keys;if(!(!at||at.length===0))if(at[0].morphTargets){const lt={};let ut;for(ut=0;ut<at.length;ut++)if(at[ut].morphTargets)for(let ct=0;ct<at[ut].morphTargets.length;ct++)lt[at[ut].morphTargets[ct]]=-1;for(const ct in lt){const ft=[],ht=[];for(let dt=0;dt!==at[ut].morphTargets.length;++dt){const pt=at[ut];ft.push(pt.time),ht.push(pt.morphTarget===ct?1:0)}_e.push(new NumberKeyframeTrack(".morphTargetInfluence["+ct+"]",ft,ht))}rt=lt.length*tt}else{const lt=".bones["+b[st].name+"]";$(VectorKeyframeTrack,lt+".position",at,"pos",_e),$(QuaternionKeyframeTrack,lt+".quaternion",at,"rot",_e),$(VectorKeyframeTrack,lt+".scale",at,"scl",_e)}}return _e.length===0?null:new this(et,rt,_e,nt)}resetDuration(){const g=this.tracks;let b=0;for(let $=0,_e=g.length;$!==_e;++$){const et=this.tracks[$];b=Math.max(b,et.times[et.times.length-1])}return this.duration=b,this}trim(){for(let g=0;g<this.tracks.length;g++)this.tracks[g].trim(0,this.duration);return this}validate(){let g=!0;for(let b=0;b<this.tracks.length;b++)g=g&&this.tracks[b].validate();return g}optimize(){for(let g=0;g<this.tracks.length;g++)this.tracks[g].optimize();return this}clone(){const g=[];for(let b=0;b<this.tracks.length;b++)g.push(this.tracks[b].clone());return new this.constructor(this.name,this.duration,g,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(j){switch(j.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+j)}function parseKeyframeTrack(j){if(j.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const g=getTrackTypeForValueTypeName(j.type);if(j.times===void 0){const b=[],$=[];AnimationUtils.flattenJSON(j.keys,b,$,"value"),j.times=b,j.values=$}return g.parse!==void 0?g.parse(j):new g(j.name,j.times,j.values,j.interpolation)}const Cache={enabled:!1,files:{},add:function(j,g){this.enabled!==!1&&(this.files[j]=g)},get:function(j){if(this.enabled!==!1)return this.files[j]},remove:function(j){delete this.files[j]},clear:function(){this.files={}}};class LoadingManager{constructor(g,b,$){const _e=this;let et=!1,tt=0,nt=0,rt;const it=[];this.onStart=void 0,this.onLoad=g,this.onProgress=b,this.onError=$,this.itemStart=function(ot){nt++,et===!1&&_e.onStart!==void 0&&_e.onStart(ot,tt,nt),et=!0},this.itemEnd=function(ot){tt++,_e.onProgress!==void 0&&_e.onProgress(ot,tt,nt),tt===nt&&(et=!1,_e.onLoad!==void 0&&_e.onLoad())},this.itemError=function(ot){_e.onError!==void 0&&_e.onError(ot)},this.resolveURL=function(ot){return rt?rt(ot):ot},this.setURLModifier=function(ot){return rt=ot,this},this.addHandler=function(ot,st){return it.push(ot,st),this},this.removeHandler=function(ot){const st=it.indexOf(ot);return st!==-1&&it.splice(st,2),this},this.getHandler=function(ot){for(let st=0,at=it.length;st<at;st+=2){const lt=it[st],ut=it[st+1];if(lt.global&&(lt.lastIndex=0),lt.test(ot))return ut}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(g){this.manager=g!==void 0?g:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(g,b){const $=this;return new Promise(function(_e,et){$.load(g,_e,b,et)})}parse(){}setCrossOrigin(g){return this.crossOrigin=g,this}setWithCredentials(g){return this.withCredentials=g,this}setPath(g){return this.path=g,this}setResourcePath(g){return this.resourcePath=g,this}setRequestHeader(g){return this.requestHeader=g,this}}const loading={};class FileLoader extends Loader{constructor(g){super(g)}load(g,b,$,_e){g===void 0&&(g=""),this.path!==void 0&&(g=this.path+g),g=this.manager.resolveURL(g);const et=Cache.get(g);if(et!==void 0)return this.manager.itemStart(g),setTimeout(()=>{b&&b(et),this.manager.itemEnd(g)},0),et;if(loading[g]!==void 0){loading[g].push({onLoad:b,onProgress:$,onError:_e});return}loading[g]=[],loading[g].push({onLoad:b,onProgress:$,onError:_e});const tt=new Request(g,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),nt=this.mimeType,rt=this.responseType;fetch(tt).then(it=>{if(it.status===200||it.status===0){if(it.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||it.body===void 0||it.body.getReader===void 0)return it;const ot=loading[g],st=it.body.getReader(),at=it.headers.get("Content-Length"),lt=at?parseInt(at):0,ut=lt!==0;let ct=0;const ft=new ReadableStream({start(ht){dt();function dt(){st.read().then(({done:pt,value:mt})=>{if(pt)ht.close();else{ct+=mt.byteLength;const gt=new ProgressEvent("progress",{lengthComputable:ut,loaded:ct,total:lt});for(let yt=0,_t=ot.length;yt<_t;yt++){const vt=ot[yt];vt.onProgress&&vt.onProgress(gt)}ht.enqueue(mt),dt()}})}}});return new Response(ft)}else throw Error(`fetch for "${it.url}" responded with ${it.status}: ${it.statusText}`)}).then(it=>{switch(rt){case"arraybuffer":return it.arrayBuffer();case"blob":return it.blob();case"document":return it.text().then(ot=>new DOMParser().parseFromString(ot,nt));case"json":return it.json();default:if(nt===void 0)return it.text();{const st=/charset="?([^;"\s]*)"?/i.exec(nt),at=st&&st[1]?st[1].toLowerCase():void 0,lt=new TextDecoder(at);return it.arrayBuffer().then(ut=>lt.decode(ut))}}}).then(it=>{Cache.add(g,it);const ot=loading[g];delete loading[g];for(let st=0,at=ot.length;st<at;st++){const lt=ot[st];lt.onLoad&&lt.onLoad(it)}}).catch(it=>{const ot=loading[g];if(ot===void 0)throw this.manager.itemError(g),it;delete loading[g];for(let st=0,at=ot.length;st<at;st++){const lt=ot[st];lt.onError&&lt.onError(it)}this.manager.itemError(g)}).finally(()=>{this.manager.itemEnd(g)}),this.manager.itemStart(g)}setResponseType(g){return this.responseType=g,this}setMimeType(g){return this.mimeType=g,this}}class ImageLoader extends Loader{constructor(g){super(g)}load(g,b,$,_e){this.path!==void 0&&(g=this.path+g),g=this.manager.resolveURL(g);const et=this,tt=Cache.get(g);if(tt!==void 0)return et.manager.itemStart(g),setTimeout(function(){b&&b(tt),et.manager.itemEnd(g)},0),tt;const nt=createElementNS$1("img");function rt(){ot(),Cache.add(g,this),b&&b(this),et.manager.itemEnd(g)}function it(st){ot(),_e&&_e(st),et.manager.itemError(g),et.manager.itemEnd(g)}function ot(){nt.removeEventListener("load",rt,!1),nt.removeEventListener("error",it,!1)}return nt.addEventListener("load",rt,!1),nt.addEventListener("error",it,!1),g.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(nt.crossOrigin=this.crossOrigin),et.manager.itemStart(g),nt.src=g,nt}}class CubeTextureLoader extends Loader{constructor(g){super(g)}load(g,b,$,_e){const et=new CubeTexture,tt=new ImageLoader(this.manager);tt.setCrossOrigin(this.crossOrigin),tt.setPath(this.path);let nt=0;function rt(it){tt.load(g[it],function(ot){et.images[it]=ot,nt++,nt===6&&(et.needsUpdate=!0,b&&b(et))},void 0,_e)}for(let it=0;it<g.length;++it)rt(it);return et}}class DataTextureLoader extends Loader{constructor(g){super(g)}load(g,b,$,_e){const et=this,tt=new DataTexture,nt=new FileLoader(this.manager);return nt.setResponseType("arraybuffer"),nt.setRequestHeader(this.requestHeader),nt.setPath(this.path),nt.setWithCredentials(et.withCredentials),nt.load(g,function(rt){const it=et.parse(rt);!it||(it.image!==void 0?tt.image=it.image:it.data!==void 0&&(tt.image.width=it.width,tt.image.height=it.height,tt.image.data=it.data),tt.wrapS=it.wrapS!==void 0?it.wrapS:ClampToEdgeWrapping,tt.wrapT=it.wrapT!==void 0?it.wrapT:ClampToEdgeWrapping,tt.magFilter=it.magFilter!==void 0?it.magFilter:LinearFilter,tt.minFilter=it.minFilter!==void 0?it.minFilter:LinearFilter,tt.anisotropy=it.anisotropy!==void 0?it.anisotropy:1,it.encoding!==void 0&&(tt.encoding=it.encoding),it.flipY!==void 0&&(tt.flipY=it.flipY),it.format!==void 0&&(tt.format=it.format),it.type!==void 0&&(tt.type=it.type),it.mipmaps!==void 0&&(tt.mipmaps=it.mipmaps,tt.minFilter=LinearMipmapLinearFilter),it.mipmapCount===1&&(tt.minFilter=LinearFilter),it.generateMipmaps!==void 0&&(tt.generateMipmaps=it.generateMipmaps),tt.needsUpdate=!0,b&&b(tt,it))},$,_e),tt}}class TextureLoader extends Loader{constructor(g){super(g)}load(g,b,$,_e){const et=new Texture,tt=new ImageLoader(this.manager);return tt.setCrossOrigin(this.crossOrigin),tt.setPath(this.path),tt.load(g,function(nt){et.image=nt,et.needsUpdate=!0,b!==void 0&&b(et)},$,_e),et}}class Light extends Object3D{constructor(g,b=1){super(),this.type="Light",this.color=new Color(g),this.intensity=b}dispose(){}copy(g){return super.copy(g),this.color.copy(g.color),this.intensity=g.intensity,this}toJSON(g){const b=super.toJSON(g);return b.object.color=this.color.getHex(),b.object.intensity=this.intensity,this.groundColor!==void 0&&(b.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(b.object.distance=this.distance),this.angle!==void 0&&(b.object.angle=this.angle),this.decay!==void 0&&(b.object.decay=this.decay),this.penumbra!==void 0&&(b.object.penumbra=this.penumbra),this.shadow!==void 0&&(b.object.shadow=this.shadow.toJSON()),b}}Light.prototype.isLight=!0;class HemisphereLight extends Light{constructor(g,b,$){super(g,$),this.type="HemisphereLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(b)}copy(g){return Light.prototype.copy.call(this,g),this.groundColor.copy(g.groundColor),this}}HemisphereLight.prototype.isHemisphereLight=!0;const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(g){this.camera=g,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(g){const b=this.camera,$=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(g.matrixWorld),b.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(g.target.matrixWorld),b.lookAt(_lookTarget$1),b.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),$.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),$.multiply(b.projectionMatrix),$.multiply(b.matrixWorldInverse)}getViewport(g){return this._viewports[g]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(g){return this.camera=g.camera.clone(),this.bias=g.bias,this.radius=g.radius,this.mapSize.copy(g.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const g={};return this.bias!==0&&(g.bias=this.bias),this.normalBias!==0&&(g.normalBias=this.normalBias),this.radius!==1&&(g.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(g.mapSize=this.mapSize.toArray()),g.camera=this.camera.toJSON(!1).object,delete g.camera.matrix,g}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.focus=1}updateMatrices(g){const b=this.camera,$=RAD2DEG*2*g.angle*this.focus,_e=this.mapSize.width/this.mapSize.height,et=g.distance||b.far;($!==b.fov||_e!==b.aspect||et!==b.far)&&(b.fov=$,b.aspect=_e,b.far=et,b.updateProjectionMatrix()),super.updateMatrices(g)}copy(g){return super.copy(g),this.focus=g.focus,this}}SpotLightShadow.prototype.isSpotLightShadow=!0;class SpotLight extends Light{constructor(g,b,$=0,_e=Math.PI/3,et=0,tt=1){super(g,b),this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.distance=$,this.angle=_e,this.penumbra=et,this.decay=tt,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(g){this.intensity=g/Math.PI}dispose(){this.shadow.dispose()}copy(g){return super.copy(g),this.distance=g.distance,this.angle=g.angle,this.penumbra=g.penumbra,this.decay=g.decay,this.target=g.target.clone(),this.shadow=g.shadow.clone(),this}}SpotLight.prototype.isSpotLight=!0;const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(g,b=0){const $=this.camera,_e=this.matrix,et=g.distance||$.far;et!==$.far&&($.far=et,$.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(g.matrixWorld),$.position.copy(_lightPositionWorld),_lookTarget.copy($.position),_lookTarget.add(this._cubeDirections[b]),$.up.copy(this._cubeUps[b]),$.lookAt(_lookTarget),$.updateMatrixWorld(),_e.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices($.projectionMatrix,$.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}PointLightShadow.prototype.isPointLightShadow=!0;class PointLight extends Light{constructor(g,b,$=0,_e=1){super(g,b),this.type="PointLight",this.distance=$,this.decay=_e,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(g){this.intensity=g/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(g){return super.copy(g),this.distance=g.distance,this.decay=g.decay,this.shadow=g.shadow.clone(),this}}PointLight.prototype.isPointLight=!0;class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500))}}DirectionalLightShadow.prototype.isDirectionalLightShadow=!0;class DirectionalLight extends Light{constructor(g,b){super(g,b),this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(g){return super.copy(g),this.target=g.target.clone(),this.shadow=g.shadow.clone(),this}}DirectionalLight.prototype.isDirectionalLight=!0;class AmbientLight extends Light{constructor(g,b){super(g,b),this.type="AmbientLight"}}AmbientLight.prototype.isAmbientLight=!0;class RectAreaLight extends Light{constructor(g,b,$=10,_e=10){super(g,b),this.type="RectAreaLight",this.width=$,this.height=_e}get power(){return this.intensity*this.width*this.height*Math.PI}set power(g){this.intensity=g/(this.width*this.height*Math.PI)}copy(g){return super.copy(g),this.width=g.width,this.height=g.height,this}toJSON(g){const b=super.toJSON(g);return b.object.width=this.width,b.object.height=this.height,b}}RectAreaLight.prototype.isRectAreaLight=!0;class SphericalHarmonics3{constructor(){this.coefficients=[];for(let g=0;g<9;g++)this.coefficients.push(new Vector3)}set(g){for(let b=0;b<9;b++)this.coefficients[b].copy(g[b]);return this}zero(){for(let g=0;g<9;g++)this.coefficients[g].set(0,0,0);return this}getAt(g,b){const $=g.x,_e=g.y,et=g.z,tt=this.coefficients;return b.copy(tt[0]).multiplyScalar(.282095),b.addScaledVector(tt[1],.488603*_e),b.addScaledVector(tt[2],.488603*et),b.addScaledVector(tt[3],.488603*$),b.addScaledVector(tt[4],1.092548*($*_e)),b.addScaledVector(tt[5],1.092548*(_e*et)),b.addScaledVector(tt[6],.315392*(3*et*et-1)),b.addScaledVector(tt[7],1.092548*($*et)),b.addScaledVector(tt[8],.546274*($*$-_e*_e)),b}getIrradianceAt(g,b){const $=g.x,_e=g.y,et=g.z,tt=this.coefficients;return b.copy(tt[0]).multiplyScalar(.886227),b.addScaledVector(tt[1],2*.511664*_e),b.addScaledVector(tt[2],2*.511664*et),b.addScaledVector(tt[3],2*.511664*$),b.addScaledVector(tt[4],2*.429043*$*_e),b.addScaledVector(tt[5],2*.429043*_e*et),b.addScaledVector(tt[6],.743125*et*et-.247708),b.addScaledVector(tt[7],2*.429043*$*et),b.addScaledVector(tt[8],.429043*($*$-_e*_e)),b}add(g){for(let b=0;b<9;b++)this.coefficients[b].add(g.coefficients[b]);return this}addScaledSH(g,b){for(let $=0;$<9;$++)this.coefficients[$].addScaledVector(g.coefficients[$],b);return this}scale(g){for(let b=0;b<9;b++)this.coefficients[b].multiplyScalar(g);return this}lerp(g,b){for(let $=0;$<9;$++)this.coefficients[$].lerp(g.coefficients[$],b);return this}equals(g){for(let b=0;b<9;b++)if(!this.coefficients[b].equals(g.coefficients[b]))return!1;return!0}copy(g){return this.set(g.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(g,b=0){const $=this.coefficients;for(let _e=0;_e<9;_e++)$[_e].fromArray(g,b+_e*3);return this}toArray(g=[],b=0){const $=this.coefficients;for(let _e=0;_e<9;_e++)$[_e].toArray(g,b+_e*3);return g}static getBasisAt(g,b){const $=g.x,_e=g.y,et=g.z;b[0]=.282095,b[1]=.488603*_e,b[2]=.488603*et,b[3]=.488603*$,b[4]=1.092548*$*_e,b[5]=1.092548*_e*et,b[6]=.315392*(3*et*et-1),b[7]=1.092548*$*et,b[8]=.546274*($*$-_e*_e)}}SphericalHarmonics3.prototype.isSphericalHarmonics3=!0;class LightProbe extends Light{constructor(g=new SphericalHarmonics3,b=1){super(void 0,b),this.sh=g}copy(g){return super.copy(g),this.sh.copy(g.sh),this}fromJSON(g){return this.intensity=g.intensity,this.sh.fromArray(g.sh),this}toJSON(g){const b=super.toJSON(g);return b.object.sh=this.sh.toArray(),b}}LightProbe.prototype.isLightProbe=!0;class LoaderUtils{static decodeText(g){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(g);let b="";for(let $=0,_e=g.length;$<_e;$++)b+=String.fromCharCode(g[$]);try{return decodeURIComponent(escape(b))}catch{return b}}static extractUrlBase(g){const b=g.lastIndexOf("/");return b===-1?"./":g.slice(0,b+1)}static resolveURL(g,b){return typeof g!="string"||g===""?"":(/^https?:\/\//i.test(b)&&/^\//.test(g)&&(b=b.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(g)||/^data:.*,.*$/i.test(g)||/^blob:.*$/i.test(g)?g:b+g)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(g){return super.copy(g),this.instanceCount=g.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const g=super.toJSON(this);return g.instanceCount=this.instanceCount,g.isInstancedBufferGeometry=!0,g}}InstancedBufferGeometry.prototype.isInstancedBufferGeometry=!0;class ImageBitmapLoader extends Loader{constructor(g){super(g),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(g){return this.options=g,this}load(g,b,$,_e){g===void 0&&(g=""),this.path!==void 0&&(g=this.path+g),g=this.manager.resolveURL(g);const et=this,tt=Cache.get(g);if(tt!==void 0)return et.manager.itemStart(g),setTimeout(function(){b&&b(tt),et.manager.itemEnd(g)},0),tt;const nt={};nt.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",nt.headers=this.requestHeader,fetch(g,nt).then(function(rt){return rt.blob()}).then(function(rt){return createImageBitmap(rt,Object.assign(et.options,{colorSpaceConversion:"none"}))}).then(function(rt){Cache.add(g,rt),b&&b(rt),et.manager.itemEnd(g)}).catch(function(rt){_e&&_e(rt),et.manager.itemError(g),et.manager.itemEnd(g)}),et.manager.itemStart(g)}}ImageBitmapLoader.prototype.isImageBitmapLoader=!0;let _context;const AudioContext$1={getContext:function(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context},setContext:function(j){_context=j}};class AudioLoader extends Loader{constructor(g){super(g)}load(g,b,$,_e){const et=this,tt=new FileLoader(this.manager);tt.setResponseType("arraybuffer"),tt.setPath(this.path),tt.setRequestHeader(this.requestHeader),tt.setWithCredentials(this.withCredentials),tt.load(g,function(nt){try{const rt=nt.slice(0);AudioContext$1.getContext().decodeAudioData(rt,function(ot){b(ot)})}catch(rt){_e?_e(rt):console.error(rt),et.manager.itemError(g)}},$,_e)}}class HemisphereLightProbe extends LightProbe{constructor(g,b,$=1){super(void 0,$);const _e=new Color().set(g),et=new Color().set(b),tt=new Vector3(_e.r,_e.g,_e.b),nt=new Vector3(et.r,et.g,et.b),rt=Math.sqrt(Math.PI),it=rt*Math.sqrt(.75);this.sh.coefficients[0].copy(tt).add(nt).multiplyScalar(rt),this.sh.coefficients[1].copy(tt).sub(nt).multiplyScalar(it)}}HemisphereLightProbe.prototype.isHemisphereLightProbe=!0;class AmbientLightProbe extends LightProbe{constructor(g,b=1){super(void 0,b);const $=new Color().set(g);this.sh.coefficients[0].set($.r,$.g,$.b).multiplyScalar(2*Math.sqrt(Math.PI))}}AmbientLightProbe.prototype.isAmbientLightProbe=!0;class Clock{constructor(g=!0){this.autoStart=g,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let g=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const b=now$3();g=(b-this.oldTime)/1e3,this.oldTime=b,this.elapsedTime+=g}return g}}function now$3(){return(typeof performance=="undefined"?Date:performance).now()}class Audio$1 extends Object3D{constructor(g){super(),this.type="Audio",this.listener=g,this.context=g.context,this.gain=this.context.createGain(),this.gain.connect(g.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(g){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=g,this.connect(),this}setMediaElementSource(g){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(g),this.connect(),this}setMediaStreamSource(g){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(g),this.connect(),this}setBuffer(g){return this.buffer=g,this.sourceType="buffer",this.autoplay&&this.play(),this}play(g=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+g;const b=this.context.createBufferSource();return b.buffer=this.buffer,b.loop=this.loop,b.loopStart=this.loopStart,b.loopEnd=this.loopEnd,b.onended=this.onEnded.bind(this),b.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=b,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let g=1,b=this.filters.length;g<b;g++)this.filters[g-1].connect(this.filters[g]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let g=1,b=this.filters.length;g<b;g++)this.filters[g-1].disconnect(this.filters[g]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(g){return g||(g=[]),this._connected===!0?(this.disconnect(),this.filters=g.slice(),this.connect()):this.filters=g.slice(),this}setDetune(g){if(this.detune=g,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(g){return this.setFilters(g?[g]:[])}setPlaybackRate(g){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=g,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(g){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=g,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(g){return this.loopStart=g,this}setLoopEnd(g){return this.loopEnd=g,this}getVolume(){return this.gain.gain.value}setVolume(g){return this.gain.gain.setTargetAtTime(g,this.context.currentTime,.01),this}}class PropertyMixer{constructor(g,b,$){this.binding=g,this.valueSize=$;let _e,et,tt;switch(b){case"quaternion":_e=this._slerp,et=this._slerpAdditive,tt=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array($*6),this._workIndex=5;break;case"string":case"bool":_e=this._select,et=this._select,tt=this._setAdditiveIdentityOther,this.buffer=new Array($*5);break;default:_e=this._lerp,et=this._lerpAdditive,tt=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array($*5)}this._mixBufferRegion=_e,this._mixBufferRegionAdditive=et,this._setIdentity=tt,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(g,b){const $=this.buffer,_e=this.valueSize,et=g*_e+_e;let tt=this.cumulativeWeight;if(tt===0){for(let nt=0;nt!==_e;++nt)$[et+nt]=$[nt];tt=b}else{tt+=b;const nt=b/tt;this._mixBufferRegion($,et,0,nt,_e)}this.cumulativeWeight=tt}accumulateAdditive(g){const b=this.buffer,$=this.valueSize,_e=$*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(b,_e,0,g,$),this.cumulativeWeightAdditive+=g}apply(g){const b=this.valueSize,$=this.buffer,_e=g*b+b,et=this.cumulativeWeight,tt=this.cumulativeWeightAdditive,nt=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,et<1){const rt=b*this._origIndex;this._mixBufferRegion($,_e,rt,1-et,b)}tt>0&&this._mixBufferRegionAdditive($,_e,this._addIndex*b,1,b);for(let rt=b,it=b+b;rt!==it;++rt)if($[rt]!==$[rt+b]){nt.setValue($,_e);break}}saveOriginalState(){const g=this.binding,b=this.buffer,$=this.valueSize,_e=$*this._origIndex;g.getValue(b,_e);for(let et=$,tt=_e;et!==tt;++et)b[et]=b[_e+et%$];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const g=this.valueSize*3;this.binding.setValue(this.buffer,g)}_setAdditiveIdentityNumeric(){const g=this._addIndex*this.valueSize,b=g+this.valueSize;for(let $=g;$<b;$++)this.buffer[$]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const g=this._origIndex*this.valueSize,b=this._addIndex*this.valueSize;for(let $=0;$<this.valueSize;$++)this.buffer[b+$]=this.buffer[g+$]}_select(g,b,$,_e,et){if(_e>=.5)for(let tt=0;tt!==et;++tt)g[b+tt]=g[$+tt]}_slerp(g,b,$,_e){Quaternion.slerpFlat(g,b,g,b,g,$,_e)}_slerpAdditive(g,b,$,_e,et){const tt=this._workIndex*et;Quaternion.multiplyQuaternionsFlat(g,tt,g,b,g,$),Quaternion.slerpFlat(g,b,g,b,g,tt,_e)}_lerp(g,b,$,_e,et){const tt=1-_e;for(let nt=0;nt!==et;++nt){const rt=b+nt;g[rt]=g[rt]*tt+g[$+nt]*_e}}_lerpAdditive(g,b,$,_e,et){for(let tt=0;tt!==et;++tt){const nt=b+tt;g[nt]=g[nt]+g[$+tt]*_e}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones"];class Composite{constructor(g,b,$){const _e=$||PropertyBinding.parseTrackName(b);this._targetGroup=g,this._bindings=g.subscribe_(b,_e)}getValue(g,b){this.bind();const $=this._targetGroup.nCachedObjects_,_e=this._bindings[$];_e!==void 0&&_e.getValue(g,b)}setValue(g,b){const $=this._bindings;for(let _e=this._targetGroup.nCachedObjects_,et=$.length;_e!==et;++_e)$[_e].setValue(g,b)}bind(){const g=this._bindings;for(let b=this._targetGroup.nCachedObjects_,$=g.length;b!==$;++b)g[b].bind()}unbind(){const g=this._bindings;for(let b=this._targetGroup.nCachedObjects_,$=g.length;b!==$;++b)g[b].unbind()}}class PropertyBinding{constructor(g,b,$){this.path=b,this.parsedPath=$||PropertyBinding.parseTrackName(b),this.node=PropertyBinding.findNode(g,this.parsedPath.nodeName)||g,this.rootNode=g,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(g,b,$){return g&&g.isAnimationObjectGroup?new PropertyBinding.Composite(g,b,$):new PropertyBinding(g,b,$)}static sanitizeNodeName(g){return g.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(g){const b=_trackRe.exec(g);if(b===null)throw new Error("PropertyBinding: Cannot parse trackName: "+g);const $={nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]},_e=$.nodeName&&$.nodeName.lastIndexOf(".");if(_e!==void 0&&_e!==-1){const et=$.nodeName.substring(_e+1);_supportedObjectNames.indexOf(et)!==-1&&($.nodeName=$.nodeName.substring(0,_e),$.objectName=et)}if($.propertyName===null||$.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+g);return $}static findNode(g,b){if(b===void 0||b===""||b==="."||b===-1||b===g.name||b===g.uuid)return g;if(g.skeleton){const $=g.skeleton.getBoneByName(b);if($!==void 0)return $}if(g.children){const $=function(et){for(let tt=0;tt<et.length;tt++){const nt=et[tt];if(nt.name===b||nt.uuid===b)return nt;const rt=$(nt.children);if(rt)return rt}return null},_e=$(g.children);if(_e)return _e}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(g,b){g[b]=this.targetObject[this.propertyName]}_getValue_array(g,b){const $=this.resolvedProperty;for(let _e=0,et=$.length;_e!==et;++_e)g[b++]=$[_e]}_getValue_arrayElement(g,b){g[b]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(g,b){this.resolvedProperty.toArray(g,b)}_setValue_direct(g,b){this.targetObject[this.propertyName]=g[b]}_setValue_direct_setNeedsUpdate(g,b){this.targetObject[this.propertyName]=g[b],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(g,b){this.targetObject[this.propertyName]=g[b],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(g,b){const $=this.resolvedProperty;for(let _e=0,et=$.length;_e!==et;++_e)$[_e]=g[b++]}_setValue_array_setNeedsUpdate(g,b){const $=this.resolvedProperty;for(let _e=0,et=$.length;_e!==et;++_e)$[_e]=g[b++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(g,b){const $=this.resolvedProperty;for(let _e=0,et=$.length;_e!==et;++_e)$[_e]=g[b++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(g,b){this.resolvedProperty[this.propertyIndex]=g[b]}_setValue_arrayElement_setNeedsUpdate(g,b){this.resolvedProperty[this.propertyIndex]=g[b],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(g,b){this.resolvedProperty[this.propertyIndex]=g[b],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(g,b){this.resolvedProperty.fromArray(g,b)}_setValue_fromArray_setNeedsUpdate(g,b){this.resolvedProperty.fromArray(g,b),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(g,b){this.resolvedProperty.fromArray(g,b),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(g,b){this.bind(),this.getValue(g,b)}_setValue_unbound(g,b){this.bind(),this.setValue(g,b)}bind(){let g=this.node;const b=this.parsedPath,$=b.objectName,_e=b.propertyName;let et=b.propertyIndex;if(g||(g=PropertyBinding.findNode(this.rootNode,b.nodeName)||this.rootNode,this.node=g),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!g){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if($){let it=b.objectIndex;switch($){case"materials":if(!g.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!g.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}g=g.material.materials;break;case"bones":if(!g.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}g=g.skeleton.bones;for(let ot=0;ot<g.length;ot++)if(g[ot].name===it){it=ot;break}break;default:if(g[$]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}g=g[$]}if(it!==void 0){if(g[it]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,g);return}g=g[it]}}const tt=g[_e];if(tt===void 0){const it=b.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+it+"."+_e+" but it wasn't found.",g);return}let nt=this.Versioning.None;this.targetObject=g,g.needsUpdate!==void 0?nt=this.Versioning.NeedsUpdate:g.matrixWorldNeedsUpdate!==void 0&&(nt=this.Versioning.MatrixWorldNeedsUpdate);let rt=this.BindingType.Direct;if(et!==void 0){if(_e==="morphTargetInfluences"){if(!g.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(g.geometry.isBufferGeometry){if(!g.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}g.morphTargetDictionary[et]!==void 0&&(et=g.morphTargetDictionary[et])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}rt=this.BindingType.ArrayElement,this.resolvedProperty=tt,this.propertyIndex=et}else tt.fromArray!==void 0&&tt.toArray!==void 0?(rt=this.BindingType.HasFromToArray,this.resolvedProperty=tt):Array.isArray(tt)?(rt=this.BindingType.EntireArray,this.resolvedProperty=tt):this.propertyName=_e;this.getValue=this.GetterByBindingType[rt],this.setValue=this.SetterByBindingTypeAndVersioning[rt][nt]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationAction{constructor(g,b,$=null,_e=b.blendMode){this._mixer=g,this._clip=b,this._localRoot=$,this.blendMode=_e;const et=b.tracks,tt=et.length,nt=new Array(tt),rt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let it=0;it!==tt;++it){const ot=et[it].createInterpolant(null);nt[it]=ot,ot.settings=rt}this._interpolantSettings=rt,this._interpolants=nt,this._propertyBindings=new Array(tt),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(g){return this._startTime=g,this}setLoop(g,b){return this.loop=g,this.repetitions=b,this}setEffectiveWeight(g){return this.weight=g,this._effectiveWeight=this.enabled?g:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(g){return this._scheduleFading(g,0,1)}fadeOut(g){return this._scheduleFading(g,1,0)}crossFadeFrom(g,b,$){if(g.fadeOut(b),this.fadeIn(b),$){const _e=this._clip.duration,et=g._clip.duration,tt=et/_e,nt=_e/et;g.warp(1,tt,b),this.warp(nt,1,b)}return this}crossFadeTo(g,b,$){return g.crossFadeFrom(this,b,$)}stopFading(){const g=this._weightInterpolant;return g!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(g)),this}setEffectiveTimeScale(g){return this.timeScale=g,this._effectiveTimeScale=this.paused?0:g,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(g){return this.timeScale=this._clip.duration/g,this.stopWarping()}syncWith(g){return this.time=g.time,this.timeScale=g.timeScale,this.stopWarping()}halt(g){return this.warp(this._effectiveTimeScale,0,g)}warp(g,b,$){const _e=this._mixer,et=_e.time,tt=this.timeScale;let nt=this._timeScaleInterpolant;nt===null&&(nt=_e._lendControlInterpolant(),this._timeScaleInterpolant=nt);const rt=nt.parameterPositions,it=nt.sampleValues;return rt[0]=et,rt[1]=et+$,it[0]=g/tt,it[1]=b/tt,this}stopWarping(){const g=this._timeScaleInterpolant;return g!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(g)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(g,b,$,_e){if(!this.enabled){this._updateWeight(g);return}const et=this._startTime;if(et!==null){const rt=(g-et)*$;if(rt<0||$===0)return;this._startTime=null,b=$*rt}b*=this._updateTimeScale(g);const tt=this._updateTime(b),nt=this._updateWeight(g);if(nt>0){const rt=this._interpolants,it=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ot=0,st=rt.length;ot!==st;++ot)rt[ot].evaluate(tt),it[ot].accumulateAdditive(nt);break;case NormalAnimationBlendMode:default:for(let ot=0,st=rt.length;ot!==st;++ot)rt[ot].evaluate(tt),it[ot].accumulate(_e,nt)}}}_updateWeight(g){let b=0;if(this.enabled){b=this.weight;const $=this._weightInterpolant;if($!==null){const _e=$.evaluate(g)[0];b*=_e,g>$.parameterPositions[1]&&(this.stopFading(),_e===0&&(this.enabled=!1))}}return this._effectiveWeight=b,b}_updateTimeScale(g){let b=0;if(!this.paused){b=this.timeScale;const $=this._timeScaleInterpolant;$!==null&&(b*=$.evaluate(g)[0],g>$.parameterPositions[1]&&(this.stopWarping(),b===0?this.paused=!0:this.timeScale=b))}return this._effectiveTimeScale=b,b}_updateTime(g){const b=this._clip.duration,$=this.loop;let _e=this.time+g,et=this._loopCount;const tt=$===LoopPingPong;if(g===0)return et===-1?_e:tt&&(et&1)===1?b-_e:_e;if($===LoopOnce){et===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(_e>=b)_e=b;else if(_e<0)_e=0;else{this.time=_e;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=_e,this._mixer.dispatchEvent({type:"finished",action:this,direction:g<0?-1:1})}}else{if(et===-1&&(g>=0?(et=0,this._setEndings(!0,this.repetitions===0,tt)):this._setEndings(this.repetitions===0,!0,tt)),_e>=b||_e<0){const nt=Math.floor(_e/b);_e-=b*nt,et+=Math.abs(nt);const rt=this.repetitions-et;if(rt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,_e=g>0?b:0,this.time=_e,this._mixer.dispatchEvent({type:"finished",action:this,direction:g>0?1:-1});else{if(rt===1){const it=g<0;this._setEndings(it,!it,tt)}else this._setEndings(!1,!1,tt);this._loopCount=et,this.time=_e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:nt})}}else this.time=_e;if(tt&&(et&1)===1)return b-_e}return _e}_setEndings(g,b,$){const _e=this._interpolantSettings;$?(_e.endingStart=ZeroSlopeEnding,_e.endingEnd=ZeroSlopeEnding):(g?_e.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:_e.endingStart=WrapAroundEnding,b?_e.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:_e.endingEnd=WrapAroundEnding)}_scheduleFading(g,b,$){const _e=this._mixer,et=_e.time;let tt=this._weightInterpolant;tt===null&&(tt=_e._lendControlInterpolant(),this._weightInterpolant=tt);const nt=tt.parameterPositions,rt=tt.sampleValues;return nt[0]=et,rt[0]=b,nt[1]=et+g,rt[1]=$,this}}class AnimationMixer extends EventDispatcher$1{constructor(g){super(),this._root=g,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(g,b){const $=g._localRoot||this._root,_e=g._clip.tracks,et=_e.length,tt=g._propertyBindings,nt=g._interpolants,rt=$.uuid,it=this._bindingsByRootAndName;let ot=it[rt];ot===void 0&&(ot={},it[rt]=ot);for(let st=0;st!==et;++st){const at=_e[st],lt=at.name;let ut=ot[lt];if(ut!==void 0)++ut.referenceCount,tt[st]=ut;else{if(ut=tt[st],ut!==void 0){ut._cacheIndex===null&&(++ut.referenceCount,this._addInactiveBinding(ut,rt,lt));continue}const ct=b&&b._propertyBindings[st].binding.parsedPath;ut=new PropertyMixer(PropertyBinding.create($,lt,ct),at.ValueTypeName,at.getValueSize()),++ut.referenceCount,this._addInactiveBinding(ut,rt,lt),tt[st]=ut}nt[st].resultBuffer=ut.buffer}}_activateAction(g){if(!this._isActiveAction(g)){if(g._cacheIndex===null){const $=(g._localRoot||this._root).uuid,_e=g._clip.uuid,et=this._actionsByClip[_e];this._bindAction(g,et&&et.knownActions[0]),this._addInactiveAction(g,_e,$)}const b=g._propertyBindings;for(let $=0,_e=b.length;$!==_e;++$){const et=b[$];et.useCount++===0&&(this._lendBinding(et),et.saveOriginalState())}this._lendAction(g)}}_deactivateAction(g){if(this._isActiveAction(g)){const b=g._propertyBindings;for(let $=0,_e=b.length;$!==_e;++$){const et=b[$];--et.useCount===0&&(et.restoreOriginalState(),this._takeBackBinding(et))}this._takeBackAction(g)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const g=this;this.stats={actions:{get total(){return g._actions.length},get inUse(){return g._nActiveActions}},bindings:{get total(){return g._bindings.length},get inUse(){return g._nActiveBindings}},controlInterpolants:{get total(){return g._controlInterpolants.length},get inUse(){return g._nActiveControlInterpolants}}}}_isActiveAction(g){const b=g._cacheIndex;return b!==null&&b<this._nActiveActions}_addInactiveAction(g,b,$){const _e=this._actions,et=this._actionsByClip;let tt=et[b];if(tt===void 0)tt={knownActions:[g],actionByRoot:{}},g._byClipCacheIndex=0,et[b]=tt;else{const nt=tt.knownActions;g._byClipCacheIndex=nt.length,nt.push(g)}g._cacheIndex=_e.length,_e.push(g),tt.actionByRoot[$]=g}_removeInactiveAction(g){const b=this._actions,$=b[b.length-1],_e=g._cacheIndex;$._cacheIndex=_e,b[_e]=$,b.pop(),g._cacheIndex=null;const et=g._clip.uuid,tt=this._actionsByClip,nt=tt[et],rt=nt.knownActions,it=rt[rt.length-1],ot=g._byClipCacheIndex;it._byClipCacheIndex=ot,rt[ot]=it,rt.pop(),g._byClipCacheIndex=null;const st=nt.actionByRoot,at=(g._localRoot||this._root).uuid;delete st[at],rt.length===0&&delete tt[et],this._removeInactiveBindingsForAction(g)}_removeInactiveBindingsForAction(g){const b=g._propertyBindings;for(let $=0,_e=b.length;$!==_e;++$){const et=b[$];--et.referenceCount===0&&this._removeInactiveBinding(et)}}_lendAction(g){const b=this._actions,$=g._cacheIndex,_e=this._nActiveActions++,et=b[_e];g._cacheIndex=_e,b[_e]=g,et._cacheIndex=$,b[$]=et}_takeBackAction(g){const b=this._actions,$=g._cacheIndex,_e=--this._nActiveActions,et=b[_e];g._cacheIndex=_e,b[_e]=g,et._cacheIndex=$,b[$]=et}_addInactiveBinding(g,b,$){const _e=this._bindingsByRootAndName,et=this._bindings;let tt=_e[b];tt===void 0&&(tt={},_e[b]=tt),tt[$]=g,g._cacheIndex=et.length,et.push(g)}_removeInactiveBinding(g){const b=this._bindings,$=g.binding,_e=$.rootNode.uuid,et=$.path,tt=this._bindingsByRootAndName,nt=tt[_e],rt=b[b.length-1],it=g._cacheIndex;rt._cacheIndex=it,b[it]=rt,b.pop(),delete nt[et],Object.keys(nt).length===0&&delete tt[_e]}_lendBinding(g){const b=this._bindings,$=g._cacheIndex,_e=this._nActiveBindings++,et=b[_e];g._cacheIndex=_e,b[_e]=g,et._cacheIndex=$,b[$]=et}_takeBackBinding(g){const b=this._bindings,$=g._cacheIndex,_e=--this._nActiveBindings,et=b[_e];g._cacheIndex=_e,b[_e]=g,et._cacheIndex=$,b[$]=et}_lendControlInterpolant(){const g=this._controlInterpolants,b=this._nActiveControlInterpolants++;let $=g[b];return $===void 0&&($=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),$.__cacheIndex=b,g[b]=$),$}_takeBackControlInterpolant(g){const b=this._controlInterpolants,$=g.__cacheIndex,_e=--this._nActiveControlInterpolants,et=b[_e];g.__cacheIndex=_e,b[_e]=g,et.__cacheIndex=$,b[$]=et}clipAction(g,b,$){const _e=b||this._root,et=_e.uuid;let tt=typeof g=="string"?AnimationClip.findByName(_e,g):g;const nt=tt!==null?tt.uuid:g,rt=this._actionsByClip[nt];let it=null;if($===void 0&&(tt!==null?$=tt.blendMode:$=NormalAnimationBlendMode),rt!==void 0){const st=rt.actionByRoot[et];if(st!==void 0&&st.blendMode===$)return st;it=rt.knownActions[0],tt===null&&(tt=it._clip)}if(tt===null)return null;const ot=new AnimationAction(this,tt,b,$);return this._bindAction(ot,it),this._addInactiveAction(ot,nt,et),ot}existingAction(g,b){const $=b||this._root,_e=$.uuid,et=typeof g=="string"?AnimationClip.findByName($,g):g,tt=et?et.uuid:g,nt=this._actionsByClip[tt];return nt!==void 0&&nt.actionByRoot[_e]||null}stopAllAction(){const g=this._actions,b=this._nActiveActions;for(let $=b-1;$>=0;--$)g[$].stop();return this}update(g){g*=this.timeScale;const b=this._actions,$=this._nActiveActions,_e=this.time+=g,et=Math.sign(g),tt=this._accuIndex^=1;for(let it=0;it!==$;++it)b[it]._update(_e,g,et,tt);const nt=this._bindings,rt=this._nActiveBindings;for(let it=0;it!==rt;++it)nt[it].apply(tt);return this}setTime(g){this.time=0;for(let b=0;b<this._actions.length;b++)this._actions[b].time=0;return this.update(g)}getRoot(){return this._root}uncacheClip(g){const b=this._actions,$=g.uuid,_e=this._actionsByClip,et=_e[$];if(et!==void 0){const tt=et.knownActions;for(let nt=0,rt=tt.length;nt!==rt;++nt){const it=tt[nt];this._deactivateAction(it);const ot=it._cacheIndex,st=b[b.length-1];it._cacheIndex=null,it._byClipCacheIndex=null,st._cacheIndex=ot,b[ot]=st,b.pop(),this._removeInactiveBindingsForAction(it)}delete _e[$]}}uncacheRoot(g){const b=g.uuid,$=this._actionsByClip;for(const tt in $){const nt=$[tt].actionByRoot,rt=nt[b];rt!==void 0&&(this._deactivateAction(rt),this._removeInactiveAction(rt))}const _e=this._bindingsByRootAndName,et=_e[b];if(et!==void 0)for(const tt in et){const nt=et[tt];nt.restoreOriginalState(),this._removeInactiveBinding(nt)}}uncacheAction(g,b){const $=this.existingAction(g,b);$!==null&&(this._deactivateAction($),this._removeInactiveAction($))}}AnimationMixer.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Uniform{constructor(g){typeof g=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),g=arguments[1]),this.value=g}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(g,b,$=1){super(g,b),this.meshPerAttribute=$}copy(g){return super.copy(g),this.meshPerAttribute=g.meshPerAttribute,this}clone(g){const b=super.clone(g);return b.meshPerAttribute=this.meshPerAttribute,b}toJSON(g){const b=super.toJSON(g);return b.isInstancedInterleavedBuffer=!0,b.meshPerAttribute=this.meshPerAttribute,b}}InstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer=!0;class Raycaster{constructor(g,b,$=0,_e=1/0){this.ray=new Ray(g,b),this.near=$,this.far=_e,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(g,b){this.ray.set(g,b)}setFromCamera(g,b){b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(g.x,g.y,.5).unproject(b).sub(this.ray.origin).normalize(),this.camera=b):b.isOrthographicCamera?(this.ray.origin.set(g.x,g.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld),this.camera=b):console.error("THREE.Raycaster: Unsupported camera type: "+b.type)}intersectObject(g,b=!0,$=[]){return intersectObject(g,this,$,b),$.sort(ascSort),$}intersectObjects(g,b=!0,$=[]){for(let _e=0,et=g.length;_e<et;_e++)intersectObject(g[_e],this,$,b);return $.sort(ascSort),$}}function ascSort(j,g){return j.distance-g.distance}function intersectObject(j,g,b,$){if(j.layers.test(g.layers)&&j.raycast(g,b),$===!0){const _e=j.children;for(let et=0,tt=_e.length;et<tt;et++)intersectObject(_e[et],g,b,!0)}}class Spherical{constructor(g=1,b=0,$=0){return this.radius=g,this.phi=b,this.theta=$,this}set(g,b,$){return this.radius=g,this.phi=b,this.theta=$,this}copy(g){return this.radius=g.radius,this.phi=g.phi,this.theta=g.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(g){return this.setFromCartesianCoords(g.x,g.y,g.z)}setFromCartesianCoords(g,b,$){return this.radius=Math.sqrt(g*g+b*b+$*$),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(g,$),this.phi=Math.acos(clamp$1(b/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(g,b){super(),this.light=g,this.light.updateMatrixWorld(),this.matrix=g.matrixWorld,this.matrixAutoUpdate=!1,this.color=b;const $=new BufferGeometry,_e=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let tt=0,nt=1,rt=32;tt<rt;tt++,nt++){const it=tt/rt*Math.PI*2,ot=nt/rt*Math.PI*2;_e.push(Math.cos(it),Math.sin(it),1,Math.cos(ot),Math.sin(ot),1)}$.setAttribute("position",new Float32BufferAttribute(_e,3));const et=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments($,et),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const g=this.light.distance?this.light.distance:1e3,b=g*Math.tan(this.light.angle);this.cone.scale.set(b,b,g),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(g){const b=getBoneList(g),$=new BufferGeometry,_e=[],et=[],tt=new Color(0,0,1),nt=new Color(0,1,0);for(let it=0;it<b.length;it++){const ot=b[it];ot.parent&&ot.parent.isBone&&(_e.push(0,0,0),_e.push(0,0,0),et.push(tt.r,tt.g,tt.b),et.push(nt.r,nt.g,nt.b))}$.setAttribute("position",new Float32BufferAttribute(_e,3)),$.setAttribute("color",new Float32BufferAttribute(et,3));const rt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super($,rt),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=g,this.bones=b,this.matrix=g.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(g){const b=this.bones,$=this.geometry,_e=$.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let et=0,tt=0;et<b.length;et++){const nt=b[et];nt.parent&&nt.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,nt.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),_e.setXYZ(tt,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,nt.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),_e.setXYZ(tt+1,_vector$2.x,_vector$2.y,_vector$2.z),tt+=2)}$.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(g)}}function getBoneList(j){const g=[];j.isBone===!0&&g.push(j);for(let b=0;b<j.children.length;b++)g.push.apply(g,getBoneList(j.children[b]));return g}class GridHelper extends LineSegments{constructor(g=10,b=10,$=4473924,_e=8947848){$=new Color($),_e=new Color(_e);const et=b/2,tt=g/b,nt=g/2,rt=[],it=[];for(let at=0,lt=0,ut=-nt;at<=b;at++,ut+=tt){rt.push(-nt,0,ut,nt,0,ut),rt.push(ut,0,-nt,ut,0,nt);const ct=at===et?$:_e;ct.toArray(it,lt),lt+=3,ct.toArray(it,lt),lt+=3,ct.toArray(it,lt),lt+=3,ct.toArray(it,lt),lt+=3}const ot=new BufferGeometry;ot.setAttribute("position",new Float32BufferAttribute(rt,3)),ot.setAttribute("color",new Float32BufferAttribute(it,3));const st=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ot,st),this.type="GridHelper"}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(g){const b=new BufferGeometry,$=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),_e=[],et=[],tt={},nt=new Color(16755200),rt=new Color(16711680),it=new Color(43775),ot=new Color(16777215),st=new Color(3355443);at("n1","n2",nt),at("n2","n4",nt),at("n4","n3",nt),at("n3","n1",nt),at("f1","f2",nt),at("f2","f4",nt),at("f4","f3",nt),at("f3","f1",nt),at("n1","f1",nt),at("n2","f2",nt),at("n3","f3",nt),at("n4","f4",nt),at("p","n1",rt),at("p","n2",rt),at("p","n3",rt),at("p","n4",rt),at("u1","u2",it),at("u2","u3",it),at("u3","u1",it),at("c","t",ot),at("p","c",st),at("cn1","cn2",st),at("cn3","cn4",st),at("cf1","cf2",st),at("cf3","cf4",st);function at(ut,ct,ft){lt(ut,ft),lt(ct,ft)}function lt(ut,ct){_e.push(0,0,0),et.push(ct.r,ct.g,ct.b),tt[ut]===void 0&&(tt[ut]=[]),tt[ut].push(_e.length/3-1)}b.setAttribute("position",new Float32BufferAttribute(_e,3)),b.setAttribute("color",new Float32BufferAttribute(et,3)),super(b,$),this.type="CameraHelper",this.camera=g,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=g.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=tt,this.update()}update(){const g=this.geometry,b=this.pointMap,$=1,_e=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",b,g,_camera,0,0,-1),setPoint("t",b,g,_camera,0,0,1),setPoint("n1",b,g,_camera,-$,-_e,-1),setPoint("n2",b,g,_camera,$,-_e,-1),setPoint("n3",b,g,_camera,-$,_e,-1),setPoint("n4",b,g,_camera,$,_e,-1),setPoint("f1",b,g,_camera,-$,-_e,1),setPoint("f2",b,g,_camera,$,-_e,1),setPoint("f3",b,g,_camera,-$,_e,1),setPoint("f4",b,g,_camera,$,_e,1),setPoint("u1",b,g,_camera,$*.7,_e*1.1,-1),setPoint("u2",b,g,_camera,-$*.7,_e*1.1,-1),setPoint("u3",b,g,_camera,0,_e*2,-1),setPoint("cf1",b,g,_camera,-$,0,1),setPoint("cf2",b,g,_camera,$,0,1),setPoint("cf3",b,g,_camera,0,-_e,1),setPoint("cf4",b,g,_camera,0,_e,1),setPoint("cn1",b,g,_camera,-$,0,-1),setPoint("cn2",b,g,_camera,$,0,-1),setPoint("cn3",b,g,_camera,0,-_e,-1),setPoint("cn4",b,g,_camera,0,_e,-1),g.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(j,g,b,$,_e,et,tt){_vector.set(_e,et,tt).unproject($);const nt=g[j];if(nt!==void 0){const rt=b.getAttribute("position");for(let it=0,ot=nt.length;it<ot;it++)rt.setXYZ(nt[it],_vector.x,_vector.y,_vector.z)}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(g=new Vector3(0,0,1),b=new Vector3(0,0,0),$=1,_e=16776960,et=$*.2,tt=et*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(b),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:_e,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:_e,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(g),this.setLength($,et,tt)}setDirection(g){if(g.y>.99999)this.quaternion.set(0,0,0,1);else if(g.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(g.z,0,-g.x).normalize();const b=Math.acos(g.y);this.quaternion.setFromAxisAngle(_axis,b)}}setLength(g,b=g*.2,$=b*.2){this.line.scale.set(1,Math.max(1e-4,g-b),1),this.line.updateMatrix(),this.cone.scale.set($,b,$),this.cone.position.y=g,this.cone.updateMatrix()}setColor(g){this.line.material.color.set(g),this.cone.material.color.set(g)}copy(g){return super.copy(g,!1),this.line.copy(g.line),this.cone.copy(g.cone),this}}class AxesHelper extends LineSegments{constructor(g=1){const b=[0,0,0,g,0,0,0,0,0,0,g,0,0,0,0,0,0,g],$=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],_e=new BufferGeometry;_e.setAttribute("position",new Float32BufferAttribute(b,3)),_e.setAttribute("color",new Float32BufferAttribute($,3));const et=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(_e,et),this.type="AxesHelper"}setColors(g,b,$){const _e=new Color,et=this.geometry.attributes.color.array;return _e.set(g),_e.toArray(et,0),_e.toArray(et,3),_e.set(b),_e.toArray(et,6),_e.toArray(et,9),_e.set($),_e.toArray(et,12),_e.toArray(et,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const _floatView=new Float32Array(1),_int32View=new Int32Array(_floatView.buffer);class DataUtils{static toHalfFloat(g){g>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),g=65504),_floatView[0]=g;const b=_int32View[0];let $=b>>16&32768,_e=b>>12&2047;const et=b>>23&255;return et<103?$:et>142?($|=31744,$|=(et==255?0:1)&&b&8388607,$):et<113?(_e|=2048,$|=(_e>>114-et)+(_e>>113-et&1),$):($|=et-112<<10|_e>>1,$+=_e&1,$)}}Curve.create=function(j,g){return console.log("THREE.Curve.create() has been deprecated"),j.prototype=Object.create(Curve.prototype),j.prototype.constructor=j,j.prototype.getPoint=g,j};Path.prototype.fromPoints=function(j){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(j)};GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};SkeletonHelper.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Loader.prototype.extractUrlBase=function(j){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),LoaderUtils.extractUrlBase(j)};Loader.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Box3.prototype.center=function(j){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(j)};Box3.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Box3.prototype.isIntersectionBox=function(j){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(j)};Box3.prototype.isIntersectionSphere=function(j){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(j)};Box3.prototype.size=function(j){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(j)};Euler.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Sphere.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Frustum.prototype.setFromMatrix=function(j){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(j)};Matrix3.prototype.flattenToArrayOffset=function(j,g){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(j,g)};Matrix3.prototype.multiplyVector3=function(j){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),j.applyMatrix3(this)};Matrix3.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Matrix3.prototype.applyToBufferAttribute=function(j){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),j.applyMatrix3(this)};Matrix3.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Matrix3.prototype.getInverse=function(j){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(j).invert()};Matrix4.prototype.extractPosition=function(j){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(j)};Matrix4.prototype.flattenToArrayOffset=function(j,g){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(j,g)};Matrix4.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Vector3().setFromMatrixColumn(this,3)};Matrix4.prototype.setRotationFromQuaternion=function(j){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(j)};Matrix4.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Matrix4.prototype.multiplyVector3=function(j){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),j.applyMatrix4(this)};Matrix4.prototype.multiplyVector4=function(j){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),j.applyMatrix4(this)};Matrix4.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Matrix4.prototype.rotateAxis=function(j){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),j.transformDirection(this)};Matrix4.prototype.crossVector=function(j){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),j.applyMatrix4(this)};Matrix4.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Matrix4.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Matrix4.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Matrix4.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Matrix4.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Matrix4.prototype.applyToBufferAttribute=function(j){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),j.applyMatrix4(this)};Matrix4.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Matrix4.prototype.makeFrustum=function(j,g,b,$,_e,et){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(j,g,$,b,_e,et)};Matrix4.prototype.getInverse=function(j){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(j).invert()};Plane.prototype.isIntersectionLine=function(j){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(j)};Quaternion.prototype.multiplyVector3=function(j){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),j.applyQuaternion(this)};Quaternion.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Ray.prototype.isIntersectionBox=function(j){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(j)};Ray.prototype.isIntersectionPlane=function(j){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(j)};Ray.prototype.isIntersectionSphere=function(j){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(j)};Triangle.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Triangle.prototype.barycoordFromPoint=function(j,g){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(j,g)};Triangle.prototype.midpoint=function(j){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(j)};Triangle.prototypenormal=function(j){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(j)};Triangle.prototype.plane=function(j){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(j)};Triangle.barycoordFromPoint=function(j,g,b,$,_e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Triangle.getBarycoord(j,g,b,$,_e)};Triangle.normal=function(j,g,b,$){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Triangle.getNormal(j,g,b,$)};Shape.prototype.extractAllPoints=function(j){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(j)};Shape.prototype.extrude=function(j){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry(this,j)};Shape.prototype.makeGeometry=function(j){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry(this,j)};Vector2.prototype.fromAttribute=function(j,g,b){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(j,g,b)};Vector2.prototype.distanceToManhattan=function(j){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(j)};Vector2.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Vector3.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Vector3.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Vector3.prototype.getPositionFromMatrix=function(j){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(j)};Vector3.prototype.getScaleFromMatrix=function(j){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(j)};Vector3.prototype.getColumnFromMatrix=function(j,g){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(g,j)};Vector3.prototype.applyProjection=function(j){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(j)};Vector3.prototype.fromAttribute=function(j,g,b){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(j,g,b)};Vector3.prototype.distanceToManhattan=function(j){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(j)};Vector3.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Vector4.prototype.fromAttribute=function(j,g,b){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(j,g,b)};Vector4.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Object3D.prototype.getChildByName=function(j){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(j)};Object3D.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Object3D.prototype.translate=function(j,g){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(g,j)};Object3D.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Object3D.prototype.applyMatrix=function(j){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(j)};Object.defineProperties(Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(j){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=j}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Mesh.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Mesh.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),TrianglesDrawMode},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});SkinnedMesh.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};PerspectiveCamera.prototype.setLens=function(j,g){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),g!==void 0&&(this.filmGauge=g),this.setFocalLength(j)};Object.defineProperties(Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(j){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=j}},shadowCameraLeft:{set:function(j){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=j}},shadowCameraRight:{set:function(j){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=j}},shadowCameraTop:{set:function(j){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=j}},shadowCameraBottom:{set:function(j){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=j}},shadowCameraNear:{set:function(j){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=j}},shadowCameraFar:{set:function(j){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=j}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(j){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=j}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(j){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=j}},shadowMapHeight:{set:function(j){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=j}}});Object.defineProperties(BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===DynamicDrawUsage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(DynamicDrawUsage)}}});BufferAttribute.prototype.setDynamic=function(j){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(j===!0?DynamicDrawUsage:StaticDrawUsage),this};BufferAttribute.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},BufferAttribute.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};BufferGeometry.prototype.addIndex=function(j){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(j)};BufferGeometry.prototype.addAttribute=function(j,g){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(g&&g.isBufferAttribute)&&!(g&&g.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(j,new BufferAttribute(arguments[1],arguments[2]))):j==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(g),this):this.setAttribute(j,g)};BufferGeometry.prototype.addDrawCall=function(j,g,b){b!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(j,g)};BufferGeometry.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};BufferGeometry.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};BufferGeometry.prototype.removeAttribute=function(j){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(j)};BufferGeometry.prototype.applyMatrix=function(j){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(j)};Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});InterleavedBuffer.prototype.setDynamic=function(j){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(j===!0?DynamicDrawUsage:StaticDrawUsage),this};InterleavedBuffer.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};ExtrudeGeometry.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};ExtrudeGeometry.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};ExtrudeGeometry.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Scene.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Uniform.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Material.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Color}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(j){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=j===FlatShading}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(j){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=j}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(j){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=j}}});WebGLRenderer.prototype.clearTarget=function(j,g,b,$){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(j),this.clear(g,b,$)};WebGLRenderer.prototype.animate=function(j){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(j)};WebGLRenderer.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};WebGLRenderer.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};WebGLRenderer.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};WebGLRenderer.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};WebGLRenderer.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};WebGLRenderer.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};WebGLRenderer.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};WebGLRenderer.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};WebGLRenderer.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};WebGLRenderer.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};WebGLRenderer.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};WebGLRenderer.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};WebGLRenderer.prototype.enableScissorTest=function(j){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(j)};WebGLRenderer.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};WebGLRenderer.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};WebGLRenderer.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};WebGLRenderer.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};WebGLRenderer.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};WebGLRenderer.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};WebGLRenderer.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};WebGLRenderer.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};WebGLRenderer.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};WebGLRenderer.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(j){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=j}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(j){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=j}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(j){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=j===!0?sRGBEncoding:LinearEncoding}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(WebGLShadowMap.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(j){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=j}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(j){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=j}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(j){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=j}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(j){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=j}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(j){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=j}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(j){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=j}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(j){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=j}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(j){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=j}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(j){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=j}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(j){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=j}}});Audio$1.prototype.load=function(j){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const g=this;return new AudioLoader().load(j,function($){g.setBuffer($)}),this};CubeCamera.prototype.updateCubeMap=function(j,g){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(j,g)};CubeCamera.prototype.clear=function(j,g,b,$){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(j,g,b,$)};ImageUtils.crossOrigin=void 0;ImageUtils.loadTexture=function(j,g,b,$){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const _e=new TextureLoader;_e.setCrossOrigin(this.crossOrigin);const et=_e.load(j,b,void 0,$);return g&&(et.mapping=g),et};ImageUtils.loadTextureCube=function(j,g,b,$){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const _e=new CubeTextureLoader;_e.setCrossOrigin(this.crossOrigin);const et=_e.load(j,b,void 0,$);return g&&(et.mapping=g),et};ImageUtils.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ImageUtils.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function WebGLMultisampleRenderTarget(j,g,b){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.');const $=new WebGLRenderTarget(j,g,b);return $.samples=4,$}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4));function upperCaseFirstChar(j){return j.substr(0,1).toUpperCase()+j.substr(1,j.length)}function dashToCamelCase(j,g="-"){let b=j.toLowerCase().split(g),$=b.length;if($<2)return j.toLowerCase();let _e=b[0];for(let et=1;et<$;et++)_e+=et==0?b[et]:upperCaseFirstChar(b[et]);return _e}var EDeviceType=(j=>(j[j.HANDHELD=0]="HANDHELD",j[j.DESKTOP=1]="DESKTOP",j))(EDeviceType||{}),EPlatform=(j=>(j[j.IOS=0]="IOS",j[j.ANDROID=1]="ANDROID",j[j.WINDOWS=2]="WINDOWS",j[j.MAC=3]="MAC",j[j.UNKNOWN=4]="UNKNOWN",j))(EPlatform||{}),EBrowser=(j=>(j[j.CHROME=0]="CHROME",j[j.SAFARI=1]="SAFARI",j[j.IE=2]="IE",j[j.EDGE=3]="EDGE",j[j.MOZILLA=4]="MOZILLA",j[j.OPERA=5]="OPERA",j[j.UNKNOWN=6]="UNKNOWN",j))(EBrowser||{});const Qn=class{static initDetection(){if(!Qn.__NEED_DETECTION)return;let g=navigator.userAgent.toLowerCase();/ipad|iphone|ipod/gi.test(g)&&!window.MSStream?(Qn.__DEVICE_TYPE=0,Qn.__PLATFORM=0):/android/gi.test(g)?(Qn.__DEVICE_TYPE=0,Qn.__PLATFORM=1):/mac/gi.test(g)?(Qn.__DEVICE_TYPE=1,Qn.__PLATFORM=3):/windows phone/gi.test(g)?(Qn.__DEVICE_TYPE=0,Qn.__PLATFORM=2):/windows/gi.test(g)?(Qn.__DEVICE_TYPE=1,Qn.__PLATFORM=2):(Qn.__DEVICE_TYPE=1,Qn.__PLATFORM=4),/edge/gi.test(g)?Qn.__BROWSER=3:/chrome/gi.test(g)?Qn.__BROWSER=0:/safari/gi.test(g)?Qn.__BROWSER=1:/msie/gi.test(g)||"ActiveXObject"in window?Qn.__BROWSER=2:/mozilla/gi.test(g)?Qn.__BROWSER=4:/opera/gi.test(g)?Qn.__BROWSER=5:Qn.__BROWSER=6,/webkit/gi.test(g)?Qn.__BROWSER_ENGINE=0:/trident/gi.test(g)?Qn.__BROWSER_ENGINE=1:/gecko/gi.test(g)?Qn.__BROWSER_ENGINE=2:Qn.__BROWSER_ENGINE=3,Qn.__CAPABILITIES={retina:"devicePixelRatio"in window&&window.devicePixelRatio>=1.5,touch:"ontouchstart"in document,audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),pushState:"history"in window&&"pushState"in history,geolocation:"geolocation"in navigator,webGL:Qn.isWebglAvailable()},Qn.__NEED_DETECTION=!1}static isWebglAvailable(){try{let g=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(g.getContext("webgl")||g.getContext("experimental-webgl")))}catch{return!1}}static getDeviceType(){return Qn.initDetection(),Qn.__DEVICE_TYPE}static isDeviceType(g){return Qn.initDetection(),Qn.getDeviceType()==g}static getPlatform(){return Qn.initDetection(),Qn.__PLATFORM}static isPlatform(g){return Qn.initDetection(),Qn.getPlatform()==g}static getBrowser(){return Qn.initDetection(),Qn.__BROWSER}static getIEVersion(){let g=navigator.userAgent.toLowerCase();return g.indexOf("msie")!=-1?parseInt(g.split("msie")[1],10):Number.POSITIVE_INFINITY}static getIOSVersion(){if(Qn.initDetection(),Qn.__PLATFORM==0){let g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return g==null||g.length<3?[Number.POSITIVE_INFINITY]:[parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3]||"0",10)]}else return[Number.POSITIVE_INFINITY]}static isBrowser(g){return Qn.initDetection(),Qn.getBrowser()==g}static getBrowserEngine(){return Qn.initDetection(),Qn.__BROWSER_ENGINE}static isBrowserEngine(g){return Qn.initDetection(),Qn.getBrowserEngine()==g}static getCapabilities(){return Qn.initDetection(),Qn.__CAPABILITIES}static log(){console.group("EnvUtils.log"),console.log("deviceType",Qn.getDeviceType()),console.log("platform",Qn.getPlatform()),console.log("browser",Qn.getBrowser()),console.log("browserEngine",Qn.getBrowserEngine()),console.log("capabilities",Qn.getCapabilities()),console.groupEnd()}static addClasses(g=document.body,b=""){Qn.initDetection(),window.onload=()=>{[EBrowser[Qn.__BROWSER],EBrowser[Qn.__BROWSER_ENGINE],EDeviceType[Qn.__DEVICE_TYPE],EPlatform[Qn.__PLATFORM]].map($=>{g.classList.add(b+"is-"+dashToCamelCase($,"_"))});for(let $ in Qn.__CAPABILITIES)Qn.__CAPABILITIES[$]&&g.classList.add(b+"has-"+$)}}};let EnvUtils=Qn;sn(EnvUtils,"__NEED_DETECTION",!0),sn(EnvUtils,"__DEVICE_TYPE"),sn(EnvUtils,"__PLATFORM"),sn(EnvUtils,"__BROWSER"),sn(EnvUtils,"__BROWSER_ENGINE"),sn(EnvUtils,"__CAPABILITIES");const sceneConfigMobile={postprocessing:{enabled:!EnvUtils.isPlatform(EPlatform.IOS)},mainCamera:{fov:80,position:new Vector3(0,2,11),pointerFactor:{x:Math.PI*.01,y:Math.PI*.2}}};let sceneConfig={assets3dBasePath:"/",renderer:{antialias:!0},sceneEnvBackground:{enabled:!0,show:!0,color:15724527,intensity:1},sceneFog:{enabled:!0,color:null,near:0,far:300},postprocessing:{enabled:!0,smaaEnabled:!1},mainCamera:{fov:42.5,near:.1,far:500,filmGauge:50,position:new Vector3(0,2,15),rotation:new Euler(0,0,0),controlMode:"firstPerson",pointerFactor:{x:Math.PI*.015,y:Math.PI*.03}},cameraManager:{focusOnAnimDuration:2,zoomOnPortal:.8,dragFactor:{x:6,y:4},maxDragLeft:-10,maxDragRight:10,maxDragTop:7,maxDragBottom:0},grass:{color:9740548,scaleY:1.2},corn:{color:16702853,scaleY:2},debug:{sceneDebug:!1,hasGui:!1},innovationObjects:{defaultScaleFactor:1,defaultRelativePosition:new Vector3(0,-.33,0),defaultPoiPosition:new Vector3(0,.5,0),defaultCameraFocusPosition:new Vector3(0,.7,0),defaultCameraDistance:3,defaultEnvMapIntensity:1.5,introduction:{positionDuration:2,rotationDuration:2,opacityDuration:.6}}};isMobile&&Object.keys(sceneConfig).forEach(j=>{j in sceneConfigMobile&&(sceneConfig[j]={...sceneConfig[j],...sceneConfigMobile[j]})});const componentName$n="Poi";debug(`front:${componentName$n}`);function Poi(j){const g=react.exports.useRef(null),b=react.exports.useRef([]),$=react.exports.useRef([]),_e=react.exports.useRef(null),et=E(),[tt,nt]=react.exports.useState(null);react.exports.useEffect(()=>{var ct;gsapWithCSS.fromTo(g.current,{autoAlpha:0},{autoAlpha:1,duration:.2,delay:!et.previousRoute||((ct=et.previousRoute)==null?void 0:ct.name)===EPages.POI?0:sceneConfig.cameraManager.focusOnAnimDuration-.8,ease:"Power3.In"})},[]);const rt=ct=>{const dt={scale:ct?1:1.15},pt={scale:ct?1.15:1,duration:.8,ease:"power3.out"};gsapWithCSS.timeline().set([b.current,$.current],{transformOrigin:"50%, 50%"}).fromTo(b.current,dt,pt).fromTo($.current,dt,pt,"<+=0.1")},it=()=>gsapWithCSS.timeline({paused:!0,repeat:-1}).set([b.current,$.current],{transformOrigin:"50%, 50%"}).to(b.current,{rotateZ:-360,ease:"linear",duration:6}).to($.current,{rotateZ:360,ease:"linear",duration:8},"<");react.exports.useLayoutEffect(()=>{_e.current||(_e.current=it())});const ot=ct=>{nt(ct)},st=ct=>{const{width:ft,height:ht}=g.current.getBoundingClientRect();gsapWithCSS.set(g.current,{x:ct.x-ft/2,y:ct.y-ht/2})};react.exports.useEffect(()=>(poiService.on(EPoiEventName.SLUG,ot),poiService.on(EPoiEventName.POSITION,st),()=>{poiService.off(EPoiEventName.SLUG,ot),poiService.off(EPoiEventName.POSITION,st)}),[]);const at=()=>{soundService.play(ESoundType.HOVER),rt(!0),_e.current&&_e.current.play()},lt=()=>{rt(!1),_e.current&&_e.current.pause()},ut=()=>{navigationService.emit("set:poi",tt),soundService.play(ESoundType.CLICK)};return jsx("div",{className:merge([css$3.root,j.className]),onClick:ut,onMouseEnter:at,onMouseLeave:lt,ref:g,children:jsx("div",{className:css$3.wrapper,children:jsxs("svg",{className:css$3.icon,width:"84",height:"84",viewBox:"0 0 84 84",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx("path",{ref:ct=>b.current[0]=ct,d:"M42.097 20.7015H42.0664C41.5051 20.7015 41.0459 21.1601 41.0459 21.7207C41.0459 22.2812 41.5051 22.7399 42.0664 22.7399H42.0919C42.6533 22.7399 43.1125 22.2812 43.1125 21.7207C43.1125 21.1601 42.6584 20.7015 42.0919 20.7015H42.097ZM38.2087 21.0735C38.1423 21.0735 38.0811 21.0786 38.0148 21.0939H37.9841C37.433 21.206 37.0707 21.7411 37.1779 22.2914C37.2749 22.7806 37.6984 23.117 38.1781 23.117C38.2444 23.117 38.3056 23.1119 38.372 23.0966H38.3975C38.9486 22.9845 39.3109 22.4494 39.2037 21.899C39.1119 21.4098 38.6832 21.0735 38.2036 21.0735H38.2087ZM34.4581 22.1793C34.3305 22.1793 34.2029 22.2048 34.0754 22.2557L34.0498 22.2659C33.5294 22.4749 33.2742 23.0711 33.4885 23.5909C33.6518 23.9884 34.0294 24.2279 34.4377 24.2279C34.5652 24.2279 34.6928 24.2024 34.8204 24.1514L34.8459 24.1412C35.3664 23.9323 35.6215 23.3361 35.4072 22.8163C35.249 22.4188 34.8663 22.1793 34.4632 22.1793H34.4581ZM30.9932 23.9833C30.8044 23.9833 30.6105 24.0342 30.437 24.1463L30.4115 24.1616C29.9369 24.4674 29.8043 25.0993 30.1155 25.5732C30.3095 25.8739 30.636 26.0369 30.9728 26.0369C31.1616 26.0369 31.3555 25.986 31.529 25.8739L31.5494 25.8586C32.024 25.5528 32.1567 24.9209 31.8505 24.447C31.6566 24.1463 31.33 23.9833 30.9932 23.9833V23.9833ZM27.9315 26.414C27.6764 26.414 27.4212 26.5109 27.2222 26.6994H27.2171L27.2069 26.7198C26.8038 27.1122 26.7885 27.7543 27.1814 28.1619C27.3804 28.3709 27.6509 28.4728 27.9162 28.4728C28.1816 28.4728 28.4265 28.376 28.6255 28.1874L28.6459 28.1721C29.0491 27.7797 29.0644 27.1377 28.6714 26.73C28.4724 26.521 28.202 26.4191 27.9366 26.4191L27.9315 26.414ZM25.3903 29.3799C25.0688 29.3799 24.7524 29.5328 24.5534 29.813L24.5381 29.8334C24.2166 30.292 24.3238 30.929 24.7882 31.2552C24.9668 31.3826 25.1709 31.4386 25.375 31.4386C25.6965 31.4386 26.0129 31.2858 26.2119 31.0055L26.2272 30.9851C26.5487 30.5265 26.4415 29.8895 25.9771 29.5633C25.7985 29.4359 25.5944 29.3799 25.3903 29.3799ZM23.4563 32.7738C23.0685 32.7738 22.696 32.998 22.5225 33.3751L22.5123 33.3955C22.2827 33.9153 22.5123 34.5166 23.0277 34.7459C23.1604 34.8071 23.3032 34.8325 23.441 34.8325C23.8339 34.8325 24.2064 34.6083 24.3748 34.2261L24.385 34.2006C24.6147 33.686 24.385 33.0846 23.8697 32.8553C23.7319 32.7942 23.5941 32.7687 23.4512 32.7687L23.4563 32.7738ZM22.2112 36.4734C21.7469 36.4734 21.3284 36.7945 21.2162 37.2633V37.2939C21.0835 37.8391 21.4254 38.3844 21.9765 38.5118C22.053 38.5271 22.1296 38.5373 22.2061 38.5373C22.6705 38.5373 23.0889 38.2162 23.2012 37.7474V37.7219C23.3339 37.1716 22.992 36.6263 22.4409 36.4989C22.3643 36.4785 22.2878 36.4734 22.2112 36.4734V36.4734ZM21.7009 40.3413C21.1549 40.3413 20.7059 40.7744 20.6804 41.3197V41.3503C20.66 41.9108 21.0988 42.3847 21.6652 42.4051C21.6754 42.4051 21.6907 42.4051 21.7009 42.4051C22.2469 42.4051 22.7011 41.972 22.7215 41.4216V41.3961C22.7419 40.8356 22.3031 40.3616 21.7367 40.3413C21.7265 40.3413 21.7111 40.3413 21.7009 40.3413V40.3413ZM21.9306 44.2397C21.8795 44.2397 21.8234 44.2397 21.7724 44.2498C21.2162 44.3365 20.8335 44.8563 20.9202 45.4117V45.4423C21.0019 45.9417 21.4356 46.3035 21.9306 46.3035C21.9816 46.3035 22.0377 46.3035 22.0888 46.2933C22.645 46.2067 23.0277 45.6869 22.9409 45.1264V45.1009C22.8593 44.5964 22.4255 44.2397 21.9306 44.2397ZM22.895 48.0209C22.7776 48.0209 22.6603 48.0412 22.548 48.082C22.0173 48.2706 21.7469 48.8566 21.9357 49.3815V49.3968L21.9459 49.412C22.0939 49.8248 22.4868 50.0847 22.9052 50.0847C23.0226 50.0847 23.1399 50.0643 23.2522 50.0236C23.7829 49.8299 24.0534 49.249 23.8646 48.719L23.8543 48.6935C23.7064 48.2807 23.3134 48.0209 22.895 48.0209ZM24.5687 51.5472C24.3901 51.5472 24.2115 51.5931 24.0432 51.6899C23.5584 51.9804 23.4002 52.6072 23.6911 53.0862V53.0964L23.7064 53.1117C23.9003 53.4277 24.2371 53.606 24.579 53.606C24.7576 53.606 24.9413 53.5601 25.1045 53.4582C25.5893 53.1678 25.7424 52.541 25.4566 52.0619L25.4413 52.0416C25.2474 51.7205 24.9106 51.5472 24.5636 51.5472H24.5687ZM26.8905 54.6914C26.6456 54.6914 26.4058 54.7781 26.2119 54.9513C25.7934 55.3284 25.7577 55.9705 26.1353 56.3884L26.1455 56.3986L26.1557 56.4088C26.3547 56.633 26.6354 56.7451 26.9161 56.7451C27.161 56.7451 27.4008 56.6585 27.5998 56.4852C28.0183 56.1081 28.054 55.466 27.6764 55.0431L27.6611 55.0227C27.457 54.7985 27.1814 54.6864 26.9007 54.6864L26.8905 54.6914ZM29.7686 57.3362C29.4624 57.3362 29.1562 57.4738 28.9521 57.7388C28.6102 58.1873 28.697 58.8243 29.146 59.1657L29.1613 59.181C29.345 59.3237 29.5644 59.3899 29.7788 59.3899C30.0849 59.3899 30.3911 59.2523 30.5901 58.9873C30.932 58.5389 30.8402 57.8968 30.3911 57.5605L30.3707 57.5452C30.187 57.4076 29.9676 57.3362 29.7532 57.3362H29.7686ZM33.0956 59.3899C32.718 59.3899 32.3557 59.5988 32.1771 59.9607C31.9271 60.4652 32.1363 61.0767 32.6415 61.3264L32.667 61.3417C32.8099 61.413 32.9629 61.4436 33.1109 61.4436C33.4885 61.4436 33.8508 61.2346 34.0294 60.8728C34.2795 60.3683 34.0703 59.7568 33.5651 59.5071L33.5447 59.4969C33.4018 59.4256 33.2487 59.3899 33.0956 59.3899V59.3899ZM36.7493 60.7709C36.3002 60.7709 35.8869 61.0716 35.7644 61.5251C35.6164 62.0704 35.9379 62.6258 36.4839 62.7736H36.5094C36.5962 62.8042 36.688 62.8144 36.7748 62.8144C37.2238 62.8144 37.6372 62.5137 37.7596 62.0602C37.9076 61.5149 37.5861 60.9595 37.0401 60.8117H37.0146C36.9279 60.7811 36.836 60.7709 36.7493 60.7709ZM40.6019 61.4232C40.0712 61.4232 39.6222 61.8309 39.5864 62.371C39.5456 62.9316 39.9692 63.4208 40.5305 63.4616H40.5662C40.5662 63.4616 40.6121 63.4616 40.6376 63.4616C41.1683 63.4616 41.6174 63.0539 41.6531 62.5137C41.6939 61.9532 41.2704 61.464 40.7091 61.4232H40.6836C40.6836 61.4232 40.6325 61.4232 40.607 61.4232H40.6019ZM44.5413 61.3315C44.5005 61.3315 44.4597 61.3315 44.4188 61.3366H44.3933C43.832 61.4079 43.434 61.9124 43.5003 62.473C43.5616 62.9927 44.0004 63.3749 44.5107 63.3749C44.5515 63.3749 44.5923 63.3749 44.6332 63.3698H44.6638C45.22 63.2985 45.618 62.794 45.5517 62.2334C45.4904 61.7137 45.0465 61.3315 44.5413 61.3366V61.3315ZM48.3582 60.5008C48.2562 60.5008 48.149 60.5161 48.047 60.5518L48.0215 60.562C47.4857 60.7352 47.1897 61.306 47.3632 61.8462C47.501 62.2793 47.9041 62.5545 48.3327 62.5545C48.4348 62.5545 48.542 62.5392 48.644 62.5035L48.6695 62.4933C49.2053 62.3201 49.5013 61.7493 49.3278 61.2092C49.19 60.776 48.7869 60.5008 48.3582 60.5008ZM51.9456 58.9517C51.7772 58.9517 51.6088 58.9924 51.4557 59.0791L51.4353 59.0892C50.9403 59.3593 50.7617 59.981 51.0321 60.4753C51.2158 60.8117 51.5679 61.0053 51.9251 61.0053C52.0884 61.0053 52.2568 60.9646 52.415 60.8779L52.4405 60.8677C52.9355 60.5926 53.1141 59.9759 52.8437 59.4816C52.66 59.1453 52.3079 58.9568 51.9507 58.9568L51.9456 58.9517ZM55.1706 56.7502C54.9409 56.7502 54.7062 56.8266 54.5174 56.9846L54.497 56.9999C54.0632 57.3617 54.0071 58.0038 54.3643 58.437C54.5684 58.6765 54.8542 58.8039 55.1502 58.8039C55.3798 58.8039 55.6094 58.7274 55.8033 58.5695L55.8237 58.5542C56.2575 58.1924 56.3136 57.5503 55.9513 57.1171C55.7472 56.8776 55.4614 56.7502 55.1655 56.7502H55.1706ZM57.921 53.9729C57.625 53.9729 57.3291 54.1003 57.1301 54.3449L57.1147 54.3653C56.7575 54.8036 56.8239 55.4456 57.2576 55.8024C57.4464 55.9552 57.6761 56.0317 57.9006 56.0317C58.1966 56.0317 58.4874 55.9043 58.6915 55.6597L58.7068 55.6393C59.064 55.201 58.9977 54.559 58.564 54.2022C58.3752 54.0494 58.1455 53.9729 57.921 53.9729ZM60.0948 50.7268C59.7325 50.7268 59.3804 50.9204 59.1967 51.2619L59.1865 51.2823C58.9212 51.7766 59.1049 52.3983 59.5998 52.6633C59.7529 52.7448 59.9213 52.7856 60.0846 52.7856C60.4469 52.7856 60.799 52.5919 60.9827 52.2505V52.2403L60.998 52.2199C61.2634 51.7256 61.0797 51.109 60.5796 50.844C60.4265 50.7625 60.2581 50.7217 60.0948 50.7217V50.7268ZM61.6053 47.1291C61.1715 47.1291 60.7684 47.4093 60.6306 47.8476V47.8731C60.4571 48.4132 60.7582 48.984 61.294 49.1471C61.396 49.1776 61.4981 49.1929 61.5951 49.1929C62.0288 49.1929 62.4319 48.9126 62.5697 48.4744V48.4438C62.7432 47.9087 62.4421 47.338 61.9012 47.1698C61.7992 47.1393 61.6971 47.124 61.6002 47.124L61.6053 47.1291ZM62.3962 43.3071C61.8808 43.3071 61.4369 43.6944 61.3807 44.2193V44.2448C61.3195 44.8053 61.7226 45.3098 62.2839 45.371C62.3197 45.371 62.3605 45.3761 62.3962 45.3761C62.9116 45.3761 63.3504 44.9888 63.4066 44.469V44.4435C63.4678 43.8829 63.0647 43.3835 62.5034 43.3224C62.4676 43.3224 62.4268 43.3173 62.3911 43.3173L62.3962 43.3071ZM62.4472 39.3985C62.4217 39.3985 62.3911 39.3985 62.3605 39.3985C61.7992 39.4444 61.3807 39.9387 61.4267 40.4992V40.5247C61.4726 41.0598 61.9165 41.4624 62.4472 41.4624C62.4727 41.4624 62.5034 41.4624 62.5289 41.4624C63.0902 41.4165 63.5086 40.9273 63.4627 40.3667V40.3311C63.4168 39.8011 62.9677 39.3985 62.4472 39.3985ZM61.7532 35.5562C61.6614 35.5562 61.5695 35.5664 61.4777 35.5969C60.9368 35.7498 60.6204 36.3104 60.7735 36.8556V36.8811C60.9062 37.3296 61.3144 37.6251 61.7634 37.6251C61.8553 37.6251 61.9472 37.6149 62.039 37.5894C62.5799 37.4366 62.8963 36.876 62.7483 36.3358V36.3155L62.7381 36.3053C62.6105 35.8568 62.2023 35.5664 61.7583 35.5664L61.7532 35.5562ZM60.3346 31.9177C60.1816 31.9177 60.0234 31.9533 59.8754 32.0247C59.3702 32.2795 59.1712 32.891 59.4212 33.3955L59.4314 33.4159C59.61 33.7726 59.9723 33.9764 60.3449 33.9764C60.4979 33.9764 60.6561 33.9407 60.8041 33.8694C61.3093 33.6146 61.5083 33.0082 61.2583 32.5037V32.4935L61.243 32.4782C61.0644 32.1215 60.7021 31.9177 60.3295 31.9177H60.3346ZM58.2476 28.6155C58.0282 28.6155 57.8087 28.6868 57.625 28.8295C57.1811 29.176 57.0994 29.813 57.4413 30.2615L57.4566 30.2819C57.6557 30.5418 57.9618 30.6793 58.2629 30.6793C58.4823 30.6793 58.7017 30.608 58.8854 30.4653C59.3294 30.1188 59.411 29.4818 59.0691 29.0384H59.064V29.0232L59.0487 29.013C58.8497 28.7531 58.5487 28.6206 58.2425 28.6206L58.2476 28.6155ZM55.5686 25.7719C55.2879 25.7719 55.0022 25.8892 54.8032 26.1185C54.4306 26.5414 54.4715 27.1835 54.895 27.5555L54.9154 27.5708C55.1093 27.739 55.3492 27.8256 55.589 27.8256C55.8697 27.8256 56.1554 27.7084 56.3544 27.4791C56.7269 27.0561 56.6861 26.414 56.2677 26.042L56.2422 26.0166C56.0483 25.8484 55.8084 25.7668 55.5737 25.7668L55.5686 25.7719ZM52.3997 23.4839C52.0476 23.4839 51.7108 23.6622 51.5169 23.9884C51.2312 24.4725 51.3944 25.0993 51.8792 25.3847L51.8996 25.3999C52.0629 25.4968 52.2415 25.5426 52.415 25.5426C52.7671 25.5426 53.1039 25.3643 53.2978 25.0381C53.5836 24.554 53.4203 23.9272 52.9355 23.6418L52.9202 23.6316H52.9151C52.7518 23.5348 52.5732 23.489 52.3997 23.489V23.4839ZM48.8532 21.843C48.4297 21.843 48.0368 22.1029 47.8888 22.5258C47.7 23.0558 47.9806 23.6367 48.5164 23.8253L48.542 23.8355C48.6542 23.8763 48.7665 23.8915 48.8787 23.8915C49.3023 23.8915 49.6952 23.6316 49.8432 23.2087C50.032 22.6787 49.7513 22.0978 49.2206 21.9092H49.2002V21.899C49.0829 21.8583 48.9655 21.843 48.8532 21.843V21.843ZM45.0567 20.9155C44.5566 20.9155 44.1229 21.2824 44.0463 21.7869C43.9647 22.3424 44.3525 22.8622 44.9087 22.9437H44.9342C44.9853 22.9539 45.0363 22.959 45.0822 22.959C45.5823 22.959 46.016 22.5921 46.0926 22.0876C46.1742 21.5321 45.7915 21.0174 45.2353 20.9308H45.1996C45.1486 20.9206 45.1026 20.9155 45.0516 20.9155H45.0567Z",fill:"white"}),jsx("path",{ref:ct=>$.current[0]=ct,d:"M42.097 10H42.0664C41.5051 10 41.0458 10.4586 41.0458 11.0192C41.0458 11.5797 41.5051 12.0384 42.0664 12.0384H42.0919C42.6532 12.0384 43.1125 11.5797 43.1125 11.0192C43.1125 10.4586 42.6635 10 42.097 10ZM32.8251 11.4014C32.7231 11.4014 32.621 11.4167 32.5241 11.4472H32.5088L32.4935 11.4574C31.9577 11.6256 31.6566 12.1964 31.825 12.7314C31.9628 13.1697 32.3659 13.4449 32.7996 13.4449C32.9017 13.4449 33.0037 13.4296 33.1058 13.399L33.1313 13.3888C33.6671 13.2206 33.9682 12.6499 33.7998 12.1097C33.662 11.6715 33.2589 11.3963 32.8251 11.3963V11.4014ZM24.3952 15.5138C24.1962 15.5138 23.9921 15.5699 23.8186 15.6922L23.788 15.7126C23.3287 16.0336 23.2114 16.6655 23.5328 17.1292C23.7319 17.4146 24.0482 17.5675 24.3748 17.5675C24.5738 17.5675 24.7779 17.5063 24.9565 17.384L24.977 17.3687C25.4413 17.0477 25.5536 16.4107 25.2321 15.9521C25.0331 15.6667 24.7167 15.5138 24.3901 15.5138H24.3952ZM17.5727 21.9398C17.2716 21.9398 16.9706 22.0723 16.7716 22.3271L16.7614 22.3373L16.7512 22.3475C16.4042 22.7908 16.4807 23.4329 16.9247 23.7794C17.1135 23.9272 17.3329 23.9935 17.5523 23.9935C17.8534 23.9935 18.1544 23.861 18.3586 23.6011L18.3739 23.5807C18.7209 23.1374 18.6443 22.4953 18.2004 22.1487C18.0116 22.001 17.7921 21.9296 17.5727 21.9296V21.9398ZM12.9699 30.0984C12.5566 30.0984 12.1688 30.3481 12.0157 30.7558L12.0055 30.7864C11.8065 31.3113 12.0718 31.9024 12.6025 32.1011C12.7199 32.147 12.8424 32.1674 12.9648 32.1674C13.3782 32.1674 13.766 31.9177 13.9191 31.5049L13.9293 31.4794C14.1283 30.9545 13.8629 30.3634 13.3373 30.1647C13.22 30.1188 13.0975 30.0984 12.975 30.0984H12.9699ZM11.0206 39.2609C10.4848 39.2609 10.0358 39.6788 10.0052 40.219V40.2394H10.0001C9.96946 40.805 10.3981 41.2891 10.9594 41.3197C10.9798 41.3197 11.0002 41.3197 11.0206 41.3197C11.5564 41.3197 12.0055 40.9018 12.0412 40.3566V40.3311C12.0769 39.7705 11.6432 39.2864 11.0819 39.2558C11.0615 39.2558 11.0411 39.2558 11.0206 39.2558V39.2609ZM11.883 48.5916C11.8014 48.5916 11.7197 48.6018 11.6381 48.6222C11.0921 48.7598 10.7604 49.3101 10.8931 49.8554L10.9033 49.886C11.0206 50.3497 11.434 50.6555 11.8932 50.6555C11.9749 50.6555 12.0565 50.6453 12.1382 50.6249C12.6842 50.4873 13.021 49.9369 12.8832 49.3917V49.3662C12.7607 48.9025 12.3423 48.5916 11.8881 48.5916H11.883ZM15.4907 57.2343C15.3121 57.2343 15.1284 57.2802 14.9601 57.3821C14.4804 57.6726 14.3273 58.2994 14.6182 58.7835L14.6284 58.7988V58.809C14.8274 59.1198 15.1642 59.2931 15.5061 59.2931C15.6847 59.2931 15.8684 59.2472 16.0368 59.1453C16.5164 58.8498 16.6695 58.223 16.3786 57.7439L16.3633 57.7235C16.1694 57.4076 15.8326 57.2343 15.4907 57.2343ZM21.5223 64.4145C21.2417 64.4145 20.9559 64.5317 20.7569 64.7611C20.3844 65.184 20.4252 65.8261 20.8487 66.1981L20.8641 66.2083L20.8743 66.2185C21.0682 66.3867 21.308 66.4682 21.5478 66.4682C21.8285 66.4682 22.1143 66.351 22.3133 66.1217C22.6858 65.6987 22.645 65.0566 22.2214 64.6846L22.201 64.6693C22.0071 64.5012 21.7673 64.4145 21.5274 64.4145H21.5223ZM29.4113 69.485C29.0184 69.485 28.6459 69.7092 28.4775 70.0863C28.2479 70.601 28.4775 71.2023 28.9929 71.4316L29.0082 71.4418C29.1409 71.503 29.2838 71.5336 29.4215 71.5336C29.8094 71.5336 30.187 71.3093 30.3554 70.9271C30.585 70.4125 30.3554 69.8111 29.84 69.5818L29.8145 69.5716C29.6818 69.5105 29.5389 69.485 29.4011 69.485H29.4113ZM38.4536 71.9667C37.9433 71.9667 37.4994 72.3489 37.4432 72.8687C37.3769 73.4293 37.78 73.9338 38.3362 74H38.3617C38.4026 74.0102 38.4434 74.0102 38.4791 74.0102C38.9894 74.0102 39.4333 73.628 39.4895 73.1082C39.5558 72.5477 39.1527 72.0432 38.5914 71.9769H38.5659C38.525 71.9667 38.4842 71.9667 38.4485 71.9667H38.4536ZM47.8582 71.6457C47.7969 71.6457 47.7306 71.6508 47.6693 71.661H47.6438C47.0876 71.768 46.7253 72.3031 46.8274 72.8534C46.9192 73.3426 47.3479 73.6841 47.8275 73.6841C47.8888 73.6841 47.95 73.679 48.0112 73.6688H48.0419C48.5981 73.5618 48.9604 73.0267 48.8583 72.4763C48.7665 71.9871 48.3378 71.6457 47.8582 71.6457ZM56.7065 68.5473C56.5432 68.5473 56.3799 68.5881 56.2268 68.6645L56.2013 68.6747C55.7012 68.9397 55.5124 69.5563 55.7778 70.0557C55.9615 70.4023 56.3136 70.5959 56.681 70.5959C56.8443 70.5959 57.0025 70.5602 57.1556 70.4787L57.176 70.4685H57.1862C57.6863 70.1984 57.8751 69.5818 57.6097 69.0875C57.426 68.741 57.0739 68.5473 56.7065 68.5473V68.5473ZM64.2281 62.952C63.9628 62.952 63.7025 63.0539 63.5035 63.2527L63.4831 63.273C63.0851 63.6705 63.0902 64.3177 63.4882 64.7152C63.6872 64.9139 63.9475 65.0108 64.2077 65.0108C64.4679 65.0108 64.7333 64.9088 64.9323 64.7101L64.9476 64.6948H64.9527C65.3456 64.2871 65.3456 63.645 64.9425 63.2476C64.7435 63.0488 64.4833 62.952 64.223 62.952H64.2281ZM69.7494 55.3794C69.382 55.3794 69.0248 55.5782 68.8411 55.9298L68.8309 55.9553C68.5706 56.4547 68.7645 57.0713 69.2646 57.3312C69.4126 57.4076 69.5759 57.4484 69.7341 57.4484C70.1015 57.4484 70.4587 57.2496 70.6424 56.898L70.6526 56.8776V56.8674C70.9128 56.368 70.7189 55.7565 70.2189 55.4966C70.0709 55.4202 69.9076 55.3845 69.7494 55.3845V55.3794ZM72.755 46.5074C72.2702 46.5074 71.8365 46.8539 71.7497 47.3482V47.3737C71.6477 47.9291 72.0202 48.4591 72.5713 48.5559C72.6325 48.5661 72.6886 48.5712 72.7499 48.5712C73.2346 48.5712 73.6684 48.2247 73.7551 47.7304V47.6998C73.8572 47.1444 73.4847 46.6195 72.9336 46.5227C72.8723 46.5125 72.8162 46.5074 72.755 46.5074V46.5074ZM72.9795 37.141C72.9387 37.141 72.8928 37.141 72.8519 37.1512C72.2906 37.2226 71.8977 37.7321 71.9691 38.2927V38.3182C72.0355 38.8329 72.4794 39.21 72.9846 39.21C73.0254 39.21 73.0714 39.21 73.1122 39.1998C73.6735 39.1284 74.0664 38.6188 73.995 38.0634V38.043C73.9286 37.5232 73.4898 37.1461 72.9846 37.1461L72.9795 37.141ZM70.4026 28.1365C70.2597 28.1365 70.1168 28.1671 69.979 28.2282C69.4687 28.4626 69.2442 29.069 69.4789 29.5786L69.4892 29.6041C69.6627 29.9761 70.0301 30.2003 70.4179 30.2003C70.5608 30.2003 70.7036 30.1698 70.8414 30.1086C71.3517 29.8742 71.5813 29.2678 71.3415 28.7582V28.7429V28.7276C71.1629 28.3556 70.7955 28.1365 70.4077 28.1365H70.4026ZM65.2487 20.3091C65.0037 20.3091 64.7639 20.3957 64.5649 20.569C64.1465 20.9461 64.1107 21.5882 64.4884 22.0061L64.5037 22.0264C64.7078 22.2507 64.9833 22.3628 65.264 22.3628C65.5089 22.3628 65.7488 22.2761 65.9478 22.1029C66.3662 21.7258 66.4019 21.0837 66.0294 20.6658L66.009 20.6454C65.81 20.4161 65.5293 20.304 65.2487 20.304V20.3091ZM58.0026 14.3621C57.6556 14.3621 57.3137 14.5405 57.1249 14.8615C56.8341 15.3456 56.9974 15.9725 57.477 16.2578L57.4974 16.2731C57.6607 16.3699 57.8393 16.4158 58.0179 16.4158C58.3649 16.4158 58.7068 16.2374 58.8956 15.9164C59.1865 15.4323 59.0283 14.8055 58.5435 14.5201H58.5333L58.518 14.5048C58.3547 14.408 58.1761 14.3621 57.9975 14.3621H58.0026ZM49.3125 10.8408C48.8481 10.8408 48.4297 11.1568 48.3225 11.6256C48.1898 12.1709 48.5317 12.7212 49.0777 12.8537H49.1032C49.1849 12.8792 49.2614 12.8894 49.338 12.8894C49.8023 12.8894 50.2208 12.5735 50.3279 12.1046C50.4606 11.5594 50.1238 11.009 49.5727 10.8765H49.5421C49.4604 10.851 49.3839 10.8408 49.3074 10.8408H49.3125Z",fill:"white"}),jsx("rect",{x:"40.8892",y:"50.8889",width:"17.7778",height:"1.77778",transform:"rotate(-90 40.8892 50.8889)",fill:"white"}),jsx("rect",{x:"32.8892",y:"41.1111",width:"17.7778",height:"1.77778",fill:"white"}),jsxs("g",{filter:"url(#filter0_f_2170_1344)",children:[jsx("path",{ref:ct=>b.current[1]=ct,d:"M42.097 20.7015H42.0664C41.5051 20.7015 41.0459 21.1601 41.0459 21.7207C41.0459 22.2812 41.5051 22.7399 42.0664 22.7399H42.0919C42.6533 22.7399 43.1125 22.2812 43.1125 21.7207C43.1125 21.1601 42.6584 20.7015 42.0919 20.7015H42.097ZM38.2087 21.0735C38.1423 21.0735 38.0811 21.0786 38.0148 21.0939H37.9841C37.433 21.206 37.0707 21.7411 37.1779 22.2914C37.2749 22.7806 37.6984 23.117 38.1781 23.117C38.2444 23.117 38.3056 23.1119 38.372 23.0966H38.3975C38.9486 22.9845 39.3109 22.4494 39.2037 21.899C39.1119 21.4098 38.6832 21.0735 38.2036 21.0735H38.2087ZM34.4581 22.1793C34.3305 22.1793 34.2029 22.2048 34.0754 22.2557L34.0498 22.2659C33.5294 22.4749 33.2742 23.0711 33.4885 23.5909C33.6518 23.9884 34.0294 24.2279 34.4377 24.2279C34.5652 24.2279 34.6928 24.2024 34.8204 24.1514L34.8459 24.1412C35.3664 23.9323 35.6215 23.3361 35.4072 22.8163C35.249 22.4188 34.8663 22.1793 34.4632 22.1793H34.4581ZM30.9932 23.9833C30.8044 23.9833 30.6105 24.0342 30.437 24.1463L30.4115 24.1616C29.9369 24.4674 29.8043 25.0993 30.1155 25.5732C30.3095 25.8739 30.636 26.0369 30.9728 26.0369C31.1616 26.0369 31.3555 25.986 31.529 25.8739L31.5494 25.8586C32.024 25.5528 32.1567 24.9209 31.8505 24.447C31.6566 24.1463 31.33 23.9833 30.9932 23.9833V23.9833ZM27.9315 26.414C27.6764 26.414 27.4212 26.5109 27.2222 26.6994H27.2171L27.2069 26.7198C26.8038 27.1122 26.7885 27.7543 27.1814 28.1619C27.3804 28.3709 27.6509 28.4728 27.9162 28.4728C28.1816 28.4728 28.4265 28.376 28.6255 28.1874L28.6459 28.1721C29.0491 27.7797 29.0644 27.1377 28.6714 26.73C28.4724 26.521 28.202 26.4191 27.9366 26.4191L27.9315 26.414ZM25.3903 29.3799C25.0688 29.3799 24.7524 29.5328 24.5534 29.813L24.5381 29.8334C24.2166 30.292 24.3238 30.929 24.7882 31.2552C24.9668 31.3826 25.1709 31.4386 25.375 31.4386C25.6965 31.4386 26.0129 31.2858 26.2119 31.0055L26.2272 30.9851C26.5487 30.5265 26.4415 29.8895 25.9771 29.5633C25.7985 29.4359 25.5944 29.3799 25.3903 29.3799ZM23.4563 32.7738C23.0685 32.7738 22.696 32.998 22.5225 33.3751L22.5123 33.3955C22.2827 33.9153 22.5123 34.5166 23.0277 34.7459C23.1604 34.8071 23.3032 34.8325 23.441 34.8325C23.8339 34.8325 24.2064 34.6083 24.3748 34.2261L24.385 34.2006C24.6147 33.686 24.385 33.0846 23.8697 32.8553C23.7319 32.7942 23.5941 32.7687 23.4512 32.7687L23.4563 32.7738ZM22.2112 36.4734C21.7469 36.4734 21.3284 36.7945 21.2162 37.2633V37.2939C21.0835 37.8391 21.4254 38.3844 21.9765 38.5118C22.053 38.5271 22.1296 38.5373 22.2061 38.5373C22.6705 38.5373 23.0889 38.2162 23.2012 37.7474V37.7219C23.3339 37.1716 22.992 36.6263 22.4409 36.4989C22.3643 36.4785 22.2878 36.4734 22.2112 36.4734V36.4734ZM21.7009 40.3413C21.1549 40.3413 20.7059 40.7744 20.6804 41.3197V41.3503C20.66 41.9108 21.0988 42.3847 21.6652 42.4051C21.6754 42.4051 21.6907 42.4051 21.7009 42.4051C22.2469 42.4051 22.7011 41.972 22.7215 41.4216V41.3961C22.7419 40.8356 22.3031 40.3616 21.7367 40.3413C21.7265 40.3413 21.7111 40.3413 21.7009 40.3413V40.3413ZM21.9306 44.2397C21.8795 44.2397 21.8234 44.2397 21.7724 44.2498C21.2162 44.3365 20.8335 44.8563 20.9202 45.4117V45.4423C21.0019 45.9417 21.4356 46.3035 21.9306 46.3035C21.9816 46.3035 22.0377 46.3035 22.0888 46.2933C22.645 46.2067 23.0277 45.6869 22.9409 45.1264V45.1009C22.8593 44.5964 22.4255 44.2397 21.9306 44.2397ZM22.895 48.0209C22.7776 48.0209 22.6603 48.0412 22.548 48.082C22.0173 48.2706 21.7469 48.8566 21.9357 49.3815V49.3968L21.9459 49.412C22.0939 49.8248 22.4868 50.0847 22.9052 50.0847C23.0226 50.0847 23.1399 50.0643 23.2522 50.0236C23.7829 49.8299 24.0534 49.249 23.8646 48.719L23.8543 48.6935C23.7064 48.2807 23.3134 48.0209 22.895 48.0209ZM24.5687 51.5472C24.3901 51.5472 24.2115 51.5931 24.0432 51.6899C23.5584 51.9804 23.4002 52.6072 23.6911 53.0862V53.0964L23.7064 53.1117C23.9003 53.4277 24.2371 53.606 24.579 53.606C24.7576 53.606 24.9413 53.5601 25.1045 53.4582C25.5893 53.1678 25.7424 52.541 25.4566 52.0619L25.4413 52.0416C25.2474 51.7205 24.9106 51.5472 24.5636 51.5472H24.5687ZM26.8905 54.6914C26.6456 54.6914 26.4058 54.7781 26.2119 54.9513C25.7934 55.3284 25.7577 55.9705 26.1353 56.3884L26.1455 56.3986L26.1557 56.4088C26.3547 56.633 26.6354 56.7451 26.9161 56.7451C27.161 56.7451 27.4008 56.6585 27.5998 56.4852C28.0183 56.1081 28.054 55.466 27.6764 55.0431L27.6611 55.0227C27.457 54.7985 27.1814 54.6864 26.9007 54.6864L26.8905 54.6914ZM29.7686 57.3362C29.4624 57.3362 29.1562 57.4738 28.9521 57.7388C28.6102 58.1873 28.697 58.8243 29.146 59.1657L29.1613 59.181C29.345 59.3237 29.5644 59.3899 29.7788 59.3899C30.0849 59.3899 30.3911 59.2523 30.5901 58.9873C30.932 58.5389 30.8402 57.8968 30.3911 57.5605L30.3707 57.5452C30.187 57.4076 29.9676 57.3362 29.7532 57.3362H29.7686ZM33.0956 59.3899C32.718 59.3899 32.3557 59.5988 32.1771 59.9607C31.9271 60.4652 32.1363 61.0767 32.6415 61.3264L32.667 61.3417C32.8099 61.413 32.9629 61.4436 33.1109 61.4436C33.4885 61.4436 33.8508 61.2346 34.0294 60.8728C34.2795 60.3683 34.0703 59.7568 33.5651 59.5071L33.5447 59.4969C33.4018 59.4256 33.2487 59.3899 33.0956 59.3899V59.3899ZM36.7493 60.7709C36.3002 60.7709 35.8869 61.0716 35.7644 61.5251C35.6164 62.0704 35.9379 62.6258 36.4839 62.7736H36.5094C36.5962 62.8042 36.688 62.8144 36.7748 62.8144C37.2238 62.8144 37.6372 62.5137 37.7596 62.0602C37.9076 61.5149 37.5861 60.9595 37.0401 60.8117H37.0146C36.9279 60.7811 36.836 60.7709 36.7493 60.7709ZM40.6019 61.4232C40.0712 61.4232 39.6222 61.8309 39.5864 62.371C39.5456 62.9316 39.9692 63.4208 40.5305 63.4616H40.5662C40.5662 63.4616 40.6121 63.4616 40.6376 63.4616C41.1683 63.4616 41.6174 63.0539 41.6531 62.5137C41.6939 61.9532 41.2704 61.464 40.7091 61.4232H40.6836C40.6836 61.4232 40.6325 61.4232 40.607 61.4232H40.6019ZM44.5413 61.3315C44.5005 61.3315 44.4597 61.3315 44.4188 61.3366H44.3933C43.832 61.4079 43.434 61.9124 43.5003 62.473C43.5616 62.9927 44.0004 63.3749 44.5107 63.3749C44.5515 63.3749 44.5923 63.3749 44.6332 63.3698H44.6638C45.22 63.2985 45.618 62.794 45.5517 62.2334C45.4904 61.7137 45.0465 61.3315 44.5413 61.3366V61.3315ZM48.3582 60.5008C48.2562 60.5008 48.149 60.5161 48.047 60.5518L48.0215 60.562C47.4857 60.7352 47.1897 61.306 47.3632 61.8462C47.501 62.2793 47.9041 62.5545 48.3327 62.5545C48.4348 62.5545 48.542 62.5392 48.644 62.5035L48.6695 62.4933C49.2053 62.3201 49.5013 61.7493 49.3278 61.2092C49.19 60.776 48.7869 60.5008 48.3582 60.5008ZM51.9456 58.9517C51.7772 58.9517 51.6088 58.9924 51.4557 59.0791L51.4353 59.0892C50.9403 59.3593 50.7617 59.981 51.0321 60.4753C51.2158 60.8117 51.5679 61.0053 51.9251 61.0053C52.0884 61.0053 52.2568 60.9646 52.415 60.8779L52.4405 60.8677C52.9355 60.5926 53.1141 59.9759 52.8437 59.4816C52.66 59.1453 52.3079 58.9568 51.9507 58.9568L51.9456 58.9517ZM55.1706 56.7502C54.9409 56.7502 54.7062 56.8266 54.5174 56.9846L54.497 56.9999C54.0632 57.3617 54.0071 58.0038 54.3643 58.437C54.5684 58.6765 54.8542 58.8039 55.1502 58.8039C55.3798 58.8039 55.6094 58.7274 55.8033 58.5695L55.8237 58.5542C56.2575 58.1924 56.3136 57.5503 55.9513 57.1171C55.7472 56.8776 55.4614 56.7502 55.1655 56.7502H55.1706ZM57.921 53.9729C57.625 53.9729 57.3291 54.1003 57.1301 54.3449L57.1147 54.3653C56.7575 54.8036 56.8239 55.4456 57.2576 55.8024C57.4464 55.9552 57.6761 56.0317 57.9006 56.0317C58.1966 56.0317 58.4874 55.9043 58.6915 55.6597L58.7068 55.6393C59.064 55.201 58.9977 54.559 58.564 54.2022C58.3752 54.0494 58.1455 53.9729 57.921 53.9729ZM60.0948 50.7268C59.7325 50.7268 59.3804 50.9204 59.1967 51.2619L59.1865 51.2823C58.9212 51.7766 59.1049 52.3983 59.5998 52.6633C59.7529 52.7448 59.9213 52.7856 60.0846 52.7856C60.4469 52.7856 60.799 52.5919 60.9827 52.2505V52.2403L60.998 52.2199C61.2634 51.7256 61.0797 51.109 60.5796 50.844C60.4265 50.7625 60.2581 50.7217 60.0948 50.7217V50.7268ZM61.6053 47.1291C61.1715 47.1291 60.7684 47.4093 60.6306 47.8476V47.8731C60.4571 48.4132 60.7582 48.984 61.294 49.1471C61.396 49.1776 61.4981 49.1929 61.5951 49.1929C62.0288 49.1929 62.4319 48.9126 62.5697 48.4744V48.4438C62.7432 47.9087 62.4421 47.338 61.9012 47.1698C61.7992 47.1393 61.6971 47.124 61.6002 47.124L61.6053 47.1291ZM62.3962 43.3071C61.8808 43.3071 61.4369 43.6944 61.3807 44.2193V44.2448C61.3195 44.8053 61.7226 45.3098 62.2839 45.371C62.3197 45.371 62.3605 45.3761 62.3962 45.3761C62.9116 45.3761 63.3504 44.9888 63.4066 44.469V44.4435C63.4678 43.8829 63.0647 43.3835 62.5034 43.3224C62.4676 43.3224 62.4268 43.3173 62.3911 43.3173L62.3962 43.3071ZM62.4472 39.3985C62.4217 39.3985 62.3911 39.3985 62.3605 39.3985C61.7992 39.4444 61.3807 39.9387 61.4267 40.4992V40.5247C61.4726 41.0598 61.9165 41.4624 62.4472 41.4624C62.4727 41.4624 62.5034 41.4624 62.5289 41.4624C63.0902 41.4165 63.5086 40.9273 63.4627 40.3667V40.3311C63.4168 39.8011 62.9677 39.3985 62.4472 39.3985ZM61.7532 35.5562C61.6614 35.5562 61.5695 35.5664 61.4777 35.5969C60.9368 35.7498 60.6204 36.3104 60.7735 36.8556V36.8811C60.9062 37.3296 61.3144 37.6251 61.7634 37.6251C61.8553 37.6251 61.9472 37.6149 62.039 37.5894C62.5799 37.4366 62.8963 36.876 62.7483 36.3358V36.3155L62.7381 36.3053C62.6105 35.8568 62.2023 35.5664 61.7583 35.5664L61.7532 35.5562ZM60.3346 31.9177C60.1816 31.9177 60.0234 31.9533 59.8754 32.0247C59.3702 32.2795 59.1712 32.891 59.4212 33.3955L59.4314 33.4159C59.61 33.7726 59.9723 33.9764 60.3449 33.9764C60.4979 33.9764 60.6561 33.9407 60.8041 33.8694C61.3093 33.6146 61.5083 33.0082 61.2583 32.5037V32.4935L61.243 32.4782C61.0644 32.1215 60.7021 31.9177 60.3295 31.9177H60.3346ZM58.2476 28.6155C58.0282 28.6155 57.8087 28.6868 57.625 28.8295C57.1811 29.176 57.0994 29.813 57.4413 30.2615L57.4566 30.2819C57.6557 30.5418 57.9618 30.6793 58.2629 30.6793C58.4823 30.6793 58.7017 30.608 58.8854 30.4653C59.3294 30.1188 59.411 29.4818 59.0691 29.0384H59.064V29.0232L59.0487 29.013C58.8497 28.7531 58.5487 28.6206 58.2425 28.6206L58.2476 28.6155ZM55.5686 25.7719C55.2879 25.7719 55.0022 25.8892 54.8032 26.1185C54.4306 26.5414 54.4715 27.1835 54.895 27.5555L54.9154 27.5708C55.1093 27.739 55.3492 27.8256 55.589 27.8256C55.8697 27.8256 56.1554 27.7084 56.3544 27.4791C56.7269 27.0561 56.6861 26.414 56.2677 26.042L56.2422 26.0166C56.0483 25.8484 55.8084 25.7668 55.5737 25.7668L55.5686 25.7719ZM52.3997 23.4839C52.0476 23.4839 51.7108 23.6622 51.5169 23.9884C51.2312 24.4725 51.3944 25.0993 51.8792 25.3847L51.8996 25.3999C52.0629 25.4968 52.2415 25.5426 52.415 25.5426C52.7671 25.5426 53.1039 25.3643 53.2978 25.0381C53.5836 24.554 53.4203 23.9272 52.9355 23.6418L52.9202 23.6316H52.9151C52.7518 23.5348 52.5732 23.489 52.3997 23.489V23.4839ZM48.8532 21.843C48.4297 21.843 48.0368 22.1029 47.8888 22.5258C47.7 23.0558 47.9806 23.6367 48.5164 23.8253L48.542 23.8355C48.6542 23.8763 48.7665 23.8915 48.8787 23.8915C49.3023 23.8915 49.6952 23.6316 49.8432 23.2087C50.032 22.6787 49.7513 22.0978 49.2206 21.9092H49.2002V21.899C49.0829 21.8583 48.9655 21.843 48.8532 21.843V21.843ZM45.0567 20.9155C44.5566 20.9155 44.1229 21.2824 44.0463 21.7869C43.9647 22.3424 44.3525 22.8622 44.9087 22.9437H44.9342C44.9853 22.9539 45.0363 22.959 45.0822 22.959C45.5823 22.959 46.016 22.5921 46.0926 22.0876C46.1742 21.5321 45.7915 21.0174 45.2353 20.9308H45.1996C45.1486 20.9206 45.1026 20.9155 45.0516 20.9155H45.0567Z",fill:"white"}),jsx("path",{ref:ct=>$.current[1]=ct,d:"M42.097 10H42.0664C41.5051 10 41.0458 10.4586 41.0458 11.0192C41.0458 11.5797 41.5051 12.0384 42.0664 12.0384H42.0919C42.6532 12.0384 43.1125 11.5797 43.1125 11.0192C43.1125 10.4586 42.6635 10 42.097 10ZM32.8251 11.4014C32.7231 11.4014 32.621 11.4167 32.5241 11.4472H32.5088L32.4935 11.4574C31.9577 11.6256 31.6566 12.1964 31.825 12.7314C31.9628 13.1697 32.3659 13.4449 32.7996 13.4449C32.9017 13.4449 33.0037 13.4296 33.1058 13.399L33.1313 13.3888C33.6671 13.2206 33.9682 12.6499 33.7998 12.1097C33.662 11.6715 33.2589 11.3963 32.8251 11.3963V11.4014ZM24.3952 15.5138C24.1962 15.5138 23.9921 15.5699 23.8186 15.6922L23.788 15.7126C23.3287 16.0336 23.2114 16.6655 23.5328 17.1292C23.7319 17.4146 24.0482 17.5675 24.3748 17.5675C24.5738 17.5675 24.7779 17.5063 24.9565 17.384L24.977 17.3687C25.4413 17.0477 25.5536 16.4107 25.2321 15.9521C25.0331 15.6667 24.7167 15.5138 24.3901 15.5138H24.3952ZM17.5727 21.9398C17.2716 21.9398 16.9706 22.0723 16.7716 22.3271L16.7614 22.3373L16.7512 22.3475C16.4042 22.7908 16.4807 23.4329 16.9247 23.7794C17.1135 23.9272 17.3329 23.9935 17.5523 23.9935C17.8534 23.9935 18.1544 23.861 18.3586 23.6011L18.3739 23.5807C18.7209 23.1374 18.6443 22.4953 18.2004 22.1487C18.0116 22.001 17.7921 21.9296 17.5727 21.9296V21.9398ZM12.9699 30.0984C12.5566 30.0984 12.1688 30.3481 12.0157 30.7558L12.0055 30.7864C11.8065 31.3113 12.0718 31.9024 12.6025 32.1011C12.7199 32.147 12.8424 32.1674 12.9648 32.1674C13.3782 32.1674 13.766 31.9177 13.9191 31.5049L13.9293 31.4794C14.1283 30.9545 13.8629 30.3634 13.3373 30.1647C13.22 30.1188 13.0975 30.0984 12.975 30.0984H12.9699ZM11.0206 39.2609C10.4848 39.2609 10.0358 39.6788 10.0052 40.219V40.2394H10.0001C9.96946 40.805 10.3981 41.2891 10.9594 41.3197C10.9798 41.3197 11.0002 41.3197 11.0206 41.3197C11.5564 41.3197 12.0055 40.9018 12.0412 40.3566V40.3311C12.0769 39.7705 11.6432 39.2864 11.0819 39.2558C11.0615 39.2558 11.0411 39.2558 11.0206 39.2558V39.2609ZM11.883 48.5916C11.8014 48.5916 11.7197 48.6018 11.6381 48.6222C11.0921 48.7598 10.7604 49.3101 10.8931 49.8554L10.9033 49.886C11.0206 50.3497 11.434 50.6555 11.8932 50.6555C11.9749 50.6555 12.0565 50.6453 12.1382 50.6249C12.6842 50.4873 13.021 49.9369 12.8832 49.3917V49.3662C12.7607 48.9025 12.3423 48.5916 11.8881 48.5916H11.883ZM15.4907 57.2343C15.3121 57.2343 15.1284 57.2802 14.9601 57.3821C14.4804 57.6726 14.3273 58.2994 14.6182 58.7835L14.6284 58.7988V58.809C14.8274 59.1198 15.1642 59.2931 15.5061 59.2931C15.6847 59.2931 15.8684 59.2472 16.0368 59.1453C16.5164 58.8498 16.6695 58.223 16.3786 57.7439L16.3633 57.7235C16.1694 57.4076 15.8326 57.2343 15.4907 57.2343ZM21.5223 64.4145C21.2417 64.4145 20.9559 64.5317 20.7569 64.7611C20.3844 65.184 20.4252 65.8261 20.8487 66.1981L20.8641 66.2083L20.8743 66.2185C21.0682 66.3867 21.308 66.4682 21.5478 66.4682C21.8285 66.4682 22.1143 66.351 22.3133 66.1217C22.6858 65.6987 22.645 65.0566 22.2214 64.6846L22.201 64.6693C22.0071 64.5012 21.7673 64.4145 21.5274 64.4145H21.5223ZM29.4113 69.485C29.0184 69.485 28.6459 69.7092 28.4775 70.0863C28.2479 70.601 28.4775 71.2023 28.9929 71.4316L29.0082 71.4418C29.1409 71.503 29.2838 71.5336 29.4215 71.5336C29.8094 71.5336 30.187 71.3093 30.3554 70.9271C30.585 70.4125 30.3554 69.8111 29.84 69.5818L29.8145 69.5716C29.6818 69.5105 29.5389 69.485 29.4011 69.485H29.4113ZM38.4536 71.9667C37.9433 71.9667 37.4994 72.3489 37.4432 72.8687C37.3769 73.4293 37.78 73.9338 38.3362 74H38.3617C38.4026 74.0102 38.4434 74.0102 38.4791 74.0102C38.9894 74.0102 39.4333 73.628 39.4895 73.1082C39.5558 72.5477 39.1527 72.0432 38.5914 71.9769H38.5659C38.525 71.9667 38.4842 71.9667 38.4485 71.9667H38.4536ZM47.8582 71.6457C47.7969 71.6457 47.7306 71.6508 47.6693 71.661H47.6438C47.0876 71.768 46.7253 72.3031 46.8274 72.8534C46.9192 73.3426 47.3479 73.6841 47.8275 73.6841C47.8888 73.6841 47.95 73.679 48.0112 73.6688H48.0419C48.5981 73.5618 48.9604 73.0267 48.8583 72.4763C48.7665 71.9871 48.3378 71.6457 47.8582 71.6457ZM56.7065 68.5473C56.5432 68.5473 56.3799 68.5881 56.2268 68.6645L56.2013 68.6747C55.7012 68.9397 55.5124 69.5563 55.7778 70.0557C55.9615 70.4023 56.3136 70.5959 56.681 70.5959C56.8443 70.5959 57.0025 70.5602 57.1556 70.4787L57.176 70.4685H57.1862C57.6863 70.1984 57.8751 69.5818 57.6097 69.0875C57.426 68.741 57.0739 68.5473 56.7065 68.5473V68.5473ZM64.2281 62.952C63.9628 62.952 63.7025 63.0539 63.5035 63.2527L63.4831 63.273C63.0851 63.6705 63.0902 64.3177 63.4882 64.7152C63.6872 64.9139 63.9475 65.0108 64.2077 65.0108C64.4679 65.0108 64.7333 64.9088 64.9323 64.7101L64.9476 64.6948H64.9527C65.3456 64.2871 65.3456 63.645 64.9425 63.2476C64.7435 63.0488 64.4833 62.952 64.223 62.952H64.2281ZM69.7494 55.3794C69.382 55.3794 69.0248 55.5782 68.8411 55.9298L68.8309 55.9553C68.5706 56.4547 68.7645 57.0713 69.2646 57.3312C69.4126 57.4076 69.5759 57.4484 69.7341 57.4484C70.1015 57.4484 70.4587 57.2496 70.6424 56.898L70.6526 56.8776V56.8674C70.9128 56.368 70.7189 55.7565 70.2189 55.4966C70.0709 55.4202 69.9076 55.3845 69.7494 55.3845V55.3794ZM72.755 46.5074C72.2702 46.5074 71.8365 46.8539 71.7497 47.3482V47.3737C71.6477 47.9291 72.0202 48.4591 72.5713 48.5559C72.6325 48.5661 72.6886 48.5712 72.7499 48.5712C73.2346 48.5712 73.6684 48.2247 73.7551 47.7304V47.6998C73.8572 47.1444 73.4847 46.6195 72.9336 46.5227C72.8723 46.5125 72.8162 46.5074 72.755 46.5074V46.5074ZM72.9795 37.141C72.9387 37.141 72.8928 37.141 72.8519 37.1512C72.2906 37.2226 71.8977 37.7321 71.9691 38.2927V38.3182C72.0355 38.8329 72.4794 39.21 72.9846 39.21C73.0254 39.21 73.0714 39.21 73.1122 39.1998C73.6735 39.1284 74.0664 38.6188 73.995 38.0634V38.043C73.9286 37.5232 73.4898 37.1461 72.9846 37.1461L72.9795 37.141ZM70.4026 28.1365C70.2597 28.1365 70.1168 28.1671 69.979 28.2282C69.4687 28.4626 69.2442 29.069 69.4789 29.5786L69.4892 29.6041C69.6627 29.9761 70.0301 30.2003 70.4179 30.2003C70.5608 30.2003 70.7036 30.1698 70.8414 30.1086C71.3517 29.8742 71.5813 29.2678 71.3415 28.7582V28.7429V28.7276C71.1629 28.3556 70.7955 28.1365 70.4077 28.1365H70.4026ZM65.2487 20.3091C65.0037 20.3091 64.7639 20.3957 64.5649 20.569C64.1465 20.9461 64.1107 21.5882 64.4884 22.0061L64.5037 22.0264C64.7078 22.2507 64.9833 22.3628 65.264 22.3628C65.5089 22.3628 65.7488 22.2761 65.9478 22.1029C66.3662 21.7258 66.4019 21.0837 66.0294 20.6658L66.009 20.6454C65.81 20.4161 65.5293 20.304 65.2487 20.304V20.3091ZM58.0026 14.3621C57.6556 14.3621 57.3137 14.5405 57.1249 14.8615C56.8341 15.3456 56.9974 15.9725 57.477 16.2578L57.4974 16.2731C57.6607 16.3699 57.8393 16.4158 58.0179 16.4158C58.3649 16.4158 58.7068 16.2374 58.8956 15.9164C59.1865 15.4323 59.0283 14.8055 58.5435 14.5201H58.5333L58.518 14.5048C58.3547 14.408 58.1761 14.3621 57.9975 14.3621H58.0026ZM49.3125 10.8408C48.8481 10.8408 48.4297 11.1568 48.3225 11.6256C48.1898 12.1709 48.5317 12.7212 49.0777 12.8537H49.1032C49.1849 12.8792 49.2614 12.8894 49.338 12.8894C49.8023 12.8894 50.2208 12.5735 50.3279 12.1046C50.4606 11.5594 50.1238 11.009 49.5727 10.8765H49.5421C49.4604 10.851 49.3839 10.8408 49.3074 10.8408H49.3125Z",fill:"white"}),jsx("rect",{x:"41.1113",y:"50.8889",width:"17.7778",height:"1.77778",transform:"rotate(-90 41.1113 50.8889)",fill:"white"}),jsx("rect",{x:"33.1113",y:"41.1111",width:"17.7778",height:"1.77778",fill:"white"})]}),jsx("defs",{children:jsxs("filter",{id:"filter0_f_2170_1344",x:"4.99854",y:"5",width:"74.0049",height:"74.0103",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),jsx("feGaussianBlur",{stdDeviation:"2.5",result:"effect1_foregroundBlur_2170_1344"})]})})]})})})}function clamp(j,g,b){return Math.max(g,Math.min(j,b))}const V={toVector(j,g){return j===void 0&&(j=g),Array.isArray(j)?j:[j,j]},add(j,g){return[j[0]+g[0],j[1]+g[1]]},sub(j,g){return[j[0]-g[0],j[1]-g[1]]},addTo(j,g){j[0]+=g[0],j[1]+=g[1]},subTo(j,g){j[0]-=g[0],j[1]-=g[1]}};function rubberband(j,g,b){return g===0||Math.abs(g)===1/0?Math.pow(j,b*5):j*g*b/(g+b*j)}function rubberbandIfOutOfBounds(j,g,b,$=.15){return $===0?clamp(j,g,b):j<g?-rubberband(g-j,b-g,$)+g:j>b?+rubberband(j-b,b-g,$)+b:j}function computeRubberband(j,[g,b],[$,_e]){const[[et,tt],[nt,rt]]=j;return[rubberbandIfOutOfBounds(g,et,tt,$),rubberbandIfOutOfBounds(b,nt,rt,_e)]}function _defineProperty(j,g,b){return g in j?Object.defineProperty(j,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):j[g]=b,j}function ownKeys(j,g){var b=Object.keys(j);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(j);g&&($=$.filter(function(_e){return Object.getOwnPropertyDescriptor(j,_e).enumerable})),b.push.apply(b,$)}return b}function _objectSpread2(j){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?ownKeys(Object(b),!0).forEach(function($){_defineProperty(j,$,b[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function($){Object.defineProperty(j,$,Object.getOwnPropertyDescriptor(b,$))})}return j}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize(j){return j?j[0].toUpperCase()+j.slice(1):""}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(j=!1,g){return j&&!actionsWithoutCaptureSupported.includes(g)}function toHandlerProp(j,g="",b=!1){const $=EVENT_TYPE_MAP[j],_e=$&&$[g]||g;return"on"+capitalize(j)+capitalize(_e)+(hasCapture(b,_e)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(j){let g=j.substring(2).toLowerCase();const b=!!~g.indexOf("passive");b&&(g=g.replace("passive",""));const $=pointerCaptureEvents.includes(g)?"capturecapture":"capture",_e=!!~g.indexOf($);return _e&&(g=g.replace("capture","")),{device:g,capture:_e,passive:b}}function toDomEventType(j,g=""){const b=EVENT_TYPE_MAP[j],$=b&&b[g]||g;return j+$}function isTouch(j){return"touches"in j}function getPointerType(j){return isTouch(j)?"touch":"pointerType"in j?j.pointerType:"mouse"}function getCurrentTargetTouchList(j){return Array.from(j.touches).filter(g=>{var b,$;return g.target===j.currentTarget||((b=j.currentTarget)===null||b===void 0||($=b.contains)===null||$===void 0?void 0:$.call(b,g.target))})}function getTouchList(j){return j.type==="touchend"||j.type==="touchcancel"?j.changedTouches:j.targetTouches}function getValueEvent(j){return isTouch(j)?getTouchList(j)[0]:j}function touchIds(j){return getCurrentTargetTouchList(j).map(g=>g.identifier)}function pointerId(j){const g=getValueEvent(j);return isTouch(j)?g.identifier:g.pointerId}function pointerValues(j){const g=getValueEvent(j);return[g.clientX,g.clientY]}function getEventDetails(j){const g={};if("buttons"in j&&(g.buttons=j.buttons),"shiftKey"in j){const{shiftKey:b,altKey:$,metaKey:_e,ctrlKey:et}=j;Object.assign(g,{shiftKey:b,altKey:$,metaKey:_e,ctrlKey:et})}return g}function call(j,...g){return typeof j=="function"?j(...g):j}function noop(){}function chain(...j){return j.length===0?noop:j.length===1?j[0]:function(){let g;for(const b of j)g=b.apply(this,arguments)||g;return g}}function assignDefault(j,g){return Object.assign({},g,j||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class Engine{constructor(g,b,$){this.ctrl=g,this.args=b,this.key=$,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(g){this.ctrl.state[this.key]=g}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:g,shared:b,ingKey:$,args:_e}=this;b[$]=g._active=g.active=g._blocked=g._force=!1,g._step=[!1,!1],g.intentional=!1,g._movement=[0,0],g._distance=[0,0],g._direction=[0,0],g._delta=[0,0],g._bounds=[[-1/0,1/0],[-1/0,1/0]],g.args=_e,g.axis=void 0,g.memo=void 0,g.elapsedTime=0,g.direction=[0,0],g.distance=[0,0],g.overflow=[0,0],g._movementBound=[!1,!1],g.velocity=[0,0],g.movement=[0,0],g.delta=[0,0],g.timeStamp=0}start(g){const b=this.state,$=this.config;b._active||(this.reset(),this.computeInitial(),b._active=!0,b.target=g.target,b.currentTarget=g.currentTarget,b.lastOffset=$.from?call($.from,b):b.offset,b.offset=b.lastOffset),b.startTime=b.timeStamp=g.timeStamp}computeValues(g){const b=this.state;b._values=g,b.values=this.config.transform(g)}computeInitial(){const g=this.state;g._initial=g._values,g.initial=g.values}compute(g){const{state:b,config:$,shared:_e}=this;b.args=this.args;let et=0;if(g&&(b.event=g,$.preventDefault&&g.cancelable&&b.event.preventDefault(),b.type=g.type,_e.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,_e.locked=!!document.pointerLockElement,Object.assign(_e,getEventDetails(g)),_e.down=_e.pressed=_e.buttons%2===1||_e.touches>0,et=g.timeStamp-b.timeStamp,b.timeStamp=g.timeStamp,b.elapsedTime=b.timeStamp-b.startTime),b._active){const yt=b._delta.map(Math.abs);V.addTo(b._distance,yt)}this.axisIntent&&this.axisIntent(g);const[tt,nt]=b._movement,[rt,it]=$.threshold,{_step:ot,values:st}=b;if($.hasCustomTransform?(ot[0]===!1&&(ot[0]=Math.abs(tt)>=rt&&st[0]),ot[1]===!1&&(ot[1]=Math.abs(nt)>=it&&st[1])):(ot[0]===!1&&(ot[0]=Math.abs(tt)>=rt&&Math.sign(tt)*rt),ot[1]===!1&&(ot[1]=Math.abs(nt)>=it&&Math.sign(nt)*it)),b.intentional=ot[0]!==!1||ot[1]!==!1,!b.intentional)return;const at=[0,0];if($.hasCustomTransform){const[yt,_t]=st;at[0]=ot[0]!==!1?yt-ot[0]:0,at[1]=ot[1]!==!1?_t-ot[1]:0}else at[0]=ot[0]!==!1?tt-ot[0]:0,at[1]=ot[1]!==!1?nt-ot[1]:0;this.restrictToAxis&&!b._blocked&&this.restrictToAxis(at);const lt=b.offset,ut=b._active&&!b._blocked||b.active;ut&&(b.first=b._active&&!b.active,b.last=!b._active&&b.active,b.active=_e[this.ingKey]=b._active,g&&(b.first&&("bounds"in $&&(b._bounds=call($.bounds,b)),this.setup&&this.setup()),b.movement=at,this.computeOffset()));const[ct,ft]=b.offset,[[ht,dt],[pt,mt]]=b._bounds;b.overflow=[ct<ht?-1:ct>dt?1:0,ft<pt?-1:ft>mt?1:0],b._movementBound[0]=b.overflow[0]?b._movementBound[0]===!1?b._movement[0]:b._movementBound[0]:!1,b._movementBound[1]=b.overflow[1]?b._movementBound[1]===!1?b._movement[1]:b._movementBound[1]:!1;const gt=b._active?$.rubberband||[0,0]:[0,0];if(b.offset=computeRubberband(b._bounds,b.offset,gt),b.delta=V.sub(b.offset,lt),this.computeMovement(),ut&&(!b.last||et>BEFORE_LAST_KINEMATICS_DELAY)){b.delta=V.sub(b.offset,lt);const yt=b.delta.map(Math.abs);V.addTo(b.distance,yt),b.direction=b.delta.map(Math.sign),b._direction=b._delta.map(Math.sign),!b.first&&et>0&&(b.velocity=[yt[0]/et,yt[1]/et])}}emit(){const g=this.state,b=this.shared,$=this.config;if(g._active||this.clean(),(g._blocked||!g.intentional)&&!g._force&&!$.triggerAllEvents)return;const _e=this.handler(_objectSpread2(_objectSpread2(_objectSpread2({},b),g),{},{[this.aliasKey]:g.values}));_e!==void 0&&(g.memo=_e)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function selectAxis([j,g],b){const $=Math.abs(j),_e=Math.abs(g);if($>_e&&$>b)return"x";if(_e>$&&_e>b)return"y"}class CoordinatesEngine extends Engine{constructor(...g){super(...g),_defineProperty(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V.sub(this.state.offset,this.state.lastOffset)}axisIntent(g){const b=this.state,$=this.config;if(!b.axis&&g){const _e=typeof $.axisThreshold=="object"?$.axisThreshold[getPointerType(g)]:$.axisThreshold;b.axis=selectAxis(b._movement,_e)}b._blocked=($.lockDirection||!!$.axis)&&!b.axis||!!$.axis&&$.axis!==b.axis}restrictToAxis(g){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":g[1]=0;break;case"y":g[0]=0;break}}}const identity=j=>j,DEFAULT_RUBBERBAND=.15,commonConfigResolver={enabled(j=!0){return j},eventOptions(j,g,b){return _objectSpread2(_objectSpread2({},b.shared.eventOptions),j)},preventDefault(j=!1){return j},triggerAllEvents(j=!1){return j},rubberband(j=0){switch(j){case!0:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case!1:return[0,0];default:return V.toVector(j)}},from(j){if(typeof j=="function")return j;if(j!=null)return V.toVector(j)},transform(j,g,b){const $=j||b.shared.transform;return this.hasCustomTransform=!!$,$||identity},threshold(j){return V.toVector(j,0)}},DEFAULT_AXIS_THRESHOLD=0,coordinatesConfigResolver=_objectSpread2(_objectSpread2({},commonConfigResolver),{},{axis(j,g,{axis:b}){if(this.lockDirection=b==="lock",!this.lockDirection)return b},axisThreshold(j=DEFAULT_AXIS_THRESHOLD){return j},bounds(j={}){if(typeof j=="function")return et=>coordinatesConfigResolver.bounds(j(et));if("current"in j)return()=>j.current;if(typeof HTMLElement=="function"&&j instanceof HTMLElement)return j;const{left:g=-1/0,right:b=1/0,top:$=-1/0,bottom:_e=1/0}=j;return[[g,b],[$,_e]]}}),DISPLACEMENT=10,KEYS_DELTA_MAP={ArrowRight:(j=1)=>[DISPLACEMENT*j,0],ArrowLeft:(j=1)=>[-DISPLACEMENT*j,0],ArrowUp:(j=1)=>[0,-DISPLACEMENT*j],ArrowDown:(j=1)=>[0,DISPLACEMENT*j]};class DragEngine extends CoordinatesEngine{constructor(...g){super(...g),_defineProperty(this,"ingKey","dragging")}reset(){super.reset();const g=this.state;g._pointerId=void 0,g._pointerActive=!1,g._keyboardActive=!1,g._preventScroll=!1,g._delayed=!1,g.swipe=[0,0],g.tap=!1,g.canceled=!1,g.cancel=this.cancel.bind(this)}setup(){const g=this.state;if(g._bounds instanceof HTMLElement){const b=g._bounds.getBoundingClientRect(),$=g.currentTarget.getBoundingClientRect(),_e={left:b.left-$.left+g.offset[0],right:b.right-$.right+g.offset[0],top:b.top-$.top+g.offset[1],bottom:b.bottom-$.bottom+g.offset[1]};g._bounds=coordinatesConfigResolver.bounds(_e)}}cancel(){const g=this.state;g.canceled||(g.canceled=!0,g._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(g){const b=this.config,$=this.state;if(g.buttons!=null&&(Array.isArray(b.pointerButtons)?!b.pointerButtons.includes(g.buttons):b.pointerButtons!==-1&&b.pointerButtons!==g.buttons))return;const _e=this.ctrl.setEventIds(g);b.pointerCapture&&g.target.setPointerCapture(g.pointerId),!(_e&&_e.size>1&&$._pointerActive)&&(this.start(g),this.setupPointer(g),$._pointerId=pointerId(g),$._pointerActive=!0,this.computeValues(pointerValues(g)),this.computeInitial(),b.preventScrollAxis&&getPointerType(g)!=="mouse"?($._active=!1,this.setupScrollPrevention(g)):b.delay>0?(this.setupDelayTrigger(g),b.triggerAllEvents&&(this.compute(g),this.emit())):this.startPointerDrag(g))}startPointerDrag(g){const b=this.state;b._active=!0,b._preventScroll=!0,b._delayed=!1,this.compute(g),this.emit()}pointerMove(g){const b=this.state,$=this.config;if(!b._pointerActive||b.type===g.type&&g.timeStamp===b.timeStamp)return;const _e=pointerId(g);if(b._pointerId!==void 0&&_e!==b._pointerId)return;const et=pointerValues(g);if(document.pointerLockElement===g.target?b._delta=[g.movementX,g.movementY]:(b._delta=V.sub(et,b._values),this.computeValues(et)),V.addTo(b._movement,b._delta),this.compute(g),b._delayed&&b.intentional){this.timeoutStore.remove("dragDelay"),b.active=!1,this.startPointerDrag(g);return}if($.preventScrollAxis&&!b._preventScroll)if(b.axis)if(b.axis===$.preventScrollAxis||$.preventScrollAxis==="xy"){b._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(g);return}else return;this.emit()}pointerUp(g){this.ctrl.setEventIds(g);try{this.config.pointerCapture&&g.target.hasPointerCapture(g.pointerId)&&g.target.releasePointerCapture(g.pointerId)}catch{}const b=this.state,$=this.config;if(!b._active||!b._pointerActive)return;const _e=pointerId(g);if(b._pointerId!==void 0&&_e!==b._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(g);const[et,tt]=b._distance;if(b.tap=et<=$.tapsThreshold&&tt<=$.tapsThreshold,b.tap&&$.filterTaps)b._force=!0;else{const[nt,rt]=b.direction,[it,ot]=b.velocity,[st,at]=b.movement,[lt,ut]=$.swipe.velocity,[ct,ft]=$.swipe.distance,ht=$.swipe.duration;b.elapsedTime<ht&&(Math.abs(it)>lt&&Math.abs(st)>ct&&(b.swipe[0]=nt),Math.abs(ot)>ut&&Math.abs(at)>ft&&(b.swipe[1]=rt))}this.emit()}pointerClick(g){!this.state.tap&&g.detail>0&&(g.preventDefault(),g.stopPropagation())}setupPointer(g){const b=this.config,$=b.device;b.pointerLock&&g.currentTarget.requestPointerLock(),b.pointerCapture||(this.eventStore.add(this.sharedConfig.window,$,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,$,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,$,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(g){this.state._preventScroll&&g.cancelable&&g.preventDefault()}setupScrollPrevention(g){this.state._preventScroll=!1,persistEvent(g);const b=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",b),this.eventStore.add(this.sharedConfig.window,"touch","cancel",b),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,g)}setupDelayTrigger(g){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(g)},this.config.delay)}keyDown(g){const b=KEYS_DELTA_MAP[g.key];if(b){const $=this.state,_e=g.shiftKey?10:g.altKey?.1:1;this.start(g),$._delta=b(_e),$._keyboardActive=!0,V.addTo($._movement,$._delta),this.compute(g),this.emit()}}keyUp(g){g.key in KEYS_DELTA_MAP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(g),this.emit())}bind(g){const b=this.config.device;g(b,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(g(b,"change",this.pointerMove.bind(this)),g(b,"end",this.pointerUp.bind(this)),g(b,"cancel",this.pointerUp.bind(this)),g("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(g("key","down",this.keyDown.bind(this)),g("key","up",this.keyUp.bind(this))),this.config.filterTaps&&g("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function persistEvent(j){"persist"in j&&typeof j.persist=="function"&&j.persist()}const isBrowser$1=typeof window!="undefined"&&window.document&&window.document.createElement;function supportsTouchEvents(){return isBrowser$1&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents()||isBrowser$1&&window.navigator.maxTouchPoints>1}function supportsPointerEvents(){return isBrowser$1&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser$1&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch{return!1}}const SUPPORT={isBrowser:isBrowser$1,gesture:supportsGestureEvents(),touch:isTouchScreen(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents(),pointerLock:supportsPointerLock()},DEFAULT_PREVENT_SCROLL_DELAY=250,DEFAULT_DRAG_DELAY=180,DEFAULT_SWIPE_VELOCITY=.5,DEFAULT_SWIPE_DISTANCE=50,DEFAULT_SWIPE_DURATION=250,DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8},dragConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{device(j,g,{pointer:{touch:b=!1,lock:$=!1,mouse:_e=!1}={}}){return this.pointerLock=$&&SUPPORT.pointerLock,SUPPORT.touch&&b?"touch":this.pointerLock?"mouse":SUPPORT.pointer&&!_e?"pointer":SUPPORT.touch?"touch":"mouse"},preventScrollAxis(j,g,{preventScroll:b}){if(this.preventScrollDelay=typeof b=="number"?b:b||b===void 0&&j?DEFAULT_PREVENT_SCROLL_DELAY:void 0,!(!SUPPORT.touchscreen||b===!1))return j||(b!==void 0?"y":void 0)},pointerCapture(j,g,{pointer:{capture:b=!0,buttons:$=1}={}}){return this.pointerButtons=$,!this.pointerLock&&this.device==="pointer"&&b},keys(j=!0){return j},threshold(j,g,{filterTaps:b=!1,tapsThreshold:$=3,axis:_e=void 0}){const et=V.toVector(j,b?$:_e?1:0);return this.filterTaps=b,this.tapsThreshold=$,et},swipe({velocity:j=DEFAULT_SWIPE_VELOCITY,distance:g=DEFAULT_SWIPE_DISTANCE,duration:b=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(V.toVector(j)),distance:this.transform(V.toVector(g)),duration:b}},delay(j=0){switch(j){case!0:return DEFAULT_DRAG_DELAY;case!1:return 0;default:return j}},axisThreshold(j){return j?_objectSpread2(_objectSpread2({},DEFAULT_DRAG_AXIS_THRESHOLD),j):DEFAULT_DRAG_AXIS_THRESHOLD}});_objectSpread2(_objectSpread2({},commonConfigResolver),{},{device(j,g,{shared:b,pointer:{touch:$=!1}={}}){if(b.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&$)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(j,g,{scaleBounds:b={},angleBounds:$={}}){const _e=tt=>{const nt=assignDefault(call(b,tt),{min:-1/0,max:1/0});return[nt.min,nt.max]},et=tt=>{const nt=assignDefault(call($,tt),{min:-1/0,max:1/0});return[nt.min,nt.max]};return typeof b!="function"&&typeof $!="function"?[_e(),et()]:tt=>[_e(tt),et(tt)]},threshold(j,g,b){return this.lockDirection=b.axis==="lock",V.toVector(j,this.lockDirection?[.1,3]:0)},modifierKey(j){return j===void 0?"ctrlKey":j}});_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{mouseOnly:(j=!0)=>j});_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{mouseOnly:(j=!0)=>j});const EngineMap=new Map,ConfigResolverMap=new Map;function registerAction(j){EngineMap.set(j.key,j.engine),ConfigResolverMap.set(j.key,j.resolver)}const dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver};function _objectWithoutPropertiesLoose(j,g){if(j==null)return{};var b={},$=Object.keys(j),_e,et;for(et=0;et<$.length;et++)_e=$[et],!(g.indexOf(_e)>=0)&&(b[_e]=j[_e]);return b}function _objectWithoutProperties(j,g){if(j==null)return{};var b=_objectWithoutPropertiesLoose(j,g),$,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(j);for(_e=0;_e<et.length;_e++)$=et[_e],!(g.indexOf($)>=0)&&(!Object.prototype.propertyIsEnumerable.call(j,$)||(b[$]=j[$]))}return b}const sharedConfigResolver={target(j){if(j)return()=>"current"in j?j.current:j},enabled(j=!0){return j},window(j=SUPPORT.isBrowser?window:void 0){return j},eventOptions({passive:j=!0,capture:g=!1}={}){return{passive:j,capture:g}},transform(j){return j}},_excluded=["target","eventOptions","window","enabled","transform"];function resolveWith(j={},g){const b={};for(const[$,_e]of Object.entries(g))switch(typeof _e){case"function":b[$]=_e.call(b,j[$],$,j);break;case"object":b[$]=resolveWith(j[$],_e);break;case"boolean":_e&&(b[$]=j[$]);break}return b}function parse(j,g){const b=j,{target:$,eventOptions:_e,window:et,enabled:tt,transform:nt}=b,rt=_objectWithoutProperties(b,_excluded),it={shared:resolveWith({target:$,eventOptions:_e,window:et,enabled:tt,transform:nt},sharedConfigResolver)};if(g){const ot=ConfigResolverMap.get(g);it[g]=resolveWith(_objectSpread2({shared:it.shared},rt),ot)}else for(const ot in rt){const st=ConfigResolverMap.get(ot);st&&(it[ot]=resolveWith(_objectSpread2({shared:it.shared},rt[ot]),st))}return it}class EventStore{constructor(g,b){_defineProperty(this,"_listeners",new Set),this._ctrl=g,this._gestureKey=b}add(g,b,$,_e,et){const tt=this._listeners,nt=toDomEventType(b,$),rt=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},it=_objectSpread2(_objectSpread2({},rt),et);g.addEventListener(nt,_e,it);const ot=()=>{g.removeEventListener(nt,_e,it),tt.delete(ot)};return tt.add(ot),ot}clean(){this._listeners.forEach(g=>g()),this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty(this,"_timeouts",new Map)}add(g,b,$=140,..._e){this.remove(g),this._timeouts.set(g,window.setTimeout(b,$,..._e))}remove(g){const b=this._timeouts.get(g);b&&window.clearTimeout(b)}clean(){this._timeouts.forEach(g=>void window.clearTimeout(g)),this._timeouts.clear()}}class Controller{constructor(g){_defineProperty(this,"gestures",new Set),_defineProperty(this,"_targetEventStore",new EventStore(this)),_defineProperty(this,"gestureEventStores",{}),_defineProperty(this,"gestureTimeoutStores",{}),_defineProperty(this,"handlers",{}),_defineProperty(this,"config",{}),_defineProperty(this,"pointerIds",new Set),_defineProperty(this,"touchIds",new Set),_defineProperty(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),resolveGestures(this,g)}setEventIds(g){if(isTouch(g))return this.touchIds=new Set(touchIds(g)),this.touchIds;if("pointerId"in g)return g.type==="pointerup"||g.type==="pointercancel"?this.pointerIds.delete(g.pointerId):g.type==="pointerdown"&&this.pointerIds.add(g.pointerId),this.pointerIds}applyHandlers(g,b){this.handlers=g,this.nativeHandlers=b}applyConfig(g,b){this.config=parse(g,b)}clean(){this._targetEventStore.clean();for(const g of this.gestures)this.gestureEventStores[g].clean(),this.gestureTimeoutStores[g].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...g){const b=this.config.shared,$={};let _e;if(!(b.target&&(_e=b.target(),!_e))){if(b.enabled){for(const tt of this.gestures){const nt=this.config[tt],rt=bindToProps($,nt.eventOptions,!!_e);if(nt.enabled){const it=EngineMap.get(tt);new it(this,g,tt).bind(rt)}}const et=bindToProps($,b.eventOptions,!!_e);for(const tt in this.nativeHandlers)et(tt,"",nt=>this.nativeHandlers[tt](_objectSpread2(_objectSpread2({},this.state.shared),{},{event:nt,args:g})),void 0,!0)}for(const et in $)$[et]=chain(...$[et]);if(!_e)return $;for(const et in $){const{device:tt,capture:nt,passive:rt}=parseProp(et);this._targetEventStore.add(_e,tt,"",$[et],{capture:nt,passive:rt})}}}}function setupGesture(j,g){j.gestures.add(g),j.gestureEventStores[g]=new EventStore(j,g),j.gestureTimeoutStores[g]=new TimeoutStore}function resolveGestures(j,g){g.drag&&setupGesture(j,"drag"),g.wheel&&setupGesture(j,"wheel"),g.scroll&&setupGesture(j,"scroll"),g.move&&setupGesture(j,"move"),g.pinch&&setupGesture(j,"pinch"),g.hover&&setupGesture(j,"hover")}const bindToProps=(j,g,b)=>($,_e,et,tt={},nt=!1)=>{var rt,it;const ot=(rt=tt.capture)!==null&&rt!==void 0?rt:g.capture,st=(it=tt.passive)!==null&&it!==void 0?it:g.passive;let at=nt?$:toHandlerProp($,_e,ot);b&&st&&(at+="Passive"),j[at]=j[at]||[],j[at].push(et)};function useRecognizers(j,g={},b,$){const _e=React.useMemo(()=>new Controller(j),[]);if(_e.applyHandlers(j,$),_e.applyConfig(g,b),React.useEffect(_e.effect.bind(_e)),React.useEffect(()=>_e.clean.bind(_e),[]),g.target===void 0)return _e.bind.bind(_e)}function useDrag(j,g){return registerAction(dragAction),useRecognizers({drag:j},g||{},"drag")}var FUNC_ERROR_TEXT="Expected a function",NAN=0/0,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now$2=function(){return root$1.Date.now()};function debounce(j,g,b){var $,_e,et,tt,nt,rt,it=0,ot=!1,st=!1,at=!0;if(typeof j!="function")throw new TypeError(FUNC_ERROR_TEXT);g=toNumber(g)||0,isObject(b)&&(ot=!!b.leading,st="maxWait"in b,et=st?nativeMax(toNumber(b.maxWait)||0,g):et,at="trailing"in b?!!b.trailing:at);function lt(yt){var _t=$,vt=_e;return $=_e=void 0,it=yt,tt=j.apply(vt,_t),tt}function ut(yt){return it=yt,nt=setTimeout(ht,g),ot?lt(yt):tt}function ct(yt){var _t=yt-rt,vt=yt-it,At=g-_t;return st?nativeMin(At,et-vt):At}function ft(yt){var _t=yt-rt,vt=yt-it;return rt===void 0||_t>=g||_t<0||st&&vt>=et}function ht(){var yt=now$2();if(ft(yt))return dt(yt);nt=setTimeout(ht,ct(yt))}function dt(yt){return nt=void 0,at&&$?lt(yt):($=_e=void 0,tt)}function pt(){nt!==void 0&&clearTimeout(nt),it=0,$=rt=_e=nt=void 0}function mt(){return nt===void 0?tt:dt(now$2())}function gt(){var yt=now$2(),_t=ft(yt);if($=arguments,_e=this,rt=yt,_t){if(nt===void 0)return ut(rt);if(st)return nt=setTimeout(ht,g),lt(rt)}return nt===void 0&&(nt=setTimeout(ht,g)),tt}return gt.cancel=pt,gt.flush=mt,gt}function throttle(j,g,b){var $=!0,_e=!0;if(typeof j!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(b)&&($="leading"in b?!!b.leading:$,_e="trailing"in b?!!b.trailing:_e),debounce(j,g,{leading:$,maxWait:g,trailing:_e})}function isObject(j){var g=typeof j;return!!j&&(g=="object"||g=="function")}function isObjectLike(j){return!!j&&typeof j=="object"}function isSymbol(j){return typeof j=="symbol"||isObjectLike(j)&&objectToString.call(j)==symbolTag}function toNumber(j){if(typeof j=="number")return j;if(isSymbol(j))return NAN;if(isObject(j)){var g=typeof j.valueOf=="function"?j.valueOf():j;j=isObject(g)?g+"":g}if(typeof j!="string")return j===0?j:+j;j=j.replace(reTrim,"");var b=reIsBinary.test(j);return b||reIsOctal.test(j)?freeParseInt(j.slice(2),b?2:8):reIsBadHex.test(j)?NAN:+j}var lodash_throttle=throttle;function createElementNS(j){return document.createElementNS("http://www.w3.org/1999/xhtml",j)}const log$a=debug("front:3D:VideoLoader");class VideoLoader extends Loader{constructor(g){super(g)}load(g,b,$,_e){this.path!==void 0&&(g=this.path+g),g=this.manager.resolveURL(g);const et=this,tt=createElementNS("video");function nt(ot){it(),b&&b(this),et.manager.itemEnd(g)}function rt(ot){it(),_e&&_e(ot),et.manager.itemError(g),et.manager.itemEnd(g)}function it(){tt.removeEventListener("canplay",nt,!1),tt.removeEventListener("loadeddata",nt,!1),tt.removeEventListener("loadedmetadata",nt,!1),tt.removeEventListener("error",rt,!1)}return tt.addEventListener("canplay",nt,!1),tt.addEventListener("loadeddata",nt,!1),tt.addEventListener("loadedmetadata",nt,!1),tt.addEventListener("error",rt,!1),g.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(tt.crossOrigin=this.crossOrigin),et.manager.itemStart(g),tt.src=g,tt.load(),log$a(g+" started",tt),tt}}class VideoTextureLoader extends Loader{constructor(g){super(g)}load(g,b,$,_e){let et;const tt=new VideoLoader(this.manager);return tt.setCrossOrigin(this.crossOrigin),tt.setPath(this.path),tt.load(g,function(nt){et=new VideoTexture(nt),b!==void 0&&b(et)},$,_e),et}}class GLTFLoader extends Loader{constructor(g){super(g),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(b){return new GLTFMaterialsClearcoatExtension(b)}),this.register(function(b){return new GLTFTextureBasisUExtension(b)}),this.register(function(b){return new GLTFTextureWebPExtension(b)}),this.register(function(b){return new GLTFMaterialsSheenExtension(b)}),this.register(function(b){return new GLTFMaterialsTransmissionExtension(b)}),this.register(function(b){return new GLTFMaterialsVolumeExtension(b)}),this.register(function(b){return new GLTFMaterialsIorExtension(b)}),this.register(function(b){return new GLTFMaterialsSpecularExtension(b)}),this.register(function(b){return new GLTFLightsExtension(b)}),this.register(function(b){return new GLTFMeshoptCompression(b)})}load(g,b,$,_e){const et=this;let tt;this.resourcePath!==""?tt=this.resourcePath:this.path!==""?tt=this.path:tt=LoaderUtils.extractUrlBase(g),this.manager.itemStart(g);const nt=function(it){_e?_e(it):console.error(it),et.manager.itemError(g),et.manager.itemEnd(g)},rt=new FileLoader(this.manager);rt.setPath(this.path),rt.setResponseType("arraybuffer"),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(this.withCredentials),rt.load(g,function(it){try{et.parse(it,tt,function(ot){b(ot),et.manager.itemEnd(g)},nt)}catch(ot){nt(ot)}},$,nt)}setDRACOLoader(g){return this.dracoLoader=g,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(g){return this.ktx2Loader=g,this}setMeshoptDecoder(g){return this.meshoptDecoder=g,this}register(g){return this.pluginCallbacks.indexOf(g)===-1&&this.pluginCallbacks.push(g),this}unregister(g){return this.pluginCallbacks.indexOf(g)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(g),1),this}parse(g,b,$,_e){let et;const tt={},nt={};if(typeof g=="string")et=g;else if(LoaderUtils.decodeText(new Uint8Array(g,0,4))===BINARY_EXTENSION_HEADER_MAGIC){try{tt[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(g)}catch(st){_e&&_e(st);return}et=tt[EXTENSIONS.KHR_BINARY_GLTF].content}else et=LoaderUtils.decodeText(new Uint8Array(g));const rt=JSON.parse(et);if(rt.asset===void 0||rt.asset.version[0]<2){_e&&_e(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const it=new GLTFParser(rt,{path:b||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});it.fileLoader.setRequestHeader(this.requestHeader);for(let ot=0;ot<this.pluginCallbacks.length;ot++){const st=this.pluginCallbacks[ot](it);nt[st.name]=st,tt[st.name]=!0}if(rt.extensionsUsed)for(let ot=0;ot<rt.extensionsUsed.length;++ot){const st=rt.extensionsUsed[ot],at=rt.extensionsRequired||[];switch(st){case EXTENSIONS.KHR_MATERIALS_UNLIT:tt[st]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:tt[st]=new GLTFMaterialsPbrSpecularGlossinessExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:tt[st]=new GLTFDracoMeshCompressionExtension(rt,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:tt[st]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:tt[st]=new GLTFMeshQuantizationExtension;break;default:at.indexOf(st)>=0&&nt[st]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+st+'".')}}it.setExtensions(tt),it.setPlugins(nt),it.parse($,_e)}parseAsync(g,b){const $=this;return new Promise(function(_e,et){$.parse(g,b,_e,et)})}}function GLTFRegistry(){let j={};return{get:function(g){return j[g]},add:function(g,b){j[g]=b},remove:function(g){delete j[g]},removeAll:function(){j={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class GLTFLightsExtension{constructor(g){this.parser=g,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const g=this.parser,b=this.parser.json.nodes||[];for(let $=0,_e=b.length;$<_e;$++){const et=b[$];et.extensions&&et.extensions[this.name]&&et.extensions[this.name].light!==void 0&&g._addNodeRef(this.cache,et.extensions[this.name].light)}}_loadLight(g){const b=this.parser,$="light:"+g;let _e=b.cache.get($);if(_e)return _e;const et=b.json,rt=((et.extensions&&et.extensions[this.name]||{}).lights||[])[g];let it;const ot=new Color(16777215);rt.color!==void 0&&ot.fromArray(rt.color);const st=rt.range!==void 0?rt.range:0;switch(rt.type){case"directional":it=new DirectionalLight(ot),it.target.position.set(0,0,-1),it.add(it.target);break;case"point":it=new PointLight(ot),it.distance=st;break;case"spot":it=new SpotLight(ot),it.distance=st,rt.spot=rt.spot||{},rt.spot.innerConeAngle=rt.spot.innerConeAngle!==void 0?rt.spot.innerConeAngle:0,rt.spot.outerConeAngle=rt.spot.outerConeAngle!==void 0?rt.spot.outerConeAngle:Math.PI/4,it.angle=rt.spot.outerConeAngle,it.penumbra=1-rt.spot.innerConeAngle/rt.spot.outerConeAngle,it.target.position.set(0,0,-1),it.add(it.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+rt.type)}return it.position.set(0,0,0),it.decay=2,rt.intensity!==void 0&&(it.intensity=rt.intensity),it.name=b.createUniqueName(rt.name||"light_"+g),_e=Promise.resolve(it),b.cache.add($,_e),_e}createNodeAttachment(g){const b=this,$=this.parser,et=$.json.nodes[g],nt=(et.extensions&&et.extensions[this.name]||{}).light;return nt===void 0?null:this._loadLight(nt).then(function(rt){return $._getNodeRef(b.cache,nt,rt)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(g,b,$){const _e=[];g.color=new Color(1,1,1),g.opacity=1;const et=b.pbrMetallicRoughness;if(et){if(Array.isArray(et.baseColorFactor)){const tt=et.baseColorFactor;g.color.fromArray(tt),g.opacity=tt[3]}et.baseColorTexture!==void 0&&_e.push($.assignTexture(g,"map",et.baseColorTexture))}return Promise.all(_e)}}class GLTFMaterialsClearcoatExtension{constructor(g){this.parser=g,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(g){const $=this.parser.json.materials[g];return!$.extensions||!$.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(g,b){const $=this.parser,_e=$.json.materials[g];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];if(tt.clearcoatFactor!==void 0&&(b.clearcoat=tt.clearcoatFactor),tt.clearcoatTexture!==void 0&&et.push($.assignTexture(b,"clearcoatMap",tt.clearcoatTexture)),tt.clearcoatRoughnessFactor!==void 0&&(b.clearcoatRoughness=tt.clearcoatRoughnessFactor),tt.clearcoatRoughnessTexture!==void 0&&et.push($.assignTexture(b,"clearcoatRoughnessMap",tt.clearcoatRoughnessTexture)),tt.clearcoatNormalTexture!==void 0&&(et.push($.assignTexture(b,"clearcoatNormalMap",tt.clearcoatNormalTexture)),tt.clearcoatNormalTexture.scale!==void 0)){const nt=tt.clearcoatNormalTexture.scale;b.clearcoatNormalScale=new Vector2(nt,nt)}return Promise.all(et)}}class GLTFMaterialsSheenExtension{constructor(g){this.parser=g,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(g){const $=this.parser.json.materials[g];return!$.extensions||!$.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(g,b){const $=this.parser,_e=$.json.materials[g];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[];b.sheenColor=new Color(0,0,0),b.sheenRoughness=0,b.sheen=1;const tt=_e.extensions[this.name];return tt.sheenColorFactor!==void 0&&b.sheenColor.fromArray(tt.sheenColorFactor),tt.sheenRoughnessFactor!==void 0&&(b.sheenRoughness=tt.sheenRoughnessFactor),tt.sheenColorTexture!==void 0&&et.push($.assignTexture(b,"sheenColorMap",tt.sheenColorTexture)),tt.sheenRoughnessTexture!==void 0&&et.push($.assignTexture(b,"sheenRoughnessMap",tt.sheenRoughnessTexture)),Promise.all(et)}}class GLTFMaterialsTransmissionExtension{constructor(g){this.parser=g,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(g){const $=this.parser.json.materials[g];return!$.extensions||!$.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(g,b){const $=this.parser,_e=$.json.materials[g];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];return tt.transmissionFactor!==void 0&&(b.transmission=tt.transmissionFactor),tt.transmissionTexture!==void 0&&et.push($.assignTexture(b,"transmissionMap",tt.transmissionTexture)),Promise.all(et)}}class GLTFMaterialsVolumeExtension{constructor(g){this.parser=g,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(g){const $=this.parser.json.materials[g];return!$.extensions||!$.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(g,b){const $=this.parser,_e=$.json.materials[g];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];b.thickness=tt.thicknessFactor!==void 0?tt.thicknessFactor:0,tt.thicknessTexture!==void 0&&et.push($.assignTexture(b,"thicknessMap",tt.thicknessTexture)),b.attenuationDistance=tt.attenuationDistance||0;const nt=tt.attenuationColor||[1,1,1];return b.attenuationColor=new Color(nt[0],nt[1],nt[2]),Promise.all(et)}}class GLTFMaterialsIorExtension{constructor(g){this.parser=g,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(g){const $=this.parser.json.materials[g];return!$.extensions||!$.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(g,b){const _e=this.parser.json.materials[g];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=_e.extensions[this.name];return b.ior=et.ior!==void 0?et.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(g){this.parser=g,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(g){const $=this.parser.json.materials[g];return!$.extensions||!$.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(g,b){const $=this.parser,_e=$.json.materials[g];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];b.specularIntensity=tt.specularFactor!==void 0?tt.specularFactor:1,tt.specularTexture!==void 0&&et.push($.assignTexture(b,"specularIntensityMap",tt.specularTexture));const nt=tt.specularColorFactor||[1,1,1];return b.specularColor=new Color(nt[0],nt[1],nt[2]),tt.specularColorTexture!==void 0&&et.push($.assignTexture(b,"specularColorMap",tt.specularColorTexture).then(function(rt){rt.encoding=sRGBEncoding})),Promise.all(et)}}class GLTFTextureBasisUExtension{constructor(g){this.parser=g,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(g){const b=this.parser,$=b.json,_e=$.textures[g];if(!_e.extensions||!_e.extensions[this.name])return null;const et=_e.extensions[this.name],tt=b.options.ktx2Loader;if(!tt){if($.extensionsRequired&&$.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return b.loadTextureImage(g,et.source,tt)}}class GLTFTextureWebPExtension{constructor(g){this.parser=g,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(g){const b=this.name,$=this.parser,_e=$.json,et=_e.textures[g];if(!et.extensions||!et.extensions[b])return null;const tt=et.extensions[b],nt=_e.images[tt.source];let rt=$.textureLoader;if(nt.uri){const it=$.options.manager.getHandler(nt.uri);it!==null&&(rt=it)}return this.detectSupport().then(function(it){if(it)return $.loadTextureImage(g,nt,rt);if(_e.extensionsRequired&&_e.extensionsRequired.indexOf(b)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return $.loadTexture(g)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(g){const b=new Image;b.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",b.onload=b.onerror=function(){g(b.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(g){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=g}loadBufferView(g){const b=this.parser.json,$=b.bufferViews[g];if($.extensions&&$.extensions[this.name]){const _e=$.extensions[this.name],et=this.parser.getDependency("buffer",_e.buffer),tt=this.parser.options.meshoptDecoder;if(!tt||!tt.supported){if(b.extensionsRequired&&b.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([et,tt.ready]).then(function(nt){const rt=_e.byteOffset||0,it=_e.byteLength||0,ot=_e.count,st=_e.byteStride,at=new ArrayBuffer(ot*st),lt=new Uint8Array(nt[0],rt,it);return tt.decodeGltfBuffer(new Uint8Array(at),ot,st,lt,_e.mode,_e.filter),at})}else return null}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(g){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const b=new DataView(g,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:LoaderUtils.decodeText(new Uint8Array(g.slice(0,4))),version:b.getUint32(4,!0),length:b.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const $=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,_e=new DataView(g,BINARY_EXTENSION_HEADER_LENGTH);let et=0;for(;et<$;){const tt=_e.getUint32(et,!0);et+=4;const nt=_e.getUint32(et,!0);if(et+=4,nt===BINARY_EXTENSION_CHUNK_TYPES.JSON){const rt=new Uint8Array(g,BINARY_EXTENSION_HEADER_LENGTH+et,tt);this.content=LoaderUtils.decodeText(rt)}else if(nt===BINARY_EXTENSION_CHUNK_TYPES.BIN){const rt=BINARY_EXTENSION_HEADER_LENGTH+et;this.body=g.slice(rt,rt+tt)}et+=tt}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(g,b){if(!b)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=g,this.dracoLoader=b,this.dracoLoader.preload()}decodePrimitive(g,b){const $=this.json,_e=this.dracoLoader,et=g.extensions[this.name].bufferView,tt=g.extensions[this.name].attributes,nt={},rt={},it={};for(const ot in tt){const st=ATTRIBUTES[ot]||ot.toLowerCase();nt[st]=tt[ot]}for(const ot in g.attributes){const st=ATTRIBUTES[ot]||ot.toLowerCase();if(tt[ot]!==void 0){const at=$.accessors[g.attributes[ot]],lt=WEBGL_COMPONENT_TYPES[at.componentType];it[st]=lt,rt[st]=at.normalized===!0}}return b.getDependency("bufferView",et).then(function(ot){return new Promise(function(st){_e.decodeDracoFile(ot,function(at){for(const lt in at.attributes){const ut=at.attributes[lt],ct=rt[lt];ct!==void 0&&(ut.normalized=ct)}st(at)},nt,it)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(g,b){return b.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),b.offset===void 0&&b.rotation===void 0&&b.scale===void 0||(g=g.clone(),b.offset!==void 0&&g.offset.fromArray(b.offset),b.rotation!==void 0&&(g.rotation=b.rotation),b.scale!==void 0&&g.repeat.fromArray(b.scale),g.needsUpdate=!0),g}}class GLTFMeshStandardSGMaterial extends MeshStandardMaterial{constructor(g){super(),this.isGLTFSpecularGlossinessMaterial=!0;const b=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),$=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),_e=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),et=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),tt=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),nt={specular:{value:new Color().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=nt,this.onBeforeCompile=function(rt){for(const it in nt)rt.uniforms[it]=nt[it];rt.fragmentShader=rt.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",b).replace("#include <metalnessmap_pars_fragment>",$).replace("#include <roughnessmap_fragment>",_e).replace("#include <metalnessmap_fragment>",et).replace("#include <lights_physical_fragment>",tt)},Object.defineProperties(this,{specular:{get:function(){return nt.specular.value},set:function(rt){nt.specular.value=rt}},specularMap:{get:function(){return nt.specularMap.value},set:function(rt){nt.specularMap.value=rt,rt?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return nt.glossiness.value},set:function(rt){nt.glossiness.value=rt}},glossinessMap:{get:function(){return nt.glossinessMap.value},set:function(rt){nt.glossinessMap.value=rt,rt?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(g)}copy(g){return super.copy(g),this.specularMap=g.specularMap,this.specular.copy(g.specular),this.glossinessMap=g.glossinessMap,this.glossiness=g.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class GLTFMaterialsPbrSpecularGlossinessExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return GLTFMeshStandardSGMaterial}extendParams(g,b,$){const _e=b.extensions[this.name];g.color=new Color(1,1,1),g.opacity=1;const et=[];if(Array.isArray(_e.diffuseFactor)){const tt=_e.diffuseFactor;g.color.fromArray(tt),g.opacity=tt[3]}if(_e.diffuseTexture!==void 0&&et.push($.assignTexture(g,"map",_e.diffuseTexture)),g.emissive=new Color(0,0,0),g.glossiness=_e.glossinessFactor!==void 0?_e.glossinessFactor:1,g.specular=new Color(1,1,1),Array.isArray(_e.specularFactor)&&g.specular.fromArray(_e.specularFactor),_e.specularGlossinessTexture!==void 0){const tt=_e.specularGlossinessTexture;et.push($.assignTexture(g,"glossinessMap",tt)),et.push($.assignTexture(g,"specularMap",tt))}return Promise.all(et)}createMaterial(g){const b=new GLTFMeshStandardSGMaterial(g);return b.fog=!0,b.color=g.color,b.map=g.map===void 0?null:g.map,b.lightMap=null,b.lightMapIntensity=1,b.aoMap=g.aoMap===void 0?null:g.aoMap,b.aoMapIntensity=1,b.emissive=g.emissive,b.emissiveIntensity=1,b.emissiveMap=g.emissiveMap===void 0?null:g.emissiveMap,b.bumpMap=g.bumpMap===void 0?null:g.bumpMap,b.bumpScale=1,b.normalMap=g.normalMap===void 0?null:g.normalMap,b.normalMapType=TangentSpaceNormalMap,g.normalScale&&(b.normalScale=g.normalScale),b.displacementMap=null,b.displacementScale=1,b.displacementBias=0,b.specularMap=g.specularMap===void 0?null:g.specularMap,b.specular=g.specular,b.glossinessMap=g.glossinessMap===void 0?null:g.glossinessMap,b.glossiness=g.glossiness,b.alphaMap=null,b.envMap=g.envMap===void 0?null:g.envMap,b.envMapIntensity=1,b.refractionRatio=.98,b}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(g,b,$,_e){super(g,b,$,_e)}copySampleValue_(g){const b=this.resultBuffer,$=this.sampleValues,_e=this.valueSize,et=g*_e*3+_e;for(let tt=0;tt!==_e;tt++)b[tt]=$[et+tt];return b}}GLTFCubicSplineInterpolant.prototype.beforeStart_=GLTFCubicSplineInterpolant.prototype.copySampleValue_;GLTFCubicSplineInterpolant.prototype.afterEnd_=GLTFCubicSplineInterpolant.prototype.copySampleValue_;GLTFCubicSplineInterpolant.prototype.interpolate_=function(j,g,b,$){const _e=this.resultBuffer,et=this.sampleValues,tt=this.valueSize,nt=tt*2,rt=tt*3,it=$-g,ot=(b-g)/it,st=ot*ot,at=st*ot,lt=j*rt,ut=lt-rt,ct=-2*at+3*st,ft=at-st,ht=1-ct,dt=ft-st+ot;for(let pt=0;pt!==tt;pt++){const mt=et[ut+pt+tt],gt=et[ut+pt+nt]*it,yt=et[lt+pt+tt],_t=et[lt+pt]*it;_e[pt]=ht*mt+dt*gt+ct*yt+ft*_t}return _e};const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(g,b,$,_e){const et=super.interpolate_(g,b,$,_e);return _q.fromArray(et).normalize().toArray(et),et}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(j){return j.DefaultMaterial===void 0&&(j.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),j.DefaultMaterial}function addUnknownExtensionsToUserData(j,g,b){for(const $ in b.extensions)j[$]===void 0&&(g.userData.gltfExtensions=g.userData.gltfExtensions||{},g.userData.gltfExtensions[$]=b.extensions[$])}function assignExtrasToUserData(j,g){g.extras!==void 0&&(typeof g.extras=="object"?Object.assign(j.userData,g.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+g.extras))}function addMorphTargets(j,g,b){let $=!1,_e=!1,et=!1;for(let it=0,ot=g.length;it<ot;it++){const st=g[it];if(st.POSITION!==void 0&&($=!0),st.NORMAL!==void 0&&(_e=!0),st.COLOR_0!==void 0&&(et=!0),$&&_e&&et)break}if(!$&&!_e&&!et)return Promise.resolve(j);const tt=[],nt=[],rt=[];for(let it=0,ot=g.length;it<ot;it++){const st=g[it];if($){const at=st.POSITION!==void 0?b.getDependency("accessor",st.POSITION):j.attributes.position;tt.push(at)}if(_e){const at=st.NORMAL!==void 0?b.getDependency("accessor",st.NORMAL):j.attributes.normal;nt.push(at)}if(et){const at=st.COLOR_0!==void 0?b.getDependency("accessor",st.COLOR_0):j.attributes.color;rt.push(at)}}return Promise.all([Promise.all(tt),Promise.all(nt),Promise.all(rt)]).then(function(it){const ot=it[0],st=it[1],at=it[2];return $&&(j.morphAttributes.position=ot),_e&&(j.morphAttributes.normal=st),et&&(j.morphAttributes.color=at),j.morphTargetsRelative=!0,j})}function updateMorphTargets(j,g){if(j.updateMorphTargets(),g.weights!==void 0)for(let b=0,$=g.weights.length;b<$;b++)j.morphTargetInfluences[b]=g.weights[b];if(g.extras&&Array.isArray(g.extras.targetNames)){const b=g.extras.targetNames;if(j.morphTargetInfluences.length===b.length){j.morphTargetDictionary={};for(let $=0,_e=b.length;$<_e;$++)j.morphTargetDictionary[b[$]]=$}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(j){const g=j.extensions&&j.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];let b;return g?b="draco:"+g.bufferView+":"+g.indices+":"+createAttributesKey(g.attributes):b=j.indices+":"+createAttributesKey(j.attributes)+":"+j.mode,b}function createAttributesKey(j){let g="";const b=Object.keys(j).sort();for(let $=0,_e=b.length;$<_e;$++)g+=b[$]+":"+j[b[$]]+";";return g}function getNormalizedComponentScale(j){switch(j){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(j){return j.search(/\.jpe?g($|\?)/i)>0||j.search(/^data\:image\/jpeg/)===0?"image/jpeg":j.search(/\.webp($|\?)/i)>0||j.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class GLTFParser{constructor(g={},b={}){this.json=g,this.extensions={},this.plugins={},this.options=b,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!1?this.textureLoader=new ImageBitmapLoader(this.options.manager):this.textureLoader=new TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(g){this.extensions=g}setPlugins(g){this.plugins=g}parse(g,b){const $=this,_e=this.json,et=this.extensions;this.cache.removeAll(),this._invokeAll(function(tt){return tt._markDefs&&tt._markDefs()}),Promise.all(this._invokeAll(function(tt){return tt.beforeRoot&&tt.beforeRoot()})).then(function(){return Promise.all([$.getDependencies("scene"),$.getDependencies("animation"),$.getDependencies("camera")])}).then(function(tt){const nt={scene:tt[0][_e.scene||0],scenes:tt[0],animations:tt[1],cameras:tt[2],asset:_e.asset,parser:$,userData:{}};addUnknownExtensionsToUserData(et,nt,_e),assignExtrasToUserData(nt,_e),Promise.all($._invokeAll(function(rt){return rt.afterRoot&&rt.afterRoot(nt)})).then(function(){g(nt)})}).catch(b)}_markDefs(){const g=this.json.nodes||[],b=this.json.skins||[],$=this.json.meshes||[];for(let _e=0,et=b.length;_e<et;_e++){const tt=b[_e].joints;for(let nt=0,rt=tt.length;nt<rt;nt++)g[tt[nt]].isBone=!0}for(let _e=0,et=g.length;_e<et;_e++){const tt=g[_e];tt.mesh!==void 0&&(this._addNodeRef(this.meshCache,tt.mesh),tt.skin!==void 0&&($[tt.mesh].isSkinnedMesh=!0)),tt.camera!==void 0&&this._addNodeRef(this.cameraCache,tt.camera)}}_addNodeRef(g,b){b!==void 0&&(g.refs[b]===void 0&&(g.refs[b]=g.uses[b]=0),g.refs[b]++)}_getNodeRef(g,b,$){if(g.refs[b]<=1)return $;const _e=$.clone(),et=(tt,nt)=>{const rt=this.associations.get(tt);rt!=null&&this.associations.set(nt,rt);for(const[it,ot]of tt.children.entries())et(ot,nt.children[it])};return et($,_e),_e.name+="_instance_"+g.uses[b]++,_e}_invokeOne(g){const b=Object.values(this.plugins);b.push(this);for(let $=0;$<b.length;$++){const _e=g(b[$]);if(_e)return _e}return null}_invokeAll(g){const b=Object.values(this.plugins);b.unshift(this);const $=[];for(let _e=0;_e<b.length;_e++){const et=g(b[_e]);et&&$.push(et)}return $}getDependency(g,b){const $=g+":"+b;let _e=this.cache.get($);if(!_e){switch(g){case"scene":_e=this.loadScene(b);break;case"node":_e=this.loadNode(b);break;case"mesh":_e=this._invokeOne(function(et){return et.loadMesh&&et.loadMesh(b)});break;case"accessor":_e=this.loadAccessor(b);break;case"bufferView":_e=this._invokeOne(function(et){return et.loadBufferView&&et.loadBufferView(b)});break;case"buffer":_e=this.loadBuffer(b);break;case"material":_e=this._invokeOne(function(et){return et.loadMaterial&&et.loadMaterial(b)});break;case"texture":_e=this._invokeOne(function(et){return et.loadTexture&&et.loadTexture(b)});break;case"skin":_e=this.loadSkin(b);break;case"animation":_e=this.loadAnimation(b);break;case"camera":_e=this.loadCamera(b);break;default:throw new Error("Unknown type: "+g)}this.cache.add($,_e)}return _e}getDependencies(g){let b=this.cache.get(g);if(!b){const $=this,_e=this.json[g+(g==="mesh"?"es":"s")]||[];b=Promise.all(_e.map(function(et,tt){return $.getDependency(g,tt)})),this.cache.add(g,b)}return b}loadBuffer(g){const b=this.json.buffers[g],$=this.fileLoader;if(b.type&&b.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+b.type+" buffer type is not supported.");if(b.uri===void 0&&g===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const _e=this.options;return new Promise(function(et,tt){$.load(LoaderUtils.resolveURL(b.uri,_e.path),et,void 0,function(){tt(new Error('THREE.GLTFLoader: Failed to load buffer "'+b.uri+'".'))})})}loadBufferView(g){const b=this.json.bufferViews[g];return this.getDependency("buffer",b.buffer).then(function($){const _e=b.byteLength||0,et=b.byteOffset||0;return $.slice(et,et+_e)})}loadAccessor(g){const b=this,$=this.json,_e=this.json.accessors[g];if(_e.bufferView===void 0&&_e.sparse===void 0)return Promise.resolve(null);const et=[];return _e.bufferView!==void 0?et.push(this.getDependency("bufferView",_e.bufferView)):et.push(null),_e.sparse!==void 0&&(et.push(this.getDependency("bufferView",_e.sparse.indices.bufferView)),et.push(this.getDependency("bufferView",_e.sparse.values.bufferView))),Promise.all(et).then(function(tt){const nt=tt[0],rt=WEBGL_TYPE_SIZES[_e.type],it=WEBGL_COMPONENT_TYPES[_e.componentType],ot=it.BYTES_PER_ELEMENT,st=ot*rt,at=_e.byteOffset||0,lt=_e.bufferView!==void 0?$.bufferViews[_e.bufferView].byteStride:void 0,ut=_e.normalized===!0;let ct,ft;if(lt&&lt!==st){const ht=Math.floor(at/lt),dt="InterleavedBuffer:"+_e.bufferView+":"+_e.componentType+":"+ht+":"+_e.count;let pt=b.cache.get(dt);pt||(ct=new it(nt,ht*lt,_e.count*lt/ot),pt=new InterleavedBuffer(ct,lt/ot),b.cache.add(dt,pt)),ft=new InterleavedBufferAttribute(pt,rt,at%lt/ot,ut)}else nt===null?ct=new it(_e.count*rt):ct=new it(nt,at,_e.count*rt),ft=new BufferAttribute(ct,rt,ut);if(_e.sparse!==void 0){const ht=WEBGL_TYPE_SIZES.SCALAR,dt=WEBGL_COMPONENT_TYPES[_e.sparse.indices.componentType],pt=_e.sparse.indices.byteOffset||0,mt=_e.sparse.values.byteOffset||0,gt=new dt(tt[1],pt,_e.sparse.count*ht),yt=new it(tt[2],mt,_e.sparse.count*rt);nt!==null&&(ft=new BufferAttribute(ft.array.slice(),ft.itemSize,ft.normalized));for(let _t=0,vt=gt.length;_t<vt;_t++){const At=gt[_t];if(ft.setX(At,yt[_t*rt]),rt>=2&&ft.setY(At,yt[_t*rt+1]),rt>=3&&ft.setZ(At,yt[_t*rt+2]),rt>=4&&ft.setW(At,yt[_t*rt+3]),rt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return ft})}loadTexture(g){const b=this.json,$=this.options,et=b.textures[g].source,tt=b.images[et];let nt=this.textureLoader;if(tt.uri){const rt=$.manager.getHandler(tt.uri);rt!==null&&(nt=rt)}return this.loadTextureImage(g,et,nt)}loadTextureImage(g,b,$){const _e=this,et=this.json,tt=et.textures[g],nt=et.images[b],rt=(nt.uri||nt.bufferView)+":"+tt.sampler;if(this.textureCache[rt])return this.textureCache[rt];const it=this.loadImageSource(b,$).then(function(ot){ot.flipY=!1,tt.name&&(ot.name=tt.name);const at=(et.samplers||{})[tt.sampler]||{};return ot.magFilter=WEBGL_FILTERS[at.magFilter]||LinearFilter,ot.minFilter=WEBGL_FILTERS[at.minFilter]||LinearMipmapLinearFilter,ot.wrapS=WEBGL_WRAPPINGS[at.wrapS]||RepeatWrapping,ot.wrapT=WEBGL_WRAPPINGS[at.wrapT]||RepeatWrapping,_e.associations.set(ot,{textures:g}),ot}).catch(function(){return null});return this.textureCache[rt]=it,it}loadImageSource(g,b){const $=this,_e=this.json,et=this.options;if(this.sourceCache[g]!==void 0)return this.sourceCache[g].then(function(st){return st.clone()}).catch(function(st){throw st});const tt=_e.images[g],nt=self.URL||self.webkitURL;let rt=tt.uri||"",it=!1;if(tt.bufferView!==void 0)rt=$.getDependency("bufferView",tt.bufferView).then(function(st){it=!0;const at=new Blob([st],{type:tt.mimeType});return rt=nt.createObjectURL(at),rt});else if(tt.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+g+" is missing URI and bufferView");const ot=Promise.resolve(rt).then(function(st){return new Promise(function(at,lt){let ut=at;b.isImageBitmapLoader===!0&&(ut=function(ct){const ft=new Texture(ct);ft.needsUpdate=!0,at(ft)}),b.load(LoaderUtils.resolveURL(st,et.path),ut,void 0,lt)})}).then(function(st){return it===!0&&nt.revokeObjectURL(rt),st.userData.mimeType=tt.mimeType||getImageURIMimeType(tt.uri),st}).catch(function(st){throw console.error("THREE.GLTFLoader: Couldn't load texture",rt),st});return this.sourceCache[g]=ot,ot}assignTexture(g,b,$){const _e=this;return this.getDependency("texture",$.index).then(function(et){if($.texCoord!==void 0&&$.texCoord!=0&&!(b==="aoMap"&&$.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+$.texCoord+" for texture "+b+" not yet supported."),_e.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const tt=$.extensions!==void 0?$.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(tt){const nt=_e.associations.get(et);et=_e.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(et,tt),_e.associations.set(et,nt)}}return g[b]=et,et})}assignFinalMaterial(g){const b=g.geometry;let $=g.material;const _e=b.attributes.tangent===void 0,et=b.attributes.color!==void 0,tt=b.attributes.normal===void 0;if(g.isPoints){const nt="PointsMaterial:"+$.uuid;let rt=this.cache.get(nt);rt||(rt=new PointsMaterial,Material.prototype.copy.call(rt,$),rt.color.copy($.color),rt.map=$.map,rt.sizeAttenuation=!1,this.cache.add(nt,rt)),$=rt}else if(g.isLine){const nt="LineBasicMaterial:"+$.uuid;let rt=this.cache.get(nt);rt||(rt=new LineBasicMaterial,Material.prototype.copy.call(rt,$),rt.color.copy($.color),this.cache.add(nt,rt)),$=rt}if(_e||et||tt){let nt="ClonedMaterial:"+$.uuid+":";$.isGLTFSpecularGlossinessMaterial&&(nt+="specular-glossiness:"),_e&&(nt+="derivative-tangents:"),et&&(nt+="vertex-colors:"),tt&&(nt+="flat-shading:");let rt=this.cache.get(nt);rt||(rt=$.clone(),et&&(rt.vertexColors=!0),tt&&(rt.flatShading=!0),_e&&(rt.normalScale&&(rt.normalScale.y*=-1),rt.clearcoatNormalScale&&(rt.clearcoatNormalScale.y*=-1)),this.cache.add(nt,rt),this.associations.set(rt,this.associations.get($))),$=rt}$.aoMap&&b.attributes.uv2===void 0&&b.attributes.uv!==void 0&&b.setAttribute("uv2",b.attributes.uv),g.material=$}getMaterialType(){return MeshStandardMaterial}loadMaterial(g){const b=this,$=this.json,_e=this.extensions,et=$.materials[g];let tt;const nt={},rt=et.extensions||{},it=[];if(rt[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const st=_e[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];tt=st.getMaterialType(),it.push(st.extendParams(nt,et,b))}else if(rt[EXTENSIONS.KHR_MATERIALS_UNLIT]){const st=_e[EXTENSIONS.KHR_MATERIALS_UNLIT];tt=st.getMaterialType(),it.push(st.extendParams(nt,et,b))}else{const st=et.pbrMetallicRoughness||{};if(nt.color=new Color(1,1,1),nt.opacity=1,Array.isArray(st.baseColorFactor)){const at=st.baseColorFactor;nt.color.fromArray(at),nt.opacity=at[3]}st.baseColorTexture!==void 0&&it.push(b.assignTexture(nt,"map",st.baseColorTexture)),nt.metalness=st.metallicFactor!==void 0?st.metallicFactor:1,nt.roughness=st.roughnessFactor!==void 0?st.roughnessFactor:1,st.metallicRoughnessTexture!==void 0&&(it.push(b.assignTexture(nt,"metalnessMap",st.metallicRoughnessTexture)),it.push(b.assignTexture(nt,"roughnessMap",st.metallicRoughnessTexture))),tt=this._invokeOne(function(at){return at.getMaterialType&&at.getMaterialType(g)}),it.push(Promise.all(this._invokeAll(function(at){return at.extendMaterialParams&&at.extendMaterialParams(g,nt)})))}et.doubleSided===!0&&(nt.side=DoubleSide);const ot=et.alphaMode||ALPHA_MODES.OPAQUE;if(ot===ALPHA_MODES.BLEND?(nt.transparent=!0,nt.depthWrite=!1):(nt.transparent=!1,ot===ALPHA_MODES.MASK&&(nt.alphaTest=et.alphaCutoff!==void 0?et.alphaCutoff:.5)),et.normalTexture!==void 0&&tt!==MeshBasicMaterial&&(it.push(b.assignTexture(nt,"normalMap",et.normalTexture)),nt.normalScale=new Vector2(1,1),et.normalTexture.scale!==void 0)){const st=et.normalTexture.scale;nt.normalScale.set(st,st)}return et.occlusionTexture!==void 0&&tt!==MeshBasicMaterial&&(it.push(b.assignTexture(nt,"aoMap",et.occlusionTexture)),et.occlusionTexture.strength!==void 0&&(nt.aoMapIntensity=et.occlusionTexture.strength)),et.emissiveFactor!==void 0&&tt!==MeshBasicMaterial&&(nt.emissive=new Color().fromArray(et.emissiveFactor)),et.emissiveTexture!==void 0&&tt!==MeshBasicMaterial&&it.push(b.assignTexture(nt,"emissiveMap",et.emissiveTexture)),Promise.all(it).then(function(){let st;return tt===GLTFMeshStandardSGMaterial?st=_e[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(nt):st=new tt(nt),et.name&&(st.name=et.name),st.map&&(st.map.encoding=sRGBEncoding),st.emissiveMap&&(st.emissiveMap.encoding=sRGBEncoding),st.sheenColorMap&&(st.sheenColorMap.encoding=sRGBEncoding),st.specularColorMap&&(st.specularColorMap.encoding=sRGBEncoding),st.specularMap&&(st.specularMap.encoding=sRGBEncoding),assignExtrasToUserData(st,et),b.associations.set(st,{materials:g}),et.extensions&&addUnknownExtensionsToUserData(_e,st,et),st})}createUniqueName(g){const b=PropertyBinding.sanitizeNodeName(g||"");let $=b;for(let _e=1;this.nodeNamesUsed[$];++_e)$=b+"_"+_e;return this.nodeNamesUsed[$]=!0,$}loadGeometries(g){const b=this,$=this.extensions,_e=this.primitiveCache;function et(nt){return $[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(nt,b).then(function(rt){return addPrimitiveAttributes(rt,nt,b)})}const tt=[];for(let nt=0,rt=g.length;nt<rt;nt++){const it=g[nt],ot=createPrimitiveKey(it),st=_e[ot];if(st)tt.push(st.promise);else{let at;it.extensions&&it.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?at=et(it):at=addPrimitiveAttributes(new BufferGeometry,it,b),_e[ot]={primitive:it,promise:at},tt.push(at)}}return Promise.all(tt)}loadMesh(g){const b=this,$=this.json,_e=this.extensions,et=$.meshes[g],tt=et.primitives,nt=[];for(let rt=0,it=tt.length;rt<it;rt++){const ot=tt[rt].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",tt[rt].material);nt.push(ot)}return nt.push(b.loadGeometries(tt)),Promise.all(nt).then(function(rt){const it=rt.slice(0,rt.length-1),ot=rt[rt.length-1],st=[];for(let lt=0,ut=ot.length;lt<ut;lt++){const ct=ot[lt],ft=tt[lt];let ht;const dt=it[lt];if(ft.mode===WEBGL_CONSTANTS.TRIANGLES||ft.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||ft.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||ft.mode===void 0)ht=et.isSkinnedMesh===!0?new SkinnedMesh(ct,dt):new Mesh(ct,dt),ht.isSkinnedMesh===!0&&!ht.geometry.attributes.skinWeight.normalized&&ht.normalizeSkinWeights(),ft.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?ht.geometry=toTrianglesDrawMode(ht.geometry,TriangleStripDrawMode):ft.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(ht.geometry=toTrianglesDrawMode(ht.geometry,TriangleFanDrawMode));else if(ft.mode===WEBGL_CONSTANTS.LINES)ht=new LineSegments(ct,dt);else if(ft.mode===WEBGL_CONSTANTS.LINE_STRIP)ht=new Line(ct,dt);else if(ft.mode===WEBGL_CONSTANTS.LINE_LOOP)ht=new LineLoop(ct,dt);else if(ft.mode===WEBGL_CONSTANTS.POINTS)ht=new Points(ct,dt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+ft.mode);Object.keys(ht.geometry.morphAttributes).length>0&&updateMorphTargets(ht,et),ht.name=b.createUniqueName(et.name||"mesh_"+g),assignExtrasToUserData(ht,et),ft.extensions&&addUnknownExtensionsToUserData(_e,ht,ft),b.assignFinalMaterial(ht),st.push(ht)}for(let lt=0,ut=st.length;lt<ut;lt++)b.associations.set(st[lt],{meshes:g,primitives:lt});if(st.length===1)return st[0];const at=new Group;b.associations.set(at,{meshes:g});for(let lt=0,ut=st.length;lt<ut;lt++)at.add(st[lt]);return at})}loadCamera(g){let b;const $=this.json.cameras[g],_e=$[$.type];if(!_e){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return $.type==="perspective"?b=new PerspectiveCamera(MathUtils.radToDeg(_e.yfov),_e.aspectRatio||1,_e.znear||1,_e.zfar||2e6):$.type==="orthographic"&&(b=new OrthographicCamera(-_e.xmag,_e.xmag,_e.ymag,-_e.ymag,_e.znear,_e.zfar)),$.name&&(b.name=this.createUniqueName($.name)),assignExtrasToUserData(b,$),Promise.resolve(b)}loadSkin(g){const b=this.json.skins[g],$={joints:b.joints};return b.inverseBindMatrices===void 0?Promise.resolve($):this.getDependency("accessor",b.inverseBindMatrices).then(function(_e){return $.inverseBindMatrices=_e,$})}loadAnimation(g){const $=this.json.animations[g],_e=[],et=[],tt=[],nt=[],rt=[];for(let it=0,ot=$.channels.length;it<ot;it++){const st=$.channels[it],at=$.samplers[st.sampler],lt=st.target,ut=lt.node!==void 0?lt.node:lt.id,ct=$.parameters!==void 0?$.parameters[at.input]:at.input,ft=$.parameters!==void 0?$.parameters[at.output]:at.output;_e.push(this.getDependency("node",ut)),et.push(this.getDependency("accessor",ct)),tt.push(this.getDependency("accessor",ft)),nt.push(at),rt.push(lt)}return Promise.all([Promise.all(_e),Promise.all(et),Promise.all(tt),Promise.all(nt),Promise.all(rt)]).then(function(it){const ot=it[0],st=it[1],at=it[2],lt=it[3],ut=it[4],ct=[];for(let ht=0,dt=ot.length;ht<dt;ht++){const pt=ot[ht],mt=st[ht],gt=at[ht],yt=lt[ht],_t=ut[ht];if(pt===void 0)continue;pt.updateMatrix(),pt.matrixAutoUpdate=!0;let vt;switch(PATH_PROPERTIES[_t.path]){case PATH_PROPERTIES.weights:vt=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:vt=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:vt=VectorKeyframeTrack;break}const At=pt.name?pt.name:pt.uuid,bt=yt.interpolation!==void 0?INTERPOLATION[yt.interpolation]:InterpolateLinear,xt=[];PATH_PROPERTIES[_t.path]===PATH_PROPERTIES.weights?pt.traverse(function(Mt){Mt.morphTargetInfluences&&xt.push(Mt.name?Mt.name:Mt.uuid)}):xt.push(At);let Et=gt.array;if(gt.normalized){const Mt=getNormalizedComponentScale(Et.constructor),Tt=new Float32Array(Et.length);for(let Lt=0,Ot=Et.length;Lt<Ot;Lt++)Tt[Lt]=Et[Lt]*Mt;Et=Tt}for(let Mt=0,Tt=xt.length;Mt<Tt;Mt++){const Lt=new vt(xt[Mt]+"."+PATH_PROPERTIES[_t.path],mt.array,Et,bt);yt.interpolation==="CUBICSPLINE"&&(Lt.createInterpolant=function(Rt){const Ct=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new Ct(this.times,this.values,this.getValueSize()/3,Rt)},Lt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),ct.push(Lt)}}const ft=$.name?$.name:"animation_"+g;return new AnimationClip(ft,void 0,ct)})}createNodeMesh(g){const b=this.json,$=this,_e=b.nodes[g];return _e.mesh===void 0?null:$.getDependency("mesh",_e.mesh).then(function(et){const tt=$._getNodeRef($.meshCache,_e.mesh,et);return _e.weights!==void 0&&tt.traverse(function(nt){if(!!nt.isMesh)for(let rt=0,it=_e.weights.length;rt<it;rt++)nt.morphTargetInfluences[rt]=_e.weights[rt]}),tt})}loadNode(g){const b=this.json,$=this.extensions,_e=this,et=b.nodes[g],tt=et.name?_e.createUniqueName(et.name):"";return function(){const nt=[],rt=_e._invokeOne(function(it){return it.createNodeMesh&&it.createNodeMesh(g)});return rt&&nt.push(rt),et.camera!==void 0&&nt.push(_e.getDependency("camera",et.camera).then(function(it){return _e._getNodeRef(_e.cameraCache,et.camera,it)})),_e._invokeAll(function(it){return it.createNodeAttachment&&it.createNodeAttachment(g)}).forEach(function(it){nt.push(it)}),Promise.all(nt)}().then(function(nt){let rt;if(et.isBone===!0?rt=new Bone:nt.length>1?rt=new Group:nt.length===1?rt=nt[0]:rt=new Object3D,rt!==nt[0])for(let it=0,ot=nt.length;it<ot;it++)rt.add(nt[it]);if(et.name&&(rt.userData.name=et.name,rt.name=tt),assignExtrasToUserData(rt,et),et.extensions&&addUnknownExtensionsToUserData($,rt,et),et.matrix!==void 0){const it=new Matrix4;it.fromArray(et.matrix),rt.applyMatrix4(it)}else et.translation!==void 0&&rt.position.fromArray(et.translation),et.rotation!==void 0&&rt.quaternion.fromArray(et.rotation),et.scale!==void 0&&rt.scale.fromArray(et.scale);return _e.associations.has(rt)||_e.associations.set(rt,{}),_e.associations.get(rt).nodes=g,rt})}loadScene(g){const b=this.json,$=this.extensions,_e=this.json.scenes[g],et=this,tt=new Group;_e.name&&(tt.name=et.createUniqueName(_e.name)),assignExtrasToUserData(tt,_e),_e.extensions&&addUnknownExtensionsToUserData($,tt,_e);const nt=_e.nodes||[],rt=[];for(let it=0,ot=nt.length;it<ot;it++)rt.push(buildNodeHierarchy(nt[it],tt,b,et));return Promise.all(rt).then(function(){const it=ot=>{const st=new Map;for(const[at,lt]of et.associations)(at instanceof Material||at instanceof Texture)&&st.set(at,lt);return ot.traverse(at=>{const lt=et.associations.get(at);lt!=null&&st.set(at,lt)}),st};return et.associations=it(tt),tt})}}function buildNodeHierarchy(j,g,b,$){const _e=b.nodes[j];return $.getDependency("node",j).then(function(et){if(_e.skin===void 0)return et;let tt;return $.getDependency("skin",_e.skin).then(function(nt){tt=nt;const rt=[];for(let it=0,ot=tt.joints.length;it<ot;it++)rt.push($.getDependency("node",tt.joints[it]));return Promise.all(rt)}).then(function(nt){return et.traverse(function(rt){if(!rt.isMesh)return;const it=[],ot=[];for(let st=0,at=nt.length;st<at;st++){const lt=nt[st];if(lt){it.push(lt);const ut=new Matrix4;tt.inverseBindMatrices!==void 0&&ut.fromArray(tt.inverseBindMatrices.array,st*16),ot.push(ut)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',tt.joints[st])}rt.bind(new Skeleton(it,ot),rt.matrixWorld)}),et})}).then(function(et){g.add(et);const tt=[];if(_e.children){const nt=_e.children;for(let rt=0,it=nt.length;rt<it;rt++){const ot=nt[rt];tt.push(buildNodeHierarchy(ot,et,b,$))}}return Promise.all(tt)})}function computeBounds(j,g,b){const $=g.attributes,_e=new Box3;if($.POSITION!==void 0){const nt=b.json.accessors[$.POSITION],rt=nt.min,it=nt.max;if(rt!==void 0&&it!==void 0){if(_e.set(new Vector3(rt[0],rt[1],rt[2]),new Vector3(it[0],it[1],it[2])),nt.normalized){const ot=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[nt.componentType]);_e.min.multiplyScalar(ot),_e.max.multiplyScalar(ot)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const et=g.targets;if(et!==void 0){const nt=new Vector3,rt=new Vector3;for(let it=0,ot=et.length;it<ot;it++){const st=et[it];if(st.POSITION!==void 0){const at=b.json.accessors[st.POSITION],lt=at.min,ut=at.max;if(lt!==void 0&&ut!==void 0){if(rt.setX(Math.max(Math.abs(lt[0]),Math.abs(ut[0]))),rt.setY(Math.max(Math.abs(lt[1]),Math.abs(ut[1]))),rt.setZ(Math.max(Math.abs(lt[2]),Math.abs(ut[2]))),at.normalized){const ct=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[at.componentType]);rt.multiplyScalar(ct)}nt.max(rt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}_e.expandByVector(nt)}j.boundingBox=_e;const tt=new Sphere;_e.getCenter(tt.center),tt.radius=_e.min.distanceTo(_e.max)/2,j.boundingSphere=tt}function addPrimitiveAttributes(j,g,b){const $=g.attributes,_e=[];function et(tt,nt){return b.getDependency("accessor",tt).then(function(rt){j.setAttribute(nt,rt)})}for(const tt in $){const nt=ATTRIBUTES[tt]||tt.toLowerCase();nt in j.attributes||_e.push(et($[tt],nt))}if(g.indices!==void 0&&!j.index){const tt=b.getDependency("accessor",g.indices).then(function(nt){j.setIndex(nt)});_e.push(tt)}return assignExtrasToUserData(j,g),computeBounds(j,g,b),Promise.all(_e).then(function(){return g.targets!==void 0?addMorphTargets(j,g.targets,b):j})}function toTrianglesDrawMode(j,g){let b=j.getIndex();if(b===null){const tt=[],nt=j.getAttribute("position");if(nt!==void 0){for(let rt=0;rt<nt.count;rt++)tt.push(rt);j.setIndex(tt),b=j.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),j}const $=b.count-2,_e=[];if(g===TriangleFanDrawMode)for(let tt=1;tt<=$;tt++)_e.push(b.getX(0)),_e.push(b.getX(tt)),_e.push(b.getX(tt+1));else for(let tt=0;tt<$;tt++)tt%2===0?(_e.push(b.getX(tt)),_e.push(b.getX(tt+1)),_e.push(b.getX(tt+2))):(_e.push(b.getX(tt+2)),_e.push(b.getX(tt+1)),_e.push(b.getX(tt)));_e.length/3!==$&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const et=j.clone();return et.setIndex(_e),et}/**
 * Modules in this bundle
 * @license
 *
 * opentype.js:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Frederik De Bleser <frederik@debleser.be>
 *   version: 0.6.5
 *
 * tiny-inflate:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Devon Govett <devongovett@gmail.com>
 *   maintainers: devongovett <devongovett@gmail.com>
 *   homepage: https://github.com/devongovett/tiny-inflate
 *   version: 1.0.2
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */(function(j){if(typeof exports=="object"&&typeof module!="undefined")module.exports=j();else if(typeof define=="function"&&define.amd)define([],j);else{var g;typeof window!="undefined"?g=window:typeof global!="undefined"?g=global:typeof self!="undefined"?g=self:g=this,g.opentype=j()}})(function(){return function j(g,b,$){function _e(nt,rt){if(!b[nt]){if(!g[nt]){var it=typeof require=="function"&&require;if(!rt&&it)return it(nt,!0);if(et)return et(nt,!0);var ot=new Error("Cannot find module '"+nt+"'");throw ot.code="MODULE_NOT_FOUND",ot}var st=b[nt]={exports:{}};g[nt][0].call(st.exports,function(at){var lt=g[nt][1][at];return _e(lt||at)},st,st.exports,j,g,b,$)}return b[nt].exports}for(var et=typeof require=="function"&&require,tt=0;tt<$.length;tt++)_e($[tt]);return _e}({1:[function(j,g,b){function $(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function _e(xt,Et){this.source=xt,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=Et,this.destLen=0,this.ltree=new $,this.dtree=new $}function et(xt,Et,Mt,Tt){var Lt,Ot;for(Lt=0;Mt>Lt;++Lt)xt[Lt]=0;for(Lt=0;30-Mt>Lt;++Lt)xt[Lt+Mt]=Lt/Mt|0;for(Ot=Tt,Lt=0;30>Lt;++Lt)Et[Lt]=Ot,Ot+=1<<xt[Lt]}function tt(xt,Et){var Mt;for(Mt=0;7>Mt;++Mt)xt.table[Mt]=0;for(xt.table[7]=24,xt.table[8]=152,xt.table[9]=112,Mt=0;24>Mt;++Mt)xt.trans[Mt]=256+Mt;for(Mt=0;144>Mt;++Mt)xt.trans[24+Mt]=Mt;for(Mt=0;8>Mt;++Mt)xt.trans[168+Mt]=280+Mt;for(Mt=0;112>Mt;++Mt)xt.trans[176+Mt]=144+Mt;for(Mt=0;5>Mt;++Mt)Et.table[Mt]=0;for(Et.table[5]=32,Mt=0;32>Mt;++Mt)Et.trans[Mt]=Mt}function nt(xt,Et,Mt,Tt){var Lt,Ot;for(Lt=0;16>Lt;++Lt)xt.table[Lt]=0;for(Lt=0;Tt>Lt;++Lt)xt.table[Et[Mt+Lt]]++;for(xt.table[0]=0,Ot=0,Lt=0;16>Lt;++Lt)bt[Lt]=Ot,Ot+=xt.table[Lt];for(Lt=0;Tt>Lt;++Lt)Et[Mt+Lt]&&(xt.trans[bt[Et[Mt+Lt]]++]=Lt)}function rt(xt){xt.bitcount--||(xt.tag=xt.source[xt.sourceIndex++],xt.bitcount=7);var Et=1&xt.tag;return xt.tag>>>=1,Et}function it(xt,Et,Mt){if(!Et)return Mt;for(;xt.bitcount<24;)xt.tag|=xt.source[xt.sourceIndex++]<<xt.bitcount,xt.bitcount+=8;var Tt=xt.tag&65535>>>16-Et;return xt.tag>>>=Et,xt.bitcount-=Et,Tt+Mt}function ot(xt,Et){for(;xt.bitcount<24;)xt.tag|=xt.source[xt.sourceIndex++]<<xt.bitcount,xt.bitcount+=8;var Mt=0,Tt=0,Lt=0,Ot=xt.tag;do Tt=2*Tt+(1&Ot),Ot>>>=1,++Lt,Mt+=Et.table[Lt],Tt-=Et.table[Lt];while(Tt>=0);return xt.tag=Ot,xt.bitcount-=Lt,Et.trans[Mt+Tt]}function st(xt,Et,Mt){var Tt,Lt,Ot,Rt,Ct,Dt;for(Tt=it(xt,5,257),Lt=it(xt,5,1),Ot=it(xt,4,4),Rt=0;19>Rt;++Rt)At[Rt]=0;for(Rt=0;Ot>Rt;++Rt){var Bt=it(xt,3,0);At[_t[Rt]]=Bt}for(nt(vt,At,0,19),Ct=0;Tt+Lt>Ct;){var kt=ot(xt,vt);switch(kt){case 16:var zt=At[Ct-1];for(Dt=it(xt,2,3);Dt;--Dt)At[Ct++]=zt;break;case 17:for(Dt=it(xt,3,3);Dt;--Dt)At[Ct++]=0;break;case 18:for(Dt=it(xt,7,11);Dt;--Dt)At[Ct++]=0;break;default:At[Ct++]=kt}}nt(Et,At,0,Tt),nt(Mt,At,Tt,Lt)}function at(xt,Et,Mt){for(;;){var Tt=ot(xt,Et);if(Tt===256)return ct;if(256>Tt)xt.dest[xt.destLen++]=Tt;else{var Lt,Ot,Rt,Ct;for(Tt-=257,Lt=it(xt,pt[Tt],mt[Tt]),Ot=ot(xt,Mt),Rt=xt.destLen-it(xt,gt[Ot],yt[Ot]),Ct=Rt;Rt+Lt>Ct;++Ct)xt.dest[xt.destLen++]=xt.dest[Ct]}}}function lt(xt){for(var Et,Mt,Tt;xt.bitcount>8;)xt.sourceIndex--,xt.bitcount-=8;if(Et=xt.source[xt.sourceIndex+1],Et=256*Et+xt.source[xt.sourceIndex],Mt=xt.source[xt.sourceIndex+3],Mt=256*Mt+xt.source[xt.sourceIndex+2],Et!==(65535&~Mt))return ft;for(xt.sourceIndex+=4,Tt=Et;Tt;--Tt)xt.dest[xt.destLen++]=xt.source[xt.sourceIndex++];return xt.bitcount=0,ct}function ut(xt,Et){var Mt,Tt,Lt=new _e(xt,Et);do{switch(Mt=rt(Lt),it(Lt,2,0)){case 0:Tt=lt(Lt);break;case 1:Tt=at(Lt,ht,dt);break;case 2:st(Lt,Lt.ltree,Lt.dtree),Tt=at(Lt,Lt.ltree,Lt.dtree);break;default:Tt=ft}if(Tt!==ct)throw new Error("Data error")}while(!Mt);return Lt.destLen<Lt.dest.length?typeof Lt.dest.slice=="function"?Lt.dest.slice(0,Lt.destLen):Lt.dest.subarray(0,Lt.destLen):Lt.dest}var ct=0,ft=-3,ht=new $,dt=new $,pt=new Uint8Array(30),mt=new Uint16Array(30),gt=new Uint8Array(30),yt=new Uint16Array(30),_t=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vt=new $,At=new Uint8Array(320),bt=new Uint16Array(16);tt(ht,dt),et(pt,mt,4,3),et(gt,yt,2,1),pt[28]=0,mt[28]=258,g.exports=ut},{}],2:[function(j,g,b){b.fail=function($){throw new Error($)},b.argument=function($,_e){$||b.fail(_e)},b.assert=b.argument},{}],3:[function(j,g,b){function $(_e,et,tt,nt,rt){_e.beginPath(),_e.moveTo(et,tt),_e.lineTo(nt,rt),_e.stroke()}b.line=$},{}],4:[function(j,g,b){function $(at){this.font=at}function _e(at){this.cmap=at}function et(at,lt){this.encoding=at,this.charset=lt}function tt(at){var lt;switch(at.version){case 1:this.names=b.standardNames.slice();break;case 2:for(this.names=new Array(at.numberOfGlyphs),lt=0;lt<at.numberOfGlyphs;lt++)this.names[lt]=at.glyphNameIndex[lt]<b.standardNames.length?b.standardNames[at.glyphNameIndex[lt]]:at.names[at.glyphNameIndex[lt]-b.standardNames.length];break;case 2.5:for(this.names=new Array(at.numberOfGlyphs),lt=0;lt<at.numberOfGlyphs;lt++)this.names[lt]=b.standardNames[lt+at.glyphNameIndex[lt]];break;case 3:this.names=[]}}function nt(at){for(var lt,ut=at.tables.cmap.glyphIndexMap,ct=Object.keys(ut),ft=0;ft<ct.length;ft+=1){var ht=ct[ft],dt=ut[ht];lt=at.glyphs.get(dt),lt.addUnicode(parseInt(ht))}for(ft=0;ft<at.glyphs.length;ft+=1)lt=at.glyphs.get(ft),at.cffEncoding?lt.name=at.cffEncoding.charset[ft]:at.glyphNames.names&&(lt.name=at.glyphNames.glyphIndexToName(ft))}var rt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],it=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ot=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],st=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];$.prototype.charToGlyphIndex=function(at){var lt=at.charCodeAt(0),ut=this.font.glyphs;if(!ut)return null;for(var ct=0;ct<ut.length;ct+=1)for(var ft=ut.get(ct),ht=0;ht<ft.unicodes.length;ht+=1)if(ft.unicodes[ht]===lt)return ct},_e.prototype.charToGlyphIndex=function(at){return this.cmap.glyphIndexMap[at.charCodeAt(0)]||0},et.prototype.charToGlyphIndex=function(at){var lt=at.charCodeAt(0),ut=this.encoding[lt];return this.charset.indexOf(ut)},tt.prototype.nameToGlyphIndex=function(at){return this.names.indexOf(at)},tt.prototype.glyphIndexToName=function(at){return this.names[at]},b.cffStandardStrings=rt,b.cffStandardEncoding=it,b.cffExpertEncoding=ot,b.standardNames=st,b.DefaultEncoding=$,b.CmapEncoding=_e,b.CffEncoding=et,b.GlyphNames=tt,b.addGlyphNames=nt},{}],5:[function(j,g,b){function $(ot){ot=ot||{},ot.empty||(it.checkArgument(ot.familyName,"When creating a new Font object, familyName is required."),it.checkArgument(ot.styleName,"When creating a new Font object, styleName is required."),it.checkArgument(ot.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),it.checkArgument(ot.ascender,"When creating a new Font object, ascender is required."),it.checkArgument(ot.descender,"When creating a new Font object, descender is required."),it.checkArgument(ot.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:ot.familyName||" "},fontSubfamily:{en:ot.styleName||" "},fullName:{en:ot.fullName||ot.familyName+" "+ot.styleName},postScriptName:{en:ot.postScriptName||ot.familyName+ot.styleName},designer:{en:ot.designer||" "},designerURL:{en:ot.designerURL||" "},manufacturer:{en:ot.manufacturer||" "},manufacturerURL:{en:ot.manufacturerURL||" "},license:{en:ot.license||" "},licenseURL:{en:ot.licenseURL||" "},version:{en:ot.version||"Version 0.1"},description:{en:ot.description||" "},copyright:{en:ot.copyright||" "},trademark:{en:ot.trademark||" "}},this.unitsPerEm=ot.unitsPerEm||1e3,this.ascender=ot.ascender,this.descender=ot.descender,this.createdTimestamp=ot.createdTimestamp,this.tables={os2:{usWeightClass:ot.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:ot.widthClass||this.usWidthClasses.MEDIUM,fsSelection:ot.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new nt.GlyphSet(this,ot.glyphs||[]),this.encoding=new tt.DefaultEncoding(this),this.substitution=new rt(this),this.tables=this.tables||{}}var _e=j("./path"),et=j("./tables/sfnt"),tt=j("./encoding"),nt=j("./glyphset"),rt=j("./substitution"),it=j("./util");$.prototype.hasChar=function(ot){return this.encoding.charToGlyphIndex(ot)!==null},$.prototype.charToGlyphIndex=function(ot){return this.encoding.charToGlyphIndex(ot)},$.prototype.charToGlyph=function(ot){var st=this.charToGlyphIndex(ot),at=this.glyphs.get(st);return at||(at=this.glyphs.get(0)),at},$.prototype.stringToGlyphs=function(ot){for(var st=[],at=0;at<ot.length;at+=1){var lt=ot[at];st.push(this.charToGlyph(lt))}return st},$.prototype.nameToGlyphIndex=function(ot){return this.glyphNames.nameToGlyphIndex(ot)},$.prototype.nameToGlyph=function(ot){var st=this.nametoGlyphIndex(ot),at=this.glyphs.get(st);return at||(at=this.glyphs.get(0)),at},$.prototype.glyphIndexToName=function(ot){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(ot):""},$.prototype.getKerningValue=function(ot,st){ot=ot.index||ot,st=st.index||st;var at=this.getGposKerningValue;return at?at(ot,st):this.kerningPairs[ot+","+st]||0},$.prototype.forEachGlyph=function(ot,st,at,lt,ut,ct){st=st!==void 0?st:0,at=at!==void 0?at:0,lt=lt!==void 0?lt:72,ut=ut||{};for(var ft=ut.kerning===void 0?!0:ut.kerning,ht=1/this.unitsPerEm*lt,dt=this.stringToGlyphs(ot),pt=0;pt<dt.length;pt+=1){var mt=dt[pt];if(ct(mt,st,at,lt,ut),mt.advanceWidth&&(st+=mt.advanceWidth*ht),ft&&pt<dt.length-1){var gt=this.getKerningValue(mt,dt[pt+1]);st+=gt*ht}}},$.prototype.getPath=function(ot,st,at,lt,ut){var ct=new _e.Path;return this.forEachGlyph(ot,st,at,lt,ut,function(ft,ht,dt,pt){var mt=ft.getPath(ht,dt,pt);ct.extend(mt)}),ct},$.prototype.getPaths=function(ot,st,at,lt,ut){var ct=[];return this.forEachGlyph(ot,st,at,lt,ut,function(ft,ht,dt,pt){var mt=ft.getPath(ht,dt,pt);ct.push(mt)}),ct},$.prototype.draw=function(ot,st,at,lt,ut,ct){this.getPath(st,at,lt,ut,ct).draw(ot)},$.prototype.drawPoints=function(ot,st,at,lt,ut,ct){this.forEachGlyph(st,at,lt,ut,ct,function(ft,ht,dt,pt){ft.drawPoints(ot,ht,dt,pt)})},$.prototype.drawMetrics=function(ot,st,at,lt,ut,ct){this.forEachGlyph(st,at,lt,ut,ct,function(ft,ht,dt,pt){ft.drawMetrics(ot,ht,dt,pt)})},$.prototype.getEnglishName=function(ot){var st=this.names[ot];return st?st.en:void 0},$.prototype.validate=function(){function ot(lt,ut){}function st(lt){var ut=at.getEnglishName(lt);ut&&ut.trim().length>0}var at=this;st("fontFamily"),st("weightName"),st("manufacturer"),st("copyright"),st("version"),this.unitsPerEm>0},$.prototype.toTables=function(){return et.fontToTable(this)},$.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},$.prototype.toArrayBuffer=function(){for(var ot=this.toTables(),st=ot.encode(),at=new ArrayBuffer(st.length),lt=new Uint8Array(at),ut=0;ut<st.length;ut++)lt[ut]=st[ut];return at},$.prototype.download=function(){var ot=this.getEnglishName("fontFamily"),st=this.getEnglishName("fontSubfamily"),at=ot.replace(/\s/g,"")+"-"+st+".otf",lt=this.toArrayBuffer();if(it.isBrowser())window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,lt.byteLength,function(ft){ft.root.getFile(at,{create:!0},function(ht){ht.createWriter(function(dt){var pt=new DataView(lt),mt=new Blob([pt],{type:"font/opentype"});dt.write(mt),dt.addEventListener("writeend",function(){location.href=ht.toURL()},!1)})})},function(ft){throw new Error(ft.name+": "+ft.message)});else{var ut=j("fs"),ct=it.arrayBufferToNodeBuffer(lt);ut.writeFileSync(at,ct)}},$.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},$.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},$.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900},b.Font=$},{"./encoding":4,"./glyphset":7,"./path":11,"./substitution":12,"./tables/sfnt":31,"./util":33,fs:void 0}],6:[function(j,g,b){function $(rt,it){var ot=it||{commands:[]};return{configurable:!0,get:function(){return typeof ot=="function"&&(ot=ot()),ot},set:function(st){ot=st}}}function _e(rt){this.bindConstructorValues(rt)}var et=j("./check"),tt=j("./draw"),nt=j("./path");_e.prototype.bindConstructorValues=function(rt){this.index=rt.index||0,this.name=rt.name||null,this.unicode=rt.unicode||void 0,this.unicodes=rt.unicodes||rt.unicode!==void 0?[rt.unicode]:[],rt.xMin&&(this.xMin=rt.xMin),rt.yMin&&(this.yMin=rt.yMin),rt.xMax&&(this.xMax=rt.xMax),rt.yMax&&(this.yMax=rt.yMax),rt.advanceWidth&&(this.advanceWidth=rt.advanceWidth),Object.defineProperty(this,"path",$(this,rt.path))},_e.prototype.addUnicode=function(rt){this.unicodes.length===0&&(this.unicode=rt),this.unicodes.push(rt)},_e.prototype.getPath=function(rt,it,ot,st){rt=rt!==void 0?rt:0,it=it!==void 0?it:0,st=st!==void 0?st:{xScale:1,yScale:1},ot=ot!==void 0?ot:72;for(var at=1/this.path.unitsPerEm*ot,lt=st.xScale*at,ut=st.yScale*at,ct=new nt.Path,ft=this.path.commands,ht=0;ht<ft.length;ht+=1){var dt=ft[ht];dt.type==="M"?ct.moveTo(rt+dt.x*lt,it+-dt.y*ut):dt.type==="L"?ct.lineTo(rt+dt.x*lt,it+-dt.y*ut):dt.type==="Q"?ct.quadraticCurveTo(rt+dt.x1*lt,it+-dt.y1*ut,rt+dt.x*lt,it+-dt.y*ut):dt.type==="C"?ct.curveTo(rt+dt.x1*lt,it+-dt.y1*ut,rt+dt.x2*lt,it+-dt.y2*ut,rt+dt.x*lt,it+-dt.y*ut):dt.type==="Z"&&ct.closePath()}return ct},_e.prototype.getContours=function(){if(this.points===void 0)return[];for(var rt=[],it=[],ot=0;ot<this.points.length;ot+=1){var st=this.points[ot];it.push(st),st.lastPointOfContour&&(rt.push(it),it=[])}return et.argument(it.length===0,"There are still points left in the current contour."),rt},_e.prototype.getMetrics=function(){for(var rt=this.path.commands,it=[],ot=[],st=0;st<rt.length;st+=1){var at=rt[st];at.type!=="Z"&&(it.push(at.x),ot.push(at.y)),(at.type==="Q"||at.type==="C")&&(it.push(at.x1),ot.push(at.y1)),at.type==="C"&&(it.push(at.x2),ot.push(at.y2))}var lt={xMin:Math.min.apply(null,it),yMin:Math.min.apply(null,ot),xMax:Math.max.apply(null,it),yMax:Math.max.apply(null,ot),leftSideBearing:this.leftSideBearing};return isFinite(lt.xMin)||(lt.xMin=0),isFinite(lt.xMax)||(lt.xMax=this.advanceWidth),isFinite(lt.yMin)||(lt.yMin=0),isFinite(lt.yMax)||(lt.yMax=0),lt.rightSideBearing=this.advanceWidth-lt.leftSideBearing-(lt.xMax-lt.xMin),lt},_e.prototype.draw=function(rt,it,ot,st,at){this.getPath(it,ot,st,at).draw(rt)},_e.prototype.drawPoints=function(rt,it,ot,st){function at(pt,mt,gt,yt){var _t=2*Math.PI;rt.beginPath();for(var vt=0;vt<pt.length;vt+=1)rt.moveTo(mt+pt[vt].x*yt,gt+pt[vt].y*yt),rt.arc(mt+pt[vt].x*yt,gt+pt[vt].y*yt,2,0,_t,!1);rt.closePath(),rt.fill()}it=it!==void 0?it:0,ot=ot!==void 0?ot:0,st=st!==void 0?st:24;for(var lt=1/this.path.unitsPerEm*st,ut=[],ct=[],ft=this.path,ht=0;ht<ft.commands.length;ht+=1){var dt=ft.commands[ht];dt.x!==void 0&&ut.push({x:dt.x,y:-dt.y}),dt.x1!==void 0&&ct.push({x:dt.x1,y:-dt.y1}),dt.x2!==void 0&&ct.push({x:dt.x2,y:-dt.y2})}rt.fillStyle="blue",at(ut,it,ot,lt),rt.fillStyle="red",at(ct,it,ot,lt)},_e.prototype.drawMetrics=function(rt,it,ot,st){var at;it=it!==void 0?it:0,ot=ot!==void 0?ot:0,st=st!==void 0?st:24,at=1/this.path.unitsPerEm*st,rt.lineWidth=1,rt.strokeStyle="black",tt.line(rt,it,-1e4,it,1e4),tt.line(rt,-1e4,ot,1e4,ot);var lt=this.xMin||0,ut=this.yMin||0,ct=this.xMax||0,ft=this.yMax||0,ht=this.advanceWidth||0;rt.strokeStyle="blue",tt.line(rt,it+lt*at,-1e4,it+lt*at,1e4),tt.line(rt,it+ct*at,-1e4,it+ct*at,1e4),tt.line(rt,-1e4,ot+-ut*at,1e4,ot+-ut*at),tt.line(rt,-1e4,ot+-ft*at,1e4,ot+-ft*at),rt.strokeStyle="green",tt.line(rt,it+ht*at,-1e4,it+ht*at,1e4)},b.Glyph=_e},{"./check":2,"./draw":3,"./path":11}],7:[function(j,g,b){function $(it,ot,st){Object.defineProperty(it,ot,{get:function(){return it.path,it[st]},set:function(at){it[st]=at},enumerable:!0,configurable:!0})}function _e(it,ot){if(this.font=it,this.glyphs={},Array.isArray(ot))for(var st=0;st<ot.length;st++)this.glyphs[st]=ot[st];this.length=ot&&ot.length||0}function et(it,ot){return new rt.Glyph({index:ot,font:it})}function tt(it,ot,st,at,lt,ut){return function(){var ct=new rt.Glyph({index:ot,font:it});return ct.path=function(){st(ct,at,lt);var ft=ut(it.glyphs,ct);return ft.unitsPerEm=it.unitsPerEm,ft},$(ct,"xMin","_xMin"),$(ct,"xMax","_xMax"),$(ct,"yMin","_yMin"),$(ct,"yMax","_yMax"),ct}}function nt(it,ot,st,at){return function(){var lt=new rt.Glyph({index:ot,font:it});return lt.path=function(){var ut=st(it,lt,at);return ut.unitsPerEm=it.unitsPerEm,ut},lt}}var rt=j("./glyph");_e.prototype.get=function(it){return typeof this.glyphs[it]=="function"&&(this.glyphs[it]=this.glyphs[it]()),this.glyphs[it]},_e.prototype.push=function(it,ot){this.glyphs[it]=ot,this.length++},b.GlyphSet=_e,b.glyphLoader=et,b.ttfGlyphLoader=tt,b.cffGlyphLoader=nt},{"./glyph":6}],8:[function(j,g,b){function $(nt,rt){for(var it=0,ot=nt.length-1;ot>=it;){var st=it+ot>>>1,at=nt[st].tag;if(at===rt)return st;rt>at?it=st+1:ot=st-1}return-it-1}function _e(nt,rt){for(var it=0,ot=nt.length-1;ot>=it;){var st=it+ot>>>1,at=nt[st];if(at===rt)return st;rt>at?it=st+1:ot=st-1}return-it-1}var et=j("./check"),tt={searchTag:$,binSearch:_e,getScriptNames:function(){var nt=this.getGsubTable();return nt?nt.scripts.map(function(rt){return rt.tag}):[]},getScriptTable:function(nt,rt){var it=this.getGsubTable(rt);if(it){var ot=it.scripts,st=$(it.scripts,nt);if(st>=0)return ot[st].script;var at={tag:nt,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return ot.splice(-1-st,0,at.script),at}},getLangSysTable:function(nt,rt,it){var ot=this.getScriptTable(nt,it);if(ot){if(rt==="DFLT")return ot.defaultLangSys;var st=$(ot.langSysRecords,rt);if(st>=0)return ot.langSysRecords[st].langSys;if(it){var at={tag:rt,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return ot.langSysRecords.splice(-1-st,0,at),at.langSys}}},getFeatureTable:function(nt,rt,it,ot){var st=this.getLangSysTable(nt,rt,ot);if(st){for(var at,lt=st.featureIndexes,ut=this.font.tables.gsub.features,ct=0;ct<lt.length;ct++)if(at=ut[lt[ct]],at.tag===it)return at.feature;if(ot){var ft=ut.length;return et.assert(ft===0||it>=ut[ft-1].tag,"Features must be added in alphabetical order."),at={tag:it,feature:{params:0,lookupListIndexes:[]}},ut.push(at),lt.push(ft),at.feature}}},getLookupTable:function(nt,rt,it,ot,st){var at=this.getFeatureTable(nt,rt,it,st);if(at){for(var lt,ut=at.lookupListIndexes,ct=this.font.tables.gsub.lookups,ft=0;ft<ut.length;ft++)if(lt=ct[ut[ft]],lt.lookupType===ot)return lt;if(st){lt={lookupType:ot,lookupFlag:0,subtables:[],markFilteringSet:void 0};var ht=ct.length;return ct.push(lt),ut.push(ht),lt}}},expandCoverage:function(nt){if(nt.format===1)return nt.glyphs;for(var rt=[],it=nt.ranges,ot=0;it>ot;ot++)for(var st=it[ot],at=st.start,lt=st.end,ut=at;lt>=ut;ut++)rt.push(ut);return rt}};g.exports=tt},{"./check":2}],9:[function(j,g,b){function $(Dt,Bt){var kt=j("fs");kt.readFile(Dt,function(zt,Ft){return zt?Bt(zt.message):void Bt(null,ht.nodeBufferToArrayBuffer(Ft))})}function _e(Dt,Bt){var kt=new XMLHttpRequest;kt.open("get",Dt,!0),kt.responseType="arraybuffer",kt.onload=function(){return kt.status!==200?Bt("Font could not be loaded: "+kt.statusText):Bt(null,kt.response)},kt.send()}function et(Dt,Bt){for(var kt=[],zt=12,Ft=0;Bt>Ft;Ft+=1){var It=ct.getTag(Dt,zt),Ut=ct.getULong(Dt,zt+4),Gt=ct.getULong(Dt,zt+8),jt=ct.getULong(Dt,zt+12);kt.push({tag:It,checksum:Ut,offset:Gt,length:jt,compression:!1}),zt+=16}return kt}function tt(Dt,Bt){for(var kt=[],zt=44,Ft=0;Bt>Ft;Ft+=1){var It,Ut=ct.getTag(Dt,zt),Gt=ct.getULong(Dt,zt+4),jt=ct.getULong(Dt,zt+8),Yt=ct.getULong(Dt,zt+12);It=Yt>jt?"WOFF":!1,kt.push({tag:Ut,offset:Gt,compression:It,compressedLength:jt,originalLength:Yt}),zt+=20}return kt}function nt(Dt,Bt){if(Bt.compression==="WOFF"){var kt=new Uint8Array(Dt.buffer,Bt.offset+2,Bt.compressedLength-2),zt=new Uint8Array(Bt.originalLength);if(st(kt,zt),zt.byteLength!==Bt.originalLength)throw new Error("Decompression error: "+Bt.tag+" decompressed length doesn't match recorded length");var Ft=new DataView(zt.buffer,0);return{data:Ft,offset:0}}return{data:Dt,offset:Bt.offset}}function rt(Dt){var Bt,kt,zt,Ft=new lt.Font({empty:!0}),It=new DataView(Dt,0),Ut=[],Gt=ct.getTag(It,0);if(Gt===String.fromCharCode(0,1,0,0))Ft.outlinesFormat="truetype",zt=ct.getUShort(It,4),Ut=et(It,zt);else if(Gt==="OTTO")Ft.outlinesFormat="cff",zt=ct.getUShort(It,4),Ut=et(It,zt);else{if(Gt!=="wOFF")throw new Error("Unsupported OpenType signature "+Gt);var jt=ct.getTag(It,4);if(jt===String.fromCharCode(0,1,0,0))Ft.outlinesFormat="truetype";else{if(jt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Gt);Ft.outlinesFormat="cff"}zt=ct.getUShort(It,12),Ut=tt(It,zt)}for(var Yt,Qt,ln,Zt,Wt,qt,Xt,vn,gn,en,hn=0;zt>hn;hn+=1){var rn,un=Ut[hn];switch(un.tag){case"cmap":rn=nt(It,un),Ft.tables.cmap=dt.parse(rn.data,rn.offset),Ft.encoding=new at.CmapEncoding(Ft.tables.cmap);break;case"fvar":Qt=un;break;case"head":rn=nt(It,un),Ft.tables.head=vt.parse(rn.data,rn.offset),Ft.unitsPerEm=Ft.tables.head.unitsPerEm,Bt=Ft.tables.head.indexToLocFormat;break;case"hhea":rn=nt(It,un),Ft.tables.hhea=At.parse(rn.data,rn.offset),Ft.ascender=Ft.tables.hhea.ascender,Ft.descender=Ft.tables.hhea.descender,Ft.numberOfHMetrics=Ft.tables.hhea.numberOfHMetrics;break;case"hmtx":qt=un;break;case"ltag":rn=nt(It,un),kt=Et.parse(rn.data,rn.offset);break;case"maxp":rn=nt(It,un),Ft.tables.maxp=Tt.parse(rn.data,rn.offset),Ft.numGlyphs=Ft.tables.maxp.numGlyphs;break;case"name":gn=un;break;case"OS/2":rn=nt(It,un),Ft.tables.os2=Ot.parse(rn.data,rn.offset);break;case"post":rn=nt(It,un),Ft.tables.post=Rt.parse(rn.data,rn.offset),Ft.glyphNames=new at.GlyphNames(Ft.tables.post);break;case"glyf":ln=un;break;case"loca":vn=un;break;case"CFF ":Yt=un;break;case"kern":Xt=un;break;case"GPOS":Zt=un;break;case"GSUB":Wt=un;break;case"meta":en=un}}var Nt=nt(It,gn);if(Ft.tables.name=Lt.parse(Nt.data,Nt.offset,kt),Ft.names=Ft.tables.name,ln&&vn){var Vt=Bt===0,cn=nt(It,vn),dn=Mt.parse(cn.data,cn.offset,Ft.numGlyphs,Vt),mn=nt(It,ln);Ft.glyphs=gt.parse(mn.data,mn.offset,dn,Ft)}else{if(!Yt)throw new Error("Font doesn't contain TrueType or CFF outlines.");var bn=nt(It,Yt);pt.parse(bn.data,bn.offset,Ft)}var Cn=nt(It,qt);if(bt.parse(Cn.data,Cn.offset,Ft.numberOfHMetrics,Ft.numGlyphs,Ft.glyphs),at.addGlyphNames(Ft),Xt){var an=nt(It,Xt);Ft.kerningPairs=xt.parse(an.data,an.offset)}else Ft.kerningPairs={};if(Zt){var Tn=nt(It,Zt);yt.parse(Tn.data,Tn.offset,Ft)}if(Wt){var Dn=nt(It,Wt);Ft.tables.gsub=_t.parse(Dn.data,Dn.offset)}if(Qt){var Sn=nt(It,Qt);Ft.tables.fvar=mt.parse(Sn.data,Sn.offset,Ft.names)}if(en){var Ln=nt(It,en);Ft.tables.meta=Ct.parse(Ln.data,Ln.offset),Ft.metas=Ft.tables.meta}return Ft}function it(Dt,Bt){var kt=typeof window=="undefined",zt=kt?$:_e;zt(Dt,function(Ft,It){if(Ft)return Bt(Ft);var Ut;try{Ut=rt(It)}catch(Gt){return Bt(Gt,null)}return Bt(null,Ut)})}function ot(Dt){var Bt=j("fs"),kt=Bt.readFileSync(Dt);return rt(ht.nodeBufferToArrayBuffer(kt))}var st=j("tiny-inflate"),at=j("./encoding"),lt=j("./font"),ut=j("./glyph"),ct=j("./parse"),ft=j("./path"),ht=j("./util"),dt=j("./tables/cmap"),pt=j("./tables/cff"),mt=j("./tables/fvar"),gt=j("./tables/glyf"),yt=j("./tables/gpos"),_t=j("./tables/gsub"),vt=j("./tables/head"),At=j("./tables/hhea"),bt=j("./tables/hmtx"),xt=j("./tables/kern"),Et=j("./tables/ltag"),Mt=j("./tables/loca"),Tt=j("./tables/maxp"),Lt=j("./tables/name"),Ot=j("./tables/os2"),Rt=j("./tables/post"),Ct=j("./tables/meta");b._parse=ct,b.Font=lt.Font,b.Glyph=ut.Glyph,b.Path=ft.Path,b.parse=rt,b.load=it,b.loadSync=ot},{"./encoding":4,"./font":5,"./glyph":6,"./parse":10,"./path":11,"./tables/cff":14,"./tables/cmap":15,"./tables/fvar":16,"./tables/glyf":17,"./tables/gpos":18,"./tables/gsub":19,"./tables/head":20,"./tables/hhea":21,"./tables/hmtx":22,"./tables/kern":23,"./tables/loca":24,"./tables/ltag":25,"./tables/maxp":26,"./tables/meta":27,"./tables/name":28,"./tables/os2":29,"./tables/post":30,"./util":33,fs:void 0,"tiny-inflate":1}],10:[function(j,g,b){function $(rt,it){return rt.getUint16(it,!1)}function _e(rt,it){this.data=rt,this.offset=it,this.relativeOffset=0}var et=j("./check");b.getByte=function(rt,it){return rt.getUint8(it)},b.getCard8=b.getByte,b.getUShort=b.getCard16=$,b.getShort=function(rt,it){return rt.getInt16(it,!1)},b.getULong=function(rt,it){return rt.getUint32(it,!1)},b.getFixed=function(rt,it){var ot=rt.getInt16(it,!1),st=rt.getUint16(it+2,!1);return ot+st/65535},b.getTag=function(rt,it){for(var ot="",st=it;it+4>st;st+=1)ot+=String.fromCharCode(rt.getInt8(st));return ot},b.getOffset=function(rt,it,ot){for(var st=0,at=0;ot>at;at+=1)st<<=8,st+=rt.getUint8(it+at);return st},b.getBytes=function(rt,it,ot){for(var st=[],at=it;ot>at;at+=1)st.push(rt.getUint8(at));return st},b.bytesToString=function(rt){for(var it="",ot=0;ot<rt.length;ot+=1)it+=String.fromCharCode(rt[ot]);return it};var tt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};_e.prototype.parseByte=function(){var rt=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,rt},_e.prototype.parseChar=function(){var rt=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,rt},_e.prototype.parseCard8=_e.prototype.parseByte,_e.prototype.parseUShort=function(){var rt=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,rt},_e.prototype.parseCard16=_e.prototype.parseUShort,_e.prototype.parseSID=_e.prototype.parseUShort,_e.prototype.parseOffset16=_e.prototype.parseUShort,_e.prototype.parseShort=function(){var rt=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,rt},_e.prototype.parseF2Dot14=function(){var rt=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,rt},_e.prototype.parseULong=function(){var rt=b.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,rt},_e.prototype.parseFixed=function(){var rt=b.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,rt},_e.prototype.parseString=function(rt){var it=this.data,ot=this.offset+this.relativeOffset,st="";this.relativeOffset+=rt;for(var at=0;rt>at;at++)st+=String.fromCharCode(it.getUint8(ot+at));return st},_e.prototype.parseTag=function(){return this.parseString(4)},_e.prototype.parseLongDateTime=function(){var rt=b.getULong(this.data,this.offset+this.relativeOffset+4);return rt-=2082844800,this.relativeOffset+=8,rt},_e.prototype.parseVersion=function(){var rt=$(this.data,this.offset+this.relativeOffset),it=$(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,rt+it/4096/10},_e.prototype.skip=function(rt,it){it===void 0&&(it=1),this.relativeOffset+=tt[rt]*it},_e.prototype.parseOffset16List=_e.prototype.parseUShortList=function(rt){rt===void 0&&(rt=this.parseUShort());for(var it=new Array(rt),ot=this.data,st=this.offset+this.relativeOffset,at=0;rt>at;at++)it[at]=ot.getUint16(st),st+=2;return this.relativeOffset+=2*rt,it},_e.prototype.parseList=function(rt,it){it||(it=rt,rt=this.parseUShort());for(var ot=new Array(rt),st=0;rt>st;st++)ot[st]=it.call(this);return ot},_e.prototype.parseRecordList=function(rt,it){it||(it=rt,rt=this.parseUShort());for(var ot=new Array(rt),st=Object.keys(it),at=0;rt>at;at++){for(var lt={},ut=0;ut<st.length;ut++){var ct=st[ut],ft=it[ct];lt[ct]=ft.call(this)}ot[at]=lt}return ot},_e.prototype.parseStruct=function(rt){if(typeof rt=="function")return rt.call(this);for(var it=Object.keys(rt),ot={},st=0;st<it.length;st++){var at=it[st],lt=rt[at];ot[at]=lt.call(this)}return ot},_e.prototype.parsePointer=function(rt){var it=this.parseOffset16();return it>0?new _e(this.data,this.offset+it).parseStruct(rt):void 0},_e.prototype.parseListOfLists=function(rt){for(var it=this.parseOffset16List(),ot=it.length,st=this.relativeOffset,at=new Array(ot),lt=0;ot>lt;lt++){var ut=it[lt];if(ut!==0)if(this.relativeOffset=ut,rt){for(var ct=this.parseOffset16List(),ft=new Array(ct.length),ht=0;ht<ct.length;ht++)this.relativeOffset=ut+ct[ht],ft[ht]=rt.call(this);at[lt]=ft}else at[lt]=this.parseUShortList();else at[lt]=void 0}return this.relativeOffset=st,at},_e.prototype.parseCoverage=function(){var rt=this.offset+this.relativeOffset,it=this.parseUShort(),ot=this.parseUShort();if(it===1)return{format:1,glyphs:this.parseUShortList(ot)};if(it===2){for(var st=new Array(ot),at=0;ot>at;at++)st[at]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:st}}et.assert(!1,"0x"+rt.toString(16)+": Coverage format must be 1 or 2.")},_e.prototype.parseClassDef=function(){var rt=this.offset+this.relativeOffset,it=this.parseUShort();return it===1?{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()}:it===2?{format:2,ranges:this.parseRecordList({start:_e.uShort,end:_e.uShort,classId:_e.uShort})}:void et.assert(!1,"0x"+rt.toString(16)+": ClassDef format must be 1 or 2.")},_e.list=function(rt,it){return function(){return this.parseList(rt,it)}},_e.recordList=function(rt,it){return function(){return this.parseRecordList(rt,it)}},_e.pointer=function(rt){return function(){return this.parsePointer(rt)}},_e.tag=_e.prototype.parseTag,_e.byte=_e.prototype.parseByte,_e.uShort=_e.offset16=_e.prototype.parseUShort,_e.uShortList=_e.prototype.parseUShortList,_e.struct=_e.prototype.parseStruct,_e.coverage=_e.prototype.parseCoverage,_e.classDef=_e.prototype.parseClassDef;var nt={reserved:_e.uShort,reqFeatureIndex:_e.uShort,featureIndexes:_e.uShortList};_e.prototype.parseScriptList=function(){return this.parsePointer(_e.recordList({tag:_e.tag,script:_e.pointer({defaultLangSys:_e.pointer(nt),langSysRecords:_e.recordList({tag:_e.tag,langSys:_e.pointer(nt)})})}))},_e.prototype.parseFeatureList=function(){return this.parsePointer(_e.recordList({tag:_e.tag,feature:_e.pointer({featureParams:_e.offset16,lookupListIndexes:_e.uShortList})}))},_e.prototype.parseLookupList=function(rt){return this.parsePointer(_e.list(_e.pointer(function(){var it=this.parseUShort();et.argument(it>=1&&8>=it,"GSUB lookup type "+it+" unknown.");var ot=this.parseUShort(),st=16&ot;return{lookupType:it,lookupFlag:ot,subtables:this.parseList(_e.pointer(rt[it])),markFilteringSet:st?this.parseUShort():void 0}})))},b.Parser=_e},{"./check":2}],11:[function(j,g,b){function $(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}$.prototype.moveTo=function(_e,et){this.commands.push({type:"M",x:_e,y:et})},$.prototype.lineTo=function(_e,et){this.commands.push({type:"L",x:_e,y:et})},$.prototype.curveTo=$.prototype.bezierCurveTo=function(_e,et,tt,nt,rt,it){this.commands.push({type:"C",x1:_e,y1:et,x2:tt,y2:nt,x:rt,y:it})},$.prototype.quadTo=$.prototype.quadraticCurveTo=function(_e,et,tt,nt){this.commands.push({type:"Q",x1:_e,y1:et,x:tt,y:nt})},$.prototype.close=$.prototype.closePath=function(){this.commands.push({type:"Z"})},$.prototype.extend=function(_e){_e.commands&&(_e=_e.commands),Array.prototype.push.apply(this.commands,_e)},$.prototype.draw=function(_e){_e.beginPath();for(var et=0;et<this.commands.length;et+=1){var tt=this.commands[et];tt.type==="M"?_e.moveTo(tt.x,tt.y):tt.type==="L"?_e.lineTo(tt.x,tt.y):tt.type==="C"?_e.bezierCurveTo(tt.x1,tt.y1,tt.x2,tt.y2,tt.x,tt.y):tt.type==="Q"?_e.quadraticCurveTo(tt.x1,tt.y1,tt.x,tt.y):tt.type==="Z"&&_e.closePath()}this.fill&&(_e.fillStyle=this.fill,_e.fill()),this.stroke&&(_e.strokeStyle=this.stroke,_e.lineWidth=this.strokeWidth,_e.stroke())},$.prototype.toPathData=function(_e){function et(ot){return Math.round(ot)===ot?""+Math.round(ot):ot.toFixed(_e)}function tt(){for(var ot="",st=0;st<arguments.length;st+=1){var at=arguments[st];at>=0&&st>0&&(ot+=" "),ot+=et(at)}return ot}_e=_e!==void 0?_e:2;for(var nt="",rt=0;rt<this.commands.length;rt+=1){var it=this.commands[rt];it.type==="M"?nt+="M"+tt(it.x,it.y):it.type==="L"?nt+="L"+tt(it.x,it.y):it.type==="C"?nt+="C"+tt(it.x1,it.y1,it.x2,it.y2,it.x,it.y):it.type==="Q"?nt+="Q"+tt(it.x1,it.y1,it.x,it.y):it.type==="Z"&&(nt+="Z")}return nt},$.prototype.toSVG=function(_e){var et='<path d="';return et+=this.toPathData(_e),et+='"',this.fill&&this.fill!=="black"&&(et+=this.fill===null?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(et+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),et+="/>"},b.Path=$},{}],12:[function(j,g,b){function $(rt,it){var ot=rt.length;if(ot!==it.length)return!1;for(var st=0;ot>st;st++)if(rt[st]!==it[st])return!1;return!0}function _e(rt,it,ot){for(var st=rt.subtables,at=0;at<st.length;at++){var lt=st[at];if(lt.substFormat===it)return lt}return ot?(st.push(ot),ot):void 0}var et=j("./check"),tt=j("./layout"),nt=function(rt){this.font=rt};nt.prototype=tt,nt.prototype.getGsubTable=function(rt){var it=this.font.tables.gsub;return!it&&rt&&(this.font.tables.gsub=it={version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}),it},nt.prototype.getSingle=function(rt,it,ot){var st=[],at=this.getLookupTable(it,ot,rt,1);if(!at)return st;for(var lt=at.subtables,ut=0;ut<lt.length;ut++){var ct,ft=lt[ut],ht=this.expandCoverage(ft.coverage);if(ft.substFormat===1){var dt=ft.deltaGlyphId;for(ct=0;ct<ht.length;ct++){var pt=ht[ct];st.push({sub:pt,by:pt+dt})}}else{var mt=ft.substitute;for(ct=0;ct<ht.length;ct++)st.push({sub:ht[ct],by:mt[ct]})}}return st},nt.prototype.getAlternates=function(rt,it,ot){var st=[],at=this.getLookupTable(it,ot,rt,3);if(!at)return st;for(var lt=at.subtables,ut=0;ut<lt.length;ut++)for(var ct=lt[ut],ft=this.expandCoverage(ct.coverage),ht=ct.alternateSets,dt=0;dt<ft.length;dt++)st.push({sub:ft[dt],by:ht[dt]});return st},nt.prototype.getLigatures=function(rt,it,ot){var st=[],at=this.getLookupTable(it,ot,rt,4);if(!at)return[];for(var lt=at.subtables,ut=0;ut<lt.length;ut++)for(var ct=lt[ut],ft=this.expandCoverage(ct.coverage),ht=ct.ligatureSets,dt=0;dt<ft.length;dt++)for(var pt=ft[dt],mt=ht[dt],gt=0;gt<mt.length;gt++){var yt=mt[gt];st.push({sub:[pt].concat(yt.components),by:yt.ligGlyph})}return st},nt.prototype.addSingle=function(rt,it,ot,st){var at=this.getLookupTable(ot,st,rt,1,!0),lt=_e(at,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});et.assert(lt.coverage.format===1,"Ligature: unable to modify coverage table format "+lt.coverage.format);var ut=it.sub,ct=this.binSearch(lt.coverage.glyphs,ut);0>ct&&(ct=-1-ct,lt.coverage.glyphs.splice(ct,0,ut),lt.substitute.splice(ct,0,0)),lt.substitute[ct]=it.by},nt.prototype.addAlternate=function(rt,it,ot,st){var at=this.getLookupTable(ot,st,rt,3,!0),lt=_e(at,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});et.assert(lt.coverage.format===1,"Ligature: unable to modify coverage table format "+lt.coverage.format);var ut=it.sub,ct=this.binSearch(lt.coverage.glyphs,ut);0>ct&&(ct=-1-ct,lt.coverage.glyphs.splice(ct,0,ut),lt.alternateSets.splice(ct,0,0)),lt.alternateSets[ct]=it.by},nt.prototype.addLigature=function(rt,it,ot,st){ot=ot||"DFLT",st=st||"DFLT";var at=this.getLookupTable(ot,st,rt,4,!0),lt=at.subtables[0];lt||(lt={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},at.subtables[0]=lt),et.assert(lt.coverage.format===1,"Ligature: unable to modify coverage table format "+lt.coverage.format);var ut=it.sub[0],ct=it.sub.slice(1),ft={ligGlyph:it.by,components:ct},ht=this.binSearch(lt.coverage.glyphs,ut);if(ht>=0){for(var dt=lt.ligatureSets[ht],pt=0;pt<dt.length;pt++)if($(dt[pt].components,ct))return;dt.push(ft)}else ht=-1-ht,lt.coverage.glyphs.splice(ht,0,ut),lt.ligatureSets.splice(ht,0,[ft])},nt.prototype.getFeature=function(rt,it,ot){if(it=it||"DFLT",ot=ot||"DFLT",/ss\d\d/.test(rt))return this.getSingle(rt,it,ot);switch(rt){case"aalt":case"salt":return this.getSingle(rt,it,ot).concat(this.getAlternates(rt,it,ot));case"dlig":case"liga":case"rlig":return this.getLigatures(rt,it,ot)}},nt.prototype.add=function(rt,it,ot,st){if(ot=ot||"DFLT",st=st||"DFLT",/ss\d\d/.test(rt))return this.addSingle(rt,it,ot,st);switch(rt){case"aalt":case"salt":return typeof it.by=="number"?this.addSingle(rt,it,ot,st):this.addAlternate(rt,it,ot,st);case"dlig":case"liga":case"rlig":return this.addLigature(rt,it,ot,st)}},g.exports=nt},{"./check":2,"./layout":8}],13:[function(j,g,b){function $(ut,ct,ft){var ht;for(ht=0;ht<ct.length;ht+=1){var dt=ct[ht];this[dt.name]=dt.value}if(this.tableName=ut,this.fields=ct,ft){var pt=Object.keys(ft);for(ht=0;ht<pt.length;ht+=1){var mt=pt[ht],gt=ft[mt];this[mt]!==void 0&&(this[mt]=gt)}}}function _e(ut,ct,ft){ft===void 0&&(ft=ct.length);var ht=new Array(ct.length+1);ht[0]={name:ut+"Count",type:"USHORT",value:ft};for(var dt=0;dt<ct.length;dt++)ht[dt+1]={name:ut+dt,type:"USHORT",value:ct[dt]};return ht}function et(ut,ct,ft){var ht=ct.length,dt=new Array(ht+1);dt[0]={name:ut+"Count",type:"USHORT",value:ht};for(var pt=0;ht>pt;pt++)dt[pt+1]={name:ut+pt,type:"TABLE",value:ft(ct[pt],pt)};return dt}function tt(ut,ct,ft){var ht=ct.length,dt=[];dt[0]={name:ut+"Count",type:"USHORT",value:ht};for(var pt=0;ht>pt;pt++)dt=dt.concat(ft(ct[pt],pt));return dt}function nt(ut){ut.format===1?$.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(_e("glyph",ut.glyphs))):st.assert(!1,"Can't create coverage table format 2 yet.")}function rt(ut){$.call(this,"scriptListTable",tt("scriptRecord",ut,function(ct,ft){var ht=ct.script,dt=ht.defaultLangSys;return st.assert(!!dt,"Unable to write GSUB: script "+ct.tag+" has no default language system."),[{name:"scriptTag"+ft,type:"TAG",value:ct.tag},{name:"script"+ft,type:"TABLE",value:new $("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new $("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:dt.reqFeatureIndex}].concat(_e("featureIndex",dt.featureIndexes)))}].concat(tt("langSys",ht.langSysRecords,function(pt,mt){var gt=pt.langSys;return[{name:"langSysTag"+mt,type:"TAG",value:pt.tag},{name:"langSys"+mt,type:"TABLE",value:new $("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:gt.reqFeatureIndex}].concat(_e("featureIndex",gt.featureIndexes)))}]})))}]}))}function it(ut){$.call(this,"featureListTable",tt("featureRecord",ut,function(ct,ft){var ht=ct.feature;return[{name:"featureTag"+ft,type:"TAG",value:ct.tag},{name:"feature"+ft,type:"TABLE",value:new $("featureTable",[{name:"featureParams",type:"USHORT",value:ht.featureParams}].concat(_e("lookupListIndex",ht.lookupListIndexes)))}]}))}function ot(ut,ct){$.call(this,"lookupListTable",et("lookup",ut,function(ft){var ht=ct[ft.lookupType];return st.assert(!!ht,"Unable to write GSUB lookup type "+ft.lookupType+" tables."),new $("lookupTable",[{name:"lookupType",type:"USHORT",value:ft.lookupType},{name:"lookupFlag",type:"USHORT",value:ft.lookupFlag}].concat(et("subtable",ft.subtables,ht)))}))}var st=j("./check"),at=j("./types").encode,lt=j("./types").sizeOf;$.prototype.encode=function(){return at.TABLE(this)},$.prototype.sizeOf=function(){return lt.TABLE(this)},nt.prototype=Object.create($.prototype),nt.prototype.constructor=nt,rt.prototype=Object.create($.prototype),rt.prototype.constructor=rt,it.prototype=Object.create($.prototype),it.prototype.constructor=it,ot.prototype=Object.create($.prototype),ot.prototype.constructor=ot,b.Record=b.Table=$,b.Coverage=nt,b.ScriptList=rt,b.FeatureList=it,b.LookupList=ot,b.ushortList=_e,b.tableList=et,b.recordList=tt},{"./check":2,"./types":32}],14:[function(j,g,b){function $(Ft,It){if(Ft===It)return!0;if(Array.isArray(Ft)&&Array.isArray(It)){if(Ft.length!==It.length)return!1;for(var Ut=0;Ut<Ft.length;Ut+=1)if(!$(Ft[Ut],It[Ut]))return!1;return!0}return!1}function _e(Ft,It,Ut){var Gt,jt,Yt,Qt=[],ln=[],Zt=Ct.getCard16(Ft,It);if(Zt!==0){var Wt=Ct.getByte(Ft,It+2);jt=It+(Zt+1)*Wt+2;var qt=It+3;for(Gt=0;Zt+1>Gt;Gt+=1)Qt.push(Ct.getOffset(Ft,qt,Wt)),qt+=Wt;Yt=jt+Qt[Zt]}else Yt=It+2;for(Gt=0;Gt<Qt.length-1;Gt+=1){var Xt=Ct.getBytes(Ft,jt+Qt[Gt],jt+Qt[Gt+1]);Ut&&(Xt=Ut(Xt)),ln.push(Xt)}return{objects:ln,startOffset:It,endOffset:Yt}}function et(Ft){for(var It="",Ut=15,Gt=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var jt=Ft.parseByte(),Yt=jt>>4,Qt=15&jt;if(Yt===Ut||(It+=Gt[Yt],Qt===Ut))break;It+=Gt[Qt]}return parseFloat(It)}function tt(Ft,It){var Ut,Gt,jt,Yt;if(It===28)return Ut=Ft.parseByte(),Gt=Ft.parseByte(),Ut<<8|Gt;if(It===29)return Ut=Ft.parseByte(),Gt=Ft.parseByte(),jt=Ft.parseByte(),Yt=Ft.parseByte(),Ut<<24|Gt<<16|jt<<8|Yt;if(It===30)return et(Ft);if(It>=32&&246>=It)return It-139;if(It>=247&&250>=It)return Ut=Ft.parseByte(),256*(It-247)+Ut+108;if(It>=251&&254>=It)return Ut=Ft.parseByte(),256*-(It-251)-Ut-108;throw new Error("Invalid b0 "+It)}function nt(Ft){for(var It={},Ut=0;Ut<Ft.length;Ut+=1){var Gt,jt=Ft[Ut][0],Yt=Ft[Ut][1];if(Gt=Yt.length===1?Yt[0]:Yt,It.hasOwnProperty(jt))throw new Error("Object "+It+" already has key "+jt);It[jt]=Gt}return It}function rt(Ft,It,Ut){It=It!==void 0?It:0;var Gt=new Ct.Parser(Ft,It),jt=[],Yt=[];for(Ut=Ut!==void 0?Ut:Ft.length;Gt.relativeOffset<Ut;){var Qt=Gt.parseByte();21>=Qt?(Qt===12&&(Qt=1200+Gt.parseByte()),jt.push([Qt,Yt]),Yt=[]):Yt.push(tt(Gt,Qt))}return nt(jt)}function it(Ft,It){return It=390>=It?Ot.cffStandardStrings[It]:Ft[It-391]}function ot(Ft,It,Ut){for(var Gt={},jt=0;jt<It.length;jt+=1){var Yt=It[jt],Qt=Ft[Yt.op];Qt===void 0&&(Qt=Yt.value!==void 0?Yt.value:null),Yt.type==="SID"&&(Qt=it(Ut,Qt)),Gt[Yt.name]=Qt}return Gt}function st(Ft,It){var Ut={};return Ut.formatMajor=Ct.getCard8(Ft,It),Ut.formatMinor=Ct.getCard8(Ft,It+1),Ut.size=Ct.getCard8(Ft,It+2),Ut.offsetSize=Ct.getCard8(Ft,It+3),Ut.startOffset=It,Ut.endOffset=It+4,Ut}function at(Ft,It){var Ut=rt(Ft,0,Ft.byteLength);return ot(Ut,kt,It)}function lt(Ft,It,Ut,Gt){var jt=rt(Ft,It,Ut);return ot(jt,zt,Gt)}function ut(Ft,It,Ut,Gt){var jt,Yt,Qt,ln=new Ct.Parser(Ft,It);Ut-=1;var Zt=[".notdef"],Wt=ln.parseCard8();if(Wt===0)for(jt=0;Ut>jt;jt+=1)Yt=ln.parseSID(),Zt.push(it(Gt,Yt));else if(Wt===1)for(;Zt.length<=Ut;)for(Yt=ln.parseSID(),Qt=ln.parseCard8(),jt=0;Qt>=jt;jt+=1)Zt.push(it(Gt,Yt)),Yt+=1;else{if(Wt!==2)throw new Error("Unknown charset format "+Wt);for(;Zt.length<=Ut;)for(Yt=ln.parseSID(),Qt=ln.parseCard16(),jt=0;Qt>=jt;jt+=1)Zt.push(it(Gt,Yt)),Yt+=1}return Zt}function ct(Ft,It,Ut){var Gt,jt,Yt={},Qt=new Ct.Parser(Ft,It),ln=Qt.parseCard8();if(ln===0){var Zt=Qt.parseCard8();for(Gt=0;Zt>Gt;Gt+=1)jt=Qt.parseCard8(),Yt[jt]=Gt}else{if(ln!==1)throw new Error("Unknown encoding format "+ln);var Wt=Qt.parseCard8();for(jt=1,Gt=0;Wt>Gt;Gt+=1)for(var qt=Qt.parseCard8(),Xt=Qt.parseCard8(),vn=qt;qt+Xt>=vn;vn+=1)Yt[vn]=jt,jt+=1}return new Ot.CffEncoding(Yt,Ut)}function ft(Ft,It,Ut){function Gt(Nt,Vt){hn&&qt.closePath(),qt.moveTo(Nt,Vt),hn=!0}function jt(){var Nt;Nt=Xt.length%2!==0,Nt&&!gn&&(en=Xt.shift()+Ft.nominalWidthX),vn+=Xt.length>>1,Xt.length=0,gn=!0}function Yt(Nt){for(var Vt,cn,dn,mn,bn,Cn,an,Tn,Dn,Sn,Ln,nn,En=0;En<Nt.length;){var wn=Nt[En];switch(En+=1,wn){case 1:jt();break;case 3:jt();break;case 4:Xt.length>1&&!gn&&(en=Xt.shift()+Ft.nominalWidthX,gn=!0),un+=Xt.pop(),Gt(rn,un);break;case 5:for(;Xt.length>0;)rn+=Xt.shift(),un+=Xt.shift(),qt.lineTo(rn,un);break;case 6:for(;Xt.length>0&&(rn+=Xt.shift(),qt.lineTo(rn,un),Xt.length!==0);)un+=Xt.shift(),qt.lineTo(rn,un);break;case 7:for(;Xt.length>0&&(un+=Xt.shift(),qt.lineTo(rn,un),Xt.length!==0);)rn+=Xt.shift(),qt.lineTo(rn,un);break;case 8:for(;Xt.length>0;)Qt=rn+Xt.shift(),ln=un+Xt.shift(),Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),rn=Zt+Xt.shift(),un=Wt+Xt.shift(),qt.curveTo(Qt,ln,Zt,Wt,rn,un);break;case 10:bn=Xt.pop()+Ft.subrsBias,Cn=Ft.subrs[bn],Cn&&Yt(Cn);break;case 11:return;case 12:switch(wn=Nt[En],En+=1,wn){case 35:Qt=rn+Xt.shift(),ln=un+Xt.shift(),Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),an=Zt+Xt.shift(),Tn=Wt+Xt.shift(),Dn=an+Xt.shift(),Sn=Tn+Xt.shift(),Ln=Dn+Xt.shift(),nn=Sn+Xt.shift(),rn=Ln+Xt.shift(),un=nn+Xt.shift(),Xt.shift(),qt.curveTo(Qt,ln,Zt,Wt,an,Tn),qt.curveTo(Dn,Sn,Ln,nn,rn,un);break;case 34:Qt=rn+Xt.shift(),ln=un,Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),an=Zt+Xt.shift(),Tn=Wt,Dn=an+Xt.shift(),Sn=Wt,Ln=Dn+Xt.shift(),nn=un,rn=Ln+Xt.shift(),qt.curveTo(Qt,ln,Zt,Wt,an,Tn),qt.curveTo(Dn,Sn,Ln,nn,rn,un);break;case 36:Qt=rn+Xt.shift(),ln=un+Xt.shift(),Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),an=Zt+Xt.shift(),Tn=Wt,Dn=an+Xt.shift(),Sn=Wt,Ln=Dn+Xt.shift(),nn=Sn+Xt.shift(),rn=Ln+Xt.shift(),qt.curveTo(Qt,ln,Zt,Wt,an,Tn),qt.curveTo(Dn,Sn,Ln,nn,rn,un);break;case 37:Qt=rn+Xt.shift(),ln=un+Xt.shift(),Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),an=Zt+Xt.shift(),Tn=Wt+Xt.shift(),Dn=an+Xt.shift(),Sn=Tn+Xt.shift(),Ln=Dn+Xt.shift(),nn=Sn+Xt.shift(),Math.abs(Ln-rn)>Math.abs(nn-un)?rn=Ln+Xt.shift():un=nn+Xt.shift(),qt.curveTo(Qt,ln,Zt,Wt,an,Tn),qt.curveTo(Dn,Sn,Ln,nn,rn,un);break;default:console.log("Glyph "+It.index+": unknown operator 1200"+wn),Xt.length=0}break;case 14:Xt.length>0&&!gn&&(en=Xt.shift()+Ft.nominalWidthX,gn=!0),hn&&(qt.closePath(),hn=!1);break;case 18:jt();break;case 19:case 20:jt(),En+=vn+7>>3;break;case 21:Xt.length>2&&!gn&&(en=Xt.shift()+Ft.nominalWidthX,gn=!0),un+=Xt.pop(),rn+=Xt.pop(),Gt(rn,un);break;case 22:Xt.length>1&&!gn&&(en=Xt.shift()+Ft.nominalWidthX,gn=!0),rn+=Xt.pop(),Gt(rn,un);break;case 23:jt();break;case 24:for(;Xt.length>2;)Qt=rn+Xt.shift(),ln=un+Xt.shift(),Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),rn=Zt+Xt.shift(),un=Wt+Xt.shift(),qt.curveTo(Qt,ln,Zt,Wt,rn,un);rn+=Xt.shift(),un+=Xt.shift(),qt.lineTo(rn,un);break;case 25:for(;Xt.length>6;)rn+=Xt.shift(),un+=Xt.shift(),qt.lineTo(rn,un);Qt=rn+Xt.shift(),ln=un+Xt.shift(),Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),rn=Zt+Xt.shift(),un=Wt+Xt.shift(),qt.curveTo(Qt,ln,Zt,Wt,rn,un);break;case 26:for(Xt.length%2&&(rn+=Xt.shift());Xt.length>0;)Qt=rn,ln=un+Xt.shift(),Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),rn=Zt,un=Wt+Xt.shift(),qt.curveTo(Qt,ln,Zt,Wt,rn,un);break;case 27:for(Xt.length%2&&(un+=Xt.shift());Xt.length>0;)Qt=rn+Xt.shift(),ln=un,Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),rn=Zt+Xt.shift(),un=Wt,qt.curveTo(Qt,ln,Zt,Wt,rn,un);break;case 28:Vt=Nt[En],cn=Nt[En+1],Xt.push((Vt<<24|cn<<16)>>16),En+=2;break;case 29:bn=Xt.pop()+Ft.gsubrsBias,Cn=Ft.gsubrs[bn],Cn&&Yt(Cn);break;case 30:for(;Xt.length>0&&(Qt=rn,ln=un+Xt.shift(),Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),rn=Zt+Xt.shift(),un=Wt+(Xt.length===1?Xt.shift():0),qt.curveTo(Qt,ln,Zt,Wt,rn,un),Xt.length!==0);)Qt=rn+Xt.shift(),ln=un,Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),un=Wt+Xt.shift(),rn=Zt+(Xt.length===1?Xt.shift():0),qt.curveTo(Qt,ln,Zt,Wt,rn,un);break;case 31:for(;Xt.length>0&&(Qt=rn+Xt.shift(),ln=un,Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),un=Wt+Xt.shift(),rn=Zt+(Xt.length===1?Xt.shift():0),qt.curveTo(Qt,ln,Zt,Wt,rn,un),Xt.length!==0);)Qt=rn,ln=un+Xt.shift(),Zt=Qt+Xt.shift(),Wt=ln+Xt.shift(),rn=Zt+Xt.shift(),un=Wt+(Xt.length===1?Xt.shift():0),qt.curveTo(Qt,ln,Zt,Wt,rn,un);break;default:32>wn?console.log("Glyph "+It.index+": unknown operator "+wn):247>wn?Xt.push(wn-139):251>wn?(Vt=Nt[En],En+=1,Xt.push(256*(wn-247)+Vt+108)):255>wn?(Vt=Nt[En],En+=1,Xt.push(256*-(wn-251)-Vt-108)):(Vt=Nt[En],cn=Nt[En+1],dn=Nt[En+2],mn=Nt[En+3],En+=4,Xt.push((Vt<<24|cn<<16|dn<<8|mn)/65536))}}}var Qt,ln,Zt,Wt,qt=new Dt.Path,Xt=[],vn=0,gn=!1,en=Ft.defaultWidthX,hn=!1,rn=0,un=0;return Yt(Ut),It.advanceWidth=en,qt}function ht(Ft){return Ft.length<1240?107:Ft.length<33900?1131:32768}function dt(Ft,It,Ut){Ut.tables.cff={};var Gt=st(Ft,It),jt=_e(Ft,Gt.endOffset,Ct.bytesToString),Yt=_e(Ft,jt.endOffset),Qt=_e(Ft,Yt.endOffset,Ct.bytesToString),ln=_e(Ft,Qt.endOffset);Ut.gsubrs=ln.objects,Ut.gsubrsBias=ht(Ut.gsubrs);var Zt=new DataView(new Uint8Array(Yt.objects[0]).buffer),Wt=at(Zt,Qt.objects);Ut.tables.cff.topDict=Wt;var qt=It+Wt.private[1],Xt=lt(Ft,qt,Wt.private[0],Qt.objects);if(Ut.defaultWidthX=Xt.defaultWidthX,Ut.nominalWidthX=Xt.nominalWidthX,Xt.subrs!==0){var vn=qt+Xt.subrs,gn=_e(Ft,vn);Ut.subrs=gn.objects,Ut.subrsBias=ht(Ut.subrs)}else Ut.subrs=[],Ut.subrsBias=0;var en=_e(Ft,It+Wt.charStrings);Ut.nGlyphs=en.objects.length;var hn=ut(Ft,It+Wt.charset,Ut.nGlyphs,Qt.objects);Ut.cffEncoding=Wt.encoding===0?new Ot.CffEncoding(Ot.cffStandardEncoding,hn):Wt.encoding===1?new Ot.CffEncoding(Ot.cffExpertEncoding,hn):ct(Ft,It+Wt.encoding,hn),Ut.encoding=Ut.encoding||Ut.cffEncoding,Ut.glyphs=new Rt.GlyphSet(Ut);for(var rn=0;rn<Ut.nGlyphs;rn+=1){var un=en.objects[rn];Ut.glyphs.push(rn,Rt.cffGlyphLoader(Ut,rn,ft,un))}}function pt(Ft,It){var Ut,Gt=Ot.cffStandardStrings.indexOf(Ft);return Gt>=0&&(Ut=Gt),Gt=It.indexOf(Ft),Gt>=0?Ut=Gt+Ot.cffStandardStrings.length:(Ut=Ot.cffStandardStrings.length+It.length,It.push(Ft)),Ut}function mt(){return new Bt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function gt(Ft){var It=new Bt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);It.names=[];for(var Ut=0;Ut<Ft.length;Ut+=1)It.names.push({name:"name_"+Ut,type:"NAME",value:Ft[Ut]});return It}function yt(Ft,It,Ut){for(var Gt={},jt=0;jt<Ft.length;jt+=1){var Yt=Ft[jt],Qt=It[Yt.name];Qt===void 0||$(Qt,Yt.value)||(Yt.type==="SID"&&(Qt=pt(Qt,Ut)),Gt[Yt.op]={name:Yt.name,type:Yt.type,value:Qt})}return Gt}function _t(Ft,It){var Ut=new Bt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return Ut.dict=yt(kt,Ft,It),Ut}function vt(Ft){var It=new Bt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return It.topDicts=[{name:"topDict_0",type:"TABLE",value:Ft}],It}function At(Ft){var It=new Bt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);It.strings=[];for(var Ut=0;Ut<Ft.length;Ut+=1)It.strings.push({name:"string_"+Ut,type:"STRING",value:Ft[Ut]});return It}function bt(){return new Bt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function xt(Ft,It){for(var Ut=new Bt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Gt=0;Gt<Ft.length;Gt+=1){var jt=Ft[Gt],Yt=pt(jt,It);Ut.fields.push({name:"glyph_"+Gt,type:"SID",value:Yt})}return Ut}function Et(Ft){var It=[],Ut=Ft.path;It.push({name:"width",type:"NUMBER",value:Ft.advanceWidth});for(var Gt=0,jt=0,Yt=0;Yt<Ut.commands.length;Yt+=1){var Qt,ln,Zt=Ut.commands[Yt];if(Zt.type==="Q"){var Wt=.3333333333333333,qt=2/3;Zt={type:"C",x:Zt.x,y:Zt.y,x1:Wt*Gt+qt*Zt.x1,y1:Wt*jt+qt*Zt.y1,x2:Wt*Zt.x+qt*Zt.x1,y2:Wt*Zt.y+qt*Zt.y1}}if(Zt.type==="M")Qt=Math.round(Zt.x-Gt),ln=Math.round(Zt.y-jt),It.push({name:"dx",type:"NUMBER",value:Qt}),It.push({name:"dy",type:"NUMBER",value:ln}),It.push({name:"rmoveto",type:"OP",value:21}),Gt=Math.round(Zt.x),jt=Math.round(Zt.y);else if(Zt.type==="L")Qt=Math.round(Zt.x-Gt),ln=Math.round(Zt.y-jt),It.push({name:"dx",type:"NUMBER",value:Qt}),It.push({name:"dy",type:"NUMBER",value:ln}),It.push({name:"rlineto",type:"OP",value:5}),Gt=Math.round(Zt.x),jt=Math.round(Zt.y);else if(Zt.type==="C"){var Xt=Math.round(Zt.x1-Gt),vn=Math.round(Zt.y1-jt),gn=Math.round(Zt.x2-Zt.x1),en=Math.round(Zt.y2-Zt.y1);Qt=Math.round(Zt.x-Zt.x2),ln=Math.round(Zt.y-Zt.y2),It.push({name:"dx1",type:"NUMBER",value:Xt}),It.push({name:"dy1",type:"NUMBER",value:vn}),It.push({name:"dx2",type:"NUMBER",value:gn}),It.push({name:"dy2",type:"NUMBER",value:en}),It.push({name:"dx",type:"NUMBER",value:Qt}),It.push({name:"dy",type:"NUMBER",value:ln}),It.push({name:"rrcurveto",type:"OP",value:8}),Gt=Math.round(Zt.x),jt=Math.round(Zt.y)}}return It.push({name:"endchar",type:"OP",value:14}),It}function Mt(Ft){for(var It=new Bt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Ut=0;Ut<Ft.length;Ut+=1){var Gt=Ft.get(Ut),jt=Et(Gt);It.charStrings.push({name:Gt.name,type:"CHARSTRING",value:jt})}return It}function Tt(Ft,It){var Ut=new Bt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return Ut.dict=yt(zt,Ft,It),Ut}function Lt(Ft,It){for(var Ut,Gt=new Bt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),jt=1/It.unitsPerEm,Yt={version:It.version,fullName:It.fullName,familyName:It.familyName,weight:It.weightName,fontBBox:It.fontBBox||[0,0,0,0],fontMatrix:[jt,0,0,jt,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Qt={},ln=[],Zt=1;Zt<Ft.length;Zt+=1)Ut=Ft.get(Zt),ln.push(Ut.name);var Wt=[];Gt.header=mt(),Gt.nameIndex=gt([It.postScriptName]);var qt=_t(Yt,Wt);Gt.topDictIndex=vt(qt),Gt.globalSubrIndex=bt(),Gt.charsets=xt(ln,Wt),Gt.charStringsIndex=Mt(Ft),Gt.privateDict=Tt(Qt,Wt),Gt.stringIndex=At(Wt);var Xt=Gt.header.sizeOf()+Gt.nameIndex.sizeOf()+Gt.topDictIndex.sizeOf()+Gt.stringIndex.sizeOf()+Gt.globalSubrIndex.sizeOf();return Yt.charset=Xt,Yt.encoding=0,Yt.charStrings=Yt.charset+Gt.charsets.sizeOf(),Yt.private[1]=Yt.charStrings+Gt.charStringsIndex.sizeOf(),qt=_t(Yt,Wt),Gt.topDictIndex=vt(qt),Gt}var Ot=j("../encoding"),Rt=j("../glyphset"),Ct=j("../parse"),Dt=j("../path"),Bt=j("../table"),kt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],zt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];b.parse=dt,b.make=Lt},{"../encoding":4,"../glyphset":7,"../parse":10,"../path":11,"../table":13}],15:[function(j,g,b){function $(at,lt){var ut;lt.parseUShort(),at.length=lt.parseULong(),at.language=lt.parseULong();var ct;for(at.groupCount=ct=lt.parseULong(),at.glyphIndexMap={},ut=0;ct>ut;ut+=1)for(var ft=lt.parseULong(),ht=lt.parseULong(),dt=lt.parseULong(),pt=ft;ht>=pt;pt+=1)at.glyphIndexMap[pt]=dt,dt++}function _e(at,lt,ut,ct,ft){var ht;at.length=lt.parseUShort(),at.language=lt.parseUShort();var dt;at.segCount=dt=lt.parseUShort()>>1,lt.skip("uShort",3),at.glyphIndexMap={};var pt=new ot.Parser(ut,ct+ft+14),mt=new ot.Parser(ut,ct+ft+16+2*dt),gt=new ot.Parser(ut,ct+ft+16+4*dt),yt=new ot.Parser(ut,ct+ft+16+6*dt),_t=ct+ft+16+8*dt;for(ht=0;dt-1>ht;ht+=1)for(var vt,At=pt.parseUShort(),bt=mt.parseUShort(),xt=gt.parseShort(),Et=yt.parseUShort(),Mt=bt;At>=Mt;Mt+=1)Et!==0?(_t=yt.offset+yt.relativeOffset-2,_t+=Et,_t+=2*(Mt-bt),vt=ot.getUShort(ut,_t),vt!==0&&(vt=vt+xt&65535)):vt=Mt+xt&65535,at.glyphIndexMap[Mt]=vt}function et(at,lt){var ut,ct={};ct.version=ot.getUShort(at,lt),it.argument(ct.version===0,"cmap table version should be 0."),ct.numTables=ot.getUShort(at,lt+2);var ft=-1;for(ut=ct.numTables-1;ut>=0;ut-=1){var ht=ot.getUShort(at,lt+4+8*ut),dt=ot.getUShort(at,lt+4+8*ut+2);if(ht===3&&(dt===0||dt===1||dt===10)){ft=ot.getULong(at,lt+4+8*ut+4);break}}if(ft===-1)return null;var pt=new ot.Parser(at,lt+ft);if(ct.format=pt.parseUShort(),ct.format===12)$(ct,pt);else{if(ct.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported.");_e(ct,pt,at,lt,ft)}return ct}function tt(at,lt,ut){at.segments.push({end:lt,start:lt,delta:-(lt-ut),offset:0})}function nt(at){at.segments.push({end:65535,start:65535,delta:1,offset:0})}function rt(at){var lt,ut=new st.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(ut.segments=[],lt=0;lt<at.length;lt+=1){for(var ct=at.get(lt),ft=0;ft<ct.unicodes.length;ft+=1)tt(ut,ct.unicodes[ft],lt);ut.segments=ut.segments.sort(function(vt,At){return vt.start-At.start})}nt(ut);var ht;ht=ut.segments.length,ut.segCountX2=2*ht,ut.searchRange=2*Math.pow(2,Math.floor(Math.log(ht)/Math.log(2))),ut.entrySelector=Math.log(ut.searchRange/2)/Math.log(2),ut.rangeShift=ut.segCountX2-ut.searchRange;var dt=[],pt=[],mt=[],gt=[],yt=[];for(lt=0;ht>lt;lt+=1){var _t=ut.segments[lt];dt=dt.concat({name:"end_"+lt,type:"USHORT",value:_t.end}),pt=pt.concat({name:"start_"+lt,type:"USHORT",value:_t.start}),mt=mt.concat({name:"idDelta_"+lt,type:"SHORT",value:_t.delta}),gt=gt.concat({name:"idRangeOffset_"+lt,type:"USHORT",value:_t.offset}),_t.glyphId!==void 0&&(yt=yt.concat({name:"glyph_"+lt,type:"USHORT",value:_t.glyphId}))}return ut.fields=ut.fields.concat(dt),ut.fields.push({name:"reservedPad",type:"USHORT",value:0}),ut.fields=ut.fields.concat(pt),ut.fields=ut.fields.concat(mt),ut.fields=ut.fields.concat(gt),ut.fields=ut.fields.concat(yt),ut.length=14+2*dt.length+2+2*pt.length+2*mt.length+2*gt.length+2*yt.length,ut}var it=j("../check"),ot=j("../parse"),st=j("../table");b.parse=et,b.make=rt},{"../check":2,"../parse":10,"../table":13}],16:[function(j,g,b){function $(lt,ut){var ct=JSON.stringify(lt),ft=256;for(var ht in ut){var dt=parseInt(ht);if(dt&&!(256>dt)){if(JSON.stringify(ut[ht])===ct)return dt;dt>=ft&&(ft=dt+1)}}return ut[ft]=lt,ft}function _e(lt,ut,ct){var ft=$(ut.name,ct);return[{name:"tag_"+lt,type:"TAG",value:ut.tag},{name:"minValue_"+lt,type:"FIXED",value:ut.minValue<<16},{name:"defaultValue_"+lt,type:"FIXED",value:ut.defaultValue<<16},{name:"maxValue_"+lt,type:"FIXED",value:ut.maxValue<<16},{name:"flags_"+lt,type:"USHORT",value:0},{name:"nameID_"+lt,type:"USHORT",value:ft}]}function et(lt,ut,ct){var ft={},ht=new st.Parser(lt,ut);return ft.tag=ht.parseTag(),ft.minValue=ht.parseFixed(),ft.defaultValue=ht.parseFixed(),ft.maxValue=ht.parseFixed(),ht.skip("uShort",1),ft.name=ct[ht.parseUShort()]||{},ft}function tt(lt,ut,ct,ft){for(var ht=$(ut.name,ft),dt=[{name:"nameID_"+lt,type:"USHORT",value:ht},{name:"flags_"+lt,type:"USHORT",value:0}],pt=0;pt<ct.length;++pt){var mt=ct[pt].tag;dt.push({name:"axis_"+lt+" "+mt,type:"FIXED",value:ut.coordinates[mt]<<16})}return dt}function nt(lt,ut,ct,ft){var ht={},dt=new st.Parser(lt,ut);ht.name=ft[dt.parseUShort()]||{},dt.skip("uShort",1),ht.coordinates={};for(var pt=0;pt<ct.length;++pt)ht.coordinates[ct[pt].tag]=dt.parseFixed();return ht}function rt(lt,ut){var ct=new at.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:lt.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:lt.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*lt.axes.length}]);ct.offsetToData=ct.sizeOf();for(var ft=0;ft<lt.axes.length;ft++)ct.fields=ct.fields.concat(_e(ft,lt.axes[ft],ut));for(var ht=0;ht<lt.instances.length;ht++)ct.fields=ct.fields.concat(tt(ht,lt.instances[ht],lt.axes,ut));return ct}function it(lt,ut,ct){var ft=new st.Parser(lt,ut),ht=ft.parseULong();ot.argument(ht===65536,"Unsupported fvar table version.");var dt=ft.parseOffset16();ft.skip("uShort",1);for(var pt=ft.parseUShort(),mt=ft.parseUShort(),gt=ft.parseUShort(),yt=ft.parseUShort(),_t=[],vt=0;pt>vt;vt++)_t.push(et(lt,ut+dt+vt*mt,ct));for(var At=[],bt=ut+dt+pt*mt,xt=0;gt>xt;xt++)At.push(nt(lt,bt+xt*yt,_t,ct));return{axes:_t,instances:At}}var ot=j("../check"),st=j("../parse"),at=j("../table");b.make=rt,b.parse=it},{"../check":2,"../parse":10,"../table":13}],17:[function(j,g,b){function $(ut,ct,ft,ht,dt){var pt;return(ct&ht)>0?(pt=ut.parseByte(),(ct&dt)===0&&(pt=-pt),pt=ft+pt):pt=(ct&dt)>0?ft:ft+ut.parseShort(),pt}function _e(ut,ct,ft){var ht=new at.Parser(ct,ft);ut.numberOfContours=ht.parseShort(),ut._xMin=ht.parseShort(),ut._yMin=ht.parseShort(),ut._xMax=ht.parseShort(),ut._yMax=ht.parseShort();var dt,pt;if(ut.numberOfContours>0){var mt,gt=ut.endPointIndices=[];for(mt=0;mt<ut.numberOfContours;mt+=1)gt.push(ht.parseUShort());for(ut.instructionLength=ht.parseUShort(),ut.instructions=[],mt=0;mt<ut.instructionLength;mt+=1)ut.instructions.push(ht.parseByte());var yt=gt[gt.length-1]+1;for(dt=[],mt=0;yt>mt;mt+=1)if(pt=ht.parseByte(),dt.push(pt),(8&pt)>0)for(var _t=ht.parseByte(),vt=0;_t>vt;vt+=1)dt.push(pt),mt+=1;if(ot.argument(dt.length===yt,"Bad flags."),gt.length>0){var At,bt=[];if(yt>0){for(mt=0;yt>mt;mt+=1)pt=dt[mt],At={},At.onCurve=!!(1&pt),At.lastPointOfContour=gt.indexOf(mt)>=0,bt.push(At);var xt=0;for(mt=0;yt>mt;mt+=1)pt=dt[mt],At=bt[mt],At.x=$(ht,pt,xt,2,16),xt=At.x;var Et=0;for(mt=0;yt>mt;mt+=1)pt=dt[mt],At=bt[mt],At.y=$(ht,pt,Et,4,32),Et=At.y}ut.points=bt}else ut.points=[]}else if(ut.numberOfContours===0)ut.points=[];else{ut.isComposite=!0,ut.points=[],ut.components=[];for(var Mt=!0;Mt;){dt=ht.parseUShort();var Tt={glyphIndex:ht.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&dt)>0?(2&dt)>0?(Tt.dx=ht.parseShort(),Tt.dy=ht.parseShort()):Tt.matchedPoints=[ht.parseUShort(),ht.parseUShort()]:(2&dt)>0?(Tt.dx=ht.parseChar(),Tt.dy=ht.parseChar()):Tt.matchedPoints=[ht.parseByte(),ht.parseByte()],(8&dt)>0?Tt.xScale=Tt.yScale=ht.parseF2Dot14():(64&dt)>0?(Tt.xScale=ht.parseF2Dot14(),Tt.yScale=ht.parseF2Dot14()):(128&dt)>0&&(Tt.xScale=ht.parseF2Dot14(),Tt.scale01=ht.parseF2Dot14(),Tt.scale10=ht.parseF2Dot14(),Tt.yScale=ht.parseF2Dot14()),ut.components.push(Tt),Mt=!!(32&dt)}}}function et(ut,ct){for(var ft=[],ht=0;ht<ut.length;ht+=1){var dt=ut[ht],pt={x:ct.xScale*dt.x+ct.scale01*dt.y+ct.dx,y:ct.scale10*dt.x+ct.yScale*dt.y+ct.dy,onCurve:dt.onCurve,lastPointOfContour:dt.lastPointOfContour};ft.push(pt)}return ft}function tt(ut){for(var ct=[],ft=[],ht=0;ht<ut.length;ht+=1){var dt=ut[ht];ft.push(dt),dt.lastPointOfContour&&(ct.push(ft),ft=[])}return ot.argument(ft.length===0,"There are still points left in the current contour."),ct}function nt(ut){var ct=new lt.Path;if(!ut)return ct;for(var ft=tt(ut),ht=0;ht<ft.length;ht+=1){var dt,pt,mt=ft[ht],gt=mt[0],yt=mt[mt.length-1];gt.onCurve?(dt=null,pt=!0):(gt=yt.onCurve?yt:{x:(gt.x+yt.x)/2,y:(gt.y+yt.y)/2},dt=gt,pt=!1),ct.moveTo(gt.x,gt.y);for(var _t=pt?1:0;_t<mt.length;_t+=1){var vt=mt[_t],At=_t===0?gt:mt[_t-1];if(At.onCurve&&vt.onCurve)ct.lineTo(vt.x,vt.y);else if(At.onCurve&&!vt.onCurve)dt=vt;else if(At.onCurve||vt.onCurve){if(At.onCurve||!vt.onCurve)throw new Error("Invalid state.");ct.quadraticCurveTo(dt.x,dt.y,vt.x,vt.y),dt=null}else{var bt={x:(At.x+vt.x)/2,y:(At.y+vt.y)/2};ct.quadraticCurveTo(At.x,At.y,bt.x,bt.y),dt=vt}}gt!==yt&&(dt?ct.quadraticCurveTo(dt.x,dt.y,gt.x,gt.y):ct.lineTo(gt.x,gt.y))}return ct.closePath(),ct}function rt(ut,ct){if(ct.isComposite)for(var ft=0;ft<ct.components.length;ft+=1){var ht=ct.components[ft],dt=ut.get(ht.glyphIndex);if(dt.getPath(),dt.points){var pt;if(ht.matchedPoints===void 0)pt=et(dt.points,ht);else{if(ht.matchedPoints[0]>ct.points.length-1||ht.matchedPoints[1]>dt.points.length-1)throw Error("Matched points out of range in "+ct.name);var mt=ct.points[ht.matchedPoints[0]],gt=dt.points[ht.matchedPoints[1]],yt={xScale:ht.xScale,scale01:ht.scale01,scale10:ht.scale10,yScale:ht.yScale,dx:0,dy:0};gt=et([gt],yt)[0],yt.dx=mt.x-gt.x,yt.dy=mt.y-gt.y,pt=et(dt.points,yt)}ct.points=ct.points.concat(pt)}}return nt(ct.points)}function it(ut,ct,ft,ht){var dt,pt=new st.GlyphSet(ht);for(dt=0;dt<ft.length-1;dt+=1){var mt=ft[dt],gt=ft[dt+1];mt!==gt?pt.push(dt,st.ttfGlyphLoader(ht,dt,_e,ut,ct+mt,rt)):pt.push(dt,st.glyphLoader(ht,dt))}return pt}var ot=j("../check"),st=j("../glyphset"),at=j("../parse"),lt=j("../path");b.parse=it},{"../check":2,"../glyphset":7,"../parse":10,"../path":11}],18:[function(j,g,b){function $(st,at){for(var lt=new ot.Parser(st,at),ut=lt.parseUShort(),ct=[],ft=0;ut>ft;ft++)ct[lt.parseTag()]={offset:lt.parseUShort()};return ct}function _e(st,at){var lt=new ot.Parser(st,at),ut=lt.parseUShort(),ct=lt.parseUShort();if(ut===1)return lt.parseUShortList(ct);if(ut===2){for(var ft=[];ct--;)for(var ht=lt.parseUShort(),dt=lt.parseUShort(),pt=lt.parseUShort(),mt=ht;dt>=mt;mt++)ft[pt++]=mt;return ft}}function et(st,at){var lt=new ot.Parser(st,at),ut=lt.parseUShort();if(ut===1){var ct=lt.parseUShort(),ft=lt.parseUShort(),ht=lt.parseUShortList(ft);return function(_t){return ht[_t-ct]||0}}if(ut===2){for(var dt=lt.parseUShort(),pt=[],mt=[],gt=[],yt=0;dt>yt;yt++)pt[yt]=lt.parseUShort(),mt[yt]=lt.parseUShort(),gt[yt]=lt.parseUShort();return function(_t){for(var vt=0,At=pt.length-1;At>vt;){var bt=vt+At+1>>1;_t<pt[bt]?At=bt-1:vt=bt}return pt[vt]<=_t&&_t<=mt[vt]&&gt[vt]||0}}}function tt(st,at){var lt,ut=new ot.Parser(st,at),ct=ut.parseUShort(),ft=ut.parseUShort(),ht=_e(st,at+ft),dt=ut.parseUShort(),pt=ut.parseUShort();if(dt===4&&pt===0){var mt={};if(ct===1){for(var gt=ut.parseUShort(),yt=[],_t=ut.parseOffset16List(gt),vt=0;gt>vt;vt++){var At=_t[vt],bt=mt[At];if(!bt){bt={},ut.relativeOffset=At;for(var xt=ut.parseUShort();xt--;){var Et=ut.parseUShort();dt&&(lt=ut.parseShort()),pt&&ut.parseShort(),bt[Et]=lt}}yt[ht[vt]]=bt}return function(It,Ut){var Gt=yt[It];return Gt?Gt[Ut]:void 0}}if(ct===2){for(var Mt=ut.parseUShort(),Tt=ut.parseUShort(),Lt=ut.parseUShort(),Ot=ut.parseUShort(),Rt=et(st,at+Mt),Ct=et(st,at+Tt),Dt=[],Bt=0;Lt>Bt;Bt++)for(var kt=Dt[Bt]=[],zt=0;Ot>zt;zt++)dt&&(lt=ut.parseShort()),pt&&ut.parseShort(),kt[zt]=lt;var Ft={};for(Bt=0;Bt<ht.length;Bt++)Ft[ht[Bt]]=1;return function(It,Ut){if(Ft[It]){var Gt=Rt(It),jt=Ct(Ut),Yt=Dt[Gt];return Yt?Yt[jt]:void 0}}}}}function nt(st,at){var lt=new ot.Parser(st,at),ut=lt.parseUShort(),ct=lt.parseUShort(),ft=16&ct,ht=lt.parseUShort(),dt=lt.parseOffset16List(ht),pt={lookupType:ut,lookupFlag:ct,markFilteringSet:ft?lt.parseUShort():-1};if(ut===2){for(var mt=[],gt=0;ht>gt;gt++)mt.push(tt(st,at+dt[gt]));pt.getKerningValue=function(yt,_t){for(var vt=mt.length;vt--;){var At=mt[vt](yt,_t);if(At!==void 0)return At}return 0}}return pt}function rt(st,at,lt){var ut=new ot.Parser(st,at),ct=ut.parseFixed();it.argument(ct===1,"Unsupported GPOS table version."),$(st,at+ut.parseUShort()),$(st,at+ut.parseUShort());var ft=ut.parseUShort();ut.relativeOffset=ft;for(var ht=ut.parseUShort(),dt=ut.parseOffset16List(ht),pt=at+ft,mt=0;ht>mt;mt++){var gt=nt(st,pt+dt[mt]);gt.lookupType!==2||lt.getGposKerningValue||(lt.getGposKerningValue=gt.getKerningValue)}}var it=j("../check"),ot=j("../parse");b.parse=rt},{"../check":2,"../parse":10}],19:[function(j,g,b){function $(st,at){at=at||0;var lt=new tt(st,at),ut=lt.parseVersion();return et.argument(ut===1,"Unsupported GSUB table version."),{version:ut,scripts:lt.parseScriptList(),features:lt.parseFeatureList(),lookups:lt.parseLookupList(nt)}}function _e(st){return new rt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new rt.ScriptList(st.scripts)},{name:"features",type:"TABLE",value:new rt.FeatureList(st.features)},{name:"lookups",type:"TABLE",value:new rt.LookupList(st.lookups,ot)}])}var et=j("../check"),tt=j("../parse").Parser,nt=new Array(9),rt=j("../table");nt[1]=function(){var st=this.offset+this.relativeOffset,at=this.parseUShort();return at===1?{substFormat:1,coverage:this.parsePointer(tt.coverage),deltaGlyphId:this.parseUShort()}:at===2?{substFormat:2,coverage:this.parsePointer(tt.coverage),substitute:this.parseOffset16List()}:void et.assert(!1,"0x"+st.toString(16)+": lookup type 1 format must be 1 or 2.")},nt[2]=function(){var st=this.parseUShort();return et.argument(st===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:st,coverage:this.parsePointer(tt.coverage),sequences:this.parseListOfLists()}},nt[3]=function(){var st=this.parseUShort();return et.argument(st===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:st,coverage:this.parsePointer(tt.coverage),alternateSets:this.parseListOfLists()}},nt[4]=function(){var st=this.parseUShort();return et.argument(st===1,"GSUB ligature table identifier-format must be 1"),{substFormat:st,coverage:this.parsePointer(tt.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var it={sequenceIndex:tt.uShort,lookupListIndex:tt.uShort};nt[5]=function(){var st=this.offset+this.relativeOffset,at=this.parseUShort();if(at===1)return{substFormat:at,coverage:this.parsePointer(tt.coverage),ruleSets:this.parseListOfLists(function(){var ct=this.parseUShort(),ft=this.parseUShort();return{input:this.parseUShortList(ct-1),lookupRecords:this.parseRecordList(ft,it)}})};if(at===2)return{substFormat:at,coverage:this.parsePointer(tt.coverage),classDef:this.parsePointer(tt.classDef),classSets:this.parseListOfLists(function(){var ct=this.parseUShort(),ft=this.parseUShort();return{classes:this.parseUShortList(ct-1),lookupRecords:this.parseRecordList(ft,it)}})};if(at===3){var lt=this.parseUShort(),ut=this.parseUShort();return{substFormat:at,coverages:this.parseList(lt,tt.pointer(tt.coverage)),lookupRecords:this.parseRecordList(ut,it)}}et.assert(!1,"0x"+st.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},nt[6]=function(){var st=this.offset+this.relativeOffset,at=this.parseUShort();return at===1?{substFormat:1,coverage:this.parsePointer(tt.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(it)}})}:at===2?{substFormat:2,coverage:this.parsePointer(tt.coverage),backtrackClassDef:this.parsePointer(tt.classDef),inputClassDef:this.parsePointer(tt.classDef),lookaheadClassDef:this.parsePointer(tt.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(it)}})}:at===3?{substFormat:3,backtrackCoverage:this.parseList(tt.pointer(tt.coverage)),inputCoverage:this.parseList(tt.pointer(tt.coverage)),lookaheadCoverage:this.parseList(tt.pointer(tt.coverage)),lookupRecords:this.parseRecordList(it)}:void et.assert(!1,"0x"+st.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},nt[7]=function(){var st=this.parseUShort();et.argument(st===1,"GSUB Extension Substitution subtable identifier-format must be 1");var at=this.parseUShort(),lt=new tt(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:at,extension:nt[at].call(lt)}},nt[8]=function(){var st=this.parseUShort();return et.argument(st===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:st,coverage:this.parsePointer(tt.coverage),backtrackCoverage:this.parseList(tt.pointer(tt.coverage)),lookaheadCoverage:this.parseList(tt.pointer(tt.coverage)),substitutes:this.parseUShortList()}};var ot=new Array(9);ot[1]=function(st){return st.substFormat===1?new rt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new rt.Coverage(st.coverage)},{name:"deltaGlyphID",type:"USHORT",value:st.deltaGlyphId}]):new rt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new rt.Coverage(st.coverage)}].concat(rt.ushortList("substitute",st.substitute)))},ot[3]=function(st){return et.assert(st.substFormat===1,"Lookup type 3 substFormat must be 1."),new rt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new rt.Coverage(st.coverage)}].concat(rt.tableList("altSet",st.alternateSets,function(at){return new rt.Table("alternateSetTable",rt.ushortList("alternate",at))})))},ot[4]=function(st){return et.assert(st.substFormat===1,"Lookup type 4 substFormat must be 1."),new rt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new rt.Coverage(st.coverage)}].concat(rt.tableList("ligSet",st.ligatureSets,function(at){return new rt.Table("ligatureSetTable",rt.tableList("ligature",at,function(lt){return new rt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:lt.ligGlyph}].concat(rt.ushortList("component",lt.components,lt.components.length+1)))}))})))},b.parse=$,b.make=_e},{"../check":2,"../parse":10,"../table":13}],20:[function(j,g,b){function $(rt,it){var ot={},st=new tt.Parser(rt,it);return ot.version=st.parseVersion(),ot.fontRevision=Math.round(1e3*st.parseFixed())/1e3,ot.checkSumAdjustment=st.parseULong(),ot.magicNumber=st.parseULong(),et.argument(ot.magicNumber===1594834165,"Font header has wrong magic number."),ot.flags=st.parseUShort(),ot.unitsPerEm=st.parseUShort(),ot.created=st.parseLongDateTime(),ot.modified=st.parseLongDateTime(),ot.xMin=st.parseShort(),ot.yMin=st.parseShort(),ot.xMax=st.parseShort(),ot.yMax=st.parseShort(),ot.macStyle=st.parseUShort(),ot.lowestRecPPEM=st.parseUShort(),ot.fontDirectionHint=st.parseShort(),ot.indexToLocFormat=st.parseShort(),ot.glyphDataFormat=st.parseShort(),ot}function _e(rt){var it=Math.round(new Date().getTime()/1e3)+2082844800,ot=it;return rt.createdTimestamp&&(ot=rt.createdTimestamp+2082844800),new nt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:ot},{name:"modified",type:"LONGDATETIME",value:it},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],rt)}var et=j("../check"),tt=j("../parse"),nt=j("../table");b.parse=$,b.make=_e},{"../check":2,"../parse":10,"../table":13}],21:[function(j,g,b){function $(nt,rt){var it={},ot=new et.Parser(nt,rt);return it.version=ot.parseVersion(),it.ascender=ot.parseShort(),it.descender=ot.parseShort(),it.lineGap=ot.parseShort(),it.advanceWidthMax=ot.parseUShort(),it.minLeftSideBearing=ot.parseShort(),it.minRightSideBearing=ot.parseShort(),it.xMaxExtent=ot.parseShort(),it.caretSlopeRise=ot.parseShort(),it.caretSlopeRun=ot.parseShort(),it.caretOffset=ot.parseShort(),ot.relativeOffset+=8,it.metricDataFormat=ot.parseShort(),it.numberOfHMetrics=ot.parseUShort(),it}function _e(nt){return new tt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],nt)}var et=j("../parse"),tt=j("../table");b.parse=$,b.make=_e},{"../parse":10,"../table":13}],22:[function(j,g,b){function $(nt,rt,it,ot,st){for(var at,lt,ut=new et.Parser(nt,rt),ct=0;ot>ct;ct+=1){it>ct&&(at=ut.parseUShort(),lt=ut.parseShort());var ft=st.get(ct);ft.advanceWidth=at,ft.leftSideBearing=lt}}function _e(nt){for(var rt=new tt.Table("hmtx",[]),it=0;it<nt.length;it+=1){var ot=nt.get(it),st=ot.advanceWidth||0,at=ot.leftSideBearing||0;rt.fields.push({name:"advanceWidth_"+it,type:"USHORT",value:st}),rt.fields.push({name:"leftSideBearing_"+it,type:"SHORT",value:at})}return rt}var et=j("../parse"),tt=j("../table");b.parse=$,b.make=_e},{"../parse":10,"../table":13}],23:[function(j,g,b){function $(tt,nt){var rt={},it=new et.Parser(tt,nt),ot=it.parseUShort();_e.argument(ot===0,"Unsupported kern table version."),it.skip("uShort",1);var st=it.parseUShort();_e.argument(st===0,"Unsupported kern sub-table version."),it.skip("uShort",2);var at=it.parseUShort();it.skip("uShort",3);for(var lt=0;at>lt;lt+=1){var ut=it.parseUShort(),ct=it.parseUShort(),ft=it.parseShort();rt[ut+","+ct]=ft}return rt}var _e=j("../check"),et=j("../parse");b.parse=$},{"../check":2,"../parse":10}],24:[function(j,g,b){function $(et,tt,nt,rt){for(var it=new _e.Parser(et,tt),ot=rt?it.parseUShort:it.parseULong,st=[],at=0;nt+1>at;at+=1){var lt=ot.call(it);rt&&(lt*=2),st.push(lt)}return st}var _e=j("../parse");b.parse=$},{"../parse":10}],25:[function(j,g,b){function $(rt){for(var it=new nt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:rt.length}]),ot="",st=12+4*rt.length,at=0;at<rt.length;++at){var lt=ot.indexOf(rt[at]);0>lt&&(lt=ot.length,ot+=rt[at]),it.fields.push({name:"offset "+at,type:"USHORT",value:st+lt}),it.fields.push({name:"length "+at,type:"USHORT",value:rt[at].length})}return it.fields.push({name:"stringPool",type:"CHARARRAY",value:ot}),it}function _e(rt,it){var ot=new tt.Parser(rt,it),st=ot.parseULong();et.argument(st===1,"Unsupported ltag table version."),ot.skip("uLong",1);for(var at=ot.parseULong(),lt=[],ut=0;at>ut;ut++){for(var ct="",ft=it+ot.parseUShort(),ht=ot.parseUShort(),dt=ft;ft+ht>dt;++dt)ct+=String.fromCharCode(rt.getInt8(dt));lt.push(ct)}return lt}var et=j("../check"),tt=j("../parse"),nt=j("../table");b.make=$,b.parse=_e},{"../check":2,"../parse":10,"../table":13}],26:[function(j,g,b){function $(nt,rt){var it={},ot=new et.Parser(nt,rt);return it.version=ot.parseVersion(),it.numGlyphs=ot.parseUShort(),it.version===1&&(it.maxPoints=ot.parseUShort(),it.maxContours=ot.parseUShort(),it.maxCompositePoints=ot.parseUShort(),it.maxCompositeContours=ot.parseUShort(),it.maxZones=ot.parseUShort(),it.maxTwilightPoints=ot.parseUShort(),it.maxStorage=ot.parseUShort(),it.maxFunctionDefs=ot.parseUShort(),it.maxInstructionDefs=ot.parseUShort(),it.maxStackElements=ot.parseUShort(),it.maxSizeOfInstructions=ot.parseUShort(),it.maxComponentElements=ot.parseUShort(),it.maxComponentDepth=ot.parseUShort()),it}function _e(nt){return new tt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:nt}])}var et=j("../parse"),tt=j("../table");b.parse=$,b.make=_e},{"../parse":10,"../table":13}],27:[function(j,g,b){function $(ot,st){var at=new rt.Parser(ot,st),lt=at.parseULong();nt.argument(lt===1,"Unsupported META table version."),at.parseULong(),at.parseULong();for(var ut=at.parseULong(),ct={},ft=0;ut>ft;ft++){var ht=at.parseTag(),dt=at.parseULong(),pt=at.parseULong(),mt=tt.UTF8(ot,st+dt,pt);ct[ht]=mt}return ct}function _e(ot){var st=Object.keys(ot).length,at="",lt=16+12*st,ut=new it.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:lt},{name:"numTags",type:"ULONG",value:st}]);for(var ct in ot){var ft=at.length;at+=ot[ct],ut.fields.push({name:"tag "+ct,type:"TAG",value:ct}),ut.fields.push({name:"offset "+ct,type:"ULONG",value:lt+ft}),ut.fields.push({name:"length "+ct,type:"ULONG",value:ot[ct].length})}return ut.fields.push({name:"stringPool",type:"CHARARRAY",value:at}),ut}var et=j("../types"),tt=et.decode,nt=j("../check"),rt=j("../parse"),it=j("../table");b.parse=$,b.make=_e},{"../check":2,"../parse":10,"../table":13,"../types":32}],28:[function(j,g,b){function $(_t,vt,At){switch(_t){case 0:if(vt===65535)return"und";if(At)return At[vt];break;case 1:return ht[vt];case 3:return pt[vt]}}function _e(_t,vt,At){switch(_t){case 0:return mt;case 1:return yt[At]||gt[vt];case 3:if(vt===1||vt===10)return mt}}function et(_t,vt,At){for(var bt={},xt=new ut.Parser(_t,vt),Et=xt.parseUShort(),Mt=xt.parseUShort(),Tt=xt.offset+xt.parseUShort(),Lt=0;Mt>Lt;Lt++){var Ot=xt.parseUShort(),Rt=xt.parseUShort(),Ct=xt.parseUShort(),Dt=xt.parseUShort(),Bt=ft[Dt]||Dt,kt=xt.parseUShort(),zt=xt.parseUShort(),Ft=$(Ot,Ct,At),It=_e(Ot,Rt,Ct);if(It!==void 0&&Ft!==void 0){var Ut;if(Ut=It===mt?at.UTF16(_t,Tt+zt,kt):at.MACSTRING(_t,Tt+zt,kt,It)){var Gt=bt[Bt];Gt===void 0&&(Gt=bt[Bt]={}),Gt[Ft]=Ut}}}return Et===1&&xt.parseUShort(),bt}function tt(_t){var vt={};for(var At in _t)vt[_t[At]]=parseInt(At);return vt}function nt(_t,vt,At,bt,xt,Et){return new ct.Record("NameRecord",[{name:"platformID",type:"USHORT",value:_t},{name:"encodingID",type:"USHORT",value:vt},{name:"languageID",type:"USHORT",value:At},{name:"nameID",type:"USHORT",value:bt},{name:"length",type:"USHORT",value:xt},{name:"offset",type:"USHORT",value:Et}])}function rt(_t,vt){var At=_t.length,bt=vt.length-At+1;e:for(var xt=0;bt>xt;xt++)for(;bt>xt;xt++){for(var Et=0;At>Et;Et++)if(vt[xt+Et]!==_t[Et])continue e;return xt}return-1}function it(_t,vt){var At=rt(_t,vt);if(0>At){At=vt.length;for(var bt=0,xt=_t.length;xt>bt;++bt)vt.push(_t[bt])}return At}function ot(_t,vt){var At,bt=[],xt={},Et=tt(ft);for(var Mt in _t){var Tt=Et[Mt];if(Tt===void 0&&(Tt=Mt),At=parseInt(Tt),isNaN(At))throw new Error('Name table entry "'+Mt+'" does not exist, see nameTableNames for complete list.');xt[At]=_t[Mt],bt.push(At)}for(var Lt=tt(ht),Ot=tt(pt),Rt=[],Ct=[],Dt=0;Dt<bt.length;Dt++){At=bt[Dt];var Bt=xt[At];for(var kt in Bt){var zt=Bt[kt],Ft=1,It=Lt[kt],Ut=dt[It],Gt=_e(Ft,Ut,It),jt=lt.MACSTRING(zt,Gt);jt===void 0&&(Ft=0,It=vt.indexOf(kt),0>It&&(It=vt.length,vt.push(kt)),Ut=4,jt=lt.UTF16(zt));var Yt=it(jt,Ct);Rt.push(nt(Ft,Ut,It,At,jt.length,Yt));var Qt=Ot[kt];if(Qt!==void 0){var ln=lt.UTF16(zt),Zt=it(ln,Ct);Rt.push(nt(3,1,Qt,At,ln.length,Zt))}}}Rt.sort(function(Xt,vn){return Xt.platformID-vn.platformID||Xt.encodingID-vn.encodingID||Xt.languageID-vn.languageID||Xt.nameID-vn.nameID});for(var Wt=new ct.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Rt.length},{name:"stringOffset",type:"USHORT",value:6+12*Rt.length}]),qt=0;qt<Rt.length;qt++)Wt.fields.push({name:"record_"+qt,type:"RECORD",value:Rt[qt]});return Wt.fields.push({name:"strings",type:"LITERAL",value:Ct}),Wt}var st=j("../types"),at=st.decode,lt=st.encode,ut=j("../parse"),ct=j("../table"),ft=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],ht={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},dt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},pt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},mt="utf-16",gt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},yt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};b.parse=et,b.make=ot},{"../parse":10,"../table":13,"../types":32}],29:[function(j,g,b){function $(it){for(var ot=0;ot<rt.length;ot+=1){var st=rt[ot];if(it>=st.begin&&it<st.end)return ot}return-1}function _e(it,ot){var st={},at=new tt.Parser(it,ot);st.version=at.parseUShort(),st.xAvgCharWidth=at.parseShort(),st.usWeightClass=at.parseUShort(),st.usWidthClass=at.parseUShort(),st.fsType=at.parseUShort(),st.ySubscriptXSize=at.parseShort(),st.ySubscriptYSize=at.parseShort(),st.ySubscriptXOffset=at.parseShort(),st.ySubscriptYOffset=at.parseShort(),st.ySuperscriptXSize=at.parseShort(),st.ySuperscriptYSize=at.parseShort(),st.ySuperscriptXOffset=at.parseShort(),st.ySuperscriptYOffset=at.parseShort(),st.yStrikeoutSize=at.parseShort(),st.yStrikeoutPosition=at.parseShort(),st.sFamilyClass=at.parseShort(),st.panose=[];for(var lt=0;10>lt;lt++)st.panose[lt]=at.parseByte();return st.ulUnicodeRange1=at.parseULong(),st.ulUnicodeRange2=at.parseULong(),st.ulUnicodeRange3=at.parseULong(),st.ulUnicodeRange4=at.parseULong(),st.achVendID=String.fromCharCode(at.parseByte(),at.parseByte(),at.parseByte(),at.parseByte()),st.fsSelection=at.parseUShort(),st.usFirstCharIndex=at.parseUShort(),st.usLastCharIndex=at.parseUShort(),st.sTypoAscender=at.parseShort(),st.sTypoDescender=at.parseShort(),st.sTypoLineGap=at.parseShort(),st.usWinAscent=at.parseUShort(),st.usWinDescent=at.parseUShort(),st.version>=1&&(st.ulCodePageRange1=at.parseULong(),st.ulCodePageRange2=at.parseULong()),st.version>=2&&(st.sxHeight=at.parseShort(),st.sCapHeight=at.parseShort(),st.usDefaultChar=at.parseUShort(),st.usBreakChar=at.parseUShort(),st.usMaxContent=at.parseUShort()),st}function et(it){return new nt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],it)}var tt=j("../parse"),nt=j("../table"),rt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];b.unicodeRanges=rt,b.getUnicodeRange=$,b.parse=_e,b.make=et},{"../parse":10,"../table":13}],30:[function(j,g,b){function $(rt,it){var ot,st={},at=new tt.Parser(rt,it);switch(st.version=at.parseVersion(),st.italicAngle=at.parseFixed(),st.underlinePosition=at.parseShort(),st.underlineThickness=at.parseShort(),st.isFixedPitch=at.parseULong(),st.minMemType42=at.parseULong(),st.maxMemType42=at.parseULong(),st.minMemType1=at.parseULong(),st.maxMemType1=at.parseULong(),st.version){case 1:st.names=et.standardNames.slice();break;case 2:for(st.numberOfGlyphs=at.parseUShort(),st.glyphNameIndex=new Array(st.numberOfGlyphs),ot=0;ot<st.numberOfGlyphs;ot++)st.glyphNameIndex[ot]=at.parseUShort();for(st.names=[],ot=0;ot<st.numberOfGlyphs;ot++)if(st.glyphNameIndex[ot]>=et.standardNames.length){var lt=at.parseChar();st.names.push(at.parseString(lt))}break;case 2.5:for(st.numberOfGlyphs=at.parseUShort(),st.offset=new Array(st.numberOfGlyphs),ot=0;ot<st.numberOfGlyphs;ot++)st.offset[ot]=at.parseChar()}return st}function _e(){return new nt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var et=j("../encoding"),tt=j("../parse"),nt=j("../table");b.parse=$,b.make=_e},{"../encoding":4,"../parse":10,"../table":13}],31:[function(j,g,b){function $(vt){return Math.log(vt)/Math.log(2)|0}function _e(vt){for(;vt.length%4!==0;)vt.push(0);for(var At=0,bt=0;bt<vt.length;bt+=4)At+=(vt[bt]<<24)+(vt[bt+1]<<16)+(vt[bt+2]<<8)+vt[bt+3];return At%=Math.pow(2,32)}function et(vt,At,bt,xt){return new st.Record("Table Record",[{name:"tag",type:"TAG",value:vt!==void 0?vt:""},{name:"checkSum",type:"ULONG",value:At!==void 0?At:0},{name:"offset",type:"ULONG",value:bt!==void 0?bt:0},{name:"length",type:"ULONG",value:xt!==void 0?xt:0}])}function tt(vt){var At=new st.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);At.tables=vt,At.numTables=vt.length;var bt=Math.pow(2,$(At.numTables));At.searchRange=16*bt,At.entrySelector=$(bt),At.rangeShift=16*At.numTables-At.searchRange;for(var xt=[],Et=[],Mt=At.sizeOf()+et().sizeOf()*At.numTables;Mt%4!==0;)Mt+=1,Et.push({name:"padding",type:"BYTE",value:0});for(var Tt=0;Tt<vt.length;Tt+=1){var Lt=vt[Tt];ot.argument(Lt.tableName.length===4,"Table name"+Lt.tableName+" is invalid.");var Ot=Lt.sizeOf(),Rt=et(Lt.tableName,_e(Lt.encode()),Mt,Ot);for(xt.push({name:Rt.tag+" Table Record",type:"RECORD",value:Rt}),Et.push({name:Lt.tableName+" table",type:"RECORD",value:Lt}),Mt+=Ot,ot.argument(!isNaN(Mt),"Something went wrong calculating the offset.");Mt%4!==0;)Mt+=1,Et.push({name:"padding",type:"BYTE",value:0})}return xt.sort(function(Ct,Dt){return Ct.value.tag>Dt.value.tag?1:-1}),At.fields=At.fields.concat(xt),At.fields=At.fields.concat(Et),At}function nt(vt,At,bt){for(var xt=0;xt<At.length;xt+=1){var Et=vt.charToGlyphIndex(At[xt]);if(Et>0){var Mt=vt.glyphs.get(Et);return Mt.getMetrics()}}return bt}function rt(vt){for(var At=0,bt=0;bt<vt.length;bt+=1)At+=vt[bt];return At/vt.length}function it(vt){for(var At,bt=[],xt=[],Et=[],Mt=[],Tt=[],Lt=[],Ot=[],Rt=0,Ct=0,Dt=0,Bt=0,kt=0,zt=0;zt<vt.glyphs.length;zt+=1){var Ft=vt.glyphs.get(zt),It=0|Ft.unicode;if(isNaN(Ft.advanceWidth))throw new Error("Glyph "+Ft.name+" ("+zt+"): advanceWidth is not a number.");(At>It||At===void 0)&&It>0&&(At=It),It>Rt&&(Rt=It);var Ut=mt.getUnicodeRange(It);if(32>Ut)Ct|=1<<Ut;else if(64>Ut)Dt|=1<<Ut-32;else if(96>Ut)Bt|=1<<Ut-64;else{if(!(123>Ut))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");kt|=1<<Ut-96}if(Ft.name!==".notdef"){var Gt=Ft.getMetrics();bt.push(Gt.xMin),xt.push(Gt.yMin),Et.push(Gt.xMax),Mt.push(Gt.yMax),Lt.push(Gt.leftSideBearing),Ot.push(Gt.rightSideBearing),Tt.push(Ft.advanceWidth)}}var jt={xMin:Math.min.apply(null,bt),yMin:Math.min.apply(null,xt),xMax:Math.max.apply(null,Et),yMax:Math.max.apply(null,Mt),advanceWidthMax:Math.max.apply(null,Tt),advanceWidthAvg:rt(Tt),minLeftSideBearing:Math.min.apply(null,Lt),maxLeftSideBearing:Math.max.apply(null,Lt),minRightSideBearing:Math.min.apply(null,Ot)};jt.ascender=vt.ascender,jt.descender=vt.descender;var Yt=ut.make({flags:3,unitsPerEm:vt.unitsPerEm,xMin:jt.xMin,yMin:jt.yMin,xMax:jt.xMax,yMax:jt.yMax,lowestRecPPEM:3,createdTimestamp:vt.createdTimestamp}),Qt=ct.make({ascender:jt.ascender,descender:jt.descender,advanceWidthMax:jt.advanceWidthMax,minLeftSideBearing:jt.minLeftSideBearing,minRightSideBearing:jt.minRightSideBearing,xMaxExtent:jt.maxLeftSideBearing+(jt.xMax-jt.xMin),numberOfHMetrics:vt.glyphs.length}),ln=dt.make(vt.glyphs.length),Zt=mt.make({xAvgCharWidth:Math.round(jt.advanceWidthAvg),usWeightClass:vt.tables.os2.usWeightClass,usWidthClass:vt.tables.os2.usWidthClass,usFirstCharIndex:At,usLastCharIndex:Rt,ulUnicodeRange1:Ct,ulUnicodeRange2:Dt,ulUnicodeRange3:Bt,ulUnicodeRange4:kt,fsSelection:vt.tables.os2.fsSelection,sTypoAscender:jt.ascender,sTypoDescender:jt.descender,sTypoLineGap:0,usWinAscent:jt.yMax,usWinDescent:Math.abs(jt.yMin),ulCodePageRange1:1,sxHeight:nt(vt,"xyvw",{yMax:Math.round(jt.ascender/2)}).yMax,sCapHeight:nt(vt,"HIKLEFJMNTZBDPRAGOQSUVWXY",jt).yMax,usDefaultChar:vt.hasChar(" ")?32:0,usBreakChar:vt.hasChar(" ")?32:0}),Wt=ft.make(vt.glyphs),qt=at.make(vt.glyphs),Xt=vt.getEnglishName("fontFamily"),vn=vt.getEnglishName("fontSubfamily"),gn=Xt+" "+vn,en=vt.getEnglishName("postScriptName");en||(en=Xt.replace(/\s/g,"")+"-"+vn);var hn={};for(var rn in vt.names)hn[rn]=vt.names[rn];hn.uniqueID||(hn.uniqueID={en:vt.getEnglishName("manufacturer")+":"+gn}),hn.postScriptName||(hn.postScriptName={en}),hn.preferredFamily||(hn.preferredFamily=vt.names.fontFamily),hn.preferredSubfamily||(hn.preferredSubfamily=vt.names.fontSubfamily);var un=[],Nt=pt.make(hn,un),Vt=un.length>0?ht.make(un):void 0,cn=gt.make(),dn=lt.make(vt.glyphs,{version:vt.getEnglishName("version"),fullName:gn,familyName:Xt,weightName:vn,postScriptName:en,unitsPerEm:vt.unitsPerEm,fontBBox:[0,jt.yMin,jt.ascender,jt.advanceWidthMax]}),mn=vt.metas&&Object.keys(vt.metas).length>0?_t.make(vt.metas):void 0,bn=[Yt,Qt,ln,Zt,Nt,qt,cn,dn,Wt];Vt&&bn.push(Vt),vt.tables.gsub&&bn.push(yt.make(vt.tables.gsub)),mn&&bn.push(mn);var Cn=tt(bn),an=Cn.encode(),Tn=_e(an),Dn=Cn.fields,Sn=!1;for(zt=0;zt<Dn.length;zt+=1)if(Dn[zt].name==="head table"){Dn[zt].value.checkSumAdjustment=2981146554-Tn,Sn=!0;break}if(!Sn)throw new Error("Could not find head table with checkSum to adjust.");return Cn}var ot=j("../check"),st=j("../table"),at=j("./cmap"),lt=j("./cff"),ut=j("./head"),ct=j("./hhea"),ft=j("./hmtx"),ht=j("./ltag"),dt=j("./maxp"),pt=j("./name"),mt=j("./os2"),gt=j("./post"),yt=j("./gsub"),_t=j("./meta");b.computeCheckSum=_e,b.make=tt,b.fontToTable=it},{"../check":2,"../table":13,"./cff":14,"./cmap":15,"./gsub":19,"./head":20,"./hhea":21,"./hmtx":22,"./ltag":25,"./maxp":26,"./meta":27,"./name":28,"./os2":29,"./post":30}],32:[function(j,g,b){function $(ct){return function(){return ct}}var _e=j("./check"),et=32768,tt=2147483648,nt={},rt={},it={};rt.BYTE=function(ct){return _e.argument(ct>=0&&255>=ct,"Byte value should be between 0 and 255."),[ct]},it.BYTE=$(1),rt.CHAR=function(ct){return[ct.charCodeAt(0)]},it.CHAR=$(1),rt.CHARARRAY=function(ct){for(var ft=[],ht=0;ht<ct.length;ht+=1)ft[ht]=ct.charCodeAt(ht);return ft},it.CHARARRAY=function(ct){return ct.length},rt.USHORT=function(ct){return[ct>>8&255,255&ct]},it.USHORT=$(2),rt.SHORT=function(ct){return ct>=et&&(ct=-(2*et-ct)),[ct>>8&255,255&ct]},it.SHORT=$(2),rt.UINT24=function(ct){return[ct>>16&255,ct>>8&255,255&ct]},it.UINT24=$(3),rt.ULONG=function(ct){return[ct>>24&255,ct>>16&255,ct>>8&255,255&ct]},it.ULONG=$(4),rt.LONG=function(ct){return ct>=tt&&(ct=-(2*tt-ct)),[ct>>24&255,ct>>16&255,ct>>8&255,255&ct]},it.LONG=$(4),rt.FIXED=rt.ULONG,it.FIXED=it.ULONG,rt.FWORD=rt.SHORT,it.FWORD=it.SHORT,rt.UFWORD=rt.USHORT,it.UFWORD=it.USHORT,rt.LONGDATETIME=function(ct){return[0,0,0,0,ct>>24&255,ct>>16&255,ct>>8&255,255&ct]},it.LONGDATETIME=$(8),rt.TAG=function(ct){return _e.argument(ct.length===4,"Tag should be exactly 4 ASCII characters."),[ct.charCodeAt(0),ct.charCodeAt(1),ct.charCodeAt(2),ct.charCodeAt(3)]},it.TAG=$(4),rt.Card8=rt.BYTE,it.Card8=it.BYTE,rt.Card16=rt.USHORT,it.Card16=it.USHORT,rt.OffSize=rt.BYTE,it.OffSize=it.BYTE,rt.SID=rt.USHORT,it.SID=it.USHORT,rt.NUMBER=function(ct){return ct>=-107&&107>=ct?[ct+139]:ct>=108&&1131>=ct?(ct-=108,[(ct>>8)+247,255&ct]):ct>=-1131&&-108>=ct?(ct=-ct-108,[(ct>>8)+251,255&ct]):ct>=-32768&&32767>=ct?rt.NUMBER16(ct):rt.NUMBER32(ct)},it.NUMBER=function(ct){return rt.NUMBER(ct).length},rt.NUMBER16=function(ct){return[28,ct>>8&255,255&ct]},it.NUMBER16=$(3),rt.NUMBER32=function(ct){return[29,ct>>24&255,ct>>16&255,ct>>8&255,255&ct]},it.NUMBER32=$(5),rt.REAL=function(ct){var ft=ct.toString(),ht=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(ft);if(ht){var dt=parseFloat("1e"+((ht[2]?+ht[2]:0)+ht[1].length));ft=(Math.round(ct*dt)/dt).toString()}var pt,mt,gt="";for(pt=0,mt=ft.length;mt>pt;pt+=1){var yt=ft[pt];gt+=yt==="e"?ft[++pt]==="-"?"c":"b":yt==="."?"a":yt==="-"?"e":yt}gt+=1&gt.length?"f":"ff";var _t=[30];for(pt=0,mt=gt.length;mt>pt;pt+=2)_t.push(parseInt(gt.substr(pt,2),16));return _t},it.REAL=function(ct){return rt.REAL(ct).length},rt.NAME=rt.CHARARRAY,it.NAME=it.CHARARRAY,rt.STRING=rt.CHARARRAY,it.STRING=it.CHARARRAY,nt.UTF8=function(ct,ft,ht){for(var dt=[],pt=ht,mt=0;pt>mt;mt++,ft+=1)dt[mt]=ct.getUint8(ft);return String.fromCharCode.apply(null,dt)},nt.UTF16=function(ct,ft,ht){for(var dt=[],pt=ht/2,mt=0;pt>mt;mt++,ft+=2)dt[mt]=ct.getUint16(ft);return String.fromCharCode.apply(null,dt)},rt.UTF16=function(ct){for(var ft=[],ht=0;ht<ct.length;ht+=1){var dt=ct.charCodeAt(ht);ft[ft.length]=dt>>8&255,ft[ft.length]=255&dt}return ft},it.UTF16=function(ct){return 2*ct.length};var ot={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};nt.MACSTRING=function(ct,ft,ht,dt){var pt=ot[dt];if(pt!==void 0){for(var mt="",gt=0;ht>gt;gt++){var yt=ct.getUint8(ft+gt);mt+=127>=yt?String.fromCharCode(yt):pt[127&yt]}return mt}};var st=typeof WeakMap=="function"&&new WeakMap,at,lt=function(ct){if(!at){at={};for(var ft in ot)at[ft]=new String(ft)}var ht=at[ct];if(ht!==void 0){if(st){var dt=st.get(ht);if(dt!==void 0)return dt}var pt=ot[ct];if(pt!==void 0){for(var mt={},gt=0;gt<pt.length;gt++)mt[pt.charCodeAt(gt)]=gt+128;return st&&st.set(ht,mt),mt}}};rt.MACSTRING=function(ct,ft){var ht=lt(ft);if(ht!==void 0){for(var dt=[],pt=0;pt<ct.length;pt++){var mt=ct.charCodeAt(pt);if(mt>=128&&(mt=ht[mt],mt===void 0))return;dt[pt]=mt}return dt}},it.MACSTRING=function(ct,ft){var ht=rt.MACSTRING(ct,ft);return ht!==void 0?ht.length:0},rt.INDEX=function(ct){var ft,ht=1,dt=[ht],pt=[];for(ft=0;ft<ct.length;ft+=1){var mt=rt.OBJECT(ct[ft]);Array.prototype.push.apply(pt,mt),ht+=mt.length,dt.push(ht)}if(pt.length===0)return[0,0];var gt=[],yt=1+Math.floor(Math.log(ht)/Math.log(2))/8|0,_t=[void 0,rt.BYTE,rt.USHORT,rt.UINT24,rt.ULONG][yt];for(ft=0;ft<dt.length;ft+=1){var vt=_t(dt[ft]);Array.prototype.push.apply(gt,vt)}return Array.prototype.concat(rt.Card16(ct.length),rt.OffSize(yt),gt,pt)},it.INDEX=function(ct){return rt.INDEX(ct).length},rt.DICT=function(ct){for(var ft=[],ht=Object.keys(ct),dt=ht.length,pt=0;dt>pt;pt+=1){var mt=parseInt(ht[pt],0),gt=ct[mt];ft=ft.concat(rt.OPERAND(gt.value,gt.type)),ft=ft.concat(rt.OPERATOR(mt))}return ft},it.DICT=function(ct){return rt.DICT(ct).length},rt.OPERATOR=function(ct){return 1200>ct?[ct]:[12,ct-1200]},rt.OPERAND=function(ct,ft){var ht=[];if(Array.isArray(ft))for(var dt=0;dt<ft.length;dt+=1)_e.argument(ct.length===ft.length,"Not enough arguments given for type"+ft),ht=ht.concat(rt.OPERAND(ct[dt],ft[dt]));else if(ft==="SID")ht=ht.concat(rt.NUMBER(ct));else if(ft==="offset")ht=ht.concat(rt.NUMBER32(ct));else if(ft==="number")ht=ht.concat(rt.NUMBER(ct));else{if(ft!=="real")throw new Error("Unknown operand type "+ft);ht=ht.concat(rt.REAL(ct))}return ht},rt.OP=rt.BYTE,it.OP=it.BYTE;var ut=typeof WeakMap=="function"&&new WeakMap;rt.CHARSTRING=function(ct){if(ut){var ft=ut.get(ct);if(ft!==void 0)return ft}for(var ht=[],dt=ct.length,pt=0;dt>pt;pt+=1){var mt=ct[pt];ht=ht.concat(rt[mt.type](mt.value))}return ut&&ut.set(ct,ht),ht},it.CHARSTRING=function(ct){return rt.CHARSTRING(ct).length},rt.OBJECT=function(ct){var ft=rt[ct.type];return _e.argument(ft!==void 0,"No encoding function for type "+ct.type),ft(ct.value)},it.OBJECT=function(ct){var ft=it[ct.type];return _e.argument(ft!==void 0,"No sizeOf function for type "+ct.type),ft(ct.value)},rt.TABLE=function(ct){var ft,ht=[],dt=ct.fields.length,pt=[],mt=[];for(ft=0;dt>ft;ft+=1){var gt=ct.fields[ft],yt=rt[gt.type];_e.argument(yt!==void 0,"No encoding function for field type "+gt.type+" ("+gt.name+")");var _t=ct[gt.name];_t===void 0&&(_t=gt.value);var vt=yt(_t);gt.type==="TABLE"?(mt.push(ht.length),ht=ht.concat([0,0]),pt.push(vt)):ht=ht.concat(vt)}for(ft=0;ft<pt.length;ft+=1){var At=mt[ft],bt=ht.length;_e.argument(65536>bt,"Table "+ct.tableName+" too big."),ht[At]=bt>>8,ht[At+1]=255&bt,ht=ht.concat(pt[ft])}return ht},it.TABLE=function(ct){for(var ft=0,ht=ct.fields.length,dt=0;ht>dt;dt+=1){var pt=ct.fields[dt],mt=it[pt.type];_e.argument(mt!==void 0,"No sizeOf function for field type "+pt.type+" ("+pt.name+")");var gt=ct[pt.name];gt===void 0&&(gt=pt.value),ft+=mt(gt),pt.type==="TABLE"&&(ft+=2)}return ft},rt.RECORD=rt.TABLE,it.RECORD=it.TABLE,rt.LITERAL=function(ct){return ct},it.LITERAL=function(ct){return ct.length},b.decode=nt,b.encode=rt,b.sizeOf=it},{"./check":2}],33:[function(j,g,b){b.isBrowser=function(){return typeof window!="undefined"},b.isNode=function(){return typeof window=="undefined"},b.nodeBufferToArrayBuffer=function($){for(var _e=new ArrayBuffer($.length),et=new Uint8Array(_e),tt=0;tt<$.length;++tt)et[tt]=$[tt];return _e},b.arrayBufferToNodeBuffer=function($){for(var _e=new Buffer($.byteLength),et=new Uint8Array($),tt=0;tt<_e.length;++tt)_e[tt]=et[tt];return _e},b.checkArgument=function($,_e){if(!$)throw _e}},{}]},{},[9])(9)});var opentype=window.opentype;class TTFLoader extends Loader{constructor(g){super(g),this.reversed=!1}load(g,b,$,_e){const et=this,tt=new FileLoader(this.manager);tt.setPath(this.path),tt.setResponseType("arraybuffer"),tt.setRequestHeader(this.requestHeader),tt.setWithCredentials(this.withCredentials),tt.load(g,function(nt){try{b(et.parse(nt))}catch(rt){_e?_e(rt):console.error(rt),et.manager.itemError(g)}},$,_e)}parse(g){function b(_e,et){const tt=Math.round,nt={},rt=1e5/((_e.unitsPerEm||2048)*72),it=_e.encoding.cmap.glyphIndexMap,ot=Object.keys(it);for(let st=0;st<ot.length;st++){const at=ot[st],lt=_e.glyphs.glyphs[it[at]];if(at!==void 0){const ut={ha:tt(lt.advanceWidth*rt),x_min:tt(lt.xMin*rt),x_max:tt(lt.xMax*rt),o:""};et&&(lt.path.commands=$(lt.path.commands)),lt.path.commands.forEach(function(ct){ct.type.toLowerCase()==="c"&&(ct.type="b"),ut.o+=ct.type.toLowerCase()+" ",ct.x!==void 0&&ct.y!==void 0&&(ut.o+=tt(ct.x*rt)+" "+tt(ct.y*rt)+" "),ct.x1!==void 0&&ct.y1!==void 0&&(ut.o+=tt(ct.x1*rt)+" "+tt(ct.y1*rt)+" "),ct.x2!==void 0&&ct.y2!==void 0&&(ut.o+=tt(ct.x2*rt)+" "+tt(ct.y2*rt)+" ")}),nt[String.fromCodePoint(lt.unicode)]=ut}}return{glyphs:nt,familyName:_e.getEnglishName("fullName"),ascender:tt(_e.ascender*rt),descender:tt(_e.descender*rt),underlinePosition:_e.tables.post.underlinePosition,underlineThickness:_e.tables.post.underlineThickness,boundingBox:{xMin:_e.tables.head.xMin,xMax:_e.tables.head.xMax,yMin:_e.tables.head.yMin,yMax:_e.tables.head.yMax},resolution:1e3,original_font_information:_e.tables.name}}function $(_e){const et=[];let tt;_e.forEach(function(rt){rt.type.toLowerCase()==="m"?(tt=[rt],et.push(tt)):rt.type.toLowerCase()!=="z"&&tt.push(rt)});const nt=[];return et.forEach(function(rt){const it={type:"m",x:rt[rt.length-1].x,y:rt[rt.length-1].y};nt.push(it);for(let ot=rt.length-1;ot>0;ot--){const st=rt[ot],at={type:st.type};st.x2!==void 0&&st.y2!==void 0?(at.x1=st.x2,at.y1=st.y2,at.x2=st.x1,at.y2=st.y1):st.x1!==void 0&&st.y1!==void 0&&(at.x1=st.x1,at.y1=st.y1),at.x=rt[ot-1].x,at.y=rt[ot-1].y,nt.push(at)}}),nt}return typeof opentype=="undefined"?(console.warn("THREE.TTFLoader: The loader requires opentype.js. Make sure it's included before using the loader."),null):b(opentype.parse(g),this.reversed)}}class RGBELoader extends DataTextureLoader{constructor(g){super(g),this.type=HalfFloatType}parse(g){const nt=function(pt,mt){switch(pt){case 1:console.error("THREE.RGBELoader Read Error: "+(mt||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(mt||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(mt||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(mt||""))}return-1},st=`
`,at=function(pt,mt,gt){mt=mt||1024;let _t=pt.pos,vt=-1,At=0,bt="",xt=String.fromCharCode.apply(null,new Uint16Array(pt.subarray(_t,_t+128)));for(;0>(vt=xt.indexOf(st))&&At<mt&&_t<pt.byteLength;)bt+=xt,At+=xt.length,_t+=128,xt+=String.fromCharCode.apply(null,new Uint16Array(pt.subarray(_t,_t+128)));return-1<vt?(gt!==!1&&(pt.pos+=At+vt+1),bt+xt.slice(0,vt)):!1},lt=function(pt){const mt=/^#\?(\S+)/,gt=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,yt=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,_t=/^\s*FORMAT=(\S+)\s*$/,vt=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,At={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let bt,xt;if(pt.pos>=pt.byteLength||!(bt=at(pt)))return nt(1,"no header found");if(!(xt=bt.match(mt)))return nt(3,"bad initial token");for(At.valid|=1,At.programtype=xt[1],At.string+=bt+`
`;bt=at(pt),bt!==!1;){if(At.string+=bt+`
`,bt.charAt(0)==="#"){At.comments+=bt+`
`;continue}if((xt=bt.match(gt))&&(At.gamma=parseFloat(xt[1])),(xt=bt.match(yt))&&(At.exposure=parseFloat(xt[1])),(xt=bt.match(_t))&&(At.valid|=2,At.format=xt[1]),(xt=bt.match(vt))&&(At.valid|=4,At.height=parseInt(xt[1],10),At.width=parseInt(xt[2],10)),At.valid&2&&At.valid&4)break}return At.valid&2?At.valid&4?At:nt(3,"missing image size specifier"):nt(3,"missing format specifier")},ut=function(pt,mt,gt){const yt=mt;if(yt<8||yt>32767||pt[0]!==2||pt[1]!==2||pt[2]&128)return new Uint8Array(pt);if(yt!==(pt[2]<<8|pt[3]))return nt(3,"wrong scanline width");const _t=new Uint8Array(4*mt*gt);if(!_t.length)return nt(4,"unable to allocate buffer space");let vt=0,At=0;const bt=4*yt,xt=new Uint8Array(4),Et=new Uint8Array(bt);let Mt=gt;for(;Mt>0&&At<pt.byteLength;){if(At+4>pt.byteLength)return nt(1);if(xt[0]=pt[At++],xt[1]=pt[At++],xt[2]=pt[At++],xt[3]=pt[At++],xt[0]!=2||xt[1]!=2||(xt[2]<<8|xt[3])!=yt)return nt(3,"bad rgbe scanline format");let Tt=0,Lt;for(;Tt<bt&&At<pt.byteLength;){Lt=pt[At++];const Rt=Lt>128;if(Rt&&(Lt-=128),Lt===0||Tt+Lt>bt)return nt(3,"bad scanline data");if(Rt){const Ct=pt[At++];for(let Dt=0;Dt<Lt;Dt++)Et[Tt++]=Ct}else Et.set(pt.subarray(At,At+Lt),Tt),Tt+=Lt,At+=Lt}const Ot=yt;for(let Rt=0;Rt<Ot;Rt++){let Ct=0;_t[vt]=Et[Rt+Ct],Ct+=yt,_t[vt+1]=Et[Rt+Ct],Ct+=yt,_t[vt+2]=Et[Rt+Ct],Ct+=yt,_t[vt+3]=Et[Rt+Ct],vt+=4}Mt--}return _t},ct=function(pt,mt,gt,yt){const _t=pt[mt+3],vt=Math.pow(2,_t-128)/255;gt[yt+0]=pt[mt+0]*vt,gt[yt+1]=pt[mt+1]*vt,gt[yt+2]=pt[mt+2]*vt,gt[yt+3]=1},ft=function(pt,mt,gt,yt){const _t=pt[mt+3],vt=Math.pow(2,_t-128)/255;gt[yt+0]=DataUtils.toHalfFloat(Math.min(pt[mt+0]*vt,65504)),gt[yt+1]=DataUtils.toHalfFloat(Math.min(pt[mt+1]*vt,65504)),gt[yt+2]=DataUtils.toHalfFloat(Math.min(pt[mt+2]*vt,65504)),gt[yt+3]=DataUtils.toHalfFloat(1)},ht=new Uint8Array(g);ht.pos=0;const dt=lt(ht);if(dt!==-1){const pt=dt.width,mt=dt.height,gt=ut(ht.subarray(ht.pos),pt,mt);if(gt!==-1){let yt,_t,vt,At;switch(this.type){case FloatType:At=gt.length/4;const bt=new Float32Array(At*4);for(let Et=0;Et<At;Et++)ct(gt,Et*4,bt,Et*4);yt=bt,vt=FloatType;break;case HalfFloatType:At=gt.length/4;const xt=new Uint16Array(At*4);for(let Et=0;Et<At;Et++)ft(gt,Et*4,xt,Et*4);yt=xt,vt=HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:pt,height:mt,data:yt,header:dt.string,gamma:dt.gamma,exposure:dt.exposure,format:_t,type:vt}}}return null}setDataType(g){return this.type=g,this}load(g,b,$,_e){function et(tt,nt){switch(tt.type){case FloatType:tt.encoding=LinearEncoding,tt.minFilter=LinearFilter,tt.magFilter=LinearFilter,tt.generateMipmaps=!1,tt.flipY=!0;break;case HalfFloatType:tt.encoding=LinearEncoding,tt.minFilter=LinearFilter,tt.magFilter=LinearFilter,tt.generateMipmaps=!1,tt.flipY=!0;break}b&&b(tt,nt)}return super.load(g,et,$,_e)}}const _taskCache$1=new WeakMap;class DRACOLoader extends Loader{constructor(g){super(g),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(g){return this.decoderPath=g,this}setDecoderConfig(g){return this.decoderConfig=g,this}setWorkerLimit(g){return this.workerLimit=g,this}load(g,b,$,_e){const et=new FileLoader(this.manager);et.setPath(this.path),et.setResponseType("arraybuffer"),et.setRequestHeader(this.requestHeader),et.setWithCredentials(this.withCredentials),et.load(g,tt=>{const nt={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(tt,nt).then(b).catch(_e)},$,_e)}decodeDracoFile(g,b,$,_e){const et={attributeIDs:$||this.defaultAttributeIDs,attributeTypes:_e||this.defaultAttributeTypes,useUniqueIDs:!!$};this.decodeGeometry(g,et).then(b)}decodeGeometry(g,b){for(const rt in b.attributeTypes){const it=b.attributeTypes[rt];it.BYTES_PER_ELEMENT!==void 0&&(b.attributeTypes[rt]=it.name)}const $=JSON.stringify(b);if(_taskCache$1.has(g)){const rt=_taskCache$1.get(g);if(rt.key===$)return rt.promise;if(g.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let _e;const et=this.workerNextTaskID++,tt=g.byteLength,nt=this._getWorker(et,tt).then(rt=>(_e=rt,new Promise((it,ot)=>{_e._callbacks[et]={resolve:it,reject:ot},_e.postMessage({type:"decode",id:et,taskConfig:b,buffer:g},[g])}))).then(rt=>this._createGeometry(rt.geometry));return nt.catch(()=>!0).then(()=>{_e&&et&&this._releaseTask(_e,et)}),_taskCache$1.set(g,{key:$,promise:nt}),nt}_createGeometry(g){const b=new BufferGeometry;g.index&&b.setIndex(new BufferAttribute(g.index.array,1));for(let $=0;$<g.attributes.length;$++){const _e=g.attributes[$],et=_e.name,tt=_e.array,nt=_e.itemSize;b.setAttribute(et,new BufferAttribute(tt,nt))}return b}_loadLibrary(g,b){const $=new FileLoader(this.manager);return $.setPath(this.decoderPath),$.setResponseType(b),$.setWithCredentials(this.withCredentials),new Promise((_e,et)=>{$.load(g,_e,void 0,et)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const g=typeof WebAssembly!="object"||this.decoderConfig.type==="js",b=[];return g?b.push(this._loadLibrary("draco_decoder.js","text")):(b.push(this._loadLibrary("draco_wasm_wrapper.js","text")),b.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(b).then($=>{const _e=$[0];g||(this.decoderConfig.wasmBinary=$[1]);const et=DRACOWorker.toString(),tt=["/* draco decoder */",_e,"","/* worker */",et.substring(et.indexOf("{")+1,et.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([tt]))}),this.decoderPending}_getWorker(g,b){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const _e=new Worker(this.workerSourceURL);_e._callbacks={},_e._taskCosts={},_e._taskLoad=0,_e.postMessage({type:"init",decoderConfig:this.decoderConfig}),_e.onmessage=function(et){const tt=et.data;switch(tt.type){case"decode":_e._callbacks[tt.id].resolve(tt);break;case"error":_e._callbacks[tt.id].reject(tt);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+tt.type+'"')}},this.workerPool.push(_e)}else this.workerPool.sort(function(_e,et){return _e._taskLoad>et._taskLoad?-1:1});const $=this.workerPool[this.workerPool.length-1];return $._taskCosts[g]=b,$._taskLoad+=b,$})}_releaseTask(g,b){g._taskLoad-=g._taskCosts[b],delete g._callbacks[b],delete g._taskCosts[b]}debug(){console.log("Task load: ",this.workerPool.map(g=>g._taskLoad))}dispose(){for(let g=0;g<this.workerPool.length;++g)this.workerPool[g].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let j,g;onmessage=function(tt){const nt=tt.data;switch(nt.type){case"init":j=nt.decoderConfig,g=new Promise(function(ot){j.onModuleLoaded=function(st){ot({draco:st})},DracoDecoderModule(j)});break;case"decode":const rt=nt.buffer,it=nt.taskConfig;g.then(ot=>{const st=ot.draco,at=new st.Decoder,lt=new st.DecoderBuffer;lt.Init(new Int8Array(rt),rt.byteLength);try{const ut=b(st,at,lt,it),ct=ut.attributes.map(ft=>ft.array.buffer);ut.index&&ct.push(ut.index.array.buffer),self.postMessage({type:"decode",id:nt.id,geometry:ut},ct)}catch(ut){console.error(ut),self.postMessage({type:"error",id:nt.id,error:ut.message})}finally{st.destroy(lt),st.destroy(at)}});break}};function b(tt,nt,rt,it){const ot=it.attributeIDs,st=it.attributeTypes;let at,lt;const ut=nt.GetEncodedGeometryType(rt);if(ut===tt.TRIANGULAR_MESH)at=new tt.Mesh,lt=nt.DecodeBufferToMesh(rt,at);else if(ut===tt.POINT_CLOUD)at=new tt.PointCloud,lt=nt.DecodeBufferToPointCloud(rt,at);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!lt.ok()||at.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+lt.error_msg());const ct={index:null,attributes:[]};for(const ft in ot){const ht=self[st[ft]];let dt,pt;if(it.useUniqueIDs)pt=ot[ft],dt=nt.GetAttributeByUniqueId(at,pt);else{if(pt=nt.GetAttributeId(at,tt[ot[ft]]),pt===-1)continue;dt=nt.GetAttribute(at,pt)}ct.attributes.push(_e(tt,nt,at,ft,ht,dt))}return ut===tt.TRIANGULAR_MESH&&(ct.index=$(tt,nt,at)),tt.destroy(at),ct}function $(tt,nt,rt){const ot=rt.num_faces()*3,st=ot*4,at=tt._malloc(st);nt.GetTrianglesUInt32Array(rt,st,at);const lt=new Uint32Array(tt.HEAPF32.buffer,at,ot).slice();return tt._free(at),{array:lt,itemSize:1}}function _e(tt,nt,rt,it,ot,st){const at=st.num_components(),ut=rt.num_points()*at,ct=ut*ot.BYTES_PER_ELEMENT,ft=et(tt,ot),ht=tt._malloc(ct);nt.GetAttributeDataArrayForAllPoints(rt,st,ft,ct,ht);const dt=new ot(tt.HEAPF32.buffer,ht,ut).slice();return tt._free(ht),{name:it,array:dt,itemSize:at}}function et(tt,nt){switch(nt){case Float32Array:return tt.DT_FLOAT32;case Int8Array:return tt.DT_INT8;case Int16Array:return tt.DT_INT16;case Int32Array:return tt.DT_INT32;case Uint8Array:return tt.DT_UINT8;case Uint16Array:return tt.DT_UINT16;case Uint32Array:return tt.DT_UINT32}}}class WorkerPool{constructor(g=4){this.pool=g,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(g){if(!this.workers[g]){const b=this.workerCreator();b.addEventListener("message",this._onMessage.bind(this,g)),this.workers[g]=b}}_getIdleWorker(){for(let g=0;g<this.pool;g++)if(!(this.workerStatus&1<<g))return g;return-1}_onMessage(g,b){const $=this.workersResolve[g];if($&&$(b),this.queue.length){const{resolve:_e,msg:et,transfer:tt}=this.queue.shift();this.workersResolve[g]=_e,this.workers[g].postMessage(et,tt)}else this.workerStatus^=1<<g}setWorkerCreator(g){this.workerCreator=g}setWorkerLimit(g){this.pool=g}postMessage(g,b){return new Promise($=>{const _e=this._getIdleWorker();_e!==-1?(this._initWorker(_e),this.workerStatus|=1<<_e,this.workersResolve[_e]=$,this.workers[_e].postMessage(g,b)):this.queue.push({resolve:$,msg:g,transfer:b})})}dispose(){this.workers.forEach(g=>g.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const KTX2TransferSRGB=2,KTX2_ALPHA_PREMULTIPLIED=1,_taskCache=new WeakMap;let _activeLoaders=0;class KTX2Loader extends Loader{constructor(g){super(g),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new WorkerPool,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER!="undefined"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(g){return this.transcoderPath=g,this}setWorkerLimit(g){return this.workerPool.setWorkerLimit(g),this}detectSupport(g){return this.workerConfig={astcSupported:g.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:g.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:g.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:g.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:g.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:g.extensions.has("WEBGL_compressed_texture_pvrtc")||g.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},g.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const g=new FileLoader(this.manager);g.setPath(this.transcoderPath),g.setWithCredentials(this.withCredentials);const b=g.loadAsync("basis_transcoder.js"),$=new FileLoader(this.manager);$.setPath(this.transcoderPath),$.setResponseType("arraybuffer"),$.setWithCredentials(this.withCredentials);const _e=$.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([b,_e]).then(([et,tt])=>{const nt=KTX2Loader.BasisWorker.toString(),rt=["/* constants */","let _EngineFormat = "+JSON.stringify(KTX2Loader.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(KTX2Loader.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(KTX2Loader.BasisFormat),"/* basis_transcoder.js */",et,"/* worker */",nt.substring(nt.indexOf("{")+1,nt.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([rt])),this.transcoderBinary=tt,this.workerPool.setWorkerCreator(()=>{const it=new Worker(this.workerSourceURL),ot=this.transcoderBinary.slice(0);return it.postMessage({type:"init",config:this.workerConfig,transcoderBinary:ot},[ot]),it})}),_activeLoaders>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),_activeLoaders++}return this.transcoderPending}load(g,b,$,_e){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const et=new FileLoader(this.manager);et.setResponseType("arraybuffer"),et.setWithCredentials(this.withCredentials);const tt=new CompressedTexture;return et.load(g,nt=>{if(_taskCache.has(nt))return _taskCache.get(nt).promise.then(b).catch(_e);this._createTexture([nt]).then(function(rt){tt.copy(rt),tt.needsUpdate=!0,b&&b(tt)}).catch(_e)},$,_e),tt}_createTextureFrom(g){const{mipmaps:b,width:$,height:_e,format:et,type:tt,error:nt,dfdTransferFn:rt,dfdFlags:it}=g;if(tt==="error")return Promise.reject(nt);const ot=new CompressedTexture(b,$,_e,et,UnsignedByteType);return ot.minFilter=b.length===1?LinearFilter:LinearMipmapLinearFilter,ot.magFilter=LinearFilter,ot.generateMipmaps=!1,ot.needsUpdate=!0,ot.encoding=rt===KTX2TransferSRGB?sRGBEncoding:LinearEncoding,ot.premultiplyAlpha=!!(it&KTX2_ALPHA_PREMULTIPLIED),ot}_createTexture(g,b={}){const $=b,_e=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffers:g,taskConfig:$},g)).then(et=>this._createTextureFrom(et.data));return _taskCache.set(g[0],{promise:_e}),_e}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),_activeLoaders--,this}}KTX2Loader.BasisFormat={ETC1S:0,UASTC_4x4:1};KTX2Loader.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16};KTX2Loader.EngineFormat={RGBAFormat,RGBA_ASTC_4x4_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format};KTX2Loader.BasisWorker=function(){let j,g,b;const $=_EngineFormat,_e=_TranscoderFormat,et=_BasisFormat;self.addEventListener("message",function(lt){const ut=lt.data;switch(ut.type){case"init":j=ut.config,tt(ut.transcoderBinary);break;case"transcode":g.then(()=>{try{const{width:ct,height:ft,hasAlpha:ht,mipmaps:dt,format:pt,dfdTransferFn:mt,dfdFlags:gt}=nt(ut.buffers[0]),yt=[];for(let _t=0;_t<dt.length;++_t)yt.push(dt[_t].data.buffer);self.postMessage({type:"transcode",id:ut.id,width:ct,height:ft,hasAlpha:ht,mipmaps:dt,format:pt,dfdTransferFn:mt,dfdFlags:gt},yt)}catch(ct){console.error(ct),self.postMessage({type:"error",id:ut.id,error:ct.message})}});break}});function tt(lt){g=new Promise(ut=>{b={wasmBinary:lt,onRuntimeInitialized:ut},BASIS(b)}).then(()=>{b.initializeBasis(),b.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function nt(lt){const ut=new b.KTX2File(new Uint8Array(lt));function ct(){ut.close(),ut.delete()}if(!ut.isValid())throw ct(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const ft=ut.isUASTC()?et.UASTC_4x4:et.ETC1S,ht=ut.getWidth(),dt=ut.getHeight(),pt=ut.getLevels(),mt=ut.getHasAlpha(),gt=ut.getDFDTransferFunc(),yt=ut.getDFDFlags(),{transcoderFormat:_t,engineFormat:vt}=st(ft,ht,dt,mt);if(!ht||!dt||!pt)throw ct(),new Error("THREE.KTX2Loader:	Invalid texture");if(!ut.startTranscoding())throw ct(),new Error("THREE.KTX2Loader: .startTranscoding failed");const At=[];for(let bt=0;bt<pt;bt++){const xt=ut.getImageLevelInfo(bt,0,0),Et=xt.origWidth,Mt=xt.origHeight,Tt=new Uint8Array(ut.getImageTranscodedSizeInBytes(bt,0,0,_t));if(!ut.transcodeImage(Tt,bt,0,0,_t,0,-1,-1))throw ct(),new Error("THREE.KTX2Loader: .transcodeImage failed.");At.push({data:Tt,width:Et,height:Mt})}return ct(),{width:ht,height:dt,hasAlpha:mt,mipmaps:At,format:vt,dfdTransferFn:gt,dfdFlags:yt}}const rt=[{if:"astcSupported",basisFormat:[et.UASTC_4x4],transcoderFormat:[_e.ASTC_4x4,_e.ASTC_4x4],engineFormat:[$.RGBA_ASTC_4x4_Format,$.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[et.ETC1S,et.UASTC_4x4],transcoderFormat:[_e.BC7_M5,_e.BC7_M5],engineFormat:[$.RGBA_BPTC_Format,$.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[et.ETC1S,et.UASTC_4x4],transcoderFormat:[_e.BC1,_e.BC3],engineFormat:[$.RGB_S3TC_DXT1_Format,$.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[et.ETC1S,et.UASTC_4x4],transcoderFormat:[_e.ETC1,_e.ETC2],engineFormat:[$.RGB_ETC2_Format,$.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[et.ETC1S,et.UASTC_4x4],transcoderFormat:[_e.ETC1],engineFormat:[$.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[et.ETC1S,et.UASTC_4x4],transcoderFormat:[_e.PVRTC1_4_RGB,_e.PVRTC1_4_RGBA],engineFormat:[$.RGB_PVRTC_4BPPV1_Format,$.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],it=rt.sort(function(lt,ut){return lt.priorityETC1S-ut.priorityETC1S}),ot=rt.sort(function(lt,ut){return lt.priorityUASTC-ut.priorityUASTC});function st(lt,ut,ct,ft){let ht,dt;const pt=lt===et.ETC1S?it:ot;for(let mt=0;mt<pt.length;mt++){const gt=pt[mt];if(!!j[gt.if]&&!!gt.basisFormat.includes(lt)&&!(ft&&gt.transcoderFormat.length<2)&&!(gt.needsPowerOfTwo&&!(at(ut)&&at(ct))))return ht=gt.transcoderFormat[ft?1:0],dt=gt.engineFormat[ft?1:0],{transcoderFormat:ht,engineFormat:dt}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),ht=_e.RGBA32,dt=$.RGBAFormat,{transcoderFormat:ht,engineFormat:dt}}function at(lt){return lt<=2?!0:(lt&lt-1)===0&&lt!==0}};var MeshoptDecoder=function(){var j="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",g="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",b=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),$=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};var _e=j;WebAssembly.validate(b)&&(_e=g,console.log("Warning: meshopt_decoder is using experimental SIMD support"));var et,tt=WebAssembly.instantiate(nt(_e),{}).then(function(st){et=st.instance,et.exports.__wasm_call_ctors()});function nt(st){for(var at=new Uint8Array(st.length),lt=0;lt<st.length;++lt){var ut=st.charCodeAt(lt);at[lt]=ut>96?ut-71:ut>64?ut-65:ut>47?ut+4:ut>46?63:62}for(var ct=0,lt=0;lt<st.length;++lt)at[ct++]=at[lt]<60?$[at[lt]]:(at[lt]-60)*64+at[++lt];return at.buffer.slice(0,ct)}function rt(st,at,lt,ut,ct,ft){var ht=et.exports.sbrk,dt=lt+3&-4,pt=ht(dt*ut),mt=ht(ct.length),gt=new Uint8Array(et.exports.memory.buffer);gt.set(ct,mt);var yt=st(pt,lt,ut,mt,ct.length);if(yt==0&&ft&&ft(pt,dt,ut),at.set(gt.subarray(pt,pt+lt*ut)),ht(pt-ht(0)),yt!=0)throw new Error("Malformed buffer data: "+yt)}var it={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ot={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:tt,supported:!0,decodeVertexBuffer:function(st,at,lt,ut,ct){rt(et.exports.meshopt_decodeVertexBuffer,st,at,lt,ut,et.exports[it[ct]])},decodeIndexBuffer:function(st,at,lt,ut){rt(et.exports.meshopt_decodeIndexBuffer,st,at,lt,ut)},decodeIndexSequence:function(st,at,lt,ut){rt(et.exports.meshopt_decodeIndexSequence,st,at,lt,ut)},decodeGltfBuffer:function(st,at,lt,ut,ct,ft){rt(et.exports[ot[ct]],st,at,lt,ut,et.exports[it[ft]])}}}();class LoaderService extends EventEmitter$1{constructor(){super()}updatePercent(g){this.emit("percent",g)}}const loaderService=new LoaderService,log$9=debug("front:3D:AssetManager"),BASE_PATH=sceneConfig.assets3dBasePath,BASE64_PLACEHOLDER_IMAGE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=";var EAssetManagerEvents=(j=>(j.LOADED="loaded",j.START="start",j))(EAssetManagerEvents||{});const LoaderType={gltf:GLTFLoader,draco:DRACOLoader,video:VideoTextureLoader,image:TextureLoader,hdr:RGBELoader,ktx2:KTX2Loader,ttf:TTFLoader};class AssetManager extends EventEmitter$1{constructor(){super();sn(this,"_assets");sn(this,"_staticLoadersBasePath");sn(this,"_renderer");sn(this,"_loaderInstances",{});sn(this,"loadingManager");window.__ASSET_MANAGER__=this}get assets(){return this._assets}init({renderer:b,staticLoadersBasePath:$}){this._staticLoadersBasePath=$,this._renderer=b}load(b){const $=Array.isArray(b)?b:[b];this._assets=[],this._loaderInstances={};const _e=this._getLoadingManager(),et=new Image;return et.src=BASE64_PLACEHOLDER_IMAGE,new Promise((tt,nt)=>{$.forEach(rt=>{const it=this._getFileTypeFromAsset(rt.path);if(!(it in this._loaderInstances)){const at=new LoaderType[it](_e);switch(it){case"gltf":this._setGLTFSideLoaders(at);break;case"ktx2":this._setKTX2LoaderDependencies(at,this._renderer);break}this._loaderInstances[it]=at}this._loaderInstances[it]||console.error("Three Loader model type not found from",it),this._assets.push(rt);const ot=this._getFileUrl(rt.path),st=this._getFileId(rt);this._loaderInstances[it].load(ot,at=>{rt.data=at,rt.id=st,rt.type=it},at=>{},at=>{console.error(`Failed to load asset type ${it}: ${at}`),it==="image"&&(rt.data=new Texture(et))})}),_e.onStart=function(rt,it,ot){log$9("Started loading file: "+rt+`.
Loaded `+it+" of "+ot+" files."),this.emit("start",{url:rt,itemsLoaded:it,itemsTotal:ot})},_e.onLoad=()=>{log$9("All assets loaded"),tt(this._assets),this.emit("loaded",!0)},_e.onProgress=(rt,it,ot)=>{loaderService.updatePercent(Math.round(it/ot*100))},_e.onError=rt=>{console.error("There was an error loading "+rt),nt(rt)}})}_getLoadingManager(){return this.loadingManager||(this.loadingManager=new LoadingManager),this.loadingManager}getAsset(b){return this._assets.find($=>$.id===b)||null}_getFileTypeFromAsset(b){const $=b.split(".").pop();switch($){case"gltf":return"gltf";case"glb":return"gltf";case"drc":return"draco";case"png":return"image";case"jpg":return"image";case"jpeg":return"image";case"gif":return"image";case"dds":return"image";case"webp":return"image";case"hdr":return"hdr";case"ktx2":return"ktx2";case"webm":return"video";case"mp4":return"video";case"ttf":return"ttf";default:console.error(`AssetManager - Unknown file type: ${$}`)}}_getFileUrl(b){return b.indexOf("http://")===0||b.indexOf("https://")===0||b.includes(BASE_PATH)?b:"/"+pathJoin(BASE_PATH,b)}_getFileId(b){const $=b.path.split("/").pop();return b.id||$.split(".").shift()}_setGLTFSideLoaders(b){const $=this._getDracoLoader(),_e=this._getBasisLoader(this._renderer);b.setCrossOrigin("anonymous").setDRACOLoader($).setKTX2Loader(_e).setMeshoptDecoder(MeshoptDecoder)}_setKTX2LoaderDependencies(b,$){b.setTranscoderPath(pathJoin(this._staticLoadersBasePath,"/basis")+"/").detectSupport($)}_getDracoLoader(){const b="draco"in this._loaderInstances?this._loaderInstances.draco:new DRACOLoader,$=pathJoin(this._staticLoadersBasePath,"/draco/")+"/";return b.setDecoderPath($),b.setDecoderConfig({type:"js"}),b}_getBasisLoader(b){const $="ktx2"in this._loaderInstances?this._loaderInstances.ktx2:new KTX2Loader;return this._setKTX2LoaderDependencies($,b),this._loaderInstances.ktx2=$,$}}var AssetManager$1=new AssetManager;const _face=new Triangle,_color=new Vector3;class MeshSurfaceSampler{constructor(g){let b=g.geometry;if(!b.isBufferGeometry||b.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");b.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),b=b.toNonIndexed()),this.geometry=b,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(g){return this.weightAttribute=g?this.geometry.getAttribute(g):null,this}build(){const g=this.positionAttribute,b=this.weightAttribute,$=new Float32Array(g.count/3);for(let et=0;et<g.count;et+=3){let tt=1;b&&(tt=b.getX(et)+b.getX(et+1)+b.getX(et+2)),_face.a.fromBufferAttribute(g,et),_face.b.fromBufferAttribute(g,et+1),_face.c.fromBufferAttribute(g,et+2),tt*=_face.getArea(),$[et/3]=tt}this.distribution=new Float32Array(g.count/3);let _e=0;for(let et=0;et<$.length;et++)_e+=$[et],this.distribution[et]=_e;return this}setRandomGenerator(g){return this.randomFunction=g,this}sample(g,b,$){const _e=this.distribution[this.distribution.length-1],et=this.binarySearch(this.randomFunction()*_e);return this.sampleFace(et,g,b,$)}binarySearch(g){const b=this.distribution;let $=0,_e=b.length-1,et=-1;for(;$<=_e;){const tt=Math.ceil(($+_e)/2);if(tt===0||b[tt-1]<=g&&b[tt]>g){et=tt;break}else g<b[tt]?_e=tt-1:$=tt+1}return et}sampleFace(g,b,$,_e){let et=this.randomFunction(),tt=this.randomFunction();return et+tt>1&&(et=1-et,tt=1-tt),_face.a.fromBufferAttribute(this.positionAttribute,g*3),_face.b.fromBufferAttribute(this.positionAttribute,g*3+1),_face.c.fromBufferAttribute(this.positionAttribute,g*3+2),b.set(0,0,0).addScaledVector(_face.a,et).addScaledVector(_face.b,tt).addScaledVector(_face.c,1-(et+tt)),$!==void 0&&_face.getNormal($),_e!==void 0&&this.colorAttribute!==void 0&&(_face.a.fromBufferAttribute(this.colorAttribute,g*3),_face.b.fromBufferAttribute(this.colorAttribute,g*3+1),_face.c.fromBufferAttribute(this.colorAttribute,g*3+2),_color.set(0,0,0).addScaledVector(_face.a,et).addScaledVector(_face.b,tt).addScaledVector(_face.c,1-(et+tt)),_e.r=_color.x,_e.g=_color.y,_e.b=_color.z),this}}const componentName$m="BaseSceneObject";var ESceneObjectEvents=(j=>(j.CLICK="click",j.MOUSEENTER="mouseenter",j.MOUSELEAVE="mouseleave",j))(ESceneObjectEvents||{});class BaseSceneObject extends Object3D{constructor(b=!0){super();sn(this,"subject");sn(this,"events");sn(this,"geometry");sn(this,"material");sn(this,"_isDebug",!1);sn(this,"componentName");sn(this,"_isPaused");sn(this,"_isInteractive",!1);this.componentName=componentName$m,b&&this.init(),this.initEvents()}get isDebug(){return this._isDebug}set isDebug(b){this._isDebug=b}get isPaused(){return this._isPaused}set isPaused(b){this._isPaused=b}get isInteractive(){return this._isInteractive}set isInteractive(b){this._isInteractive=b}init(){this.createSubject(),this.add(this.subject)}initEvents(){this.events=new EventEmitter$1,this.events.on("click",this.onClick.bind(this)),this.events.on("mouseenter",this.onMouseEnter.bind(this)),this.events.on("mouseleave",this.onMouseLeave.bind(this))}createSubject(){this.subject=new Mesh}onClick(b){}onMouseEnter(b){}onMouseLeave(b){}findObjectByName(b,$=null,_e=!1){let et=null;if($=$||this.subject,!!$)return $.traverse(tt=>{tt.name===b&&(et=tt)}),et!=null&&!et.hasOwnProperty("isMesh")&&et.children.length===1&&et.children[0].name.includes("mesh_")&&(et=_e?et:et.children[0]),et}loop(b,$){this._isPaused}}const componentName$l="GrassField";debug(`front:3D:${componentName$l}`);class GrassField extends BaseSceneObject{constructor({mesh:b,quantity:$=35e3,color:_e=65280,scaleY:et=1,isCorn:tt=!1}){super(!1);sn(this,"isMoving",!0);this.quantity=$,this.surfaceMesh=b,this.color=_e,this.scaleY=et,this.isCorn=tt,this.init()}_getBladeGeometry(){const $=this.isCorn?.04000000000000001:.08000000000000002,_e=new Shape;let et;_e.moveTo(0,0),_e.lineTo($,0),this.isCorn?(_e.lineTo($*.7,.8),_e.lineTo($*.3,.8)):(_e.lineTo($*.52,.8),_e.lineTo($*.48,.8)),_e.lineTo(0,0),et=new ShapeGeometry(_e);let tt=this.surfaceMesh.scale.clone();return et.scale(1/tt.x,1/tt.y,1/tt.z),et.scale(1,this.scaleY,1),et}_getMaterial(){const $=`
      varying vec2 vUv;
      uniform float time;

      
      float N (vec2 st) { // https://thebookofshaders.com/10/
          return fract( sin( dot( st.xy, vec2(12.9898,78.233 ) ) ) *  43758.5453123);
      }
      
      float smoothNoise( vec2 ip ){ // https://www.youtube.com/watch?v=zXsWftRdsvU
        vec2 lv = fract( ip );
        vec2 id = floor( ip );
        
        lv = lv * lv * ( 3. - 2. * lv );
        
        float bl = N( id );
        float br = N( id + vec2( 1, 0 ));
        float b = mix( bl, br, lv.x );
        
        float tl = N( id + vec2( 0, 1 ));
        float tr = N( id + vec2( 1, 1 ));
        float t = mix( tl, tr, lv.x );
        
        return mix( b, t, lv.y );
      }
    

      void main() {

        vUv = uv;
        float t = time * 2.;
        
        // VERTEX POSITION
        
        vec4 mvPosition = vec4( position, 1.0 );
        #ifdef USE_INSTANCING
          mvPosition = instanceMatrix * mvPosition;
        #endif
        
        // DISPLACEMENT
        
        //float noise = smoothNoise(mvPosition.xz * 0.025 + vec2(0., t));
        //noise = pow(noise * 0.5 + 0.5, 2.) * 30.;
        
        // here the displacement is made stronger on the blades tips.
        //float dispPower = 1. - cos( uv.y * 3.1416 * 0.4);
        
        //float displacement = noise * ( 0.3 * dispPower );
        //mvPosition.x += displacement;

        float noise = smoothNoise(mvPosition.xz * .006 + vec2(0., t * .32));
        noise = pow(noise * 0.25 + 0.25, 2.) * 200. - 50.;
      
        // here the displacement is made stronger on the blades tips.
        float dispPower = 1. - cos( uv.y * 3.1416 * 0.4);
      
        float displacement = noise * ( 0.7 * dispPower );
        mvPosition.x += displacement;

        vec4 modelViewPosition = modelViewMatrix * mvPosition;
        gl_Position = projectionMatrix * modelViewPosition;

      }
      `;let _e=`
      varying vec2 vUv;
      uniform vec3 baseColor;
      //  0.557, 0.549, 0.192 

      void main() {
        // vec3 baseColor = vec3( 0.7, 0.85, 0.2 );
        // float clarity = ( vUv.y * 0.875 ) + 0.125;
        float clarity = ( vUv.y * 0.75 ) + 0.25;
        gl_FragColor = vec4( baseColor * clarity, 1 );
      }
      `;this.isCorn&&(_e=`
        varying vec2 vUv;
        uniform vec3 baseColor;
        //  0.557, 0.549, 0.192 

        void main() {
          // vec3 baseColor = vec3( 0.7, 0.85, 0.2 );
          // float clarity = ( vUv.y * 0.875 ) + 0.125;
          float clarity = ( vUv.y * 0.5 ) + 0.5;
          gl_FragColor = vec4( baseColor * clarity, 1 );
        }
        `);const et={time:{value:0},baseColor:{value:new Color(this.color)}};return new ShaderMaterial({vertexShader:$,fragmentShader:_e,uniforms:et,side:DoubleSide})}init(){this.clock=new Clock;const b=new Object3D,$=this._getBladeGeometry(),_e=this._getMaterial(),et=new InstancedMesh($,_e,this.quantity),tt=new MeshSurfaceSampler(this.surfaceMesh).build();for(let nt=0;nt<this.quantity;nt++)tt.sample(b.position),b.scale.y=Math.random()*.4+.6,this.isCorn||(b.rotation.x=(Math.random()-.5)*Math.PI*.3),b.rotation.z=(Math.random()-.5)*Math.PI*.1,b.rotation.y=(Math.random()-.5)*Math.PI*.1,b.updateMatrix(),et.setMatrixAt(nt,b.matrix);et.instanceMatrix.needsUpdate=!0,this.surfaceMesh.add(et),this.material=_e}loop(b,$){this.material&&this.isMoving&&(this.material.uniforms.time.value=this.clock.getElapsedTime(),this.material.uniformsNeedUpdate=!0)}}class Reflector extends Mesh{constructor(g,b={}){super(g),this.type="Reflector";const $=this,_e=b.color!==void 0?new Color(b.color):new Color(8355711),et=b.textureWidth||512,tt=b.textureHeight||512,nt=b.clipBias||0,rt=b.shader||Reflector.ReflectorShader,it=b.multisample!==void 0?b.multisample:4,ot=new Plane,st=new Vector3,at=new Vector3,lt=new Vector3,ut=new Matrix4,ct=new Vector3(0,0,-1),ft=new Vector4,ht=new Vector3,dt=new Vector3,pt=new Vector4,mt=new Matrix4,gt=new PerspectiveCamera,yt=new WebGLRenderTarget(et,tt,{samples:it}),_t=new ShaderMaterial({uniforms:UniformsUtils.clone(rt.uniforms),fragmentShader:rt.fragmentShader,vertexShader:rt.vertexShader});_t.uniforms.tDiffuse.value=yt.texture,_t.uniforms.color.value=_e,_t.uniforms.textureMatrix.value=mt,this.material=_t,this.onBeforeRender=function(vt,At,bt){if(at.setFromMatrixPosition($.matrixWorld),lt.setFromMatrixPosition(bt.matrixWorld),ut.extractRotation($.matrixWorld),st.set(0,0,1),st.applyMatrix4(ut),ht.subVectors(at,lt),ht.dot(st)>0)return;ht.reflect(st).negate(),ht.add(at),ut.extractRotation(bt.matrixWorld),ct.set(0,0,-1),ct.applyMatrix4(ut),ct.add(lt),dt.subVectors(at,ct),dt.reflect(st).negate(),dt.add(at),gt.position.copy(ht),gt.up.set(0,1,0),gt.up.applyMatrix4(ut),gt.up.reflect(st),gt.lookAt(dt),gt.far=bt.far,gt.updateMatrixWorld(),gt.projectionMatrix.copy(bt.projectionMatrix),mt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),mt.multiply(gt.projectionMatrix),mt.multiply(gt.matrixWorldInverse),mt.multiply($.matrixWorld),ot.setFromNormalAndCoplanarPoint(st,at),ot.applyMatrix4(gt.matrixWorldInverse),ft.set(ot.normal.x,ot.normal.y,ot.normal.z,ot.constant);const xt=gt.projectionMatrix;pt.x=(Math.sign(ft.x)+xt.elements[8])/xt.elements[0],pt.y=(Math.sign(ft.y)+xt.elements[9])/xt.elements[5],pt.z=-1,pt.w=(1+xt.elements[10])/xt.elements[14],ft.multiplyScalar(2/ft.dot(pt)),xt.elements[2]=ft.x,xt.elements[6]=ft.y,xt.elements[10]=ft.z+1-nt,xt.elements[14]=ft.w,yt.texture.encoding=vt.outputEncoding,$.visible=!1;const Et=vt.getRenderTarget(),Mt=vt.xr.enabled,Tt=vt.shadowMap.autoUpdate;vt.xr.enabled=!1,vt.shadowMap.autoUpdate=!1,vt.setRenderTarget(yt),vt.state.buffers.depth.setMask(!0),vt.autoClear===!1&&vt.clear(),vt.render(At,gt),vt.xr.enabled=Mt,vt.shadowMap.autoUpdate=Tt,vt.setRenderTarget(Et);const Lt=bt.viewport;Lt!==void 0&&vt.state.viewport(Lt),$.visible=!0},this.getRenderTarget=function(){return yt},this.dispose=function(){yt.dispose(),$.material.dispose()}}}Reflector.prototype.isReflector=!0;Reflector.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

		}`};class Refractor extends Mesh{constructor(g,b={}){super(g),this.type="Refractor";const $=this,_e=b.color!==void 0?new Color(b.color):new Color(8355711),et=b.textureWidth||512,tt=b.textureHeight||512,nt=b.clipBias||0,rt=b.shader||Refractor.RefractorShader,it=b.multisample!==void 0?b.multisample:4,ot=new PerspectiveCamera;ot.matrixAutoUpdate=!1,ot.userData.refractor=!0;const st=new Plane,at=new Matrix4,lt=new WebGLRenderTarget(et,tt,{samples:it});this.material=new ShaderMaterial({uniforms:UniformsUtils.clone(rt.uniforms),vertexShader:rt.vertexShader,fragmentShader:rt.fragmentShader,transparent:!0}),this.material.uniforms.color.value=_e,this.material.uniforms.tDiffuse.value=lt.texture,this.material.uniforms.textureMatrix.value=at;const ut=function(){const pt=new Vector3,mt=new Vector3,gt=new Matrix4,yt=new Vector3,_t=new Vector3;return function(At){return pt.setFromMatrixPosition($.matrixWorld),mt.setFromMatrixPosition(At.matrixWorld),yt.subVectors(pt,mt),gt.extractRotation($.matrixWorld),_t.set(0,0,1),_t.applyMatrix4(gt),yt.dot(_t)<0}}(),ct=function(){const pt=new Vector3,mt=new Vector3,gt=new Quaternion,yt=new Vector3;return function(){$.matrixWorld.decompose(mt,gt,yt),pt.set(0,0,1).applyQuaternion(gt).normalize(),pt.negate(),st.setFromNormalAndCoplanarPoint(pt,mt)}}(),ft=function(){const pt=new Plane,mt=new Vector4,gt=new Vector4;return function(_t){ot.matrixWorld.copy(_t.matrixWorld),ot.matrixWorldInverse.copy(ot.matrixWorld).invert(),ot.projectionMatrix.copy(_t.projectionMatrix),ot.far=_t.far,pt.copy(st),pt.applyMatrix4(ot.matrixWorldInverse),mt.set(pt.normal.x,pt.normal.y,pt.normal.z,pt.constant);const vt=ot.projectionMatrix;gt.x=(Math.sign(mt.x)+vt.elements[8])/vt.elements[0],gt.y=(Math.sign(mt.y)+vt.elements[9])/vt.elements[5],gt.z=-1,gt.w=(1+vt.elements[10])/vt.elements[14],mt.multiplyScalar(2/mt.dot(gt)),vt.elements[2]=mt.x,vt.elements[6]=mt.y,vt.elements[10]=mt.z+1-nt,vt.elements[14]=mt.w}}();function ht(pt){at.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),at.multiply(pt.projectionMatrix),at.multiply(pt.matrixWorldInverse),at.multiply($.matrixWorld)}function dt(pt,mt,gt){$.visible=!1;const yt=pt.getRenderTarget(),_t=pt.xr.enabled,vt=pt.shadowMap.autoUpdate;pt.xr.enabled=!1,pt.shadowMap.autoUpdate=!1,pt.setRenderTarget(lt),pt.autoClear===!1&&pt.clear(),pt.render(mt,ot),pt.xr.enabled=_t,pt.shadowMap.autoUpdate=vt,pt.setRenderTarget(yt);const At=gt.viewport;At!==void 0&&pt.state.viewport(At),$.visible=!0}this.onBeforeRender=function(pt,mt,gt){lt.texture.encoding=pt.outputEncoding,gt.userData.refractor!==!0&&(!ut(gt)||(ct(),ht(gt),ft(gt),dt(pt,mt,gt)))},this.getRenderTarget=function(){return lt},this.dispose=function(){lt.dispose(),$.material.dispose()}}}Refractor.prototype.isRefractor=!0;Refractor.RefractorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

		}`};const waterShaderUniforms={color:{type:"c",value:null},reflectivity:{type:"f",value:0},tReflectionMap:{type:"t",value:null},tRefractionMap:{type:"t",value:null},tNormalMap0:{type:"t",value:null},tNormalMap1:{type:"t",value:null},textureMatrix:{type:"m4",value:null},config:{type:"v4",value:new Vector4}};var waterFrag=`// Water frag extends three js frag shader
#include <common>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
uniform sampler2D tReflectionMap;
uniform sampler2D tRefractionMap;
uniform sampler2D tNormalMap0;
uniform sampler2D tNormalMap1;
#ifdef USE_FLOWMAP
uniform sampler2D tFlowMap;
#else
uniform vec2 flowDirection;
#endif
uniform vec3 color;
uniform float reflectivity;
uniform vec4 config;
varying vec4 vCoord;
varying vec2 vUv;
varying vec3 vToEye;
void main() {
	#include <logdepthbuf_fragment>
    float flowMapOffset0 = config.x;
    float flowMapOffset1 = config.y;
    float halfCycle = config.z;
    float scale = config.w;
    vec3 toEye = normalize(vToEye);
	// determine flow direction
    vec2 flow;
	#ifdef USE_FLOWMAP
    flow = texture2D(tFlowMap, vUv).rg * 2.0 - 1.0;
	#else
    flow = flowDirection;
	#endif
    flow.x *= -1.0;
	// sample normal maps (distort uvs with flowdata)
    vec4 normalColor0 = texture2D(tNormalMap0, (vUv * scale) + flow * flowMapOffset0);
    vec4 normalColor1 = texture2D(tNormalMap1, (vUv * scale) + flow * flowMapOffset1);
	// linear interpolate to get the final normal color
    float flowLerp = abs(halfCycle - flowMapOffset0) / halfCycle;
    vec4 normalColor = mix(normalColor0, normalColor1, flowLerp);
	// calculate normal vector
    vec3 normal = normalize(vec3(normalColor.r * 2.0 - 1.0, normalColor.b, normalColor.g * 2.0 - 1.0));
	// calculate the fresnel term to blend reflection and refraction maps
    float theta = max(dot(toEye, normal), 0.0);
    float reflectance = reflectivity + (1.0 - reflectivity) * pow((1.0 - theta), 5.0);
	// calculate final uv coords
    vec3 coord = vCoord.xyz / vCoord.w;
    vec2 uv = coord.xy + coord.z * normal.xz * 0.05;
    vec4 reflectColor = texture2D(tReflectionMap, vec2(1.0 - uv.x, uv.y));
    vec4 refractColor = texture2D(tRefractionMap, uv);
	// multiply water color with the mix of both textures
    gl_FragColor = vec4(color, 1.0) * mix(refractColor, reflectColor, reflectance);
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,waterVert=`// Water vert extends three js vertex shader
#include <common>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
uniform mat4 textureMatrix;
varying vec4 vCoord;
varying vec2 vUv;
varying vec3 vToEye;
void main() {
    vUv = uv;
    vCoord = textureMatrix * vec4(position, 1.0);
    vec4 worldPosition = modelMatrix * vec4(position, 1.0);
    vToEye = cameraPosition - worldPosition.xyz;
    vec4 mvPosition = viewMatrix * worldPosition; // used in fog_vertex
    gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <fog_vertex>
}`;const eo=class extends Mesh{constructor(b,$={...eo.defaultOptions}){super(b);sn(this,"isWater");this.isWater=!0,this.type="Water";const _e=this,et=$.color!==void 0?new Color($.color):new Color(16777215),tt=$.textureWidth||512,nt=$.textureHeight||512,rt=$.clipBias||0,it=$.flowDirection||new Vector2(1,0),ot=$.flowSpeed||.03,st=$.reflectivity||.01,at=$.scale||1;new TextureLoader;const lt=$.flowMap||void 0,ut=$.normalMap0,ct=$.normalMap1,ft=.15,ht=ft*.5,dt=new Matrix4,pt=new Clock;if(Reflector===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(Refractor===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const mt=new Reflector(b,{textureWidth:tt,textureHeight:nt,clipBias:rt}),gt=new Refractor(b,{textureWidth:tt,textureHeight:nt,clipBias:rt});mt.matrixAutoUpdate=!1,gt.matrixAutoUpdate=!1,this.material=new ShaderMaterial({uniforms:UniformsUtils.merge([UniformsLib.fog,waterShaderUniforms]),vertexShader:waterVert,fragmentShader:waterFrag,transparent:!0,fog:!0}),lt!==void 0?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:lt}):this.material.uniforms.flowDirection={type:"v2",value:it},ut.wrapS=ut.wrapT=RepeatWrapping,ct.wrapS=ct.wrapT=RepeatWrapping,this.material.uniforms.tReflectionMap.value=mt.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=gt.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=ut,this.material.uniforms.tNormalMap1.value=ct,this.material.uniforms.color.value=et,this.material.uniforms.reflectivity.value=st,this.material.uniforms.textureMatrix.value=dt,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=ht,this.material.uniforms.config.value.z=ht,this.material.uniforms.config.value.w=at;function yt(vt){dt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),dt.multiply(vt.projectionMatrix),dt.multiply(vt.matrixWorldInverse),dt.multiply(_e.matrixWorld)}function _t(){const vt=pt.getDelta(),At=_e.material.uniforms.config;At.value.x+=ot*vt,At.value.y=At.value.x+ht,At.value.x>=ft?(At.value.x=0,At.value.y=ht):At.value.y>=ft&&(At.value.y=At.value.y-ft)}this.onBeforeRender=function(vt,At,bt){yt(bt),_t(),_e.visible=!1,mt.matrixWorld.copy(_e.matrixWorld),gt.matrixWorld.copy(_e.matrixWorld),mt.onBeforeRender(vt,At,bt),gt.onBeforeRender(vt,At,bt),_e.visible=!0}}};let WaterMesh=eo;sn(WaterMesh,"defaultOptions");const componentName$k="WaterObject";debug(`front:3D:${componentName$k}`);const defaultParams={color:"#E9F5FF",waterScale:1,flowX:.5,flowY:.5};class WaterObject extends BaseSceneObject{constructor({color:b,waterScale:$,flowX:_e,flowY:et,geometryModel:tt}={}){super(!1);sn(this,"color");sn(this,"flowX");sn(this,"flowY");sn(this,"waterScale");sn(this,"_geometryModel");this.color=b||defaultParams.color,this.waterScale=$||defaultParams.waterScale,this.flowX=_e||defaultParams.flowX,this.flowY=et||defaultParams.flowY,this._geometryModel=tt,this.init()}createSubject(){this.geometry=this._geometryModel||new PlaneGeometry(2.5,2.5,1,1),this.subject=new WaterMesh(this.geometry,{color:this.color,scale:this.waterScale,reflectivity:.01,flowDirection:new Vector2(defaultParams.flowX,defaultParams.flowY),textureWidth:512,textureHeight:512,normalMap0:AssetManager$1.getAsset("water-normal-0").data,normalMap1:AssetManager$1.getAsset("water-normal-1").data}),this.subject.rotation.x=Math.PI*-.5,this.name=componentName$k,this.subject.name=componentName$k+"_subject"}loop(b){super.loop(b)}}const defaulOptions={textureOne:null,textureTwo:null,textureOneScale:1,textureTwoScale:1,textureOneOpacity:1,textureTwoOpacity:1,opacity:1};class BasicTextureStackMaterial extends ShaderMaterial{constructor(g){const b={...defaulOptions,...g};super({uniforms:{tOne:{value:b.textureOne},tSec:{value:b.textureTwo},tOneScale:{value:b.textureOneScale},tSecScale:{value:b.textureTwoScale},tOneOpacity:{value:b.textureOneOpacity},tSecOpacity:{value:b.textureTwoOpacity},opacity:{value:b.opacity}},vertexShader:vertex_shh,fragmentShader:fragment_shh,precision:"highp",transparent:!0})}}const vertex_shh=`
varying vec2 vUv;

void main()
{
    vUv = uv;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;
}`,fragment_shh=`
#ifdef GL_ES
precision highp float;
#endif

uniform sampler2D tOne;
uniform sampler2D tSec;
uniform float tOneScale;
uniform float tSecScale;
uniform float tOneOpacity;
uniform float tSecOpacity;
uniform float opacity;

varying vec2 vUv;

void main(void)
{
    vec4 c;
    vec4 Ca = texture2D(tOne, vUv * tOneScale + (1. - tOneScale) / 2.);
    vec4 Cb = texture2D(tSec, vUv * tSecScale + (1. - tSecScale) / 2.);
    Ca.a = Ca.a * tOneOpacity;
    Cb.a = Cb.a * tSecOpacity;
    c = Ca * Ca.a + Cb * (1.0 - Ca.a);  // blending with alpha
   gl_FragColor= vec4(c.rgb, c.a * opacity);

}
`;function threeDevToolBrowserPlugin(j,g){typeof __THREE_DEVTOOLS__!="undefined"&&(__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:g})),__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:j})))}class PerformanceWatcher{constructor(){sn(this,"_tick",0);sn(this,"_startTime",0);sn(this,"_times",[]);sn(this,"_fpsMin",20);sn(this,"_fps",0);sn(this,"_fpsSum",0);sn(this,"_averageFps",0);sn(this,"_lastAverageFps",0);sn(this,"_framesTestLength",200);sn(this,"_isDebugging",!1);sn(this,"_dom");sn(this,"_performances","HIGH");sn(this,"_isLow",!1);this.reset(),window.addEventListener("keypress",g=>{g.ctrlKey+g.key==="f"&&this._debug()})}_debug(){this._isDebugging||(this._isDebugging=!0,this._dom=document.createElement("div"),document.body.appendChild(this._dom),this._dom.style.position="absolute",this._dom.style.zIndex="1000",this._dom.style.bottom="10px",this._dom.style.left="10px",this._dom.style.color="white",this._dom.style.fontSize="20px",window.Stats=window.Stats||{},function(){var g=document.createElement("script");g.onload=function(){var b=new window.Stats;document.body.appendChild(b.dom),requestAnimationFrame(function $(){b.update(),requestAnimationFrame($)})},g.src="//mrdoob.github.io/stats.js/build/stats.min.js",document.head.appendChild(g)}())}reset(){this._tick=0,this._fps=0,this._fpsSum=0,this._averageFps=0,this._times=[]}start(){this._startTime=(performance||Date).now(),this._tick%this._framesTestLength===0&&(this._lastAverageFps=this._averageFps,this.reset())}end(){const g=(performance||Date).now();for(this._tick+=1,this._times[0]<g-1e3&&this._dom&&(this._dom.innerText=`fps: ${this._fps} - average: ${this._averageFps}`);this._times.length>0&&this._times[0]<=g-1e3;)this._times.shift();this._times.push(g),this._fps=this._times.length,this._fpsSum+=this._fps,this._averageFps=Math.round(this._fpsSum/this._tick)}get isLow(){const g=(this._lastAverageFps||this._averageFps)<this._fpsMin;return this._isLow=this._isLow||g,this._isLow}get performances(){const g=this._lastAverageFps||this._averageFps;return g>30?this._performances="HIGH":g>20?this._performances="MEDIUM":this._performances="LOW",this._performances}}function limitNumberRange(j,g,b){return Math.max(j,Math.min(g,b))}/**
 * postprocessing v6.26.0 build Mon Mar 21 2022
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2022 Raoul van Rschen
 * @license Zlib
 */var shader_default2="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}";function getTextureDecoding(j,g){let b="texel";if(j!==null){const $=Number.parseInt(REVISION);if(!(g&&$>=133&&$!==135&&j.format===RGBAFormat&&j.type===UnsignedByteType&&j.encoding===sRGBEncoding))switch(j.encoding){case sRGBEncoding:b="sRGBToLinear(texel)";break;case LinearEncoding:b="texel";break;default:throw new Error(`Unsupported encoding: ${j.encoding}`)}}return b}var kawase_default=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
#include <dithering_fragment>
}`,kawase_default2="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",KawaseBlurMaterial=class extends ShaderMaterial{constructor(j=new Vector2){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector2),halfTexelSize:new Uniform(new Vector2),kernel:new Uniform(0),scale:new Uniform(1)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:kawase_default,vertexShader:kawase_default2}),this.toneMapped=!1,this.setTexelSize(j.x,j.y)}set inputBuffer(j){this.uniforms.inputBuffer.value=j}setInputBuffer(j){this.inputBuffer=j}get scale(){return this.uniforms.scale.value}set scale(j){this.uniforms.scale.value=j}getScale(){return this.uniforms.scale.value}setScale(j){this.uniforms.scale.value=j}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(j){this.uniforms.kernel.value=j}setKernel(j){this.kernel=j}setTexelSize(j,g){this.uniforms.texelSize.value.set(j,g),this.uniforms.halfTexelSize.value.set(j,g).multiplyScalar(.5)}setSize(j,g){const b=this.uniforms;b.texelSize.value.set(1/j,1/g),b.halfTexelSize.value.copy(b.texelSize.value).multiplyScalar(.5)}},shader_default5=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
}`,CopyMaterial=class extends ShaderMaterial{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Uniform(null),opacity:new Uniform(1)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:shader_default5,vertexShader:shader_default2}),this.toneMapped=!1}set inputBuffer(j){this.uniforms.inputBuffer.value=j}setInputBuffer(j){this.uniforms.inputBuffer.value=j}getOpacity(j){return this.uniforms.opacity.value}setOpacity(j){this.uniforms.opacity.value=j}},shader_default6=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);
#if DEPTH_PACKING == 3201
float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#else
float fragCoordZ=texture2D(depthBuffer,projTexCoord).r;
#endif
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)? 1.0 : 0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,shader_default7=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,DepthComparisonMaterial=class extends ShaderMaterial{constructor(j=null,g){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Uniform(null),cameraNear:new Uniform(.3),cameraFar:new Uniform(1e3)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:shader_default6,vertexShader:shader_default7}),this.toneMapped=!1,this.depthBuffer=j,this.depthPacking=RGBADepthPacking,this.adoptCameraSettings(g)}set depthBuffer(j){this.uniforms.depthBuffer.value=j}set depthPacking(j){this.defines.DEPTH_PACKING=j.toFixed(0),this.needsUpdate=!0}setDepthBuffer(j,g=RGBADepthPacking){this.depthBuffer=j,this.depthPacking=g}adoptCameraSettings(j){j&&(this.uniforms.cameraNear.value=j.near,this.uniforms.cameraFar.value=j.far,j instanceof PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},shader_default13=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=linearToRelativeLuminance(texture2D(inputBuffer,vUv).rgb);float lLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv0).rgb);float lTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=linearToRelativeLuminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=linearToRelativeLuminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,shader_default14=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,EdgeDetectionMode={DEPTH:0,LUMA:1,COLOR:2},PredicationMode={DISABLED:0,DEPTH:1,CUSTOM:2},EdgeDetectionMaterial=class extends ShaderMaterial{constructor(j=new Vector2,g=EdgeDetectionMode.COLOR){super({name:"EdgeDetectionMaterial",defines:{LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new Uniform(null),depthBuffer:new Uniform(null),predicationBuffer:new Uniform(null),texelSize:new Uniform(j)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:shader_default13,vertexShader:shader_default14}),this.toneMapped=!1,this.edgeDetectionMode=g}set depthBuffer(j){this.uniforms.depthBuffer.value=j}set depthPacking(j){this.defines.DEPTH_PACKING=j.toFixed(0),this.needsUpdate=!0}setDepthBuffer(j,g=BasicDepthPacking){this.depthBuffer=j,this.depthPacking=g}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(j){this.defines.EDGE_DETECTION_MODE=j.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(j){this.edgeDetectionMode=j}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(j){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=j.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(j){this.localContrastAdaptationFactor=j}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(j){this.defines.EDGE_THRESHOLD=j.toFixed("6"),this.defines.DEPTH_THRESHOLD=(j*.1).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(j){this.edgeDetectionThreshold=j}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(j){this.defines.PREDICATION_MODE=j.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(j){this.predicationMode=j}set predicationBuffer(j){this.uniforms.predicationBuffer.value=j}setPredicationBuffer(j){this.uniforms.predicationBuffer.value=j}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(j){this.defines.PREDICATION_THRESHOLD=j.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(j){this.predicationThreshold=j}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(j){this.defines.PREDICATION_SCALE=j.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(j){this.predicationScale=j}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(j){this.defines.PREDICATION_STRENGTH=j.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(j){this.predicationStrength=j}setSize(j,g){this.uniforms.texelSize.value.set(1/j,1/g)}},shader_default15=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,shader_default16="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",Section={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},EffectMaterial=class extends ShaderMaterial{constructor(j,g,b,$,_e=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Uniform(null),depthBuffer:new Uniform(null),resolution:new Uniform(new Vector2),texelSize:new Uniform(new Vector2),cameraNear:new Uniform(.3),cameraFar:new Uniform(1e3),aspect:new Uniform(1),time:new Uniform(0)},blending:NoBlending,depthWrite:!1,depthTest:!1,dithering:_e}),this.toneMapped=!1,j&&this.setShaderParts(j),g&&this.setDefines(g),b&&this.setUniforms(b),this.adoptCameraSettings($)}set inputBuffer(j){this.uniforms.inputBuffer.value=j}setInputBuffer(j){this.uniforms.inputBuffer.value=j}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(j){this.uniforms.depthBuffer.value=j}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(j){this.defines.DEPTH_PACKING=j.toFixed(0),this.needsUpdate=!0}setDepthBuffer(j,g=BasicDepthPacking){this.depthBuffer=j,this.depthPacking=g}setShaderParts(j){return this.fragmentShader=shader_default15.replace(Section.FRAGMENT_HEAD,j.get(Section.FRAGMENT_HEAD)).replace(Section.FRAGMENT_MAIN_UV,j.get(Section.FRAGMENT_MAIN_UV)).replace(Section.FRAGMENT_MAIN_IMAGE,j.get(Section.FRAGMENT_MAIN_IMAGE)),this.vertexShader=shader_default16.replace(Section.VERTEX_HEAD,j.get(Section.VERTEX_HEAD)).replace(Section.VERTEX_MAIN_SUPPORT,j.get(Section.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(j){for(const g of j.entries())this.defines[g[0]]=g[1];return this.needsUpdate=!0,this}setUniforms(j){for(const g of j.entries())this.uniforms[g[0]]=g[1];return this}setExtensions(j){this.extensions={};for(const g of j)this.extensions[g]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(j){this.encodeOutput!==j&&(j?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(j){return this.encodeOutput}setOutputEncodingEnabled(j){this.encodeOutput=j}get time(){return this.uniforms.time.value}set time(j){this.uniforms.time.value=j}setDeltaTime(j){this.uniforms.time.value+=j}adoptCameraSettings(j){j&&(this.uniforms.cameraNear.value=j.near,this.uniforms.cameraFar.value=j.far,j instanceof PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(j,g){const b=this.uniforms;b.resolution.value.set(j,g),b.texelSize.value.set(1/j,1/g),b.aspect.value=j/g}static get Section(){return Section}},shader_default20="uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)? vec2(d,0.0): vec2(0.0,d);}",shader_default21="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",OutlineMaterial=class extends ShaderMaterial{constructor(j=new Vector2){super({name:"OutlineMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector2)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:shader_default20,vertexShader:shader_default21}),this.toneMapped=!1,this.setTexelSize(j.x,j.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(j){this.uniforms.inputBuffer.value=j}setInputBuffer(j){this.uniforms.inputBuffer.value=j}setTexelSize(j,g){this.uniforms.texelSize.value.set(j,g)}setSize(j,g){this.uniforms.texelSize.value.set(1/j,1/g)}},shader_default22=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,shader_default23="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",SMAAWeightsMaterial=class extends ShaderMaterial{constructor(j=new Vector2,g=new Vector2){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new Uniform(null),searchTexture:new Uniform(null),areaTexture:new Uniform(null),resolution:new Uniform(g),texelSize:new Uniform(j)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:shader_default22,vertexShader:shader_default23}),this.toneMapped=!1}set inputBuffer(j){this.uniforms.inputBuffer.value=j}setInputBuffer(j){this.uniforms.inputBuffer.value=j}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(j){this.uniforms.searchTexture.value=j}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(j){this.uniforms.areaTexture.value=j}setLookupTextures(j,g){this.searchTexture=j,this.areaTexture=g}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(j){const g=Math.min(Math.max(j,0),112);this.defines.MAX_SEARCH_STEPS_INT=g.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=g.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(j){this.orthogonalSearchSteps=j}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(j){const g=Math.min(Math.max(j,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=g.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=g.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(j){this.diagonalSearchSteps=j}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(j){j?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(j){this.diagonalDetection=j}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(j){const g=Math.min(Math.max(j,0),100);this.defines.CORNER_ROUNDING=g.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(g/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(j){this.cornerRounding=j}get cornerDetection(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerDetection(j){j?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(j){this.cornerDetection=j}setSize(j,g){const b=this.uniforms;b.texelSize.value.set(1/j,1/g),b.resolution.value.set(j,g)}},dummyCamera=new Camera,geometry=null;function getFullscreenTriangle(){if(geometry===null){const j=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),g=new Float32Array([0,0,2,0,0,2]);geometry=new BufferGeometry,geometry.setAttribute!==void 0?(geometry.setAttribute("position",new BufferAttribute(j,3)),geometry.setAttribute("uv",new BufferAttribute(g,2))):(geometry.addAttribute("position",new BufferAttribute(j,3)),geometry.addAttribute("uv",new BufferAttribute(g,2)))}return geometry}var Pass=class{constructor(j="Pass",g=new Scene,b=dummyCamera){this.name=j,this.renderer=null,this.scene=g,this.camera=b,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(j){if(this.rtt===j){const g=this.getFullscreenMaterial();g!==null&&(g.needsUpdate=!0),this.rtt=!j}}setRenderer(j){this.renderer=j}isEnabled(){return this.enabled}setEnabled(j){this.enabled=j}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(j){let g=this.screen;g!==null?g.material=j:(g=new Mesh(getFullscreenTriangle(),j),g.frustumCulled=!1,this.scene===null&&(this.scene=new Scene),this.scene.add(g),this.screen=g)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(j){this.fullscreenMaterial=j}getDepthTexture(){return null}setDepthTexture(j,g=BasicDepthPacking){}render(j,g,b,$,_e){throw new Error("Render method not implemented!")}setSize(j,g){}initialize(j,g,b){}dispose(){for(const j of Object.keys(this)){const g=this[j];if(g!==null&&typeof g.dispose=="function"){if(g instanceof Scene||g===this.renderer)continue;this[j].dispose()}}}},CopyPass=class extends Pass{constructor(j,g=!0){super("CopyPass"),this.fullscreenMaterial=new CopyMaterial,this.needsSwap=!1,this.renderTarget=j,j===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=g}get resize(){return this.autoResize}set resize(j){this.autoResize=j}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(j){this.autoResize=j}render(j,g,b,$,_e){this.fullscreenMaterial.inputBuffer=g.texture,j.setRenderTarget(this.renderToScreen?null:this.renderTarget),j.render(this.scene,this.camera)}setSize(j,g){this.autoResize&&this.renderTarget.setSize(j,g)}initialize(j,g,b){b!==void 0&&(this.renderTarget.texture.type=b,b!==UnsignedByteType?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":j.outputEncoding===sRGBEncoding&&(this.renderTarget.texture.encoding=sRGBEncoding))}},ClearMaskPass=class extends Pass{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(j,g,b,$,_e){const et=j.state.buffers.stencil;et.setLocked(!1),et.setTest(!1)}},color=new Color,ClearPass=class extends Pass{constructor(j=!0,g=!0,b=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=j,this.depth=g,this.stencil=b,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(j,g,b){this.color=j,this.depth=g,this.stencil=b}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(j){this.overrideClearColor=j}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(j){this.overrideClearAlpha=j}render(j,g,b,$,_e){const et=this.overrideClearColor,tt=this.overrideClearAlpha,nt=j.getClearAlpha(),rt=et!==null,it=tt>=0;rt?(color.copy(j.getClearColor(color)),j.setClearColor(et,it?tt:nt)):it&&j.setClearAlpha(tt),j.setRenderTarget(this.renderToScreen?null:g),j.clear(this.color,this.depth,this.stencil),rt?j.setClearColor(color,nt):it&&j.setClearAlpha(nt)}},AUTO_SIZE=-1,Resolution=class extends EventDispatcher$1{constructor(j,g=AUTO_SIZE,b=AUTO_SIZE,$=1){super(),this.resizable=j,this.base=new Vector2(1,1),this.preferred=new Vector2(g,b),this.target=this.preferred,this.s=$}get width(){const{base:j,preferred:g,scale:b}=this;let $;return g.width!==AUTO_SIZE?$=g.width:g.height!==AUTO_SIZE?$=Math.round(g.height*(j.width/Math.max(j.height,1))):$=Math.round(j.width*b),$}set width(j){this.preferredWidth=j}get height(){const{base:j,preferred:g,scale:b}=this;let $;return g.height!==AUTO_SIZE?$=g.height:g.width!==AUTO_SIZE?$=Math.round(g.width/Math.max(j.width/Math.max(j.height,1),1)):$=Math.round(j.height*b),$}set height(j){this.preferredHeight=j}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(j){this.s!==j&&(this.s=j,this.preferred.setScalar(AUTO_SIZE),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(j){this.scale=j}get baseWidth(){return this.base.width}set baseWidth(j){this.base.width!==j&&(this.base.width=j,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(j){this.base.width!==j&&(this.base.width=j,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(j){this.base.height!==j&&(this.base.height=j,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(j){this.baseHeight=j}setBaseSize(j,g){(this.base.width!==j||this.base.height!==g)&&(this.base.set(j,g),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(j){this.preferred.width!==j&&(this.preferred.width=j,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(j){this.preferredWidth=j}get preferredHeight(){return this.preferred.height}set preferredHeight(j){this.preferred.height!==j&&(this.preferred.height=j,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(j){this.preferredHeight=j}setPreferredSize(j,g){(this.preferred.width!==j||this.preferred.height!==g)&&(this.preferred.set(j,g),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(j){this.base.set(j.getBaseWidth(),j.getBaseHeight()),this.preferred.set(j.getPreferredWidth(),j.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return AUTO_SIZE}},workaroundEnabled=!1,OverrideMaterialManager=class{constructor(j=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(j),this.meshCount=0,this.replaceMaterial=g=>{if(g.isMesh){let b;if(g.material.flatShading)switch(g.material.side){case DoubleSide:b=this.materialsFlatShadedDoubleSide;break;case BackSide:b=this.materialsFlatShadedBackSide;break;default:b=this.materialsFlatShaded;break}else switch(g.material.side){case DoubleSide:b=this.materialsDoubleSide;break;case BackSide:b=this.materialsBackSide;break;default:b=this.materials;break}this.originalMaterials.set(g,g.material),g.isSkinnedMesh?g.material=b[2]:g.isInstancedMesh?g.material=b[1]:g.material=b[0],++this.meshCount}}}setMaterial(j){if(this.disposeMaterials(),this.material=j,j!==null){const g=this.materials=[j.clone(),j.clone(),j.clone()];for(const b of g)b.uniforms=Object.assign({},j.uniforms),b.side=FrontSide;g[2].skinning=!0,this.materialsBackSide=g.map(b=>{const $=b.clone();return $.uniforms=Object.assign({},j.uniforms),$.side=BackSide,$}),this.materialsDoubleSide=g.map(b=>{const $=b.clone();return $.uniforms=Object.assign({},j.uniforms),$.side=DoubleSide,$}),this.materialsFlatShaded=g.map(b=>{const $=b.clone();return $.uniforms=Object.assign({},j.uniforms),$.flatShading=!0,$}),this.materialsFlatShadedBackSide=g.map(b=>{const $=b.clone();return $.uniforms=Object.assign({},j.uniforms),$.flatShading=!0,$.side=BackSide,$}),this.materialsFlatShadedDoubleSide=g.map(b=>{const $=b.clone();return $.uniforms=Object.assign({},j.uniforms),$.flatShading=!0,$.side=DoubleSide,$})}}render(j,g,b){const $=j.shadowMap.enabled;if(j.shadowMap.enabled=!1,workaroundEnabled){const _e=this.originalMaterials;this.meshCount=0,g.traverse(this.replaceMaterial),j.render(g,b);for(const et of _e)et[0].material=et[1];this.meshCount!==_e.size&&_e.clear()}else{const _e=g.overrideMaterial;g.overrideMaterial=this.material,j.render(g,b),g.overrideMaterial=_e}j.shadowMap.enabled=$}disposeMaterials(){if(this.material!==null){const j=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const g of j)g.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return workaroundEnabled}static set workaroundEnabled(j){workaroundEnabled=j}},RenderPass=class extends Pass{constructor(j,g,b=null){super("RenderPass",j,g),this.needsSwap=!1,this.clearPass=new ClearPass,this.overrideMaterialManager=b===null?null:new OverrideMaterialManager(b),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(j){super.renderToScreen=j,this.clearPass.renderToScreen=j}get overrideMaterial(){const j=this.overrideMaterialManager;return j!==null?j.material:null}set overrideMaterial(j){const g=this.overrideMaterialManager;j!==null?g!==null?g.setMaterial(j):this.overrideMaterialManager=new OverrideMaterialManager(j):g!==null&&(g.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(j){this.overrideMaterial=j}get clear(){return this.clearPass.enabled}set clear(j){this.clearPass.enabled=j}getSelection(){return this.selection}setSelection(j){this.selection=j}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(j){this.ignoreBackground=j}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(j){this.skipShadowMapUpdate=j}getClearPass(){return this.clearPass}render(j,g,b,$,_e){const et=this.scene,tt=this.camera,nt=this.selection,rt=tt.layers.mask,it=et.background,ot=j.shadowMap.autoUpdate,st=this.renderToScreen?null:g;nt!==null&&tt.layers.set(nt.getLayer()),this.skipShadowMapUpdate&&(j.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(et.background=null),this.clearPass.enabled&&this.clearPass.render(j,g),j.setRenderTarget(st),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(j,et,tt):j.render(et,tt),tt.layers.mask=rt,et.background=it,j.shadowMap.autoUpdate=ot}},DepthPass=class extends Pass{constructor(j,g,{resolutionScale:b=1,width:$=Resolution.AUTO_SIZE,height:_e=Resolution.AUTO_SIZE,renderTarget:et}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new RenderPass(j,g,new MeshDepthMaterial({depthPacking:RGBADepthPacking}));const tt=this.renderPass;tt.skipShadowMapUpdate=!0,tt.ignoreBackground=!0;const nt=tt.getClearPass();nt.overrideClearColor=new Color(16777215),nt.overrideClearAlpha=1,this.renderTarget=et,this.renderTarget===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");const rt=this.resolution=new Resolution(this,$,_e,b);rt.addEventListener("change",it=>this.setSize(rt.baseWidth,rt.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(j){this.resolution.scale=j}render(j,g,b,$,_e){const et=this.renderToScreen?null:this.renderTarget;this.renderPass.render(j,et)}setSize(j,g){const b=this.resolution;b.setBaseSize(j,g),this.renderTarget.setSize(b.width,b.height)}},BlendFunction={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},shader_default26="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",shader_default27="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",shader_default28="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",shader_default29="float blend(const in float x,const in float y){return(y==0.0)? y : max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",shader_default30="float blend(const in float x,const in float y){return(y==1.0)? y : min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",shader_default31="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",shader_default32="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",shader_default33="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",shader_default34="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",shader_default35="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",shader_default36="float blend(const in float x,const in float y){return(y>0.0)? min(x/y,1.0): 1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",shader_default37="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",shader_default38="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",shader_default39="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",shader_default40="float blend(const in float x,const in float y){return(y==1.0)? y : min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",shader_default41="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",shader_default42="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",shader_default43="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",blendFunctions=new Map([[BlendFunction.SKIP,null],[BlendFunction.ADD,shader_default26],[BlendFunction.ALPHA,shader_default27],[BlendFunction.AVERAGE,shader_default28],[BlendFunction.COLOR_BURN,shader_default29],[BlendFunction.COLOR_DODGE,shader_default30],[BlendFunction.DARKEN,shader_default31],[BlendFunction.DIFFERENCE,shader_default32],[BlendFunction.EXCLUSION,shader_default33],[BlendFunction.LIGHTEN,shader_default34],[BlendFunction.MULTIPLY,shader_default35],[BlendFunction.DIVIDE,shader_default36],[BlendFunction.NEGATION,shader_default37],[BlendFunction.NORMAL,shader_default38],[BlendFunction.OVERLAY,shader_default39],[BlendFunction.REFLECT,shader_default40],[BlendFunction.SCREEN,shader_default41],[BlendFunction.SOFT_LIGHT,shader_default42],[BlendFunction.SUBTRACT,shader_default43]]),BlendMode=class extends EventDispatcher$1{constructor(j,g=1){super(),this.f=j,this.opacity=new Uniform(g)}getOpacity(){return this.opacity.value}setOpacity(j){this.opacity.value=j}get blendFunction(){return this.f}set blendFunction(j){this.f=j,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(j){this.blendFunction=j}getShaderCode(){return blendFunctions.get(this.blendFunction)}},EffectAttribute={NONE:0,DEPTH:1,CONVOLUTION:2},Effect=class extends EventDispatcher$1{constructor(j,g,{attributes:b=EffectAttribute.NONE,blendFunction:$=BlendFunction.SCREEN,defines:_e=new Map,uniforms:et=new Map,extensions:tt=null,vertexShader:nt=null}={}){super(),this.name=j,this.renderer=null,this.attributes=b,this.fragmentShader=g,this.vertexShader=nt,this.defines=_e,this.uniforms=et,this.extensions=tt,this.blendMode=new BlendMode($),this.blendMode.addEventListener("change",rt=>this.setChanged())}getName(){return this.name}setRenderer(j){this.renderer=j}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(j){this.attributes=j,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(j){this.fragmentShader=j,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(j){this.vertexShader=j,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(j,g=BasicDepthPacking){}update(j,g,b){}setSize(j,g){}initialize(j,g,b){}dispose(){for(const j of Object.keys(this)){const g=this[j];if(g!==null&&typeof g.dispose=="function"){if(g instanceof Scene||g===this.renderer)continue;this[j].dispose()}}}};function prefixSubstrings(j,g,b){for(const $ of g){const _e="$1"+j+$.charAt(0).toUpperCase()+$.slice(1),et=new RegExp("([^\\.])(\\b"+$+"\\b)","g");for(const tt of b.entries())tt[1]!==null&&b.set(tt[0],tt[1].replace(et,_e))}}function integrateEffect(j,g,b,$,_e,et,tt){const nt=new Map([["fragment",g.getFragmentShader()],["vertex",g.getVertexShader()]]),rt=nt.get("fragment")!==void 0&&/mainImage/.test(nt.get("fragment")),it=nt.get("fragment")!==void 0&&/mainUv/.test(nt.get("fragment"));let ot=[],st=[],at=!1,lt=!1;if(nt.get("fragment")===void 0)console.error("Missing fragment shader",g);else if(it&&(tt&EffectAttribute.CONVOLUTION)!==0)console.error("Effects that transform UV coordinates are incompatible with convolution effects",g);else if(!rt&&!it)console.error("The fragment shader contains neither a mainImage nor a mainUv function",g);else{const ut=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,ct=EffectMaterial.Section;if(it){const ht=`	${j}MainUv(UV);
`;b.set(ct.FRAGMENT_MAIN_UV,b.get(ct.FRAGMENT_MAIN_UV)+ht),at=!0}if(nt.get("vertex")!==null&&/mainSupport/.test(nt.get("vertex"))){let ht=`	${j}MainSupport(`;ht+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(nt.get("vertex"))?`vUv);
`:`);
`,b.set(ct.VERTEX_MAIN_SUPPORT,b.get(ct.VERTEX_MAIN_SUPPORT)+ht),ot=ot.concat([...nt.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(dt=>dt[1])),st=st.concat(ot).concat([...nt.get("vertex").matchAll(ut)].map(dt=>dt[1]))}st=st.concat([...nt.get("fragment").matchAll(ut)].map(ht=>ht[1])),st=st.concat([...g.defines.keys()].map(ht=>ht.replace(/\([\w\s,]*\)/g,""))),st=st.concat([...g.uniforms.keys()]),g.uniforms.forEach((ht,dt)=>et.set(j+dt.charAt(0).toUpperCase()+dt.slice(1),ht)),g.defines.forEach((ht,dt)=>_e.set(j+dt.charAt(0).toUpperCase()+dt.slice(1),ht)),prefixSubstrings(j,st,_e),prefixSubstrings(j,st,nt);const ft=g.blendMode;if($.set(ft.blendFunction,ft),rt){const ht=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;let dt=`${j}MainImage(color0, UV, `;(tt&EffectAttribute.DEPTH)!==0&&ht.test(nt.get("fragment"))&&(dt+="depth, ",lt=!0),dt+=`color1);
	`;const pt=j+"BlendOpacity";et.set(pt,ft.opacity),dt+=`color0 = blend${ft.blendFunction}(color0, color1, ${pt});

	`,b.set(ct.FRAGMENT_MAIN_IMAGE,b.get(ct.FRAGMENT_MAIN_IMAGE)+dt),dt=`uniform float ${pt};

`,b.set(ct.FRAGMENT_HEAD,b.get(ct.FRAGMENT_HEAD)+dt)}b.set(ct.FRAGMENT_HEAD,b.get(ct.FRAGMENT_HEAD)+nt.get("fragment")+`
`),nt.get("vertex")!==null&&b.set(ct.VERTEX_HEAD,b.get(ct.VERTEX_HEAD)+nt.get("vertex")+`
`)}return{varyings:ot,transformedUv:at,readDepth:lt}}var EffectPass=class extends Pass{constructor(j,...g){super("EffectPass"),this.fullscreenMaterial=new EffectMaterial(null,null,null,j),this.effects=g.sort((b,$)=>$.attributes-b.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(j){this.fullscreenMaterial.encodeOutput=j}get dithering(){return this.fullscreenMaterial.dithering}set dithering(j){const g=this.fullscreenMaterial;g.dithering=j,g.needsUpdate=!0}verifyResources(){const j=this.renderer.capabilities;let g=Math.min(j.maxFragmentUniforms,j.maxVertexUniforms);this.uniformCount>g&&console.warn("The current rendering context doesn't support more than "+g+" uniforms, but "+this.uniformCount+" were defined"),g=j.maxVaryings,this.varyingCount>g&&console.warn("The current rendering context doesn't support more than "+g+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){const j=EffectMaterial.Section,g=new Map([[j.FRAGMENT_HEAD,""],[j.FRAGMENT_MAIN_UV,""],[j.FRAGMENT_MAIN_IMAGE,""],[j.VERTEX_HEAD,""],[j.VERTEX_MAIN_SUPPORT,""]]),b=new Map,$=new Map,_e=new Map,et=new Set;let tt=0,nt=0,rt=0,it=!1,ot=!1;for(const at of this.effects)if(at.blendMode.blendFunction===BlendFunction.SKIP)rt|=at.getAttributes()&EffectAttribute.DEPTH;else if((rt&at.getAttributes()&EffectAttribute.CONVOLUTION)!==0)console.error("Convolution effects cannot be merged",at);else{rt|=at.getAttributes();const lt="e"+tt++,ut=integrateEffect(lt,at,g,b,$,_e,rt);if(nt+=ut.varyings.length,it=it||ut.transformedUv,ot=ot||ut.readDepth,at.extensions!==null)for(const ct of at.extensions)et.add(ct)}const st=/\bblend\b/g;for(const at of b.values()){const lt=at.getShaderCode().replace(st,`blend${at.blendFunction}`);g.set(j.FRAGMENT_HEAD,g.get(j.FRAGMENT_HEAD)+lt+`
`)}if((rt&EffectAttribute.DEPTH)!==0){if(ot){const at=`float depth = readDepth(UV);

	`;g.set(j.FRAGMENT_MAIN_IMAGE,at+g.get(j.FRAGMENT_MAIN_IMAGE))}this.needsDepthTexture=this.getDepthTexture()===null}else this.needsDepthTexture=!1;if(it){const at=`vec2 transformedUv = vUv;
`;g.set(j.FRAGMENT_MAIN_UV,at+g.get(j.FRAGMENT_MAIN_UV)),$.set("UV","transformedUv")}else $.set("UV","vUv");g.forEach((at,lt,ut)=>ut.set(lt,at.trim().replace(/^#/,`
#`))),this.uniformCount=_e.size,this.varyingCount=nt,this.skipRendering=tt===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(g).setExtensions(et).setUniforms(_e).setDefines($)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(j,g=BasicDepthPacking){this.fullscreenMaterial.depthBuffer=j,this.fullscreenMaterial.depthPacking=g;for(const b of this.effects)b.setDepthTexture(j,g)}render(j,g,b,$,_e){for(const et of this.effects)et.update(j,g,$);if(!this.skipRendering||this.renderToScreen){const et=this.fullscreenMaterial;et.inputBuffer=g.texture,et.time+=$,j.setRenderTarget(this.renderToScreen?null:b),j.render(this.scene,this.camera)}}setSize(j,g){this.fullscreenMaterial.setSize(j,g);for(const b of this.effects)b.setSize(j,g)}initialize(j,g,b){this.renderer=j;for(const $ of this.effects)$.initialize(j,g,b),$.addEventListener("change",_e=>this.handleEvent(_e));this.updateMaterial(),this.verifyResources(),b!==void 0&&b!==UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const j of this.effects)j.dispose()}handleEvent(j){switch(j.type){case"change":this.recompile();break}}},kernelPresets=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],KawaseBlurPass=class extends Pass{constructor({resolutionScale:j=.5,width:g=Resolution.AUTO_SIZE,height:b=Resolution.AUTO_SIZE,kernelSize:$=KernelSize.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new WebGLRenderTarget(1,1,{minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const _e=this.resolution=new Resolution(this,g,b,j);_e.addEventListener("change",et=>this.setSize(_e.baseWidth,_e.baseHeight)),this.blurMaterial=new KawaseBlurMaterial,this.ditheredBlurMaterial=new KawaseBlurMaterial,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=$}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(j){this.resolution.preferredWidth=j}get height(){return this.resolution.height}set height(j){this.resolution.preferredHeight=j}get scale(){return this.blurMaterial.scale}set scale(j){this.blurMaterial.scale=j}getScale(){return this.blurMaterial.scale}setScale(j){this.blurMaterial.scale=j}getKernelSize(){return this.kernelSize}setKernelSize(j){this.kernelSize=j}getResolutionScale(){return this.resolution.scale}setResolutionScale(j){this.resolution.scale=j}render(j,g,b,$,_e){const et=this.scene,tt=this.camera,nt=this.renderTargetA,rt=this.renderTargetB,it=kernelPresets[this.kernelSize];let ot=this.blurMaterial,st=g,at,lt;for(this.fullscreenMaterial=ot,at=0,lt=it.length-1;at<lt;++at){const ut=(at&1)===0?nt:rt;ot.kernel=it[at],ot.inputBuffer=st.texture,j.setRenderTarget(ut),j.render(et,tt),st=ut}this.dithering&&(ot=this.ditheredBlurMaterial,this.fullscreenMaterial=ot),ot.kernel=it[at],ot.inputBuffer=st.texture,j.setRenderTarget(this.renderToScreen?null:b),j.render(et,tt)}setSize(j,g){const b=this.resolution;b.setBaseSize(j,g);const $=b.width,_e=b.height;this.renderTargetA.setSize($,_e),this.renderTargetB.setSize($,_e),this.blurMaterial.setSize($,_e),this.ditheredBlurMaterial.setSize($,_e)}initialize(j,g,b){b!==void 0&&(this.renderTargetA.texture.type=b,this.renderTargetB.texture.type=b,b!==UnsignedByteType?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):j.outputEncoding===sRGBEncoding&&(this.renderTargetA.texture.encoding=sRGBEncoding,this.renderTargetB.texture.encoding=sRGBEncoding))}static get AUTO_SIZE(){return Resolution.AUTO_SIZE}},MaskPass=class extends Pass{constructor(j,g){super("MaskPass",j,g),this.needsSwap=!1,this.clearPass=new ClearPass(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(j){this.inverse=j}get clear(){return this.clearPass.enabled}set clear(j){this.clearPass.enabled=j}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(j){this.inverted=j}render(j,g,b,$,_e){const et=j.getContext(),tt=j.state.buffers,nt=this.scene,rt=this.camera,it=this.clearPass,ot=this.inverted?0:1,st=1-ot;tt.color.setMask(!1),tt.depth.setMask(!1),tt.color.setLocked(!0),tt.depth.setLocked(!0),tt.stencil.setTest(!0),tt.stencil.setOp(et.REPLACE,et.REPLACE,et.REPLACE),tt.stencil.setFunc(et.ALWAYS,ot,4294967295),tt.stencil.setClear(st),tt.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?it.render(j,null):(it.render(j,g),it.render(j,b))),this.renderToScreen?(j.setRenderTarget(null),j.render(nt,rt)):(j.setRenderTarget(g),j.render(nt,rt),j.setRenderTarget(b),j.render(nt,rt)),tt.color.setLocked(!1),tt.depth.setLocked(!1),tt.stencil.setLocked(!1),tt.stencil.setFunc(et.EQUAL,1,4294967295),tt.stencil.setOp(et.KEEP,et.KEEP,et.KEEP),tt.stencil.setLocked(!0)}},ShaderPass=class extends Pass{constructor(j,g="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=j,this.inputBufferUniform=null,this.setInput(g)}setInput(j){if(this.inputBufferUniform=null,this.fullscreenMaterial!==null){const g=this.fullscreenMaterial.uniforms;g!==void 0&&g[j]!==void 0&&(this.inputBufferUniform=g[j])}}render(j,g,b,$,_e){this.inputBufferUniform!==null&&g!==null&&(this.inputBufferUniform.value=g.texture),j.setRenderTarget(this.renderToScreen?null:b),j.render(this.scene,this.camera)}initialize(j,g,b){b!==void 0&&b!==UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},MILLISECONDS_TO_SECONDS=1/1e3,SECONDS_TO_MILLISECONDS=1e3,Timer=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(j){return this.fixedDeltaEnabled=j,this}isAutoResetEnabled(j){return this.autoReset}setAutoResetEnabled(j){return typeof document!="undefined"&&document.hidden!==void 0&&(j?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=j),this}getDelta(){return this.delta*MILLISECONDS_TO_SECONDS}getFixedDelta(){return this.fixedDelta*MILLISECONDS_TO_SECONDS}setFixedDelta(j){return this.fixedDelta=j*SECONDS_TO_MILLISECONDS,this}getElapsed(){return this.elapsed*MILLISECONDS_TO_SECONDS}getTimescale(){return this.timescale}setTimescale(j){return this.timescale=j,this}update(j){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=j!==void 0?j:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(j){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},EffectComposer=class{constructor(j=null,{depthBuffer:g=!0,stencilBuffer:b=!1,multisampling:$=0,frameBufferType:_e}={}){this.renderer=null,this.inputBuffer=this.createBuffer(g,b,_e,$),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new CopyPass,this.depthTexture=null,this.passes=[],this.timer=new Timer,this.autoRenderToScreen=!0,this.setRenderer(j)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(j){const g=this.inputBuffer,b=this.multisampling;b>0&&j>0?(this.inputBuffer.samples=j,this.outputBuffer.samples=j,this.inputBuffer.dispose(),this.outputBuffer.dispose()):b!==j&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(g.depthBuffer,g.stencilBuffer,g.texture.type,j),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(j){if(this.renderer=j,j!==null){const g=j.getSize(new Vector2),b=j.getContext().getContextAttributes().alpha,$=this.inputBuffer.texture.type;$===UnsignedByteType&&j.outputEncoding===sRGBEncoding&&(this.inputBuffer.texture.encoding=sRGBEncoding,this.outputBuffer.texture.encoding=sRGBEncoding,this.inputBuffer.dispose(),this.outputBuffer.dispose()),j.autoClear=!1,this.setSize(g.width,g.height);for(const _e of this.passes)_e.initialize(j,b,$)}}replaceRenderer(j,g=!0){const b=this.renderer,$=b.domElement.parentNode;return this.setRenderer(j),g&&$!==null&&($.removeChild(b.domElement),$.appendChild(j.domElement)),b}createDepthTexture(){const j=this.depthTexture=new DepthTexture;return this.inputBuffer.depthTexture=j,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(j.format=DepthStencilFormat,j.type=UnsignedInt248Type):j.type=UnsignedIntType,j}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const j of this.passes)j.setDepthTexture(null)}}createBuffer(j,g,b,$){const _e=this.renderer,et=_e===null?new Vector2:_e.getDrawingBufferSize(new Vector2),tt={minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:g,depthBuffer:j,type:b};let nt;return $>0?(nt=Number(REVISION.replace(/\D+/g,""))<138?new WebGLMultisampleRenderTarget(et.width,et.height,tt):new WebGLRenderTarget(et.width,et.height,tt),nt.ignoreDepthForMultisampleCopy=!1,nt.samples=$):nt=new WebGLRenderTarget(et.width,et.height,tt),b===UnsignedByteType&&_e!==null&&_e.outputEncoding===sRGBEncoding&&(nt.texture.encoding=sRGBEncoding),nt.texture.name="EffectComposer.Buffer",nt.texture.generateMipmaps=!1,nt}addPass(j,g){const b=this.passes,$=this.renderer,_e=$.getDrawingBufferSize(new Vector2),et=$.getContext().getContextAttributes().alpha,tt=this.inputBuffer.texture.type;if(j.setRenderer($),j.setSize(_e.width,_e.height),j.initialize($,et,tt),this.autoRenderToScreen&&(b.length>0&&(b[b.length-1].renderToScreen=!1),j.renderToScreen&&(this.autoRenderToScreen=!1)),g!==void 0?b.splice(g,0,j):b.push(j),this.autoRenderToScreen&&(b[b.length-1].renderToScreen=!0),j.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const nt=this.createDepthTexture();for(j of b)j.setDepthTexture(nt)}else j.setDepthTexture(this.depthTexture)}removePass(j){const g=this.passes,b=g.indexOf(j);if(b!==-1&&g.splice(b,1).length>0){if(this.depthTexture!==null){const et=(nt,rt)=>nt||rt.needsDepthTexture;g.reduce(et,!1)||(j.getDepthTexture()===this.depthTexture&&j.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&b===g.length&&(j.renderToScreen=!1,g.length>0&&(g[g.length-1].renderToScreen=!0))}}removeAllPasses(){const j=this.passes;this.deleteDepthTexture(),j.length>0&&(this.autoRenderToScreen&&(j[j.length-1].renderToScreen=!1),this.passes=[])}render(j){const g=this.renderer,b=this.copyPass;let $=this.inputBuffer,_e=this.outputBuffer,et=!1,tt,nt,rt;j===void 0&&(j=this.timer.update().getDelta());for(const it of this.passes)it.enabled&&(it.render(g,$,_e,j,et),it.needsSwap&&(et&&(b.renderToScreen=it.renderToScreen,tt=g.getContext(),nt=g.state.buffers.stencil,nt.setFunc(tt.NOTEQUAL,1,4294967295),b.render(g,$,_e,j,et),nt.setFunc(tt.EQUAL,1,4294967295)),rt=$,$=_e,_e=rt),it instanceof MaskPass?et=!0:it instanceof ClearMaskPass&&(et=!1))}setSize(j,g,b){const $=this.renderer;if(j===void 0||g===void 0){const et=$.getSize(new Vector2);j=et.width,g=et.height}$.setSize(j,g,b);const _e=$.getDrawingBufferSize(new Vector2);this.inputBuffer.setSize(_e.width,_e.height),this.outputBuffer.setSize(_e.width,_e.height);for(const et of this.passes)et.setSize(_e.width,_e.height)}reset(){const j=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(j)}dispose(){for(const j of this.passes)j.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},KernelSize={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},Selection=class extends Set{constructor(j,g=10){super(),this.l=g,this.exclusive=!1,j!==void 0&&this.set(j)}get layer(){return this.l}set layer(j){const g=this.l;for(const b of this)b.layers.disable(g),b.layers.enable(j);this.l=j}getLayer(){return this.layer}setLayer(j){this.layer=j}isExclusive(){return this.exclusive}setExclusive(j){this.exclusive=j}clear(){const j=this.layer;for(const g of this)g.layers.disable(j);return super.clear()}set(j){this.clear();for(const g of j)this.add(g);return this}indexOf(j){return this.has(j)?0:-1}add(j){return this.exclusive?j.layers.set(this.layer):j.layers.enable(this.layer),super.add(j)}delete(j){return this.has(j)&&j.layers.disable(this.layer),super.delete(j)}toggle(j){let g;return this.has(j)?(this.delete(j),g=!1):(this.add(j),g=!0),g}setVisible(j){for(const g of this)j?g.layers.enable(0):g.layers.disable(0);return this}};new Vector3;new Matrix4;new Color;var shader_default61=`uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform lowp sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texelToLinear(texture2D(patternTexture,vUvPattern));
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)? 1.0 : hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,shader_default62="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",OutlineEffect=class extends Effect{constructor(j,g,{blendFunction:b=BlendFunction.SCREEN,patternTexture:$=null,patternScale:_e=1,edgeStrength:et=1,pulseSpeed:tt=0,visibleEdgeColor:nt=16777215,hiddenEdgeColor:rt=2230538,resolutionScale:it=.5,width:ot=Resolution.AUTO_SIZE,height:st=Resolution.AUTO_SIZE,kernelSize:at=KernelSize.VERY_SMALL,blur:lt=!1,xRay:ut=!0}={}){super("OutlineEffect",shader_default61,{uniforms:new Map([["maskTexture",new Uniform(null)],["edgeTexture",new Uniform(null)],["edgeStrength",new Uniform(et)],["visibleEdgeColor",new Uniform(new Color(nt))],["hiddenEdgeColor",new Uniform(new Color(rt))],["pulse",new Uniform(1)],["patternScale",new Uniform(_e)],["patternTexture",new Uniform(null)]])}),this.blendMode.addEventListener("change",dt=>{this.blendMode.getBlendFunction()===BlendFunction.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.setBlendFunction(b),this.patternTexture=$,this.xRay=ut,this.scene=j,this.camera=g,this.renderTargetMask=new WebGLRenderTarget(1,1,{minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:!1}),this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=this.renderTargetMask.clone(),this.renderTargetOutline.texture.name="Outline.Edges",this.renderTargetOutline.depthBuffer=!1,this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new ClearPass,this.clearPass.overrideClearColor=new Color(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new DepthPass(j,g),this.maskPass=new RenderPass(j,g,new DepthComparisonMaterial(this.depthPass.texture,g));const ct=this.maskPass.clearPass;ct.overrideClearColor=new Color(16777215),ct.overrideClearAlpha=1,this.blurPass=new KawaseBlurPass({resolutionScale:it,width:ot,height:st,kernelSize:at}),this.blurPass.enabled=lt;const ft=this.blurPass.resolution;ft.addEventListener("change",dt=>this.setSize(ft.baseWidth,ft.baseHeight)),this.outlinePass=new ShaderPass(new OutlineMaterial);const ht=this.outlinePass.fullscreenMaterial;ht.inputBuffer=this.renderTargetMask.texture,this.time=0,this.selection=new Selection,this.selection.layer=10,this.pulseSpeed=tt}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(j){this.uniforms.get("patternScale").value=j}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(j){this.uniforms.get("edgeStrength").value=j}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(j){this.uniforms.get("visibleEdgeColor").value=j}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(j){this.uniforms.get("hiddenEdgeColor").value=j}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(j){this.pulseSpeed=j}get width(){return this.resolution.width}set width(j){this.resolution.preferredWidth=j}get height(){return this.resolution.height}set height(j){this.resolution.preferredHeight=j}get selectionLayer(){return this.selection.layer}set selectionLayer(j){this.selection.layer=j}get dithering(){return this.blurPass.dithering}set dithering(j){this.blurPass.dithering=j}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(j){this.blurPass.kernelSize=j}get blur(){return this.blurPass.enabled}set blur(j){this.blurPass.enabled=j}get xRay(){return this.defines.has("X_RAY")}set xRay(j){this.xRay!==j&&(j?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(j){this.xRay=j}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(j){if(j!==null?(j.wrapS=j.wrapT=RepeatWrapping,this.defines.set("USE_PATTERN","1"),this.setVertexShader(shader_default62)):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.renderer!==null){const g=getTextureDecoding(j,this.renderer.capabilities.isWebGL2);this.defines.set("texelToLinear(texel)",g)}this.uniforms.get("patternTexture").value=j,this.setChanged()}setPatternTexture(j){this.patternTexture=j}getResolutionScale(){return this.resolution.scale}setResolutionScale(j){this.resolution.scale=j}setSelection(j){return this.selection.set(j),this}clearSelection(){return this.selection.clear(),this}selectObject(j){return this.selection.add(j),this}deselectObject(j){return this.selection.delete(j),this}update(j,g,b){const $=this.scene,_e=this.camera,et=this.selection,nt=this.uniforms.get("pulse"),rt=$.background,it=_e.layers.mask;et.size>0?($.background=null,nt.value=1,this.pulseSpeed>0&&(nt.value=Math.cos(this.time*this.pulseSpeed*10)*.375+.625),this.time+=b,et.setVisible(!1),this.depthPass.render(j),et.setVisible(!0),_e.layers.set(et.layer),this.maskPass.render(j,this.renderTargetMask),_e.layers.mask=it,$.background=rt,this.outlinePass.render(j,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(j,this.renderTargetOutline,this.renderTargetOutline)):this.time>0&&(this.clearPass.render(j,this.renderTargetMask),this.time=0)}setSize(j,g){this.blurPass.setSize(j,g),this.renderTargetMask.setSize(j,g);const b=this.resolution;b.setBaseSize(j,g);const $=b.width,_e=b.height;this.depthPass.setSize($,_e),this.renderTargetOutline.setSize($,_e),this.outlinePass.fullscreenMaterial.setSize($,_e)}initialize(j,g,b){const $=this.patternTexture,_e=getTextureDecoding($,j.capabilities.isWebGL2);this.defines.set("texelToLinear(texel)",_e),this.blurPass.initialize(j,g,UnsignedByteType),b!==void 0&&(this.depthPass.initialize(j,g,b),this.maskPass.initialize(j,g,b),this.outlinePass.initialize(j,g,b))}};new Vector3;new Vector3;var searchImageDataURL_default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",areaImageDataURL_default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",shader_default69="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",shader_default70="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",SMAAPreset={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},SMAAEffect=class extends Effect{constructor({preset:j=SMAAPreset.MEDIUM,edgeDetectionMode:g=EdgeDetectionMode.COLOR,predicationMode:b=PredicationMode.DISABLED}={}){if(super("SMAAEffect",shader_default69,{vertexShader:shader_default70,blendFunction:BlendFunction.NORMAL,attributes:EffectAttribute.CONVOLUTION|EffectAttribute.DEPTH,uniforms:new Map([["weightMap",new Uniform(null)]])}),arguments.length>2&&(j=arguments[2],g=arguments.length===4?arguments[3]:EdgeDetectionMode.COLOR),this.renderTargetEdges=new WebGLRenderTarget(1,1,{minFilter:LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new ClearPass(!0,!1,!1),this.clearPass.overrideClearColor=new Color(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new ShaderPass(new EdgeDetectionMaterial),this.edgeDetectionMaterial.edgeDetectionMode=g,this.edgeDetectionMaterial.predicationMode=b,this.weightsPass=new ShaderPass(new SMAAWeightsMaterial),typeof Image!="undefined"){const $=new Image,_e=new Image;$.addEventListener("load",()=>{const et=new Texture($);et.name="SMAA.Search",et.magFilter=NearestFilter,et.minFilter=NearestFilter,et.generateMipmaps=!1,et.needsUpdate=!0,et.flipY=!0,this.weightsMaterial.searchTexture=et}),_e.addEventListener("load",()=>{const et=new Texture(_e);et.name="SMAA.Area",et.magFilter=LinearFilter,et.minFilter=LinearFilter,et.generateMipmaps=!1,et.needsUpdate=!0,et.flipY=!1,this.weightsMaterial.areaTexture=et}),$.src=searchImageDataURL_default,_e.src=areaImageDataURL_default}this.applyPreset(j)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(j){this.edgeDetectionMaterial.edgeDetectionThreshold=j}setOrthogonalSearchSteps(j){this.weightsMaterial.orthogonalSearchSteps=j}applyPreset(j){const g=this.edgeDetectionMaterial,b=this.weightsMaterial;switch(j){case SMAAPreset.LOW:g.edgeDetectionThreshold=.15,b.orthogonalSearchSteps=4,b.diagonalDetection=!1,b.cornerDetection=!1;break;case SMAAPreset.MEDIUM:g.edgeDetectionThreshold=.1,b.orthogonalSearchSteps=8,b.diagonalDetection=!1,b.cornerDetection=!1;break;case SMAAPreset.HIGH:g.edgeDetectionThreshold=.1,b.orthogonalSearchSteps=16,b.diagonalSearchSteps=8,b.cornerRounding=25,b.diagonalDetection=!0,b.cornerDetection=!0;break;case SMAAPreset.ULTRA:g.edgeDetectionThreshold=.05,b.orthogonalSearchSteps=32,b.diagonalSearchSteps=16,b.cornerRounding=25,b.diagonalDetection=!0,b.cornerDetection=!0;break}}setDepthTexture(j,g=BasicDepthPacking){this.edgeDetectionMaterial.depthBuffer=j,this.edgeDetectionMaterial.depthPacking=g}update(j,g,b){this.clearPass.render(j,this.renderTargetEdges),this.edgeDetectionPass.render(j,g,this.renderTargetEdges),this.weightsPass.render(j,this.renderTargetEdges,this.renderTargetWeights)}setSize(j,g){this.edgeDetectionMaterial.setSize(j,g),this.weightsMaterial.setSize(j,g),this.renderTargetEdges.setSize(j,g),this.renderTargetWeights.setSize(j,g)}dispose(){const{searchTexture:j,areaTexture:g}=this.weightsMaterial;j!==null&&g!==null&&(j.dispose(),g.dispose()),super.dispose()}static get searchImageDataURL(){return searchImageDataURL_default}static get areaImageDataURL(){return areaImageDataURL_default}};class PostProcessing{constructor({renderer:g,scene:b,camera:$}){sn(this,"_renderer");sn(this,"_scene");sn(this,"_camera");sn(this,"composer");sn(this,"composerReady");sn(this,"depthOfFieldEffect");sn(this,"bloomEffect");sn(this,"smaaEffect");sn(this,"outlineEffect");sn(this,"outlineEffectHover");this._renderer=g,this._scene=b,this._camera=$,this._initComposer(),this._setupEffects(),this._setupPasses(),this.composerReady=!0}_initComposer(){const g=this._renderer.getContext();if(typeof g.MAX_SAMPLES!="undefined"){const b=g.getParameter(g.MAX_SAMPLES);this.composer=new EffectComposer(this._renderer,{multisampling:Math.min(8,b)})}else this.composer=new EffectComposer(this._renderer)}_setupEffects(){sceneConfig.postprocessing.smaaEnabled&&(this.smaaEffect=new SMAAEffect({preset:SMAAPreset.MEDIUM}),this.smaaEffect.edgeDetectionMaterial.setEdgeDetectionThreshold(.05)),this._setupOutlineEffect(),this._setupOutlineEffectHover()}_setupOutlineEffect(){this.outlineEffect=new OutlineEffect(this._scene,this._camera,{blendFunction:BlendFunction.ADD,edgeStrength:.275,pulseSpeed:0,visibleEdgeColor:16777215,hiddenEdgeColor:2230538,height:80,blur:!0,xRay:!1}),this.outlineEffect.resolution.height=720,this.outlineEffect.resolution.width=1024,this.outlineEffect.kernelSize=KernelSize.MEDIUM,this.outlineEffect.selection.layer=10}_setupOutlineEffectHover(){this.outlineEffectHover=new OutlineEffect(this._scene,this._camera,{blendFunction:BlendFunction.ADD,edgeStrength:0,pulseSpeed:0,visibleEdgeColor:16777215,hiddenEdgeColor:2230538,height:80,blur:!0,xRay:!1}),this.outlineEffectHover.kernelSize=KernelSize.MEDIUM,this.outlineEffectHover.selection.layer=11,window.__OUTLINE_EFFECT__=this.outlineEffectHover}_setupPasses(){const g=new RenderPass(this._scene,this._camera),b=new EffectPass(this._camera,this.outlineEffect),$=new EffectPass(this._camera,this.outlineEffectHover);if(this.composer.addPass(g),sceneConfig.postprocessing.smaaEnabled){const _e=new EffectPass(this._camera,this.smaaEffect);this.composer.addPass(_e)}this.composer.addPass(b),this.composer.addPass($)}dispose(){this.composer.dispose()}}function cleanMaterial(j){j.dispose();for(const g of Object.keys(j)){const b=j[g];b&&typeof b=="object"&&"minFilter"in b&&b.dispose()}}/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const ACTION=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:3,DOLLY:4,ZOOM:5,TOUCH_ROTATE:6,TOUCH_TRUCK:7,TOUCH_OFFSET:8,TOUCH_DOLLY:9,TOUCH_ZOOM:10,TOUCH_DOLLY_TRUCK:11,TOUCH_DOLLY_OFFSET:12,TOUCH_ZOOM_TRUCK:13,TOUCH_ZOOM_OFFSET:14});function isPerspectiveCamera(j){return j.isPerspectiveCamera}function isOrthographicCamera(j){return j.isOrthographicCamera}const PI_2=Math.PI*2,PI_HALF=Math.PI/2,EPSILON=1e-5;function approxZero(j,g=EPSILON){return Math.abs(j)<g}function approxEquals(j,g,b=EPSILON){return approxZero(j-g,b)}function roundToStep(j,g){return Math.round(j/g)*g}function infinityToMaxNumber(j){return isFinite(j)?j:j<0?-Number.MAX_VALUE:Number.MAX_VALUE}function maxNumberToInfinity(j){return Math.abs(j)<Number.MAX_VALUE?j:j*(1/0)}function extractClientCoordFromEvent(j,g){g.set(0,0),j.forEach(b=>{g.x+=b.clientX,g.y+=b.clientY}),g.x/=j.length,g.y/=j.length}function notSupportedInOrthographicCamera(j,g){return isOrthographicCamera(j)?(console.warn(`${g} is not supported in OrthographicCamera`),!0):!1}function quatInvertCompat(j){return j.invert?j.invert():j.inverse(),j}class EventDispatcher{constructor(){this._listeners={}}addEventListener(g,b){const $=this._listeners;$[g]===void 0&&($[g]=[]),$[g].indexOf(b)===-1&&$[g].push(b)}removeEventListener(g,b){const _e=this._listeners[g];if(_e!==void 0){const et=_e.indexOf(b);et!==-1&&_e.splice(et,1)}}removeAllEventListeners(g){if(!g){this._listeners={};return}Array.isArray(this._listeners[g])&&(this._listeners[g].length=0)}dispatchEvent(g){const $=this._listeners[g.type];if($!==void 0){g.target=this;const _e=$.slice(0);for(let et=0,tt=_e.length;et<tt;et++)_e[et].call(this,g)}}}const isBrowser=typeof window!="undefined",isMac=isBrowser&&/Mac/.test(navigator.platform),isPointerEventsNotSupported=!(isBrowser&&"PointerEvent"in window),TOUCH_DOLLY_FACTOR=1/8;let THREE,_ORIGIN,_AXIS_Y,_AXIS_Z,_v2$1,_v3A,_v3B,_v3C,_xColumn,_yColumn,_zColumn,_deltaTarget,_deltaOffset,_sphericalA,_sphericalB,_box3A,_box3B,_sphere,_quaternionA,_quaternionB,_rotationMatrix,_raycaster$1;class CameraControls extends EventDispatcher{constructor(g,b){if(super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=0,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.dampingFactor=.05,this.draggingDampingFactor=.25,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=ACTION.NONE,this._viewport=null,this._dollyControlAmount=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._activePointers=[],this._truckInternal=($,_e,et)=>{if(isPerspectiveCamera(this._camera)){const tt=_v3A.copy(this._camera.position).sub(this._target),nt=this._camera.getEffectiveFOV()*THREE.MathUtils.DEG2RAD,rt=tt.length()*Math.tan(nt*.5),it=this.truckSpeed*$*rt/this._elementRect.height,ot=this.truckSpeed*_e*rt/this._elementRect.height;this.verticalDragToForward?(et?this.setFocalOffset(this._focalOffsetEnd.x+it,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(it,0,!0),this.forward(-ot,!0)):et?this.setFocalOffset(this._focalOffsetEnd.x+it,this._focalOffsetEnd.y+ot,this._focalOffsetEnd.z,!0):this.truck(it,ot,!0)}else if(isOrthographicCamera(this._camera)){const tt=this._camera,nt=$*(tt.right-tt.left)/tt.zoom/this._elementRect.width,rt=_e*(tt.top-tt.bottom)/tt.zoom/this._elementRect.height;et?this.setFocalOffset(this._focalOffsetEnd.x+nt,this._focalOffsetEnd.y+rt,this._focalOffsetEnd.z,!0):this.truck(nt,rt,!0)}},this._rotateInternal=($,_e)=>{const et=PI_2*this.azimuthRotateSpeed*$/this._elementRect.height,tt=PI_2*this.polarRotateSpeed*_e/this._elementRect.height;this.rotate(et,tt,!0)},this._dollyInternal=($,_e,et)=>{const tt=Math.pow(.95,-$*this.dollySpeed),nt=this._sphericalEnd.radius*tt,rt=this._sphericalEnd.radius,it=rt*($>=0?-1:1);this.dollyTo(nt),this.infinityDolly&&(nt<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(_v3A),this._targetEnd.add(_v3A.normalize().multiplyScalar(it)),this._target.add(_v3A.normalize().multiplyScalar(it))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-rt,this.infinityDolly&&(nt<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=it),this._dollyControlCoord.set(_e,et))},this._zoomInternal=($,_e,et)=>{const tt=Math.pow(.95,$*this.dollySpeed);this.zoomTo(this._zoom*tt),this.dollyToCursor&&(this._dollyControlAmount=this._zoomEnd,this._dollyControlCoord.set(_e,et))},typeof THREE=="undefined"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=g,this._yAxisUpSpace=new THREE.Quaternion().setFromUnitVectors(this._camera.up,_AXIS_Y),this._yAxisUpSpaceInverse=quatInvertCompat(this._yAxisUpSpace.clone()),this._state=ACTION.NONE,this._domElement=b,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._target=new THREE.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new THREE.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new THREE.Spherical().setFromVector3(_v3A.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this._updateNearPlaneCorners(),this._boundary=new THREE.Box3(new THREE.Vector3(-1/0,-1/0,-1/0),new THREE.Vector3(1/0,1/0,1/0)),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new THREE.Vector2,this.mouseButtons={left:ACTION.ROTATE,middle:ACTION.DOLLY,right:ACTION.TRUCK,wheel:isPerspectiveCamera(this._camera)?ACTION.DOLLY:isOrthographicCamera(this._camera)?ACTION.ZOOM:ACTION.NONE,shiftLeft:ACTION.NONE},this.touches={one:ACTION.TOUCH_ROTATE,two:isPerspectiveCamera(this._camera)?ACTION.TOUCH_DOLLY_TRUCK:isOrthographicCamera(this._camera)?ACTION.TOUCH_ZOOM_TRUCK:ACTION.NONE,three:ACTION.TOUCH_TRUCK},this._domElement){const $=new THREE.Vector2,_e=new THREE.Vector2,et=new THREE.Vector2,tt=gt=>{if(!this._enabled)return;const yt={pointerId:gt.pointerId,clientX:gt.clientX,clientY:gt.clientY};switch(this._activePointers.push(yt),gt.button){case THREE.MOUSE.LEFT:this._state=gt.shiftKey?this.mouseButtons.shiftLeft:this.mouseButtons.left;break;case THREE.MOUSE.MIDDLE:this._state=this.mouseButtons.middle;break;case THREE.MOUSE.RIGHT:this._state=this.mouseButtons.right;break}if(gt.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}this._domElement.ownerDocument.removeEventListener("pointermove",it,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",at),this._domElement.ownerDocument.addEventListener("pointermove",it,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",at),dt()},nt=gt=>{if(!this._enabled)return;const yt={pointerId:0,clientX:gt.clientX,clientY:gt.clientY};switch(this._activePointers.push(yt),gt.button){case THREE.MOUSE.LEFT:this._state=gt.shiftKey?this.mouseButtons.shiftLeft:this.mouseButtons.left;break;case THREE.MOUSE.MIDDLE:this._state=this.mouseButtons.middle;break;case THREE.MOUSE.RIGHT:this._state=this.mouseButtons.right;break}this._domElement.ownerDocument.removeEventListener("mousemove",ot),this._domElement.ownerDocument.removeEventListener("mouseup",lt),this._domElement.ownerDocument.addEventListener("mousemove",ot),this._domElement.ownerDocument.addEventListener("mouseup",lt),dt()},rt=gt=>{if(!!this._enabled){switch(gt.preventDefault(),Array.prototype.forEach.call(gt.changedTouches,yt=>{const _t={pointerId:yt.identifier,clientX:yt.clientX,clientY:yt.clientY};this._activePointers.push(_t)}),this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}this._domElement.ownerDocument.removeEventListener("touchmove",st,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",ut),this._domElement.ownerDocument.addEventListener("touchmove",st,{passive:!1}),this._domElement.ownerDocument.addEventListener("touchend",ut),dt()}},it=gt=>{gt.cancelable&&gt.preventDefault();const yt=gt.pointerId,_t=this._findPointerById(yt);!_t||(_t.clientX=gt.clientX,_t.clientY=gt.clientY,pt())},ot=gt=>{const yt=this._findPointerById(0);!yt||(yt.clientX=gt.clientX,yt.clientY=gt.clientY,pt())},st=gt=>{gt.cancelable&&gt.preventDefault(),Array.prototype.forEach.call(gt.changedTouches,yt=>{const _t=yt.identifier,vt=this._findPointerById(_t);!vt||(vt.clientX=yt.clientX,vt.clientY=yt.clientY)}),pt()},at=gt=>{const yt=gt.pointerId,_t=this._findPointerById(yt);if(_t&&this._activePointers.splice(this._activePointers.indexOf(_t),1),gt.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=ACTION.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=ACTION.NONE;mt()},lt=()=>{const gt=this._findPointerById(0);gt&&this._activePointers.splice(this._activePointers.indexOf(gt),1),this._state=ACTION.NONE,mt()},ut=gt=>{switch(Array.prototype.forEach.call(gt.changedTouches,yt=>{const _t=yt.identifier,vt=this._findPointerById(_t);vt&&this._activePointers.splice(this._activePointers.indexOf(vt),1)}),this._activePointers.length){case 0:this._state=ACTION.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}mt()};let ct=-1;const ft=gt=>{if(!this._enabled||this.mouseButtons.wheel===ACTION.NONE)return;if(gt.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===ACTION.ROTATE||this.mouseButtons.wheel===ACTION.TRUCK){const bt=performance.now();ct-bt<1e3&&this._getClientRect(this._elementRect),ct=bt}const yt=isMac?-1:-3,_t=gt.deltaMode===1?gt.deltaY/yt:gt.deltaY/(yt*10),vt=this.dollyToCursor?(gt.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,At=this.dollyToCursor?(gt.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case ACTION.ROTATE:{this._rotateInternal(gt.deltaX,gt.deltaY);break}case ACTION.TRUCK:{this._truckInternal(gt.deltaX,gt.deltaY,!1);break}case ACTION.OFFSET:{this._truckInternal(gt.deltaX,gt.deltaY,!0);break}case ACTION.DOLLY:{this._dollyInternal(-_t,vt,At);break}case ACTION.ZOOM:{this._zoomInternal(-_t,vt,At);break}}this.dispatchEvent({type:"control"})},ht=gt=>{!this._enabled||gt.preventDefault()},dt=()=>{if(!this._enabled)return;if(extractClientCoordFromEvent(this._activePointers,_v2$1),this._getClientRect(this._elementRect),$.copy(_v2$1),_e.copy(_v2$1),this._activePointers.length>=2){const yt=_v2$1.x-this._activePointers[1].clientX,_t=_v2$1.y-this._activePointers[1].clientY,vt=Math.sqrt(yt*yt+_t*_t);et.set(0,vt);const At=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,bt=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;_e.set(At,bt)}this.dispatchEvent({type:"controlstart"})},pt=()=>{if(!this._enabled)return;extractClientCoordFromEvent(this._activePointers,_v2$1);const gt=_e.x-_v2$1.x,yt=_e.y-_v2$1.y;switch(_e.copy(_v2$1),this._state){case ACTION.ROTATE:case ACTION.TOUCH_ROTATE:{this._rotateInternal(gt,yt);break}case ACTION.DOLLY:case ACTION.ZOOM:{const _t=this.dollyToCursor?($.x-this._elementRect.x)/this._elementRect.width*2-1:0,vt=this.dollyToCursor?($.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===ACTION.DOLLY?this._dollyInternal(yt*TOUCH_DOLLY_FACTOR,_t,vt):this._zoomInternal(yt*TOUCH_DOLLY_FACTOR,_t,vt);break}case ACTION.TOUCH_DOLLY:case ACTION.TOUCH_ZOOM:case ACTION.TOUCH_DOLLY_TRUCK:case ACTION.TOUCH_ZOOM_TRUCK:case ACTION.TOUCH_DOLLY_OFFSET:case ACTION.TOUCH_ZOOM_OFFSET:{const _t=_v2$1.x-this._activePointers[1].clientX,vt=_v2$1.y-this._activePointers[1].clientY,At=Math.sqrt(_t*_t+vt*vt),bt=et.y-At;et.set(0,At);const xt=this.dollyToCursor?(_e.x-this._elementRect.x)/this._elementRect.width*2-1:0,Et=this.dollyToCursor?(_e.y-this._elementRect.y)/this._elementRect.height*-2+1:0;this._state===ACTION.TOUCH_DOLLY||this._state===ACTION.TOUCH_DOLLY_TRUCK||this._state===ACTION.TOUCH_DOLLY_OFFSET?this._dollyInternal(bt*TOUCH_DOLLY_FACTOR,xt,Et):this._zoomInternal(bt*TOUCH_DOLLY_FACTOR,xt,Et),this._state===ACTION.TOUCH_DOLLY_TRUCK||this._state===ACTION.TOUCH_ZOOM_TRUCK?this._truckInternal(gt,yt,!1):(this._state===ACTION.TOUCH_DOLLY_OFFSET||this._state===ACTION.TOUCH_ZOOM_OFFSET)&&this._truckInternal(gt,yt,!0);break}case ACTION.TRUCK:case ACTION.TOUCH_TRUCK:{this._truckInternal(gt,yt,!1);break}case ACTION.OFFSET:case ACTION.TOUCH_OFFSET:{this._truckInternal(gt,yt,!0);break}}this.dispatchEvent({type:"control"})},mt=()=>{extractClientCoordFromEvent(this._activePointers,_v2$1),_e.copy(_v2$1),this._activePointers.length===0&&(this._domElement.ownerDocument.removeEventListener("pointermove",it,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",at),this._domElement.ownerDocument.removeEventListener("touchmove",st,{passive:!1}),this._domElement.ownerDocument.removeEventListener("touchend",ut),this.dispatchEvent({type:"controlend"}))};this._domElement.addEventListener("pointerdown",tt),isPointerEventsNotSupported&&this._domElement.addEventListener("mousedown",nt),isPointerEventsNotSupported&&this._domElement.addEventListener("touchstart",rt),this._domElement.addEventListener("pointercancel",at),this._domElement.addEventListener("wheel",ft,{passive:!1}),this._domElement.addEventListener("contextmenu",ht),this._removeAllEventListeners=()=>{this._domElement.removeEventListener("pointerdown",tt),this._domElement.removeEventListener("mousedown",nt),this._domElement.removeEventListener("touchstart",rt),this._domElement.removeEventListener("pointercancel",at),this._domElement.removeEventListener("wheel",ft,{passive:!1}),this._domElement.removeEventListener("contextmenu",ht),this._domElement.ownerDocument.removeEventListener("pointermove",it,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",ot),this._domElement.ownerDocument.removeEventListener("touchmove",st,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",at),this._domElement.ownerDocument.removeEventListener("mouseup",lt),this._domElement.ownerDocument.removeEventListener("touchend",ut)},this.cancel=()=>{this._state!==ACTION.NONE&&(this._state=ACTION.NONE,this._activePointers.length=0,mt())}}this.update(0)}static install(g){THREE=g.THREE,_ORIGIN=Object.freeze(new THREE.Vector3(0,0,0)),_AXIS_Y=Object.freeze(new THREE.Vector3(0,1,0)),_AXIS_Z=Object.freeze(new THREE.Vector3(0,0,1)),_v2$1=new THREE.Vector2,_v3A=new THREE.Vector3,_v3B=new THREE.Vector3,_v3C=new THREE.Vector3,_xColumn=new THREE.Vector3,_yColumn=new THREE.Vector3,_zColumn=new THREE.Vector3,_deltaTarget=new THREE.Vector3,_deltaOffset=new THREE.Vector3,_sphericalA=new THREE.Spherical,_sphericalB=new THREE.Spherical,_box3A=new THREE.Box3,_box3B=new THREE.Box3,_sphere=new THREE.Sphere,_quaternionA=new THREE.Quaternion,_quaternionB=new THREE.Quaternion,_rotationMatrix=new THREE.Matrix4,_raycaster$1=new THREE.Raycaster}static get ACTION(){return ACTION}get camera(){return this._camera}set camera(g){this._camera=g,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(g){this._enabled=g,g?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="")}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(g){this._spherical.radius===g&&this._sphericalEnd.radius===g||(this._spherical.radius=g,this._sphericalEnd.radius=g,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(g){this._spherical.theta===g&&this._sphericalEnd.theta===g||(this._spherical.theta=g,this._sphericalEnd.theta=g,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(g){this._spherical.phi===g&&this._sphericalEnd.phi===g||(this._spherical.phi=g,this._sphericalEnd.phi=g,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(g){this._boundaryEnclosesCamera=g,this._needsUpdate=!0}addEventListener(g,b){super.addEventListener(g,b)}removeEventListener(g,b){super.removeEventListener(g,b)}rotate(g,b,$=!1){return this.rotateTo(this._sphericalEnd.theta+g,this._sphericalEnd.phi+b,$)}rotateAzimuthTo(g,b=!1){return this.rotateTo(g,this._sphericalEnd.phi,b)}rotatePolarTo(g,b=!1){return this.rotateTo(this._sphericalEnd.theta,g,b)}rotateTo(g,b,$=!1){const _e=THREE.MathUtils.clamp(g,this.minAzimuthAngle,this.maxAzimuthAngle),et=THREE.MathUtils.clamp(b,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=_e,this._sphericalEnd.phi=et,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,$||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const tt=!$||approxEquals(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&approxEquals(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(tt)}dolly(g,b=!1){return this.dollyTo(this._sphericalEnd.radius-g,b)}dollyTo(g,b=!1){const $=this._sphericalEnd.radius,_e=THREE.MathUtils.clamp(g,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){const nt=this._collisionTest(),rt=approxEquals(nt,this._spherical.radius);if(!($>_e)&&rt)return Promise.resolve();this._sphericalEnd.radius=Math.min(_e,nt)}else this._sphericalEnd.radius=_e;this._needsUpdate=!0,b||(this._spherical.radius=this._sphericalEnd.radius);const tt=!b||approxEquals(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(tt)}zoom(g,b=!1){return this.zoomTo(this._zoomEnd+g,b)}zoomTo(g,b=!1){this._zoomEnd=THREE.MathUtils.clamp(g,this.minZoom,this.maxZoom),this._needsUpdate=!0,b||(this._zoom=this._zoomEnd);const $=!b||approxEquals(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise($)}pan(g,b,$=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(g,b,$)}truck(g,b,$=!1){this._camera.updateMatrix(),_xColumn.setFromMatrixColumn(this._camera.matrix,0),_yColumn.setFromMatrixColumn(this._camera.matrix,1),_xColumn.multiplyScalar(g),_yColumn.multiplyScalar(-b);const _e=_v3A.copy(_xColumn).add(_yColumn),et=_v3B.copy(this._targetEnd).add(_e);return this.moveTo(et.x,et.y,et.z,$)}forward(g,b=!1){_v3A.setFromMatrixColumn(this._camera.matrix,0),_v3A.crossVectors(this._camera.up,_v3A),_v3A.multiplyScalar(g);const $=_v3B.copy(this._targetEnd).add(_v3A);return this.moveTo($.x,$.y,$.z,b)}moveTo(g,b,$,_e=!1){const et=_v3A.set(g,b,$).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,et,this.boundaryFriction),this._needsUpdate=!0,_e||this._target.copy(this._targetEnd);const tt=!_e||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(tt)}fitToBox(g,b,{paddingLeft:$=0,paddingRight:_e=0,paddingBottom:et=0,paddingTop:tt=0}={}){const nt=[],rt=g.isBox3?_box3A.copy(g):_box3A.setFromObject(g);rt.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const it=roundToStep(this._sphericalEnd.theta,PI_HALF),ot=roundToStep(this._sphericalEnd.phi,PI_HALF);nt.push(this.rotateTo(it,ot,b));const st=_v3A.setFromSpherical(this._sphericalEnd).normalize(),at=_quaternionA.setFromUnitVectors(st,_AXIS_Z).multiply(this._yAxisUpSpaceInverse);approxEquals(Math.abs(st.y),1)&&at.multiply(_quaternionB.setFromAxisAngle(_AXIS_Y,it));const ut=_box3B.makeEmpty();_v3B.copy(rt.min).applyQuaternion(at),ut.expandByPoint(_v3B),_v3B.copy(rt.min).setX(rt.max.x).applyQuaternion(at),ut.expandByPoint(_v3B),_v3B.copy(rt.min).setY(rt.max.y).applyQuaternion(at),ut.expandByPoint(_v3B),_v3B.copy(rt.max).setZ(rt.min.z).applyQuaternion(at),ut.expandByPoint(_v3B),_v3B.copy(rt.min).setZ(rt.max.z).applyQuaternion(at),ut.expandByPoint(_v3B),_v3B.copy(rt.max).setY(rt.min.y).applyQuaternion(at),ut.expandByPoint(_v3B),_v3B.copy(rt.max).setX(rt.min.x).applyQuaternion(at),ut.expandByPoint(_v3B),_v3B.copy(rt.max).applyQuaternion(at),ut.expandByPoint(_v3B),at.setFromUnitVectors(_AXIS_Z,st),ut.min.x-=$,ut.min.y-=et,ut.max.x+=_e,ut.max.y+=tt;const ct=ut.getSize(_v3A),ft=ut.getCenter(_v3B).applyQuaternion(at);if(isPerspectiveCamera(this._camera)){const ht=this.getDistanceToFitBox(ct.x,ct.y,ct.z);nt.push(this.moveTo(ft.x,ft.y,ft.z,b)),nt.push(this.dollyTo(ht,b)),nt.push(this.setFocalOffset(0,0,0,b))}else if(isOrthographicCamera(this._camera)){const ht=this._camera,dt=ht.right-ht.left,pt=ht.top-ht.bottom,mt=Math.min(dt/ct.x,pt/ct.y);nt.push(this.moveTo(ft.x,ft.y,ft.z,b)),nt.push(this.zoomTo(mt,b)),nt.push(this.setFocalOffset(0,0,0,b))}return Promise.all(nt)}fitToSphere(g,b){const $=[],et=g instanceof THREE.Sphere?_sphere.copy(g):createBoundingSphere(g,_sphere);if($.push(this.moveTo(et.center.x,et.center.y,et.center.z,b)),isPerspectiveCamera(this._camera)){const tt=this.getDistanceToFitSphere(et.radius);$.push(this.dollyTo(tt,b))}else if(isOrthographicCamera(this._camera)){const tt=this._camera.right-this._camera.left,nt=this._camera.top-this._camera.bottom,rt=2*et.radius,it=Math.min(tt/rt,nt/rt);$.push(this.zoomTo(it,b))}return $.push(this.setFocalOffset(0,0,0,b)),Promise.all($)}setLookAt(g,b,$,_e,et,tt,nt=!1){const rt=_v3B.set(_e,et,tt),it=_v3A.set(g,b,$);this._targetEnd.copy(rt),this._sphericalEnd.setFromVector3(it.sub(rt).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,nt||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const ot=!nt||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold)&&approxEquals(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&approxEquals(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&approxEquals(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(ot)}lerpLookAt(g,b,$,_e,et,tt,nt,rt,it,ot,st,at,lt,ut=!1){const ct=_v3A.set(_e,et,tt),ft=_v3B.set(g,b,$);_sphericalA.setFromVector3(ft.sub(ct).applyQuaternion(this._yAxisUpSpace));const ht=_v3C.set(ot,st,at),dt=_v3B.set(nt,rt,it);_sphericalB.setFromVector3(dt.sub(ht).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(ct.lerp(ht,lt));const pt=_sphericalB.theta-_sphericalA.theta,mt=_sphericalB.phi-_sphericalA.phi,gt=_sphericalB.radius-_sphericalA.radius;this._sphericalEnd.set(_sphericalA.radius+gt*lt,_sphericalA.phi+mt*lt,_sphericalA.theta+pt*lt),this.normalizeRotations(),this._needsUpdate=!0,ut||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const yt=!ut||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold)&&approxEquals(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&approxEquals(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&approxEquals(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(yt)}setPosition(g,b,$,_e=!1){return this.setLookAt(g,b,$,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,_e)}setTarget(g,b,$,_e=!1){const et=this.getPosition(_v3A);return this.setLookAt(et.x,et.y,et.z,g,b,$,_e)}setFocalOffset(g,b,$,_e=!1){this._focalOffsetEnd.set(g,b,$),this._needsUpdate=!0,_e||this._focalOffset.copy(this._focalOffsetEnd);const et=!_e||approxEquals(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&approxEquals(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&approxEquals(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(et)}setOrbitPoint(g,b,$){_xColumn.setFromMatrixColumn(this._camera.matrixWorldInverse,0),_yColumn.setFromMatrixColumn(this._camera.matrixWorldInverse,1),_zColumn.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const _e=_v3A.set(g,b,$),et=_e.distanceTo(this._camera.position),tt=_e.sub(this._camera.position);_xColumn.multiplyScalar(tt.x),_yColumn.multiplyScalar(tt.y),_zColumn.multiplyScalar(tt.z),_v3A.copy(_xColumn).add(_yColumn).add(_zColumn),_v3A.z=_v3A.z+et,this.dollyTo(et,!1),this.setFocalOffset(-_v3A.x,_v3A.y,-_v3A.z,!1),this.moveTo(g,b,$,!1)}setBoundary(g){if(!g){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(g),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(g,b,$,_e){if(g===null){this._viewport=null;return}this._viewport=this._viewport||new THREE.Vector4,typeof g=="number"?this._viewport.set(g,b,$,_e):this._viewport.copy(g)}getDistanceToFitBox(g,b,$){if(notSupportedInOrthographicCamera(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const _e=g/b,et=this._camera.getEffectiveFOV()*THREE.MathUtils.DEG2RAD,tt=this._camera.aspect;return(_e<tt?b:g/tt)*.5/Math.tan(et*.5)+$*.5}getDistanceToFitSphere(g){if(notSupportedInOrthographicCamera(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const b=this._camera.getEffectiveFOV()*THREE.MathUtils.DEG2RAD,$=Math.atan(Math.tan(b*.5)*this._camera.aspect)*2,_e=1<this._camera.aspect?b:$;return g/Math.sin(_e*.5)}getTarget(g){return(!!g&&g.isVector3?g:new THREE.Vector3).copy(this._targetEnd)}getPosition(g){return(!!g&&g.isVector3?g:new THREE.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(g){return(!!g&&g.isVector3?g:new THREE.Vector3).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%PI_2,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=PI_2),this._spherical.theta+=PI_2*Math.round((this._sphericalEnd.theta-this._spherical.theta)/PI_2)}reset(g=!1){const b=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,g),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,g),this.zoomTo(this._zoom0,g)];return Promise.all(b)}saveState(){this._target0.copy(this._target),this._position0.copy(this._camera.position),this._zoom0=this._zoom}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,_AXIS_Y),quatInvertCompat(this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace))}update(g){const b=this._state===ACTION.NONE?this.dampingFactor:this.draggingDampingFactor,$=Math.min(b*g*60,1),_e=this._sphericalEnd.theta-this._spherical.theta,et=this._sphericalEnd.phi-this._spherical.phi,tt=this._sphericalEnd.radius-this._spherical.radius,nt=_deltaTarget.subVectors(this._targetEnd,this._target),rt=_deltaOffset.subVectors(this._focalOffsetEnd,this._focalOffset);if(!approxZero(_e)||!approxZero(et)||!approxZero(tt)||!approxZero(nt.x)||!approxZero(nt.y)||!approxZero(nt.z)||!approxZero(rt.x)||!approxZero(rt.y)||!approxZero(rt.z)?(this._spherical.set(this._spherical.radius+tt*$,this._spherical.phi+et*$,this._spherical.theta+_e*$),this._target.add(nt.multiplyScalar($)),this._focalOffset.add(rt.multiplyScalar($)),this._needsUpdate=!0):(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd),this._focalOffset.copy(this._focalOffsetEnd)),this._dollyControlAmount!==0){if(isPerspectiveCamera(this._camera)){const lt=this._camera,ut=_v3A.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),ct=_v3B.copy(ut).cross(lt.up).normalize();ct.lengthSq()===0&&(ct.x=1);const ft=_v3C.crossVectors(ct,ut),ht=this._sphericalEnd.radius*Math.tan(lt.getEffectiveFOV()*THREE.MathUtils.DEG2RAD*.5),pt=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,mt=_v3A.copy(this._targetEnd).add(ct.multiplyScalar(this._dollyControlCoord.x*ht*lt.aspect)).add(ft.multiplyScalar(this._dollyControlCoord.y*ht));this._targetEnd.lerp(mt,pt),this._target.copy(this._targetEnd)}else if(isOrthographicCamera(this._camera)){const lt=this._camera,ut=_v3A.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(lt.near+lt.far)/(lt.near-lt.far)).unproject(lt),ct=_v3B.set(0,0,-1).applyQuaternion(lt.quaternion),ft=ct.dot(lt.up),ht=approxZero(ft)?-ut.dot(lt.up):-ut.dot(lt.up)/ft,dt=_v3C.copy(ut).add(ct.multiplyScalar(ht));this._targetEnd.lerp(dt,1-lt.zoom/this._dollyControlAmount),this._target.copy(this._targetEnd)}this._dollyControlAmount=0}const it=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,it),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!approxZero(this._focalOffset.x)||!approxZero(this._focalOffset.y)||!approxZero(this._focalOffset.z))&&(this._camera.updateMatrix(),_xColumn.setFromMatrixColumn(this._camera.matrix,0),_yColumn.setFromMatrixColumn(this._camera.matrix,1),_zColumn.setFromMatrixColumn(this._camera.matrix,2),_xColumn.multiplyScalar(this._focalOffset.x),_yColumn.multiplyScalar(-this._focalOffset.y),_zColumn.multiplyScalar(this._focalOffset.z),_v3A.copy(_xColumn).add(_yColumn).add(_zColumn),this._camera.position.add(_v3A)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),_v3A.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const st=this._zoomEnd-this._zoom;this._zoom+=st*$,this._camera.zoom!==this._zoom&&(approxZero(st)&&(this._zoom=this._zoomEnd),this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);const at=this._needsUpdate;return at&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):at?(this.dispatchEvent({type:"update"}),approxZero(_e,this.restThreshold)&&approxZero(et,this.restThreshold)&&approxZero(tt,this.restThreshold)&&approxZero(nt.x,this.restThreshold)&&approxZero(nt.y,this.restThreshold)&&approxZero(nt.z,this.restThreshold)&&approxZero(rt.x,this.restThreshold)&&approxZero(rt.y,this.restThreshold)&&approxZero(rt.z,this.restThreshold)&&approxZero(st,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!at&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=at,this._needsUpdate=!1,at}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:infinityToMaxNumber(this.maxDistance),minZoom:this.minZoom,maxZoom:infinityToMaxNumber(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:infinityToMaxNumber(this.maxPolarAngle),minAzimuthAngle:infinityToMaxNumber(this.minAzimuthAngle),maxAzimuthAngle:infinityToMaxNumber(this.maxAzimuthAngle),dampingFactor:this.dampingFactor,draggingDampingFactor:this.draggingDampingFactor,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:_v3A.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(g,b=!1){const $=JSON.parse(g),_e=_v3A.fromArray($.position);this.enabled=$.enabled,this.minDistance=$.minDistance,this.maxDistance=maxNumberToInfinity($.maxDistance),this.minZoom=$.minZoom,this.maxZoom=maxNumberToInfinity($.maxZoom),this.minPolarAngle=$.minPolarAngle,this.maxPolarAngle=maxNumberToInfinity($.maxPolarAngle),this.minAzimuthAngle=maxNumberToInfinity($.minAzimuthAngle),this.maxAzimuthAngle=maxNumberToInfinity($.maxAzimuthAngle),this.dampingFactor=$.dampingFactor,this.draggingDampingFactor=$.draggingDampingFactor,this.dollySpeed=$.dollySpeed,this.truckSpeed=$.truckSpeed,this.dollyToCursor=$.dollyToCursor,this.verticalDragToForward=$.verticalDragToForward,this._target0.fromArray($.target0),this._position0.fromArray($.position0),this._zoom0=$.zoom0,this._focalOffset0.fromArray($.focalOffset0),this.moveTo($.target[0],$.target[1],$.target[2],b),_sphericalA.setFromVector3(_e.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(_sphericalA.theta,_sphericalA.phi,b),this.zoomTo($.zoom,b),this.setFocalOffset($.focalOffset[0],$.focalOffset[1],$.focalOffset[2],b),this._needsUpdate=!0}dispose(){this._removeAllEventListeners()}_findPointerById(g){let b=null;return this._activePointers.some($=>$.pointerId===g?(b=$,!0):!1),b}_encloseToBoundary(g,b,$){const _e=b.lengthSq();if(_e===0)return g;const et=_v3B.copy(b).add(g),nt=this._boundary.clampPoint(et,_v3C).sub(et),rt=nt.lengthSq();if(rt===0)return g.add(b);if(rt===_e)return g;if($===0)return g.add(b).add(nt);{const it=1+$*rt/b.dot(nt);return g.add(_v3B.copy(b).multiplyScalar(it)).add(nt.multiplyScalar(1-$))}}_updateNearPlaneCorners(){if(isPerspectiveCamera(this._camera)){const g=this._camera,b=g.near,$=g.getEffectiveFOV()*THREE.MathUtils.DEG2RAD,_e=Math.tan($*.5)*b,et=_e*g.aspect;this._nearPlaneCorners[0].set(-et,-_e,0),this._nearPlaneCorners[1].set(et,-_e,0),this._nearPlaneCorners[2].set(et,_e,0),this._nearPlaneCorners[3].set(-et,_e,0)}else if(isOrthographicCamera(this._camera)){const g=this._camera,b=1/g.zoom,$=g.left*b,_e=g.right*b,et=g.top*b,tt=g.bottom*b;this._nearPlaneCorners[0].set($,et,0),this._nearPlaneCorners[1].set(_e,et,0),this._nearPlaneCorners[2].set(_e,tt,0),this._nearPlaneCorners[3].set($,tt,0)}}_collisionTest(){let g=1/0;if(!(this.colliderMeshes.length>=1)||notSupportedInOrthographicCamera(this._camera,"_collisionTest"))return g;const $=_v3A.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);_rotationMatrix.lookAt(_ORIGIN,$,this._camera.up);for(let _e=0;_e<4;_e++){const et=_v3B.copy(this._nearPlaneCorners[_e]);et.applyMatrix4(_rotationMatrix);const tt=_v3C.addVectors(this._target,et);_raycaster$1.set(tt,$),_raycaster$1.far=this._spherical.radius+1;const nt=_raycaster$1.intersectObjects(this.colliderMeshes);nt.length!==0&&nt[0].distance<g&&(g=nt[0].distance)}return g}_getClientRect(g){const b=this._domElement.getBoundingClientRect();return g.x=b.left,g.y=b.top,this._viewport?(g.x+=this._viewport.x,g.y+=b.height-this._viewport.w-this._viewport.y,g.width=this._viewport.z,g.height=this._viewport.w):(g.width=b.width,g.height=b.height),g}_createOnRestPromise(g){return g?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(b=>{const $=()=>{this.removeEventListener("rest",$),b()};this.addEventListener("rest",$)}))}_removeAllEventListeners(){}}function createBoundingSphere(j,g){const b=g,$=b.center;_box3A.makeEmpty(),j.traverseVisible(et=>{!et.isMesh||_box3A.expandByObject(et)}),_box3A.getCenter($);let _e=0;return j.traverseVisible(et=>{if(!et.isMesh)return;const tt=et,nt=tt.geometry.clone();if(nt.applyMatrix4(tt.matrixWorld),nt.isBufferGeometry){const it=nt.attributes.position;for(let ot=0,st=it.count;ot<st;ot++)_v3A.fromBufferAttribute(it,ot),_e=Math.max(_e,$.distanceToSquared(_v3A))}else{const rt=nt.attributes.position,it=new THREE.Vector3;for(let ot=0,st=rt.count;ot<st;ot++)it.fromBufferAttribute(rt,ot),_e=Math.max(_e,$.distanceToSquared(it))}}),b.radius=Math.sqrt(_e),b}const componentName$j="SceneBase",log$8=debug(`front:3D:${componentName$j}`),subsetOfTHREE={MOUSE,Vector2,Vector3,Vector4,Quaternion,Matrix4,Spherical,Box3,Sphere,Raycaster,MathUtils:{DEG2RAD:MathUtils.DEG2RAD,clamp:MathUtils.clamp}};class SceneBase extends EventEmitter$1{constructor(){super();sn(this,"_domContainer");sn(this,"_renderer");sn(this,"_sceneObjects",[]);sn(this,"_backgroundColor");sn(this,"_camera");sn(this,"_isDebugSceneActive");sn(this,"_cameraDebug");sn(this,"_scene");sn(this,"_rendererSize");sn(this,"_fog");sn(this,"_centerCoords");sn(this,"_cameraDebugControls");sn(this,"_cameraHelper");sn(this,"_clock");sn(this,"_deltaTime");sn(this,"_rafId");sn(this,"_resizeThrottled");sn(this,"_loopBinded");sn(this,"_ready",!1);sn(this,"_resizeObserver");sn(this,"_postprocessing");sn(this,"performance");sn(this,"paused",!1);sn(this,"_resize",b=>{var $,_e;this._rendererSize={width:(($=b==null?void 0:b.contentRect)==null?void 0:$.width)||b.clientWidth,height:((_e=b==null?void 0:b.contentRect)==null?void 0:_e.height)||b.clientHeight},this._camera.aspect=this._rendererSize.width/this._rendererSize.height,this._camera.updateProjectionMatrix(),this._renderer.setSize(this._rendererSize.width,this._rendererSize.height)});sn(this,"_removeFromScene",b=>{b&&b.parent.remove(b)});this._isDebugSceneActive=window.location.hash==="#debug"||sceneConfig.debug.sceneDebug,this._backgroundColor=new Color(sceneConfig.sceneEnvBackground.color),this.performance=new PerformanceWatcher,this._loopBinded=this.loop.bind(this)}get renderer(){return this._renderer}get camera(){return this._camera}get isDebugSceneActive(){return this._isDebugSceneActive}get scene(){return this._scene}get deltaTime(){return this._deltaTime}async init({domContainer:b,assetsData:$,staticLoadersBasePath:_e}){this._domContainer=b,this._rendererSize={width:b.clientWidth,height:b.clientHeight},this._centerCoords={x:this._rendererSize.width*.5,y:this._rendererSize.height*.5},this._renderer=new WebGLRenderer({powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!0,alpha:!0}),this._renderer.autoClear=!1,this._renderer.info.autoReset=!1,this.renderer.setPixelRatio(limitNumberRange(1,window.devicePixelRatio,2)),this._renderer.outputEncoding=LinearEncoding,this._renderer.info.autoReset=!1,this.renderer.toneMapping=ACESFilmicToneMapping,this.renderer.toneMappingExposure=1.3,this._renderer.shadowMap.enabled=!0,this._renderer.shadowMap.type=PCFSoftShadowMap,this._renderer.setSize(this._rendererSize.width,this._rendererSize.height),this._domContainer.appendChild(this._renderer.domElement),this._clock=new Clock,this._setupScene();try{$&&$.length>0&&await AssetManager$1.init({renderer:this._renderer,staticLoadersBasePath:_e}),await AssetManager$1.load($)}catch(tt){console.error("Failed to load asset",tt)}this._postprocessing=new PostProcessing({renderer:this._renderer,scene:this._scene,camera:this._camera}),this._ready=!0,new ResizeObserver(tt=>this._resize(tt[0])).observe(this._domContainer),this._setDebugMode(this._isDebugSceneActive),this._listenEventDebug(),threeDevToolBrowserPlugin(this.renderer,this.scene)}_prepare(){this._initSceneObjects()}_setupScene(){this._scene=new Scene,this._scene.background=this._backgroundColor,sceneConfig.sceneFog.enabled&&(this._fog=new Fog(sceneConfig.sceneFog.color||this._backgroundColor,sceneConfig.sceneFog.near,sceneConfig.sceneFog.far),this._scene.fog=this._fog),this._camera=this._setupMainCamera(),this._cameraHelper=new CameraHelper(this._camera),this._cameraHelper.name="mainCameraHelper",this._cameraHelper.visible=!1,this._scene.add(this._cameraHelper);const[b,$]=this._setupDebugCamera();this._cameraDebug=b,this._cameraDebugControls=$}_getSceneObjects(){return[]}_initSceneObjects(){const b=this._getSceneObjects();this._addSceneObjects(b)}_addSceneObjects(b){this._sceneObjects=[...this._sceneObjects,...b],b.forEach($=>this._scene.add($))}_setupMainCamera(b=75,$=.1,_e=500,et=35,tt=new Vector3(0,0,5),nt=new Euler(0,0,0)){const rt=this._rendererSize.width/this._rendererSize.height,it=new PerspectiveCamera(b,rt,$,_e);return it.filmGauge=et,it.name="mainCamera",it.position.copy(tt),it.rotation.copy(nt),it}_setupDebugCamera(){const b=new PerspectiveCamera(45,this._rendererSize.width/this._rendererSize.height,1,1e4);b.position.set(0,10,40),CameraControls.install({THREE:subsetOfTHREE});const $=new CameraControls(b,this.renderer.domElement);return $.enabled=this._isDebugSceneActive,[b,$]}_listenEventDebug(){window.addEventListener("keydown",b=>{b.altKey&&b.ctrlKey&&b.shiftKey&&b.code==="KeyD"&&this._setDebugMode(!this._isDebugSceneActive)})}_setDebugMode(b){var $;this._isDebugSceneActive=b,this._cameraHelper.visible=b,this._cameraDebugControls.enabled=b,($=this._scene)!=null&&$.fog&&(b?this._scene.fog=null:this._scene.fog=this._fog),this._sceneObjects.length>0&&this._sceneObjects.forEach((_e,et)=>{"isDebug"in _e&&(_e.isDebug=_e.isDebug||b)}),this._domContainer.parentElement.style.zIndex=b?"1":"0"}render(){this._isDebugSceneActive?(this._renderer.render(this._scene,this._cameraDebug),this._cameraDebugControls.enabled&&this._cameraDebugControls.update(this.deltaTime)):sceneConfig.postprocessing.enabled?this._postprocessing&&this._postprocessing.composerReady&&this._postprocessing.composer.render(this.deltaTime):this._renderer.render(this._scene,this.camera)}loop(b){return this.performance.start(),this._deltaTime=this._clock.getDelta(),this._rafId=requestAnimationFrame(this._loopBinded),this._renderer.info.reset(),!this._ready||this.paused?!1:(this._sceneObjects.forEach($=>{const _e=$.isGroup,et=tt=>tt.forEach(nt=>nt.loop&&nt.loop(this._deltaTime,b));et(_e?$.children:[$])}),!0)}destroy(){this.paused=!0,cancelAnimationFrame(this._rafId),window.removeEventListener("resize",this._resize.bind(this)),this.removeAllListeners(),this._postprocessing&&this._postprocessing.dispose(),this._renderer.dispose(),this._renderer.domElement.remove(),this._renderer.renderLists.dispose(),this._scene.traverse(b=>{if(!!b.isMesh)if(log$8("dispose geometry "+b.name),b.geometry.dispose(),b.material.isMaterial)cleanMaterial(b.material);else for(const $ of b.material)cleanMaterial($)}),this._scene=null}}function smoothValue(j,g,b){return j-(j-g)*b}const componentName$i="CameraManager",log$7=debug(`front:3D:${componentName$i}`),EPS=1e-5;class CameraManager{constructor(g,b){sn(this,"camera");sn(this,"rendererDomContainer");sn(this,"basePosition");sn(this,"baseRotation");sn(this,"container");sn(this,"target");sn(this,"_tempTarget");sn(this,"_cameraMotion");sn(this,"_targetOffsetY",.01);sn(this,"_currentAnimation");sn(this,"_isTouchDown",!1);sn(this,"canInteract",!0);sn(this,"isDragging",!1);sn(this,"_dragTarget",[0,0]);sn(this,"_enabled",!0);sn(this,"mainCameraManager");sn(this,"_isMoving",!1);this.camera=g,this.container=new Object3D,this.container.add(g),this.rendererDomContainer=b,this.basePosition=this.camera.position.clone(),this.container.position.copy(this.camera.position),this.camera.position.set(0,0,0),this.target=new Vector3(this.basePosition.x,this.basePosition.y,-EPS),this.container.lookAt(this.target),this._tempTarget=this.target.clone(),this.camera.lookAt(0,0,-EPS),this.baseRotation=this.camera.rotation.clone(),this._cameraMotion=new Vector2(this.baseRotation.x,0),window.__CAMERA_MANAGER__=this}set enabled(g){this._enabled=g}get enabled(){return this._enabled}get isMoving(){return this._isMoving}onMouseMove(g){let{x:b,y:$}=g;navigationService.currentInnovation&&(b*=.1,$*=.1),this._updateCameraMotion({x:b,y:$})}onDrag({xy:g,movement:b,delta:$,first:_e,last:et,down:tt,canceled:nt}){const{dragFactor:rt}=sceneConfig.cameraManager;if(!(!this.canInteract||navigationService.currentInnovation)&&!(_e&&(this._isTouchDown=!0,this._tempTarget.copy(this.target),Math.abs(($[0]+$[1])/2)<12))&&(this.isDragging=!0,this._updateCameraTouchRotation({x:b[0]/window.innerWidth*-rt.x,y:b[1]/window.innerHeight*rt.y}),et)){if(!this.isDragging)return;this._isTouchDown=!1,setTimeout(()=>{this.isDragging=!1},10)}}_updateCameraMotion({x:g,y:b}){this._cameraMotion.y=g*sceneConfig.mainCamera.pointerFactor.y,this._cameraMotion.x=this.baseRotation.x-b*sceneConfig.mainCamera.pointerFactor.x}_updateCameraTouchRotation({x:g,y:b}){const{maxDragLeft:$,maxDragRight:_e,maxDragTop:et,maxDragBottom:tt}=sceneConfig.cameraManager,nt=this._tempTarget.clone();nt.add(new Vector3(g,b,0)),nt.x=MathUtils.clamp(nt.x,$,_e),nt.y=MathUtils.clamp(nt.y,tt,et),this.target.copy(nt)}focusOn(g,b=3,$=!1){log$7("focus on :",g);let _e=new Vector3,et;return g.getWorldPosition(_e),et=_e.clone(),_e.add(new Vector3(0,0,b)),$&&_e.multiply(new Vector3(.4,1,1)),this._currentAnimation&&this._currentAnimation.kill(),this._currentAnimation=this.moveTo(_e,2,et)}focusOnPortal(g){this.focusOn(g.cameraFocusPoint,isMobile?4:8,!0)}focusOnInnovation(g){const b=isMobile?.5:1,$=g.cameraDistance?g.cameraDistance:sceneConfig.innovationObjects.defaultCameraDistance;this.focusOn(g.cameraFocusPoint,$*b).eventCallback("onStart",()=>{g.emitCurrentPoiSlug()})}focusOnTextPanel(g){this.focusOn(g.cameraFocusPoint,isMobile?6:8.5)}async traversePortal(g,b=!0){let $=new Vector3,_e=new Vector3,et=b?2.25:0;g.getWorldPosition($),g.getWorldPosition(_e),$.lerpVectors(this.container.position,_e,sceneConfig.cameraManager.zoomOnPortal);const tt={progression:0},nt=this.container.position.clone(),rt=this.target.clone();return gsapWithCSS.to(tt,{progression:1,duration:et,ease:"power2.in",onStart:()=>{this._isMoving=!0},onComplete:()=>{this._isMoving=!1},onUpdateParams:[tt],onUpdate:({progression:it})=>{this.container.position.lerpVectors(nt,$,it),this.lerpTarget(rt,_e,Math.min(it*1.25,1))}})}addDebugMesh(g){const b=new Mesh(new BoxGeometry);b.position.x=g.x,b.position.y=g.y,b.position.z=g.z,sceneViewInstanced.scene.add(b)}introduce(){const g=this.basePosition.clone();g.y+=1.5,g.z+=4,this.moveTo(g,0,null,!0),this.moveTo(this.basePosition,3,null,!0)}onRoomEntrance(){const g=this.basePosition.clone();g.z+=2,this.moveTo(g,0,null,!0),this.moveTo(this.basePosition,2,null,!0)}goToRoomCenter(g=!0,b=!1){this._currentAnimation&&this._currentAnimation.kill(),b?this.onRoomEntrance():this.moveTo(this.basePosition,g?2:0,null,!0)}moveTo(g,b=2,$,_e=!1){const et={progression:0},tt=this.container.position.clone(),nt=g,rt=this.target.clone();return _e&&($=nt.clone().add(new Vector3(0,1,-10))),gsapWithCSS.to(et,{progression:1,duration:b,ease:"power3.out",onStart:()=>{this._isMoving=!0},onComplete:()=>{this._isMoving=!1},onUpdateParams:[et],onUpdate:({progression:it})=>{this.container.position.lerpVectors(tt,nt,it),$&&this.lerpTarget(rt,$,it)}})}lerpTarget(g,b,$){b.z-=EPS,this.target.lerpVectors(g,b,$)}loop(g){window.__DELTA_TIME__=g,this.container.lookAt(this.target),this.camera.rotation.y=smoothValue(this.camera.rotation.y,this._cameraMotion.y,.125),this.camera.rotation.x=smoothValue(this.camera.rotation.x,this._cameraMotion.x,.125)}}class RoomManager{constructor({roomsData:g,rooms3dData:b}){sn(this,"rooms",[]);sn(this,"_currentRoom");this.rooms=b.map($=>new $.roomSceneObject({parameters:$,contentData:g.find(et=>et.slug===$.name)})),this.currentRoom=this.rooms[0]}get currentRoom(){return this._currentRoom}set currentRoom(g){this._currentRoom&&(this._currentRoom.active=!1),g.active=!0,this._currentRoom=g,this._currentRoom.innovations&&this._currentRoom.innovations.forEach(b=>b.introduce())}}const _raycaster=new Raycaster,_tempVector=new Vector3,_tempVector2=new Vector3,_tempQuaternion=new Quaternion,_unit={X:new Vector3(1,0,0),Y:new Vector3(0,1,0),Z:new Vector3(0,0,1)},_changeEvent={type:"change"},_mouseDownEvent={type:"mouseDown"},_mouseUpEvent={type:"mouseUp",mode:null},_objectChangeEvent={type:"objectChange"};class TransformControls extends Object3D{constructor(g,b){super(),b===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),b=document),this.visible=!1,this.domElement=b,this.domElement.style.touchAction="none";const $=new TransformControlsGizmo;this._gizmo=$,this.add($);const _e=new TransformControlsPlane;this._plane=_e,this.add(_e);const et=this;function tt(dt,pt){let mt=pt;Object.defineProperty(et,dt,{get:function(){return mt!==void 0?mt:pt},set:function(gt){mt!==gt&&(mt=gt,_e[dt]=gt,$[dt]=gt,et.dispatchEvent({type:dt+"-changed",value:gt}),et.dispatchEvent(_changeEvent))}}),et[dt]=pt,_e[dt]=pt,$[dt]=pt}tt("camera",g),tt("object",void 0),tt("enabled",!0),tt("axis",null),tt("mode","translate"),tt("translationSnap",null),tt("rotationSnap",null),tt("scaleSnap",null),tt("space","world"),tt("size",1),tt("dragging",!1),tt("showX",!0),tt("showY",!0),tt("showZ",!0);const nt=new Vector3,rt=new Vector3,it=new Quaternion,ot=new Quaternion,st=new Vector3,at=new Quaternion,lt=new Vector3,ut=new Vector3,ct=new Vector3,ft=0,ht=new Vector3;tt("worldPosition",nt),tt("worldPositionStart",rt),tt("worldQuaternion",it),tt("worldQuaternionStart",ot),tt("cameraPosition",st),tt("cameraQuaternion",at),tt("pointStart",lt),tt("pointEnd",ut),tt("rotationAxis",ct),tt("rotationAngle",ft),tt("eye",ht),this._offset=new Vector3,this._startNorm=new Vector3,this._endNorm=new Vector3,this._cameraScale=new Vector3,this._parentPosition=new Vector3,this._parentQuaternion=new Quaternion,this._parentQuaternionInv=new Quaternion,this._parentScale=new Vector3,this._worldScaleStart=new Vector3,this._worldQuaternionInv=new Quaternion,this._worldScale=new Vector3,this._positionStart=new Vector3,this._quaternionStart=new Quaternion,this._scaleStart=new Vector3,this._getPointer=getPointer.bind(this),this._onPointerDown=onPointerDown.bind(this),this._onPointerHover=onPointerHover.bind(this),this._onPointerMove=onPointerMove.bind(this),this._onPointerUp=onPointerUp.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(g){if(this.object===void 0||this.dragging===!0)return;_raycaster.setFromCamera(g,this.camera);const b=intersectObjectWithRay(this._gizmo.picker[this.mode],_raycaster);b?this.axis=b.object.name:this.axis=null}pointerDown(g){if(!(this.object===void 0||this.dragging===!0||g.button!==0)&&this.axis!==null){_raycaster.setFromCamera(g,this.camera);const b=intersectObjectWithRay(this._plane,_raycaster,!0);b&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(b.point).sub(this.worldPositionStart)),this.dragging=!0,_mouseDownEvent.mode=this.mode,this.dispatchEvent(_mouseDownEvent)}}pointerMove(g){const b=this.axis,$=this.mode,_e=this.object;let et=this.space;if($==="scale"?et="local":(b==="E"||b==="XYZE"||b==="XYZ")&&(et="world"),_e===void 0||b===null||this.dragging===!1||g.button!==-1)return;_raycaster.setFromCamera(g,this.camera);const tt=intersectObjectWithRay(this._plane,_raycaster,!0);if(!!tt){if(this.pointEnd.copy(tt.point).sub(this.worldPositionStart),$==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),et==="local"&&b!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),b.indexOf("X")===-1&&(this._offset.x=0),b.indexOf("Y")===-1&&(this._offset.y=0),b.indexOf("Z")===-1&&(this._offset.z=0),et==="local"&&b!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),_e.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(et==="local"&&(_e.position.applyQuaternion(_tempQuaternion.copy(this._quaternionStart).invert()),b.search("X")!==-1&&(_e.position.x=Math.round(_e.position.x/this.translationSnap)*this.translationSnap),b.search("Y")!==-1&&(_e.position.y=Math.round(_e.position.y/this.translationSnap)*this.translationSnap),b.search("Z")!==-1&&(_e.position.z=Math.round(_e.position.z/this.translationSnap)*this.translationSnap),_e.position.applyQuaternion(this._quaternionStart)),et==="world"&&(_e.parent&&_e.position.add(_tempVector.setFromMatrixPosition(_e.parent.matrixWorld)),b.search("X")!==-1&&(_e.position.x=Math.round(_e.position.x/this.translationSnap)*this.translationSnap),b.search("Y")!==-1&&(_e.position.y=Math.round(_e.position.y/this.translationSnap)*this.translationSnap),b.search("Z")!==-1&&(_e.position.z=Math.round(_e.position.z/this.translationSnap)*this.translationSnap),_e.parent&&_e.position.sub(_tempVector.setFromMatrixPosition(_e.parent.matrixWorld))));else if($==="scale"){if(b.search("XYZ")!==-1){let nt=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(nt*=-1),_tempVector2.set(nt,nt,nt)}else _tempVector.copy(this.pointStart),_tempVector2.copy(this.pointEnd),_tempVector.applyQuaternion(this._worldQuaternionInv),_tempVector2.applyQuaternion(this._worldQuaternionInv),_tempVector2.divide(_tempVector),b.search("X")===-1&&(_tempVector2.x=1),b.search("Y")===-1&&(_tempVector2.y=1),b.search("Z")===-1&&(_tempVector2.z=1);_e.scale.copy(this._scaleStart).multiply(_tempVector2),this.scaleSnap&&(b.search("X")!==-1&&(_e.scale.x=Math.round(_e.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),b.search("Y")!==-1&&(_e.scale.y=Math.round(_e.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),b.search("Z")!==-1&&(_e.scale.z=Math.round(_e.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if($==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const nt=20/this.worldPosition.distanceTo(_tempVector.setFromMatrixPosition(this.camera.matrixWorld));b==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):b==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(_tempVector.copy(this.rotationAxis).cross(this.eye))*nt):(b==="X"||b==="Y"||b==="Z")&&(this.rotationAxis.copy(_unit[b]),_tempVector.copy(_unit[b]),et==="local"&&_tempVector.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(_tempVector.cross(this.eye).normalize())*nt),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),et==="local"&&b!=="E"&&b!=="XYZE"?(_e.quaternion.copy(this._quaternionStart),_e.quaternion.multiply(_tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),_e.quaternion.copy(_tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),_e.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(_changeEvent),this.dispatchEvent(_objectChangeEvent)}}pointerUp(g){g.button===0&&(this.dragging&&this.axis!==null&&(_mouseUpEvent.mode=this.mode,this.dispatchEvent(_mouseUpEvent)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(g){g.geometry&&g.geometry.dispose(),g.material&&g.material.dispose()})}attach(g){return this.object=g,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){!this.enabled||this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(_changeEvent),this.dispatchEvent(_objectChangeEvent),this.pointStart.copy(this.pointEnd))}getRaycaster(){return _raycaster}getMode(){return this.mode}setMode(g){this.mode=g}setTranslationSnap(g){this.translationSnap=g}setRotationSnap(g){this.rotationSnap=g}setScaleSnap(g){this.scaleSnap=g}setSize(g){this.size=g}setSpace(g){this.space=g}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}TransformControls.prototype.isTransformControls=!0;function getPointer(j){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:j.button};{const g=this.domElement.getBoundingClientRect();return{x:(j.clientX-g.left)/g.width*2-1,y:-(j.clientY-g.top)/g.height*2+1,button:j.button}}}function onPointerHover(j){if(!!this.enabled)switch(j.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(j));break}}function onPointerDown(j){!this.enabled||(document.pointerLockElement||this.domElement.setPointerCapture(j.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(j)),this.pointerDown(this._getPointer(j)))}function onPointerMove(j){!this.enabled||this.pointerMove(this._getPointer(j))}function onPointerUp(j){!this.enabled||(this.domElement.releasePointerCapture(j.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(j)))}function intersectObjectWithRay(j,g,b){const $=g.intersectObject(j,!0);for(let _e=0;_e<$.length;_e++)if($[_e].object.visible||b)return $[_e];return!1}const _tempEuler=new Euler,_alignVector=new Vector3(0,1,0),_zeroVector=new Vector3(0,0,0),_lookAtMatrix=new Matrix4,_tempQuaternion2=new Quaternion,_identityQuaternion=new Quaternion,_dirVector=new Vector3,_tempMatrix=new Matrix4,_unitX=new Vector3(1,0,0),_unitY=new Vector3(0,1,0),_unitZ=new Vector3(0,0,1),_v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class TransformControlsGizmo extends Object3D{constructor(){super(),this.type="TransformControlsGizmo";const g=new MeshBasicMaterial({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),b=new LineBasicMaterial({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),$=g.clone();$.opacity=.15;const _e=b.clone();_e.opacity=.5;const et=g.clone();et.color.setHex(16711680);const tt=g.clone();tt.color.setHex(65280);const nt=g.clone();nt.color.setHex(255);const rt=g.clone();rt.color.setHex(16711680),rt.opacity=.5;const it=g.clone();it.color.setHex(65280),it.opacity=.5;const ot=g.clone();ot.color.setHex(255),ot.opacity=.5;const st=g.clone();st.opacity=.25;const at=g.clone();at.color.setHex(16776960),at.opacity=.25,g.clone().color.setHex(16776960);const ut=g.clone();ut.color.setHex(7895160);const ct=new CylinderGeometry(0,.04,.1,12);ct.translate(0,.05,0);const ft=new BoxGeometry(.08,.08,.08);ft.translate(0,.04,0);const ht=new BufferGeometry;ht.setAttribute("position",new Float32BufferAttribute([0,0,0,1,0,0],3));const dt=new CylinderGeometry(.0075,.0075,.5,3);dt.translate(0,.25,0);function pt(Lt,Ot){const Rt=new TorusGeometry(Lt,.0075,3,64,Ot*Math.PI*2);return Rt.rotateY(Math.PI/2),Rt.rotateX(Math.PI/2),Rt}function mt(){const Lt=new BufferGeometry;return Lt.setAttribute("position",new Float32BufferAttribute([0,0,0,1,1,1],3)),Lt}const gt={X:[[new Mesh(ct,et),[.5,0,0],[0,0,-Math.PI/2]],[new Mesh(ct,et),[-.5,0,0],[0,0,Math.PI/2]],[new Mesh(dt,et),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new Mesh(ct,tt),[0,.5,0]],[new Mesh(ct,tt),[0,-.5,0],[Math.PI,0,0]],[new Mesh(dt,tt)]],Z:[[new Mesh(ct,nt),[0,0,.5],[Math.PI/2,0,0]],[new Mesh(ct,nt),[0,0,-.5],[-Math.PI/2,0,0]],[new Mesh(dt,nt),null,[Math.PI/2,0,0]]],XYZ:[[new Mesh(new OctahedronGeometry(.1,0),st.clone()),[0,0,0]]],XY:[[new Mesh(new BoxGeometry(.15,.15,.01),ot.clone()),[.15,.15,0]]],YZ:[[new Mesh(new BoxGeometry(.15,.15,.01),rt.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Mesh(new BoxGeometry(.15,.15,.01),it.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},yt={X:[[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[.3,0,0],[0,0,-Math.PI/2]],[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[0,.3,0]],[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[0,0,.3],[Math.PI/2,0,0]],[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new Mesh(new OctahedronGeometry(.2,0),$)]],XY:[[new Mesh(new BoxGeometry(.2,.2,.01),$),[.15,.15,0]]],YZ:[[new Mesh(new BoxGeometry(.2,.2,.01),$),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Mesh(new BoxGeometry(.2,.2,.01),$),[.15,0,.15],[-Math.PI/2,0,0]]]},_t={START:[[new Mesh(new OctahedronGeometry(.01,2),_e),null,null,null,"helper"]],END:[[new Mesh(new OctahedronGeometry(.01,2),_e),null,null,null,"helper"]],DELTA:[[new Line(mt(),_e),null,null,null,"helper"]],X:[[new Line(ht,_e.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Line(ht,_e.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Line(ht,_e.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},vt={XYZE:[[new Mesh(pt(.5,1),ut),null,[0,Math.PI/2,0]]],X:[[new Mesh(pt(.5,.5),et)]],Y:[[new Mesh(pt(.5,.5),tt),null,[0,0,-Math.PI/2]]],Z:[[new Mesh(pt(.5,.5),nt),null,[0,Math.PI/2,0]]],E:[[new Mesh(pt(.75,1),at),null,[0,Math.PI/2,0]]]},At={AXIS:[[new Line(ht,_e.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},bt={XYZE:[[new Mesh(new SphereGeometry(.25,10,8),$)]],X:[[new Mesh(new TorusGeometry(.5,.1,4,24),$),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Mesh(new TorusGeometry(.5,.1,4,24),$),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Mesh(new TorusGeometry(.5,.1,4,24),$),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Mesh(new TorusGeometry(.75,.1,2,24),$)]]},xt={X:[[new Mesh(ft,et),[.5,0,0],[0,0,-Math.PI/2]],[new Mesh(dt,et),[0,0,0],[0,0,-Math.PI/2]],[new Mesh(ft,et),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new Mesh(ft,tt),[0,.5,0]],[new Mesh(dt,tt)],[new Mesh(ft,tt),[0,-.5,0],[0,0,Math.PI]]],Z:[[new Mesh(ft,nt),[0,0,.5],[Math.PI/2,0,0]],[new Mesh(dt,nt),[0,0,0],[Math.PI/2,0,0]],[new Mesh(ft,nt),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new Mesh(new BoxGeometry(.15,.15,.01),ot),[.15,.15,0]]],YZ:[[new Mesh(new BoxGeometry(.15,.15,.01),rt),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Mesh(new BoxGeometry(.15,.15,.01),it),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Mesh(new BoxGeometry(.1,.1,.1),st.clone())]]},Et={X:[[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[.3,0,0],[0,0,-Math.PI/2]],[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[0,.3,0]],[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[0,0,.3],[Math.PI/2,0,0]],[new Mesh(new CylinderGeometry(.2,0,.6,4),$),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new Mesh(new BoxGeometry(.2,.2,.01),$),[.15,.15,0]]],YZ:[[new Mesh(new BoxGeometry(.2,.2,.01),$),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Mesh(new BoxGeometry(.2,.2,.01),$),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Mesh(new BoxGeometry(.2,.2,.2),$),[0,0,0]]]},Mt={X:[[new Line(ht,_e.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Line(ht,_e.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Line(ht,_e.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function Tt(Lt){const Ot=new Object3D;for(const Rt in Lt)for(let Ct=Lt[Rt].length;Ct--;){const Dt=Lt[Rt][Ct][0].clone(),Bt=Lt[Rt][Ct][1],kt=Lt[Rt][Ct][2],zt=Lt[Rt][Ct][3],Ft=Lt[Rt][Ct][4];Dt.name=Rt,Dt.tag=Ft,Bt&&Dt.position.set(Bt[0],Bt[1],Bt[2]),kt&&Dt.rotation.set(kt[0],kt[1],kt[2]),zt&&Dt.scale.set(zt[0],zt[1],zt[2]),Dt.updateMatrix();const It=Dt.geometry.clone();It.applyMatrix4(Dt.matrix),Dt.geometry=It,Dt.renderOrder=1/0,Dt.position.set(0,0,0),Dt.rotation.set(0,0,0),Dt.scale.set(1,1,1),Ot.add(Dt)}return Ot}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=Tt(gt)),this.add(this.gizmo.rotate=Tt(vt)),this.add(this.gizmo.scale=Tt(xt)),this.add(this.picker.translate=Tt(yt)),this.add(this.picker.rotate=Tt(bt)),this.add(this.picker.scale=Tt(Et)),this.add(this.helper.translate=Tt(_t)),this.add(this.helper.rotate=Tt(At)),this.add(this.helper.scale=Tt(Mt)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(g){const $=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:_identityQuaternion;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let _e=[];_e=_e.concat(this.picker[this.mode].children),_e=_e.concat(this.gizmo[this.mode].children),_e=_e.concat(this.helper[this.mode].children);for(let et=0;et<_e.length;et++){const tt=_e[et];tt.visible=!0,tt.rotation.set(0,0,0),tt.position.copy(this.worldPosition);let nt;if(this.camera.isOrthographicCamera?nt=(this.camera.top-this.camera.bottom)/this.camera.zoom:nt=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),tt.scale.set(1,1,1).multiplyScalar(nt*this.size/4),tt.tag==="helper"){tt.visible=!1,tt.name==="AXIS"?(tt.position.copy(this.worldPositionStart),tt.visible=!!this.axis,this.axis==="X"&&(_tempQuaternion.setFromEuler(_tempEuler.set(0,0,0)),tt.quaternion.copy($).multiply(_tempQuaternion),Math.abs(_alignVector.copy(_unitX).applyQuaternion($).dot(this.eye))>.9&&(tt.visible=!1)),this.axis==="Y"&&(_tempQuaternion.setFromEuler(_tempEuler.set(0,0,Math.PI/2)),tt.quaternion.copy($).multiply(_tempQuaternion),Math.abs(_alignVector.copy(_unitY).applyQuaternion($).dot(this.eye))>.9&&(tt.visible=!1)),this.axis==="Z"&&(_tempQuaternion.setFromEuler(_tempEuler.set(0,Math.PI/2,0)),tt.quaternion.copy($).multiply(_tempQuaternion),Math.abs(_alignVector.copy(_unitZ).applyQuaternion($).dot(this.eye))>.9&&(tt.visible=!1)),this.axis==="XYZE"&&(_tempQuaternion.setFromEuler(_tempEuler.set(0,Math.PI/2,0)),_alignVector.copy(this.rotationAxis),tt.quaternion.setFromRotationMatrix(_lookAtMatrix.lookAt(_zeroVector,_alignVector,_unitY)),tt.quaternion.multiply(_tempQuaternion),tt.visible=this.dragging),this.axis==="E"&&(tt.visible=!1)):tt.name==="START"?(tt.position.copy(this.worldPositionStart),tt.visible=this.dragging):tt.name==="END"?(tt.position.copy(this.worldPosition),tt.visible=this.dragging):tt.name==="DELTA"?(tt.position.copy(this.worldPositionStart),tt.quaternion.copy(this.worldQuaternionStart),_tempVector.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),_tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert()),tt.scale.copy(_tempVector),tt.visible=this.dragging):(tt.quaternion.copy($),this.dragging?tt.position.copy(this.worldPositionStart):tt.position.copy(this.worldPosition),this.axis&&(tt.visible=this.axis.search(tt.name)!==-1));continue}tt.quaternion.copy($),this.mode==="translate"||this.mode==="scale"?(tt.name==="X"&&Math.abs(_alignVector.copy(_unitX).applyQuaternion($).dot(this.eye))>.99&&(tt.scale.set(1e-10,1e-10,1e-10),tt.visible=!1),tt.name==="Y"&&Math.abs(_alignVector.copy(_unitY).applyQuaternion($).dot(this.eye))>.99&&(tt.scale.set(1e-10,1e-10,1e-10),tt.visible=!1),tt.name==="Z"&&Math.abs(_alignVector.copy(_unitZ).applyQuaternion($).dot(this.eye))>.99&&(tt.scale.set(1e-10,1e-10,1e-10),tt.visible=!1),tt.name==="XY"&&Math.abs(_alignVector.copy(_unitZ).applyQuaternion($).dot(this.eye))<.2&&(tt.scale.set(1e-10,1e-10,1e-10),tt.visible=!1),tt.name==="YZ"&&Math.abs(_alignVector.copy(_unitX).applyQuaternion($).dot(this.eye))<.2&&(tt.scale.set(1e-10,1e-10,1e-10),tt.visible=!1),tt.name==="XZ"&&Math.abs(_alignVector.copy(_unitY).applyQuaternion($).dot(this.eye))<.2&&(tt.scale.set(1e-10,1e-10,1e-10),tt.visible=!1)):this.mode==="rotate"&&(_tempQuaternion2.copy($),_alignVector.copy(this.eye).applyQuaternion(_tempQuaternion.copy($).invert()),tt.name.search("E")!==-1&&tt.quaternion.setFromRotationMatrix(_lookAtMatrix.lookAt(this.eye,_zeroVector,_unitY)),tt.name==="X"&&(_tempQuaternion.setFromAxisAngle(_unitX,Math.atan2(-_alignVector.y,_alignVector.z)),_tempQuaternion.multiplyQuaternions(_tempQuaternion2,_tempQuaternion),tt.quaternion.copy(_tempQuaternion)),tt.name==="Y"&&(_tempQuaternion.setFromAxisAngle(_unitY,Math.atan2(_alignVector.x,_alignVector.z)),_tempQuaternion.multiplyQuaternions(_tempQuaternion2,_tempQuaternion),tt.quaternion.copy(_tempQuaternion)),tt.name==="Z"&&(_tempQuaternion.setFromAxisAngle(_unitZ,Math.atan2(_alignVector.y,_alignVector.x)),_tempQuaternion.multiplyQuaternions(_tempQuaternion2,_tempQuaternion),tt.quaternion.copy(_tempQuaternion))),tt.visible=tt.visible&&(tt.name.indexOf("X")===-1||this.showX),tt.visible=tt.visible&&(tt.name.indexOf("Y")===-1||this.showY),tt.visible=tt.visible&&(tt.name.indexOf("Z")===-1||this.showZ),tt.visible=tt.visible&&(tt.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),tt.material._color=tt.material._color||tt.material.color.clone(),tt.material._opacity=tt.material._opacity||tt.material.opacity,tt.material.color.copy(tt.material._color),tt.material.opacity=tt.material._opacity,this.enabled&&this.axis&&(tt.name===this.axis||this.axis.split("").some(function(rt){return tt.name===rt}))&&(tt.material.color.setHex(16776960),tt.material.opacity=1)}super.updateMatrixWorld(g)}}TransformControlsGizmo.prototype.isTransformControlsGizmo=!0;class TransformControlsPlane extends Mesh{constructor(){super(new PlaneGeometry(1e5,1e5,2,2),new MeshBasicMaterial({visible:!1,wireframe:!0,side:DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane"}updateMatrixWorld(g){let b=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(b="local"),_v1.copy(_unitX).applyQuaternion(b==="local"?this.worldQuaternion:_identityQuaternion),_v2.copy(_unitY).applyQuaternion(b==="local"?this.worldQuaternion:_identityQuaternion),_v3.copy(_unitZ).applyQuaternion(b==="local"?this.worldQuaternion:_identityQuaternion),_alignVector.copy(_v2),this.mode){case"translate":case"scale":switch(this.axis){case"X":_alignVector.copy(this.eye).cross(_v1),_dirVector.copy(_v1).cross(_alignVector);break;case"Y":_alignVector.copy(this.eye).cross(_v2),_dirVector.copy(_v2).cross(_alignVector);break;case"Z":_alignVector.copy(this.eye).cross(_v3),_dirVector.copy(_v3).cross(_alignVector);break;case"XY":_dirVector.copy(_v3);break;case"YZ":_dirVector.copy(_v1);break;case"XZ":_alignVector.copy(_v3),_dirVector.copy(_v2);break;case"XYZ":case"E":_dirVector.set(0,0,0);break}break;case"rotate":default:_dirVector.set(0,0,0)}_dirVector.length()===0?this.quaternion.copy(this.cameraQuaternion):(_tempMatrix.lookAt(_tempVector.set(0,0,0),_dirVector,_alignVector),this.quaternion.setFromRotationMatrix(_tempMatrix)),super.updateMatrixWorld(g)}}TransformControlsPlane.prototype.isTransformControlsPlane=!0;class TransformControlManager{constructor({camera:g,cameraControls:b,rendererDomContainer:$,transformableObjects:_e}){sn(this,"_controls");sn(this,"_isTransformControlsModeActive");sn(this,"transformControlMesh");sn(this,"_raycaster");sn(this,"_pointer");sn(this,"_cameraControls");sn(this,"_enabled",!1);sn(this,"_rendererDomContainer");sn(this,"_camera");sn(this,"_transformableObjects");this._camera=g,this._cameraControls=b,this._rendererDomContainer=$,this._transformableObjects=_e,this._controls=new TransformControls(g,$),this._controls.showY=!1,this._raycaster=new Raycaster,this._pointer=new Vector2,this._initEvents()}set enabled(g){this._enabled=g,this._controls.enabled=g}get enabled(){return this._enabled}get controls(){return this._controls}_initEvents(){document.addEventListener("keydown",g=>{!this.enabled||(g.key==="Meta"&&(this._isTransformControlsModeActive=!0,this.controls.attach(this.transformControlMesh),this._cameraControls.enabled=!1,this.controls.showX=!0,this.controls.showY=!0,this.controls.showZ=!0,this.controls.setMode("translate")),g.key==="Shift"&&this._isTransformControlsModeActive&&(this.controls.setMode("rotate"),this.controls.showX=!0,this.controls.showY=!0,this.controls.showZ=!0))}),document.addEventListener("keyup",g=>{!this.enabled||(g.key==="Meta"&&(this._isTransformControlsModeActive=!1,this.controls.detach(),this._cameraControls.enabled=!0,this.controls.showX=!1,this.controls.showY=!1,this.controls.showZ=!1,this.controls.setMode("translate")),g.key==="Shift"&&this._isTransformControlsModeActive&&(this.controls.setMode("rotate"),this.controls.showX=!1,this.controls.showY=!1,this.controls.showZ=!1))}),document.addEventListener("click",g=>{!this.enabled||(this._pointer.x=g.clientX/this._rendererDomContainer.clientWidth*2-1,this._pointer.y=-(g.clientY/this._rendererDomContainer.clientHeight)*2+1,this._raycastObjects(this._transformableObjects))})}_raycastObjects(g){this._raycaster.setFromCamera(this._pointer,this._camera);const b=this._raycaster.intersectObjects(g);if(b.length>0){const $=b[0],_e=$.object.name.includes("sceneObject")?$.object:this._getParentSceneObject($.object);this.setTransformMesh(_e)}}_getParentSceneObject(g){if(g.parent)return g.parent.name.includes("sceneObject")?g.parent:this._getParentSceneObject(g.parent)}setTransformMesh(g){this.transformControlMesh=g,this._isTransformControlsModeActive&&(this.controls.detach(),this.controls.attach(this.transformControlMesh))}dispose(){this.controls.dispose()}}const componentName$h="SceneView",log$6=debug(`front:3D:${componentName$h}`);let sceneViewInstanced;class SceneView extends SceneBase{constructor(){super();sn(this,"sampleGltfObject");sn(this,"portalObject1");sn(this,"_helpersGroup");sn(this,"_pane");sn(this,"raycaster");sn(this,"canInteract");sn(this,"mouse");sn(this,"mainCameraManager");sn(this,"_transformControlHelper");sn(this,"_intersectObject");sn(this,"_lastIntersectObject");sn(this,"_focusedPortal",null);sn(this,"_focusedInnovationId");sn(this,"roomManager");sn(this,"roomsGroup");sn(this,"_fpsGraphPane");sn(this,"interactiveObjects");sn(this,"isDraggingInnovation",!1);sn(this,"_focusKeyProofId");this.mouse=new Vector2(-100,-100),this.raycaster=new Raycaster,sceneViewInstanced=this,window.__SCENE_VIEW__=this}async init({domContainer:b,assetsData:$,staticLoadersBasePath:_e,roomsData:et,rooms3dData:tt}){await super.init({domContainer:b,assetsData:$,staticLoadersBasePath:_e})}initScene(b,$){this._setupCamera(),this.roomManager=new RoomManager({roomsData:b,rooms3dData:$}),this._prepare(),this._setupRoomsInteractiveObjects(),this._setupOutlineOnInteractiveObjects(),this.canInteract=!0,this._onSceneReady(),this._listen()}_setupCamera(){this.mainCameraManager=new CameraManager(this.camera,this.renderer.domElement),this._scene.add(this.mainCameraManager.container)}_setupEnvMap(b=!1){if(!this._scene)return;const $=AssetManager$1.getAsset("envmap").data;$.mapping=EquirectangularReflectionMapping,this._scene.environment=$,this._scene.background=b?$:this._backgroundColor}_setupMainCamera(){const b=sceneConfig;return super._setupMainCamera(isMobile&&b.mainCamera.fovMobile?b.mainCamera.fovMobile:b.mainCamera.fov,b.mainCamera.near,b.mainCamera.far,b.mainCamera.filmGauge,b.mainCamera.position)}_getSceneObjects(){sceneConfig.sceneEnvBackground.enabled&&this._setupEnvMap(sceneConfig.sceneEnvBackground.show);const b=new AmbientLight(16777215,1);this.roomsGroup=new Group,this.roomsGroup.name="roomsGroup",this.roomManager.rooms.forEach(nt=>this.roomsGroup.add(nt));const $=new AxesHelper,_e=100,et=100,tt=new GridHelper(_e,et);return this._transformControlHelper=new TransformControlManager({camera:this._cameraDebug,cameraControls:this._cameraDebugControls,rendererDomContainer:this._domContainer,transformableObjects:this.roomsGroup.children}),this._helpersGroup=new Group,this._helpersGroup.name="Helpers",this._helpersGroup.visible=!1,[$,tt].forEach(nt=>this._helpersGroup.add(nt)),[b,this.roomsGroup,this._helpersGroup,this._transformControlHelper.controls]}_browserSpecs(){}_onSceneReady(){this._browserSpecs(),debug("Load Complete")}_handleMobile(){debug("mobile : "+isMobile)}onMouseMove(b){if(this.paused||this.isDraggingInnovation)return;this.mouse.x=b.clientX/window.innerWidth*2-1,this.mouse.y=-(b.clientY/window.innerHeight)*2+1;const $=this._raycastSceneObjects();$&&$.length>0,this._hoverSceneObjects($),!this._cameraDebugControls.enabled&&!isMobile&&this.mainCameraManager.onMouseMove(this.mouse)}onClick(b){this.paused||this.isDraggingInnovation||this.mainCameraManager.isMoving||(this._raycastSceneObjects(),this._intersectObject&&(this._clickSceneObject(this._intersectObject),this._intersectObject=null))}onDrag(b){!this._cameraDebugControls.enabled&&isMobile&&this.mainCameraManager.onDrag(b)}_raycastSceneObjects(){if(!this.canInteract||this._isDebugSceneActive)return;this.raycaster.setFromCamera(this.mouse,this.camera);const b=this.raycaster.intersectObjects(this.interactiveObjects,!0);return b||[]}_setupRoomsInteractiveObjects(){this.interactiveObjects=[],this.roomsGroup.traverse(b=>{b.isInteractive&&this.interactiveObjects.push(b)})}_setupOutlineOnInteractiveObjects(){const b=this.interactiveObjects.reduce(($,_e,et,tt)=>{const nt=_e;return nt.subject&&nt.isInteractive&&nt.hasGlow&&nt.traverse(rt=>{rt.isMesh&&$.push(rt)}),$},[]);this._postprocessing.outlineEffect.selection.set(b)}_hoverSceneObjects(b){var $,_e;if(b&&b.length>0){if(this._intersectObject!=b[0].object){this._intersectObject=b[0].object;const et=this._getInteractiveObject(this._intersectObject);et&&et.isInteractive&&(($=et.events)==null||$.emit(ESceneObjectEvents.MOUSEENTER),et.hasGlow&&!navigationService.currentInnovation&&this.setInteractObjectHoverGlow(this._intersectObject,this._lastIntersectObject),soundService.play(ESoundType.HOVER_3D),document.body.style.cursor=navigationService.currentInnovation&&navigationService.currentInnovation===et.name?"grab":"pointer",this._lastIntersectObject=this._intersectObject)}}else{if(this._intersectObject){const et=this._getInteractiveObject(this._intersectObject);if(et){(_e=et.events)==null||_e.emit(ESceneObjectEvents.MOUSELEAVE);const tt=this._intersectObject;et.hasGlow&&this.removeInteractObjectHoverGlow(tt),document.body.style.cursor=""}}this._intersectObject=null}}_getInteractiveObject(b){let $=b;return b.isInteractive||b.traverseAncestors(_e=>{_e.isInteractive&&!$.isInteractive&&($=_e)}),$}_clickSceneObject(b){var _e,et,tt;(_e=this._getInteractiveObject(b).events)==null||_e.emit(ESceneObjectEvents.CLICK),document.body.style.cursor="",(tt=(et=b.material)==null?void 0:et.emissive)==null||tt.setHex(b.currentHex)}setInteractObjectHoverGlow(b,$){$&&$!==b&&this._postprocessing.outlineEffectHover.selection.clear(),this._postprocessing.outlineEffect.selection.delete(b),this._postprocessing.outlineEffectHover.selection.add(b),gsapWithCSS.to(this._postprocessing.outlineEffectHover,{edgeStrength:1.5,duration:.3,ease:"power2.out"})}removeInteractObjectHoverGlow(b){gsapWithCSS.to(this._postprocessing.outlineEffectHover,{edgeStrength:.1,duration:.22,ease:"power2.out",onComplete:()=>{!b||(this._postprocessing.outlineEffectHover.selection.delete(b),this._postprocessing.outlineEffect.selection.add(b))}})}_listen(){navigationService.on("set:room:center",()=>{this.goToRoomCenter(),log$6("set:room:center")})}focusOnPortal(b){const $=this._getObject(`portal-${b}`);$&&(this._focusedPortal=$,this.mainCameraManager.focusOnPortal($))}goToRoomCenter(b=!0,$=!1){this._focusedInnovationId=null,this._focusKeyProofId=null,this._focusedPortal=null,this.mainCameraManager.goToRoomCenter(b,$)}async goToRoom(b,$=!1){const _e=this._getObject(`portal-${b}`);if(b===this.roomManager.currentRoom.name)return new Promise(et=>et(!1));this.roomManager.currentRoom.name!=="hall"&&($=!1),document.body.style.cursor="",$&&_e?(gsapWithCSS.delayedCall(.3,()=>{soundService.play(ESoundType.TRANSITION)}),await Promise.all([this.mainCameraManager.traversePortal(_e),this.fade(!0,.75,1.5)])):await this.fade(!0,.5,.1),this.roomManager.currentRoom=this._getObject(b),this.goToRoomCenter(!1,_e!==null),$?this.fade(!1,1,.2):this.fade(!1,.5,.5)}async goToInnovation(b,$){if(this._focusedInnovationId===$)return;const _e=this._getObject($);await this.goToRoom(b,!1),_e&&(this.mainCameraManager.focusOnInnovation(_e),this.roomManager.currentRoom.innovations.map(et=>{et.setGlow(!1)}),this.removeInteractObjectHoverGlow(this._intersectObject),log$6("Focus on innovation",$)),this._focusedInnovationId=$}async goToKeyProofPanel(b,$){if(this._focusKeyProofId===$)return;const _e=this._getObject("key-proof-"+$);await this.goToRoom(b,!1),_e&&(this.mainCameraManager.focusOnTextPanel(_e),log$6("Focus on key proof panel",$)),this._focusKeyProofId=$}fade(b=!1,$=700,_e=0){return new Promise(et=>{const tt={opacity:b?1:0};gsapWithCSS.to(tt,{opacity:b?0:1,duration:$,delay:_e,onUpdate:()=>this.renderer.domElement.style.opacity=`${tt.opacity}`,onComplete:()=>et()})})}loop(b){var _e,et,tt,nt;return(et=(_e=this._fpsGraphPane)==null?void 0:_e.begin)==null||et.call(_e),super.loop(b)?(this.mainCameraManager&&this.mainCameraManager.loop(this._deltaTime),this.renderer.clear(),this.renderer.clearDepth(),this.render(),(nt=(tt=this._fpsGraphPane)==null?void 0:tt.end)==null||nt.call(tt),this.performance.end(),!0):!1}destroy(){super.destroy(),this._transformControlHelper&&this._transformControlHelper.dispose(),this._pane&&this._pane.dispose()}_setDebugMode(b){super._setDebugMode(b),this.mainCameraManager&&(this.mainCameraManager.enabled=!b),this._transformControlHelper&&(this._transformControlHelper.enabled=b)}_getObject(b){let $=null;return this.roomsGroup.traverse(_e=>{_e.name===b&&($=_e)}),$}}const componentName$g="SphereVideoObject";debug(`front:3D:${componentName$g}`);class SphereVideoObject extends BaseSceneObject{constructor({texture:b}){super(!1);sn(this,"_textureVideo");sn(this,"_textureOverlay");sn(this,"_lookAtVector",new Vector3);sn(this,"_baseSubjectPosition",new Vector3);sn(this,"_levitateStart");sn(this,"_video");this._textureVideo=b,this._levitateStart=Math.random()*10,this.init(),this.initVideoTextureLoop(this._textureVideo,isMobile)}createSubject(){this._textureOverlay=AssetManager$1.getAsset("videosphere_overlay").data,this.geometry=new CircleGeometry(1,48),this.material=new BasicTextureStackMaterial({textureOne:this._textureOverlay,textureTwo:this._textureVideo,textureOneScale:.925,textureTwoScale:1}),this.material.needsUpdate=!0,this.subject=new Mesh(this.geometry,this.material),this._baseSubjectPosition=this.subject.position.clone(),this.name=componentName$g,this.subject.name=componentName$g+"_subject"}initVideoTextureLoop(b,$=!1){b.flipY=!0,this._video=b.image,this._video.loop=!0,this._video.playsInline=!0,this._video.muted=!0,this._video.autoplay=!0,$?this._safePlay(this._video):this.drawFirstImage()}drawFirstImage(){let b;b=()=>{this.pause(),this._video.removeEventListener("timeupdate",b)},this._video.addEventListener("timeupdate",b),this._safePlay(this._video)}play(){this._safePlay(this._video)}pause(){this._video.pause()}loop(b,$){super.loop(b,$),this.subject.position.y=this._baseSubjectPosition.y+Math.sin($*64e-5+this._levitateStart)*.125+.25,sceneViewInstanced.mainCameraManager.camera.getWorldPosition(this._lookAtVector),this.subject.lookAt(this._lookAtVector)}_safePlay(b){b.play().then(()=>{}).catch($=>{if($.name==="NotAllowedError"){this._initClickViewPlayVideoEvent(b);return}})}_initClickViewPlayVideoEvent(b){document.body.addEventListener("click",()=>{b.paused&&b.play()},{once:!0})}}const componentName$f="PortalObject",log$5=debug(`front:3D:${componentName$f}`);class PortalObject extends BaseSceneObject{constructor(b,$){super(!1);sn(this,"_isFocused");sn(this,"_sphereVideo");sn(this,"slug");sn(this,"_cameraFocusPoint");sn(this,"hasGlow",!0);sn(this,"_baseEnvMapIntensity",3);this._isInteractive=!0,this.componentName="PortalObject",this.name=`portal-${b.destination}`,this.slug=b.destination,this.mesh=$,this.init(),b.cameraFocusPoint&&this.setupCameraFocusPoint(b.cameraFocusPoint),this._initialHex=this.subject.material.emissive.getHex(),this._focusedHex=16711680,this.listen()}get cameraFocusPoint(){return this._cameraFocusPoint}init(){this.subject=this.mesh,this.subject.material=this.mesh.material.clone(),this.subject.material.transparent=!0,this.subject.material.metalness=.5,this.subject.material.roughness=.25,this.subject.material.envMapIntensity=this._baseEnvMapIntensity,this.add(this.subject)}set isDebug(b){this.material&&(this.material.wireframe=b),this._cameraFocusPoint&&(this._cameraFocusPoint.visible=b),this._isDebug=b}onClick(){if(navigationService.currentRoom===this.slug&&navigationService.currentRoom!=="hall")return;log$5("Click on portal with slug:",this.slug);const b=this.slug==="hall"?"":this.slug;navigationService.emit("set:room",b)}onMouseEnter(){gsapWithCSS.to(this.subject.material,{envMapIntensity:this._baseEnvMapIntensity*1.6,duration:.3,ease:"power2.out"}),this._sphereVideo.play()}onMouseLeave(){gsapWithCSS.to(this.subject.material,{envMapIntensity:this._baseEnvMapIntensity,duration:.22,ease:"power2.out"}),this._sphereVideo.pause()}listen(){navigationService.on("hasChanged",()=>{this.checkFocused()})}checkFocused(){this._isFocused=navigationService.currentPortal===this.slug,this.enlight()}enlight(){this._isFocused?this.subject.material.opacity=.95:this.subject.material.opacity=.85}assignSphereVideo(b){this._sphereVideo=b}setupCameraFocusPoint({position:b,rotation:$}){this._cameraFocusPoint=new Mesh(new PlaneGeometry(.4,.4),new MeshStandardMaterial({color:16711680,wireframe:!0})),this._cameraFocusPoint.visible=this._isDebug,b&&this._cameraFocusPoint.position.set(b.x,b.y,b.z),$&&this._cameraFocusPoint.rotation.set($.x,$.y,$.z),this._cameraFocusPoint.name="cameraFocusPoint_"+this.name,sceneViewInstanced.scene.add(this._cameraFocusPoint)}loop(b){super.loop(b)}}const componentName$e="RoomBase";debug(`front:3D:${componentName$e}`);class RoomBase extends BaseSceneObject{constructor({parameters:b,contentData:$}){super(!1);sn(this,"_stageName");sn(this,"_stageScene");sn(this,"portals",[]);sn(this,"innovations",[]);sn(this,"_active",!1);this.name=b.name,this._stageName=b.stageName,this.userData={contentData:$,portalsData:b.portals,innovationsData:b.innovations,sphereVideoData:b.sphereVideos},this.active=!1,this.init(),b.stagePosition&&this.subject.position.set(b.stagePosition.x,b.stagePosition.y,b.stagePosition.z)}get active(){return this._active}set active(b){this.visible=b,this.position.z=b?0:-999,this._active=b}createSubject(){this.subject=new Group,this.subject.name=componentName$e+"_subject",this.addStage(),this.addPortals()}addStage(){const b=AssetManager$1.getAsset(this._stageName).data;this._stageScene=b.scene,this.subject.add(this._stageScene)}addPortals(){var b,$;($=(b=this.userData)==null?void 0:b.portalsData)==null||$.forEach(_e=>{this.addPortal(_e)})}addPortal(b){const $=this.findObjectByName(b.meshName),_e=$.parent;if(!$)return console.warn("portal",b.meshName,"not found");const et=new PortalObject(b,$);et.position.copy(_e.position),this._stageScene.add(et),this.portals.push(et)}}const componentName$d="RoomHallObject";debug(`front:3D:${componentName$d}`);class RoomHall extends RoomBase{set isDebug(g){this.material&&(this.material.wireframe=g),this._isDebug=g}createSubject(){super.createSubject(),this.updateRockMetalnessRoughness(),this.updateTopologyMaterial(),this.addGrass(),this.addWater(),this.addSphereVideos()}addStage(){super.addStage(),this._stageScene.name="SCENE_DECOR_HALL",this._stageScene.scale.multiplyScalar(.4),this._stageScene.position.set(0,0,2)}updateTopologyMaterial(){const b=this.findObjectByName("TOPOLOGY_1").material.clone();b.roughness=.2,b.metalness=.5,b.envMapIntensity=1.3;for(let $=0;$<3;$++){const _e=this.findObjectByName(`TOPOLOGY_${$+1}`);_e&&(_e.material=b)}}updateRockMetalnessRoughness(){let g=this.findObjectByName("ROCK");!g||(g.material.metalness=.4,g.material.roughness=.75)}addGrass(){const g=this.findObjectByName("GRASS_GROUND");this.grass=new GrassField({mesh:g,quantity:isMobile?3e4:45e3,color:sceneConfig.grass.color,scaleY:sceneConfig.grass.scaleY}),g.material=g.material.clone(),g.material.color=new Color(4804355);const b=this.findObjectByName("CORN_PLANE");this.corn=new GrassField({mesh:b,quantity:1e3,color:sceneConfig.corn.color,scaleY:sceneConfig.corn.scaleY})}addWater(){const g=new WaterObject;g.position.set(-12,-.05,2.65),g.scale.multiplyScalar(8.75),this._stageScene.add(g);const b=new Mesh(new PlaneGeometry(1,1),new MeshBasicMaterial({color:new Color(10870783).convertSRGBToLinear().getHex()}));b.position.set(0,-.0019,0),b.scale.multiplyScalar(8.75),b.rotation.x=Math.PI*-.5,g.add(b)}addSphereVideos(){this._sphereVideoObjects=[],this.userData.sphereVideoData.forEach(g=>{const b=AssetManager$1.getAsset(g.videoTextureId).data,$=new SphereVideoObject({texture:b});g.scale&&$.scale.multiplyScalar(g.scale);const _e=this.findObjectByName(g.meshName,null,!0);_e.getWorldPosition($.position),_e.parent.remove(_e),this.add($),this._sphereVideoObjects.push($),this.portals.forEach(et=>{et.slug===g.portal&&et.assignSphereVideo($)})})}loop(g,b){super.loop(g,b),this.grass&&this.grass.loop(g,b),this.corn&&this.corn.loop(g,b),this._sphereVideoObjects.length>0&&this._sphereVideoObjects.forEach($=>$.loop(g,b))}}const componentName$c="PointOfInterest";debug(`front:3D:${componentName$c}`);class PointOfInterest{constructor(g,b,$){sn(this,"pointsOfInterest");sn(this,"data");sn(this,"slug");sn(this,"object3D");sn(this,"position2D");sn(this,"poiPosition");sn(this,"intersects");sn(this,"innovation");sn(this,"anchorPoi");sn(this,"model");sn(this,"projectedPosition");this.slug=g,this.poiPosition=b?new Vector3(b.x,b.y,b.z):new Vector3,this.innovation=$,this.position2D={x:0,y:0},this.projectedPosition=new Vector3,this.anchorPoi=new Object3D,this.anchorPoi.position.copy(this.poiPosition),this.innovation.add(this.anchorPoi),this.innovation.isFocused&&poiService.addSlug(this.slug)}updateDomPosition(){this.anchorPoi.getWorldPosition(this.projectedPosition),this.projectedPosition.project(sceneViewInstanced.camera),this.position2D.x=(this.projectedPosition.x+1)/2*window.innerWidth,this.position2D.y=-(this.projectedPosition.y-1)/2*window.innerHeight}update(){this.updateDomPosition(),this.innovation.isFocused&&poiService.addPosition(this.position2D)}}const componentName$b="InnovationObject";debug(`front:3D:${componentName$b}`);class InnovationObject extends BaseSceneObject{constructor(b,$,_e,et){super(!1);sn(this,"pointsOfInterest",[]);sn(this,"_data");sn(this,"_content");sn(this,"_room");sn(this,"_mesh");sn(this,"_rotation",0);sn(this,"_keyRotationForce",.1);sn(this,"_directionDown",0);sn(this,"_rotationForce",3);sn(this,"_cameraFocusPoint");sn(this,"_baseEnvMapIntensity",sceneConfig.innovationObjects.defaultEnvMapIntensity);sn(this,"_subjectMesh");sn(this,"_pointer");sn(this,"_pointerStart");sn(this,"_isDragging",!1);sn(this,"_tick",0);sn(this,"_lastRotation",0);sn(this,"_index",0);sn(this,"_floatingDistance",.05);sn(this,"_isFocused",!1);sn(this,"_isIntroducing",!1);sn(this,"hasGlow",!0);this.componentName=componentName$b,this._room=b,this._isInteractive=!0,this._data=$,this._content=_e,this._index=et,this.init(),this._getMesh(),this._bindEvents()}get cameraFocusPoint(){return this._cameraFocusPoint}get cameraDistance(){return this._data.cameraDistance}get isFocused(){return this._isFocused}set isFocused(b){this._isFocused=b}createSubject(){const b=AssetManager$1.getAsset(this._data.model).data,{offset:$,rotation:_e}=this._data;this.subject=b.scene.clone(),this.subject.scale.multiplyScalar(this._data.scale?this._data.scale:sceneConfig.innovationObjects.defaultScaleFactor),$&&this.position.add(new Vector3($.x,$.y,$.z)),_e&&this.subject.rotation.set(_e.x,_e.y,_e.z),this.name=this._data.slug,this.subject.name=this._data.slug+"_subject",this._subjectMesh=this.subject.getObjectByProperty("type","Mesh"),this._subjectMesh.material.envMapIntensity=this._baseEnvMapIntensity,this.setPointsOfInterest(),this.listen(),this.setupCameraFocusPoint()}setupCameraFocusPoint(){const b=this._data.cameraFocusPosition?this._data.cameraFocusPosition:sceneConfig.innovationObjects.defaultCameraFocusPosition;this._cameraFocusPoint=new Object3D,this.add(this._cameraFocusPoint),this._cameraFocusPoint.position.set(b.x,b.y,b.z)}setPointsOfInterest(){!this._content||(this.pointsOfInterest=this._content.poi.map(b=>{var et,tt;const $=(tt=(et=this._data.poi)==null?void 0:et.find(nt=>nt.slug==b.slug))==null?void 0:tt.position;let _e=new Vector3;if($){const{x:nt,y:rt,z:it}=$;_e.copy(new Vector3(nt,rt,it))}return sceneConfig.innovationObjects.defaultPoiPosition&&_e.add(sceneConfig.innovationObjects.defaultPoiPosition),new PointOfInterest(b.slug,_e,this)}))}listen(){navigationService.on("hasChanged",()=>{this.checkFocused()})}checkFocused(){this._isFocused=navigationService.currentInnovation===this.name&&navigationService.currentRoom===this._room.name&&!navigationService.currentPoi}setGlow(b){gsapWithCSS.killTweensOf(this._subjectMesh.material,"envMapIntensity"),gsapWithCSS.to(this._subjectMesh.material,{envMapIntensity:this._baseEnvMapIntensity*(b?3:1),duration:.3,ease:"power2.out"})}onClick(){navigationService.emit("set:innovation",this.name),this._isFocused=!0,this.emitCurrentPoiSlug()}emitCurrentPoiSlug(){var b;((b=this._content)==null?void 0:b.poi.length)>0&&poiService.addSlug(this._content.poi[0].slug)}_getMesh(){this.subject.traverse(b=>{b.isMesh&&(this._mesh=b)}),this._mesh.material.transparent=!0}onMouseEnter(){this._isFocused||this.setGlow(!0)}onMouseLeave(){this.setGlow(!1)}_bindEvents(){this._pointer=new Vector2,this._pointerStart=new Vector2,window.addEventListener("keydown",b=>{b.key==="ArrowUp"||b.key==="ArrowLeft"?this._directionDown=1:(b.key==="ArrowDown"||b.key==="ArrowRight")&&(this._directionDown=-1)}),window.addEventListener("keyup",b=>{(b.key==="ArrowUp"||b.key==="ArrowDown"||b.key==="ArrowLeft"||b.key==="ArrowRight")&&(this._directionDown=0)}),window.addEventListener("pointerdown",this._onDragStart.bind(this)),window.addEventListener("pointermove",this._onDrag.bind(this)),window.addEventListener("pointerup",this._onDragEnd.bind(this))}_onDragStart(b){!this._isFocused||(sceneViewInstanced.isDraggingInnovation=!0,this._isDragging=!0,this._lastRotation=this._rotation,this._pointerStart.set(b.clientX,b.clientY),document.body.style.cursor="grabbing")}_onDrag(b){!this._isFocused||!this._isDragging||(this._pointer.set(b.clientX,b.clientY),this._rotation=this._lastRotation+(this._pointerStart.x-this._pointer.x)/360*this._rotationForce*-1)}_onDragEnd(){!this._isFocused||(this._isDragging=!1,document.body.style.cursor="",sceneViewInstanced.isDraggingInnovation=!1)}_rotate(){this._isIntroducing||(this._isFocused&&(this._directionDown||this._isDragging)?this._rotation+=this._keyRotationForce*this._directionDown:this._isFocused||(this._rotation=Math.round(this._rotation/(Math.PI*2))*(Math.PI*2),this._rotation+=Math.cos(this._tick*.01+this._index)*(Math.PI/6)),this.rotation.y=smoothValue(this.rotation.y,this._rotation,.15))}_float(){this._isIntroducing||(this._isFocused?this.subject.position.y=smoothValue(this.subject.position.y,0,.15):this.subject.position.y=Math.sin(this._tick*.015+this._index)*this._floatingDistance)}introduce(){const{introduction:b}=sceneConfig.innovationObjects;if(this._isIntroducing)return;this._isIntroducing=!0,this.visible=!1;const $=this.subject.position.clone(),_e=this.subject.rotation.clone(),et=gsapWithCSS.timeline({delay:1});et.fromTo(this.subject.position,{y:$.y+.75},{ease:"Power3.out",y:$.y,duration:b.positionDuration,onStart:()=>{this.visible=!0},onComplete:()=>{this._isIntroducing=!1}},0),et.fromTo(this.subject.rotation,{y:this._index%2===0?_e.y+2:_e.y-2},{ease:"Power3.out",y:_e.y,duration:b.rotationDuration},0),et.fromTo(this._mesh.material,{opacity:0},{ease:"Power3.out",opacity:1,duration:b.opacityDuration},0)}loop(b,$){super.loop(b,$),!this._isIntroducing&&(this._tick+=1,this._rotate(),this._float(),this.pointsOfInterest.forEach(_e=>_e.update()))}}const componentName$a="PlaneVideoThumbnailObject";debug(`front:3D:${componentName$a}`);class PlaneVideoThumbnailObject extends BaseSceneObject{constructor({thumbnailAssetId:b,targetPlane:$}){super(!1);sn(this,"_textureThumbnail");sn(this,"thumbnailAssetId");sn(this,"targetPlane");this.componentName=componentName$a,this.thumbnailAssetId=b,this._textureThumbnail=AssetManager$1.getAsset(this.thumbnailAssetId).data,this.targetPlane=$.clone(),this._isInteractive=!0,this.init()}createSubject(){const b=AssetManager$1.getAsset("thumbnail_video_icon").data;b.needsUpdate=!0,this.subject=new Mesh(new PlaneGeometry(1,1,1,1),new MeshBasicMaterial),this.subject.scale.y=.56,this.subject.scale.multiplyScalar(3),this.subject.material=new BasicTextureStackMaterial({textureOne:b,textureTwo:this._textureThumbnail,opacity:.45}),this.subject.material.needsUpdate=!0,this.name=componentName$a,this.subject.name=componentName$a+"_subject"}onClick(){room3DVideoService.play()}onMouseEnter(){gsapWithCSS.to(this.subject.material.uniforms.opacity,{value:.8,duration:.4,ease:"power3.out"})}onMouseLeave(){gsapWithCSS.to(this.subject.material.uniforms.opacity,{value:.45,duration:.4,ease:"power3.out"})}}function BespokeThenable(){var j=0,g=[],b,$=0,_e=0;function et(ht,dt){var pt=BespokeThenable();function mt(){var gt=j>0?ht:dt;if(ct(gt))try{var yt=gt(b);yt===pt&&ut();var _t=at(yt);_t?_t.call(yt,pt.resolve,pt.reject):pt.resolve(yt)}catch(vt){pt.reject(vt)}else pt[j>0?"resolve":"reject"](b)}return g.push(mt),j&&it(),pt}var tt=lt(function(ht){_e||rt(1,ht)}),nt=lt(function(ht){_e||rt(-1,ht)});function rt(ht,dt){_e++;var pt=0;try{dt===ft&&ut();var mt=ht>0&&at(dt);mt?mt.call(dt,lt(function(gt){pt++,rt(1,gt)}),lt(function(gt){pt++,rt(-1,gt)})):(j=ht,b=dt,it())}catch(gt){!j&&!pt&&rt(-1,gt)}}function it(){$||(setTimeout(ot,0),$=1)}function ot(){var ht=g;$=0,g=[],ht.forEach(st)}function st(ht){ht()}function at(ht){var dt=ht&&(ct(ht)||typeof ht=="object")&&ht.then;return ct(dt)&&dt}function lt(ht){var dt=0;return function(){for(var pt=[],mt=arguments.length;mt--;)pt[mt]=arguments[mt];dt++||ht.apply(this,pt)}}function ut(){throw new TypeError("Chaining cycle detected")}var ct=function(ht){return typeof ht=="function"},ft={then:et,resolve:tt,reject:nt};return ft}function NativePromiseThenable(){var j,g,b=new Promise(function($,_e){j=$,g=_e});return{then:b.then.bind(b),resolve:j,reject:g}}BespokeThenable.all=NativePromiseThenable.all=function(j){var g=0,b=[],$=DefaultThenable();return j.length===0?$.resolve([]):j.forEach(function(_e,et){var tt=DefaultThenable();tt.resolve(_e),tt.then(function(nt){g++,b[et]=nt,g===j.length&&$.resolve(b)},$.reject)}),$};var DefaultThenable=typeof Promise=="function"?NativePromiseThenable:BespokeThenable;function workerBootstrap(){var j=Object.create(null);function g(_e,et){var tt=_e.id,nt=_e.name,rt=_e.dependencies;rt===void 0&&(rt=[]);var it=_e.init;it===void 0&&(it=function(){});var ot=_e.getTransferables;if(ot===void 0&&(ot=null),!j[tt])try{rt=rt.map(function(at){return at&&at.isWorkerModule&&(g(at,function(lt){if(lt instanceof Error)throw lt}),at=j[at.id].value),at}),it=$("<"+nt+">.init",it),ot&&(ot=$("<"+nt+">.getTransferables",ot));var st=null;typeof it=="function"?st=it.apply(void 0,rt):console.error("worker module init function failed to rehydrate"),j[tt]={id:tt,value:st,getTransferables:ot},et(st)}catch(at){at&&at.noLog||console.error(at),et(at)}}function b(_e,et){var tt,nt=_e.id,rt=_e.args;(!j[nt]||typeof j[nt].value!="function")&&et(new Error("Worker module "+nt+": not found or its 'init' did not return a function"));try{var it=(tt=j[nt]).value.apply(tt,rt);it&&typeof it.then=="function"?it.then(ot,function(st){return et(st instanceof Error?st:new Error(""+st))}):ot(it)}catch(st){et(st)}function ot(st){try{var at=j[nt].getTransferables&&j[nt].getTransferables(st);(!at||!Array.isArray(at)||!at.length)&&(at=void 0),et(st,at)}catch(lt){console.error(lt),et(lt)}}}function $(_e,et){var tt=void 0;self.troikaDefine=function(rt){return tt=rt};var nt=URL.createObjectURL(new Blob(["/** "+_e.replace(/\*/g,"")+` **/

troikaDefine(
`+et+`
)`],{type:"application/javascript"}));try{importScripts(nt)}catch(rt){console.error(rt)}return URL.revokeObjectURL(nt),delete self.troikaDefine,tt}self.addEventListener("message",function(_e){var et=_e.data,tt=et.messageId,nt=et.action,rt=et.data;try{nt==="registerModule"&&g(rt,function(it){it instanceof Error?postMessage({messageId:tt,success:!1,error:it.message}):postMessage({messageId:tt,success:!0,result:{isCallable:typeof it=="function"}})}),nt==="callModule"&&b(rt,function(it,ot){it instanceof Error?postMessage({messageId:tt,success:!1,error:it.message}):postMessage({messageId:tt,success:!0,result:it},ot||void 0)})}catch(it){postMessage({messageId:tt,success:!1,error:it.stack})}})}function defineMainThreadModule(j){var g=function(){for(var b=[],$=arguments.length;$--;)b[$]=arguments[$];return g._getInitResult().then(function(_e){if(typeof _e=="function")return _e.apply(void 0,b);throw new Error("Worker module function was called but `init` did not return a callable function")})};return g._getInitResult=function(){var b=j.dependencies,$=j.init;b=Array.isArray(b)?b.map(function(et){return et&&et._getInitResult?et._getInitResult():et}):[];var _e=DefaultThenable.all(b).then(function(et){return $.apply(null,et)});return g._getInitResult=function(){return _e},_e},g}var supportsWorkers=function(){var j=!1;if(typeof window!="undefined"&&typeof window.document!="undefined")try{var g=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));g.terminate(),j=!0}catch(b){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+b.message+"]")}return supportsWorkers=function(){return j},j},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(j){if((!j||typeof j.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var g=j.dependencies,b=j.init,$=j.getTransferables,_e=j.workerId;if(!supportsWorkers())return defineMainThreadModule(j);_e==null&&(_e="#default");var et="workerModule"+ ++_workerModuleId,tt=j.name||et,nt=null;g=g&&g.map(function(it){return typeof it=="function"&&!it.workerModuleData&&(_allowInitAsString=!0,it=defineWorkerModule({workerId:_e,name:"<"+tt+"> function dependency: "+it.name,init:`function(){return (
`+stringifyFunction(it)+`
)}`}),_allowInitAsString=!1),it&&it.workerModuleData&&(it=it.workerModuleData),it});function rt(){for(var it=[],ot=arguments.length;ot--;)it[ot]=arguments[ot];if(!nt){nt=callWorker(_e,"registerModule",rt.workerModuleData);var st=function(){nt=null,registeredModules[_e].delete(st)};(registeredModules[_e]||(registeredModules[_e]=new Set)).add(st)}return nt.then(function(at){var lt=at.isCallable;if(lt)return callWorker(_e,"callModule",{id:et,args:it});throw new Error("Worker module function was called but `init` did not return a callable function")})}return rt.workerModuleData={isWorkerModule:!0,id:et,name:tt,dependencies:g,init:stringifyFunction(b),getTransferables:$&&stringifyFunction($)},rt}function terminateWorker(j){registeredModules[j]&&registeredModules[j].forEach(function(g){g()}),workers[j]&&(workers[j].terminate(),delete workers[j])}function stringifyFunction(j){var g=j.toString();return!/^function/.test(g)&&/^\w+\s*\(/.test(g)&&(g="function "+g),g}function getWorker(j){var g=workers[j];if(!g){var b=stringifyFunction(workerBootstrap);g=workers[j]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+j.replace(/\*/g,"")+` **/

;(`+b+")()"],{type:"application/javascript"}))),g.onmessage=function($){var _e=$.data,et=_e.messageId,tt=openRequests[et];if(!tt)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[et],tt(_e)}}return g}function callWorker(j,g,b){var $=DefaultThenable(),_e=++_messageId;return openRequests[_e]=function(et){et.success?$.resolve(et.result):$.reject(new Error("Error in worker "+g+" call: "+et.error))},getWorker(j).postMessage({messageId:_e,action:g,data:b}),$}var ThenableWorkerModule=defineWorkerModule({name:"Thenable",dependencies:[DefaultThenable],init:function(j){return j}});function SDFGenerator(){var j=function(g){function b(Dt,Bt,kt,zt,Ft,It,Ut,Gt){var jt=1-Ut;Gt.x=jt*jt*Dt+2*jt*Ut*kt+Ut*Ut*Ft,Gt.y=jt*jt*Bt+2*jt*Ut*zt+Ut*Ut*It}function $(Dt,Bt,kt,zt,Ft,It,Ut,Gt,jt,Yt){var Qt=1-jt;Yt.x=Qt*Qt*Qt*Dt+3*Qt*Qt*jt*kt+3*Qt*jt*jt*Ft+jt*jt*jt*Ut,Yt.y=Qt*Qt*Qt*Bt+3*Qt*Qt*jt*zt+3*Qt*jt*jt*It+jt*jt*jt*Gt}function _e(Dt,Bt){for(var kt=/([MLQCZ])([^MLQCZ]*)/g,zt,Ft,It,Ut,Gt;zt=kt.exec(Dt);){var jt=zt[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Yt){return parseFloat(Yt)});switch(zt[1]){case"M":Ut=Ft=jt[0],Gt=It=jt[1];break;case"L":(jt[0]!==Ut||jt[1]!==Gt)&&Bt("L",Ut,Gt,Ut=jt[0],Gt=jt[1]);break;case"Q":{Bt("Q",Ut,Gt,Ut=jt[2],Gt=jt[3],jt[0],jt[1]);break}case"C":{Bt("C",Ut,Gt,Ut=jt[4],Gt=jt[5],jt[0],jt[1],jt[2],jt[3]);break}case"Z":(Ut!==Ft||Gt!==It)&&Bt("L",Ut,Gt,Ft,It);break}}}function et(Dt,Bt,kt){kt===void 0&&(kt=16);var zt={x:0,y:0};_e(Dt,function(Ft,It,Ut,Gt,jt,Yt,Qt,ln,Zt){switch(Ft){case"L":Bt(It,Ut,Gt,jt);break;case"Q":{for(var Wt=It,qt=Ut,Xt=1;Xt<kt;Xt++)b(It,Ut,Yt,Qt,Gt,jt,Xt/(kt-1),zt),Bt(Wt,qt,zt.x,zt.y),Wt=zt.x,qt=zt.y;break}case"C":{for(var vn=It,gn=Ut,en=1;en<kt;en++)$(It,Ut,Yt,Qt,ln,Zt,Gt,jt,en/(kt-1),zt),Bt(vn,gn,zt.x,zt.y),vn=zt.x,gn=zt.y;break}}})}var tt="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",nt="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",rt=new WeakMap,it={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function ot(Dt,Bt){var kt=Dt.getContext?Dt.getContext("webgl",it):Dt,zt=rt.get(kt);if(!zt){let Qt=function(vn){var gn=It[vn];if(!gn&&(gn=It[vn]=kt.getExtension(vn),!gn))throw new Error(vn+" not supported");return gn},ln=function(vn,gn){var en=kt.createShader(gn);return kt.shaderSource(en,vn),kt.compileShader(en),en},Zt=function(vn,gn,en,hn){if(!Ut[vn]){var rn={},un={},Nt=kt.createProgram();kt.attachShader(Nt,ln(gn,kt.VERTEX_SHADER)),kt.attachShader(Nt,ln(en,kt.FRAGMENT_SHADER)),kt.linkProgram(Nt),Ut[vn]={program:Nt,transaction:function(cn){kt.useProgram(Nt),cn({setUniform:function(mn,bn){for(var Cn=[],an=arguments.length-2;an-- >0;)Cn[an]=arguments[an+2];var Tn=un[bn]||(un[bn]=kt.getUniformLocation(Nt,bn));kt["uniform"+mn].apply(kt,[Tn].concat(Cn))},setAttribute:function(mn,bn,Cn,an,Tn){var Dn=rn[mn];Dn||(Dn=rn[mn]={buf:kt.createBuffer(),loc:kt.getAttribLocation(Nt,mn),data:null}),kt.bindBuffer(kt.ARRAY_BUFFER,Dn.buf),kt.vertexAttribPointer(Dn.loc,bn,kt.FLOAT,!1,0,0),kt.enableVertexAttribArray(Dn.loc),Ft?kt.vertexAttribDivisor(Dn.loc,an):Qt("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Dn.loc,an),Tn!==Dn.data&&(kt.bufferData(kt.ARRAY_BUFFER,Tn,Cn),Dn.data=Tn)}})}}}Ut[vn].transaction(hn)},Wt=function(vn,gn){jt++;try{kt.activeTexture(kt.TEXTURE0+jt);var en=Gt[vn];en||(en=Gt[vn]=kt.createTexture(),kt.bindTexture(kt.TEXTURE_2D,en),kt.texParameteri(kt.TEXTURE_2D,kt.TEXTURE_MIN_FILTER,kt.NEAREST),kt.texParameteri(kt.TEXTURE_2D,kt.TEXTURE_MAG_FILTER,kt.NEAREST)),kt.bindTexture(kt.TEXTURE_2D,en),gn(en,jt)}finally{jt--}},qt=function(vn,gn,en){var hn=kt.createFramebuffer();Yt.push(hn),kt.bindFramebuffer(kt.FRAMEBUFFER,hn),kt.activeTexture(kt.TEXTURE0+gn),kt.bindTexture(kt.TEXTURE_2D,vn),kt.framebufferTexture2D(kt.FRAMEBUFFER,kt.COLOR_ATTACHMENT0,kt.TEXTURE_2D,vn,0);try{en(hn)}finally{kt.deleteFramebuffer(hn),kt.bindFramebuffer(kt.FRAMEBUFFER,Yt[--Yt.length-1]||null)}},Xt=function(){It={},Ut={},Gt={},jt=-1,Yt.length=0};var Ft=typeof WebGL2RenderingContext!="undefined"&&kt instanceof WebGL2RenderingContext,It={},Ut={},Gt={},jt=-1,Yt=[];kt.canvas.addEventListener("webglcontextlost",function(vn){Xt(),vn.preventDefault()},!1),rt.set(kt,zt={gl:kt,isWebGL2:Ft,getExtension:Qt,withProgram:Zt,withTexture:Wt,withTextureFramebuffer:qt,handleContextLoss:Xt})}Bt(zt)}function st(Dt,Bt,kt,zt,Ft,It,Ut,Gt){Ut===void 0&&(Ut=15),Gt===void 0&&(Gt=null),ot(Dt,function(jt){var Yt=jt.gl,Qt=jt.withProgram,ln=jt.withTexture;ln("copy",function(Zt,Wt){Yt.texImage2D(Yt.TEXTURE_2D,0,Yt.RGBA,Ft,It,0,Yt.RGBA,Yt.UNSIGNED_BYTE,Bt),Qt("copy",tt,nt,function(qt){var Xt=qt.setUniform,vn=qt.setAttribute;vn("aUV",2,Yt.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Xt("1i","image",Wt),Yt.bindFramebuffer(Yt.FRAMEBUFFER,Gt||null),Yt.disable(Yt.BLEND),Yt.colorMask(Ut&8,Ut&4,Ut&2,Ut&1),Yt.viewport(kt,zt,Ft,It),Yt.scissor(kt,zt,Ft,It),Yt.drawArrays(Yt.TRIANGLES,0,3)})})})}function at(Dt,Bt,kt){var zt=Dt.width,Ft=Dt.height;ot(Dt,function(It){var Ut=It.gl,Gt=new Uint8Array(zt*Ft*4);Ut.readPixels(0,0,zt,Ft,Ut.RGBA,Ut.UNSIGNED_BYTE,Gt),Dt.width=Bt,Dt.height=kt,st(Ut,Gt,0,0,zt,Ft)})}var lt=Object.freeze({__proto__:null,withWebGLContext:ot,renderImageData:st,resizeWebGLCanvasWithoutClearing:at});function ut(Dt,Bt,kt,zt,Ft,It){It===void 0&&(It=1);var Ut=new Uint8Array(Dt*Bt),Gt=zt[2]-zt[0],jt=zt[3]-zt[1],Yt=[];et(kt,function(vn,gn,en,hn){Yt.push({x1:vn,y1:gn,x2:en,y2:hn,minX:Math.min(vn,en),minY:Math.min(gn,hn),maxX:Math.max(vn,en),maxY:Math.max(gn,hn)})}),Yt.sort(function(vn,gn){return vn.maxX-gn.maxX});for(var Qt=0;Qt<Dt;Qt++)for(var ln=0;ln<Bt;ln++){var Zt=qt(zt[0]+Gt*(Qt+.5)/Dt,zt[1]+jt*(ln+.5)/Bt),Wt=Math.pow(1-Math.abs(Zt)/Ft,It)/2;Zt<0&&(Wt=1-Wt),Wt=Math.max(0,Math.min(255,Math.round(Wt*255))),Ut[ln*Dt+Qt]=Wt}return Ut;function qt(vn,gn){for(var en=1/0,hn=1/0,rn=Yt.length;rn--;){var un=Yt[rn];if(un.maxX+hn<=vn)break;if(vn+hn>un.minX&&gn-hn<un.maxY&&gn+hn>un.minY){var Nt=ht(vn,gn,un.x1,un.y1,un.x2,un.y2);Nt<en&&(en=Nt,hn=Math.sqrt(en))}}return Xt(vn,gn)&&(hn=-hn),hn}function Xt(vn,gn){for(var en=0,hn=Yt.length;hn--;){var rn=Yt[hn];if(rn.maxX<=vn)break;var un=rn.y1>gn!=rn.y2>gn&&vn<(rn.x2-rn.x1)*(gn-rn.y1)/(rn.y2-rn.y1)+rn.x1;un&&(en+=rn.y1<rn.y2?1:-1)}return en!==0}}function ct(Dt,Bt,kt,zt,Ft,It,Ut,Gt,jt,Yt){It===void 0&&(It=1),Gt===void 0&&(Gt=0),jt===void 0&&(jt=0),Yt===void 0&&(Yt=0),ft(Dt,Bt,kt,zt,Ft,It,Ut,null,Gt,jt,Yt)}function ft(Dt,Bt,kt,zt,Ft,It,Ut,Gt,jt,Yt,Qt){It===void 0&&(It=1),jt===void 0&&(jt=0),Yt===void 0&&(Yt=0),Qt===void 0&&(Qt=0);for(var ln=ut(Dt,Bt,kt,zt,Ft,It),Zt=new Uint8Array(ln.length*4),Wt=0;Wt<ln.length;Wt++)Zt[Wt*4+Qt]=ln[Wt];st(Ut,Zt,jt,Yt,Dt,Bt,1<<3-Qt,Gt)}function ht(Dt,Bt,kt,zt,Ft,It){var Ut=Ft-kt,Gt=It-zt,jt=Ut*Ut+Gt*Gt,Yt=jt?Math.max(0,Math.min(1,((Dt-kt)*Ut+(Bt-zt)*Gt)/jt)):0,Qt=Dt-(kt+Yt*Ut),ln=Bt-(zt+Yt*Gt);return Qt*Qt+ln*ln}var dt=Object.freeze({__proto__:null,generate:ut,generateIntoCanvas:ct,generateIntoFramebuffer:ft}),pt="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",mt="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",gt="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",yt=new Float32Array([0,0,2,0,0,2]),_t=null,vt=!1,At={},bt=new WeakMap;function xt(Dt){if(!vt&&!Lt(Dt))throw new Error("WebGL generation not supported")}function Et(Dt,Bt,kt,zt,Ft,It,Ut){if(It===void 0&&(It=1),Ut===void 0&&(Ut=null),!Ut&&(Ut=_t,!Ut)){var Gt=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document!="undefined"?document.createElement("canvas"):null;if(!Gt)throw new Error("OffscreenCanvas or DOM canvas not supported");Ut=_t=Gt.getContext("webgl",{depth:!1})}xt(Ut);var jt=new Uint8Array(Dt*Bt*4);ot(Ut,function(Zt){var Wt=Zt.gl,qt=Zt.withTexture,Xt=Zt.withTextureFramebuffer;qt("readable",function(vn,gn){Wt.texImage2D(Wt.TEXTURE_2D,0,Wt.RGBA,Dt,Bt,0,Wt.RGBA,Wt.UNSIGNED_BYTE,null),Xt(vn,gn,function(en){Tt(Dt,Bt,kt,zt,Ft,It,Wt,en,0,0,0),Wt.readPixels(0,0,Dt,Bt,Wt.RGBA,Wt.UNSIGNED_BYTE,jt)})})});for(var Yt=new Uint8Array(Dt*Bt),Qt=0,ln=0;Qt<jt.length;Qt+=4)Yt[ln++]=jt[Qt];return Yt}function Mt(Dt,Bt,kt,zt,Ft,It,Ut,Gt,jt,Yt){It===void 0&&(It=1),Gt===void 0&&(Gt=0),jt===void 0&&(jt=0),Yt===void 0&&(Yt=0),Tt(Dt,Bt,kt,zt,Ft,It,Ut,null,Gt,jt,Yt)}function Tt(Dt,Bt,kt,zt,Ft,It,Ut,Gt,jt,Yt,Qt){It===void 0&&(It=1),jt===void 0&&(jt=0),Yt===void 0&&(Yt=0),Qt===void 0&&(Qt=0),xt(Ut);var ln=[];et(kt,function(Zt,Wt,qt,Xt){ln.push(Zt,Wt,qt,Xt)}),ln=new Float32Array(ln),ot(Ut,function(Zt){var Wt=Zt.gl,qt=Zt.isWebGL2,Xt=Zt.getExtension,vn=Zt.withProgram,gn=Zt.withTexture,en=Zt.withTextureFramebuffer,hn=Zt.handleContextLoss;if(gn("rawDistances",function(rn,un){(Dt!==rn._lastWidth||Bt!==rn._lastHeight)&&Wt.texImage2D(Wt.TEXTURE_2D,0,Wt.RGBA,rn._lastWidth=Dt,rn._lastHeight=Bt,0,Wt.RGBA,Wt.UNSIGNED_BYTE,null),vn("main",pt,mt,function(Nt){var Vt=Nt.setAttribute,cn=Nt.setUniform,dn=!qt&&Xt("ANGLE_instanced_arrays"),mn=!qt&&Xt("EXT_blend_minmax");Vt("aUV",2,Wt.STATIC_DRAW,0,yt),Vt("aLineSegment",4,Wt.DYNAMIC_DRAW,1,ln),cn.apply(void 0,["4f","uGlyphBounds"].concat(zt)),cn("1f","uMaxDistance",Ft),cn("1f","uExponent",It),en(rn,un,function(bn){Wt.enable(Wt.BLEND),Wt.colorMask(!0,!0,!0,!0),Wt.viewport(0,0,Dt,Bt),Wt.scissor(0,0,Dt,Bt),Wt.blendFunc(Wt.ONE,Wt.ONE),Wt.blendEquationSeparate(Wt.FUNC_ADD,qt?Wt.MAX:mn.MAX_EXT),Wt.clear(Wt.COLOR_BUFFER_BIT),qt?Wt.drawArraysInstanced(Wt.TRIANGLES,0,3,ln.length/4):dn.drawArraysInstancedANGLE(Wt.TRIANGLES,0,3,ln.length/4)})}),vn("post",tt,gt,function(Nt){Nt.setAttribute("aUV",2,Wt.STATIC_DRAW,0,yt),Nt.setUniform("1i","tex",un),Wt.bindFramebuffer(Wt.FRAMEBUFFER,Gt),Wt.disable(Wt.BLEND),Wt.colorMask(Qt===0,Qt===1,Qt===2,Qt===3),Wt.viewport(jt,Yt,Dt,Bt),Wt.scissor(jt,Yt,Dt,Bt),Wt.drawArrays(Wt.TRIANGLES,0,3)})}),Wt.isContextLost())throw hn(),new Error("webgl context lost")})}function Lt(Dt){var Bt=!Dt||Dt===_t?At:Dt.canvas||Dt,kt=bt.get(Bt);if(kt===void 0){vt=!0;var zt=null;try{var Ft=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],It=Et(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,Dt);kt=It&&Ft.length===It.length&&It.every(function(Ut,Gt){return Ut===Ft[Gt]}),kt||(zt="bad trial run results",console.info(Ft,It))}catch(Ut){kt=!1,zt=Ut.message}zt&&console.warn("WebGL SDF generation not supported:",zt),vt=!1,bt.set(Bt,kt)}return kt}var Ot=Object.freeze({__proto__:null,generate:Et,generateIntoCanvas:Mt,generateIntoFramebuffer:Tt,isSupported:Lt});function Rt(Dt,Bt,kt,zt,Ft,It){Ft===void 0&&(Ft=Math.max(zt[2]-zt[0],zt[3]-zt[1])/2),It===void 0&&(It=1);try{return Et.apply(Ot,arguments)}catch(Ut){return console.info("WebGL SDF generation failed, falling back to JS",Ut),ut.apply(dt,arguments)}}function Ct(Dt,Bt,kt,zt,Ft,It,Ut,Gt,jt,Yt){Ft===void 0&&(Ft=Math.max(zt[2]-zt[0],zt[3]-zt[1])/2),It===void 0&&(It=1),Gt===void 0&&(Gt=0),jt===void 0&&(jt=0),Yt===void 0&&(Yt=0);try{return Mt.apply(Ot,arguments)}catch(Qt){return console.info("WebGL SDF generation failed, falling back to JS",Qt),ct.apply(dt,arguments)}}return g.forEachPathCommand=_e,g.generate=Rt,g.generateIntoCanvas=Ct,g.javascript=dt,g.pathToLineSegments=et,g.webgl=Ot,g.webglUtils=lt,Object.defineProperty(g,"__esModule",{value:!0}),g}({});return j}function bidiFactory(){var j=function(g){var b={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},$={},_e={};$.L=1,_e[1]="L",Object.keys(b).forEach(function(hn,rn){$[hn]=1<<rn+1,_e[$[hn]]=hn}),Object.freeze($);var et=$.LRI|$.RLI|$.FSI,tt=$.L|$.R|$.AL,nt=$.B|$.S|$.WS|$.ON|$.FSI|$.LRI|$.RLI|$.PDI,rt=$.BN|$.RLE|$.LRE|$.RLO|$.LRO|$.PDF,it=$.S|$.WS|$.B|et|$.PDI|rt,ot=null;function st(){if(!ot){ot=new Map;var hn=function(un){if(b.hasOwnProperty(un)){var Nt=0;b[un].split(",").forEach(function(Vt){var cn=Vt.split("+"),dn=cn[0],mn=cn[1];dn=parseInt(dn,36),mn=mn?parseInt(mn,36):0,ot.set(Nt+=dn,$[un]);for(var bn=0;bn<mn;bn++)ot.set(++Nt,$[un])})}};for(var rn in b)hn(rn)}}function at(hn){return st(),ot.get(hn.codePointAt(0))||$.L}function lt(hn){return _e[at(hn)]}var ut={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function ct(hn,rn){var un=36,Nt=0,Vt=new Map,cn=rn&&new Map,dn;return hn.split(",").forEach(function mn(bn){if(bn.indexOf("+")!==-1)for(var Cn=+bn;Cn--;)mn(dn);else{dn=bn;var an=bn.split(">"),Tn=an[0],Dn=an[1];Tn=String.fromCodePoint(Nt+=parseInt(Tn,un)),Dn=String.fromCodePoint(Nt+=parseInt(Dn,un)),Vt.set(Tn,Dn),rn&&cn.set(Dn,Tn)}}),{map:Vt,reverseMap:cn}}var ft,ht,dt;function pt(){if(!ft){var hn=ct(ut.pairs,!0),rn=hn.map,un=hn.reverseMap;ft=rn,ht=un,dt=ct(ut.canonical,!1).map}}function mt(hn){return pt(),ft.get(hn)||null}function gt(hn){return pt(),ht.get(hn)||null}function yt(hn){return pt(),dt.get(hn)||null}var _t=$.L,vt=$.R,At=$.EN,bt=$.ES,xt=$.ET,Et=$.AN,Mt=$.CS,Tt=$.B,Lt=$.S,Ot=$.ON,Rt=$.BN,Ct=$.NSM,Dt=$.AL,Bt=$.LRO,kt=$.RLO,zt=$.LRE,Ft=$.RLE,It=$.PDF,Ut=$.LRI,Gt=$.RLI,jt=$.FSI,Yt=$.PDI;function Qt(hn,rn){for(var un=125,Nt=new Uint32Array(hn.length),Vt=0;Vt<hn.length;Vt++)Nt[Vt]=at(hn[Vt]);var cn=new Map;function dn(wr,kr){var Dr=Nt[wr];Nt[wr]=kr,cn.set(Dr,cn.get(Dr)-1),Dr&nt&&cn.set(nt,cn.get(nt)-1),cn.set(kr,(cn.get(kr)||0)+1),kr&nt&&cn.set(nt,(cn.get(nt)||0)+1)}for(var mn=new Uint8Array(hn.length),bn=new Map,Cn=[],an=null,Tn=0;Tn<hn.length;Tn++)an||Cn.push(an={start:Tn,end:hn.length-1,level:rn==="rtl"?1:rn==="ltr"?0:Fs(Tn,!1)}),Nt[Tn]&Tt&&(an.end=Tn,an=null);for(var Dn=Ft|zt|kt|Bt|et|Yt|It|Tt,Sn=function(wr){return wr+(wr&1?1:2)},Ln=function(wr){return wr+(wr&1?2:1)},nn=0;nn<Cn.length;nn++){an=Cn[nn];var En=[{_level:an.level,_override:0,_isolate:0}],wn=void 0,In=0,Rn=0,Pn=0;cn.clear();for(var Gn=an.start;Gn<=an.end;Gn++){var zn=Nt[Gn];if(wn=En[En.length-1],cn.set(zn,(cn.get(zn)||0)+1),zn&nt&&cn.set(nt,(cn.get(nt)||0)+1),zn&Dn)if(zn&(Ft|zt)){mn[Gn]=wn._level;var ar=(zn===Ft?Ln:Sn)(wn._level);ar<=un&&!In&&!Rn?En.push({_level:ar,_override:0,_isolate:0}):In||Rn++}else if(zn&(kt|Bt)){mn[Gn]=wn._level;var ir=(zn===kt?Ln:Sn)(wn._level);ir<=un&&!In&&!Rn?En.push({_level:ir,_override:zn&kt?vt:_t,_isolate:0}):In||Rn++}else if(zn&et){zn&jt&&(zn=Fs(Gn+1,!0)===1?Gt:Ut),mn[Gn]=wn._level,wn._override&&dn(Gn,wn._override);var rr=(zn===Gt?Ln:Sn)(wn._level);rr<=un&&In===0&&Rn===0?(Pn++,En.push({_level:rr,_override:0,_isolate:1,_isolInitIndex:Gn})):In++}else if(zn&Yt){if(In>0)In--;else if(Pn>0){for(Rn=0;!En[En.length-1]._isolate;)En.pop();var mr=En[En.length-1]._isolInitIndex;mr!=null&&(bn.set(mr,Gn),bn.set(Gn,mr)),En.pop(),Pn--}wn=En[En.length-1],mn[Gn]=wn._level,wn._override&&dn(Gn,wn._override)}else zn&It?(In===0&&(Rn>0?Rn--:!wn._isolate&&En.length>1&&(En.pop(),wn=En[En.length-1])),mn[Gn]=wn._level):zn&Tt&&(mn[Gn]=an.level);else mn[Gn]=wn._level,wn._override&&zn!==Rt&&dn(Gn,wn._override)}for(var cr=[],tr=null,Zn=an.start;Zn<=an.end;Zn++){var Mn=Nt[Zn];if(!(Mn&rt)){var On=mn[Zn],Un=Mn&et,$n=Mn===Yt;tr&&On===tr._level?(tr._end=Zn,tr._endsWithIsolInit=Un):cr.push(tr={_start:Zn,_end:Zn,_level:On,_startsWithPDI:$n,_endsWithIsolInit:Un})}}for(var sr=[],$t=0;$t<cr.length;$t++){var pn=cr[$t];if(!pn._startsWithPDI||pn._startsWithPDI&&!bn.has(pn._start)){for(var yn=[tr=pn],_n=void 0;tr&&tr._endsWithIsolInit&&(_n=bn.get(tr._end))!=null;)for(var xn=$t+1;xn<cr.length;xn++)if(cr[xn]._start===_n){yn.push(tr=cr[xn]);break}for(var Hn=[],Kn=0;Kn<yn.length;Kn++)for(var Wn=yn[Kn],Vn=Wn._start;Vn<=Wn._end;Vn++)Hn.push(Vn);for(var qn=mn[Hn[0]],Yn=an.level,nr=Hn[0]-1;nr>=0;nr--)if(!(Nt[nr]&rt)){Yn=mn[nr];break}var er=Hn[Hn.length-1],hr=mn[er],vr=an.level;if(!(Nt[er]&et)){for(var Sr=er+1;Sr<=an.end;Sr++)if(!(Nt[Sr]&rt)){vr=mn[Sr];break}}sr.push({_seqIndices:Hn,_sosType:Math.max(Yn,qn)%2?vt:_t,_eosType:Math.max(vr,hr)%2?vt:_t})}}for(var xr=0;xr<sr.length;xr++){var or=sr[xr],jn=or._seqIndices,pr=or._sosType,Pr=or._eosType;if(cn.get(Ct))for(var Tr=0;Tr<jn.length;Tr++){var Ir=jn[Tr];if(Nt[Ir]&Ct){for(var Nr=pr,dr=Tr-1;dr>=0;dr--)if(!(Nt[jn[dr]]&rt)){Nr=Nt[jn[dr]];break}dn(Ir,Nr&(et|Yt)?Ot:Nr)}}if(cn.get(At))for(var Fr=0;Fr<jn.length;Fr++){var Gr=jn[Fr];if(Nt[Gr]&At)for(var gr=Fr-1;gr>=-1;gr--){var bs=gr===-1?pr:Nt[jn[gr]];if(bs&tt){bs===Dt&&dn(Gr,Et);break}}}if(cn.get(Dt))for(var cs=0;cs<jn.length;cs++){var Us=jn[cs];Nt[Us]&Dt&&dn(Us,vt)}if(cn.get(bt)||cn.get(Mt))for(var ns=1;ns<jn.length-1;ns++){var As=jn[ns];if(Nt[As]&(bt|Mt)){for(var Yr=0,us=0,ws=ns-1;ws>=0&&(Yr=Nt[jn[ws]],!!(Yr&rt));ws--);for(var Ss=ns+1;Ss<jn.length&&(us=Nt[jn[Ss]],!!(us&rt));Ss++);Yr===us&&(Nt[As]===bt?Yr===At:Yr&(At|Et))&&dn(As,Yr)}}if(cn.get(At))for(var rs=0;rs<jn.length;rs++){var Gs=jn[rs];if(Nt[Gs]&At){for(var hs=rs-1;hs>=0&&Nt[jn[hs]]&(xt|rt);hs--)dn(jn[hs],At);for(var fs=rs+1;fs<jn.length&&Nt[jn[fs]]&(xt|rt);fs++)dn(jn[fs],At)}}if(cn.get(xt)||cn.get(bt)||cn.get(Mt))for(var Qr=0;Qr<jn.length;Qr++){var Hs=jn[Qr];if(Nt[Hs]&(xt|bt|Mt)){dn(Hs,Ot);for(var Br=Qr-1;Br>=0&&Nt[jn[Br]]&rt;Br--)dn(jn[Br],Ot);for(var ur=Qr+1;ur<jn.length&&Nt[jn[ur]]&rt;ur++)dn(jn[ur],Ot)}}if(cn.get(At))for(var Or=0,Es=pr;Or<jn.length;Or++){var Cs=jn[Or],Ts=Nt[Cs];Ts&At?Es===_t&&dn(Cs,_t):Ts&tt&&(Es=Ts)}if(cn.get(nt)){var Kr=vt|At|Et,Vs=Kr|_t,ds=[];{for(var Jr=[],Vr=0;Vr<jn.length;Vr++)if(Nt[jn[Vr]]&nt){var zr=hn[jn[Vr]],Ms=void 0;if(mt(zr)!==null)if(Jr.length<63)Jr.push({char:zr,seqIndex:Vr});else break;else if((Ms=gt(zr))!==null)for(var Wr=Jr.length-1;Wr>=0;Wr--){var Ds=Jr[Wr].char;if(Ds===Ms||Ds===gt(yt(zr))||mt(yt(Ds))===zr){ds.push([Jr[Wr].seqIndex,Vr]),Jr.length=Wr;break}}}ds.sort(function(wr,kr){return wr[0]-kr[0]})}for(var Ps=0;Ps<ds.length;Ps++){for(var zs=ds[Ps],Zr=zs[0],ps=zs[1],Bs=!1,Rr=0,Ls=Zr+1;Ls<ps;Ls++){var Rs=jn[Ls];if(Nt[Rs]&Vs){Bs=!0;var ms=Nt[Rs]&Kr?vt:_t;if(ms===$r(Rs)){Rr=ms;break}}}if(Bs&&!Rr){Rr=pr;for(var gs=Zr-1;gs>=0;gs--){var vs=jn[gs];if(Nt[vs]&Vs){var Ws=Nt[vs]&Kr?vt:_t;Ws!==$r(vs)?Rr=Ws:Rr=$r(vs);break}}}if(Rr){if(Nt[jn[Zr]]=Nt[jn[ps]]=Rr,Rr!==$r(jn[Zr])){for(var br=Zr+1;br<jn.length;br++)if(!(Nt[jn[br]]&rt)){at(hn[jn[br]])&Ct&&(Nt[jn[br]]=Rr);break}}if(Rr!==$r(jn[ps])){for(var qr=ps+1;qr<jn.length;qr++)if(!(Nt[jn[qr]]&rt)){at(hn[jn[qr]])&Ct&&(Nt[jn[qr]]=Rr);break}}}}for(var Mr=0;Mr<jn.length;Mr++)if(Nt[jn[Mr]]&nt){for(var ks=Mr,_s=Mr,Is=pr,is=Mr-1;is>=0;is--)if(Nt[jn[is]]&rt)ks=is;else{Is=Nt[jn[is]]&Kr?vt:_t;break}for(var js=Pr,ss=Mr+1;ss<jn.length;ss++)if(Nt[jn[ss]]&(nt|rt))_s=ss;else{js=Nt[jn[ss]]&Kr?vt:_t;break}for(var os=ks;os<=_s;os++)Nt[jn[os]]=Is===js?Is:$r(jn[os]);Mr=_s}}}for(var _r=an.start;_r<=an.end;_r++){var as=mn[_r],jr=Nt[_r];if(as&1?jr&(_t|At|Et)&&mn[_r]++:jr&vt?mn[_r]++:jr&(Et|At)&&(mn[_r]+=2),jr&rt&&(mn[_r]=_r===0?an.level:mn[_r-1]),_r===an.end||at(hn[_r])&(Lt|Tt))for(var ls=_r;ls>=0&&at(hn[ls])&it;ls--)mn[ls]=an.level}}return{levels:mn,paragraphs:Cn};function Fs(wr,kr){for(var Dr=wr;Dr<hn.length;Dr++){var Lr=Nt[Dr];if(Lr&(vt|Dt))return 1;if(Lr&(Tt|_t)||kr&&Lr===Yt)return 0;if(Lr&et){var ys=$s(Dr);Dr=ys===-1?hn.length:ys}}return 0}function $s(wr){for(var kr=1,Dr=wr+1;Dr<hn.length;Dr++){var Lr=Nt[Dr];if(Lr&Tt)break;if(Lr&Yt){if(--kr===0)return Dr}else Lr&et&&kr++}return-1}function $r(wr){return mn[wr]&1?vt:_t}}var ln="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Zt;function Wt(){if(!Zt){var hn=ct(ln,!0),rn=hn.map,un=hn.reverseMap;un.forEach(function(Nt,Vt){rn.set(Vt,Nt)}),Zt=rn}}function qt(hn){return Wt(),Zt.get(hn)||null}function Xt(hn,rn,un,Nt){var Vt=hn.length;un=Math.max(0,un==null?0:+un),Nt=Math.min(Vt-1,Nt==null?Vt-1:+Nt);for(var cn=new Map,dn=un;dn<=Nt;dn++)if(rn[dn]&1){var mn=qt(hn[dn]);mn!==null&&cn.set(dn,mn)}return cn}function vn(hn,rn,un,Nt){var Vt=hn.length;un=Math.max(0,un==null?0:+un),Nt=Math.min(Vt-1,Nt==null?Vt-1:+Nt);var cn=[];return rn.paragraphs.forEach(function(dn){var mn=Math.max(un,dn.start),bn=Math.min(Nt,dn.end);if(mn<bn){for(var Cn=rn.levels.slice(mn,bn+1),an=bn;an>=mn&&at(hn[an])&it;an--)Cn[an]=dn.level;for(var Tn=dn.level,Dn=1/0,Sn=0;Sn<Cn.length;Sn++){var Ln=Cn[Sn];Ln>Tn&&(Tn=Ln),Ln<Dn&&(Dn=Ln|1)}for(var nn=Tn;nn>=Dn;nn--)for(var En=0;En<Cn.length;En++)if(Cn[En]>=nn){for(var wn=En;En+1<Cn.length&&Cn[En+1]>=nn;)En++;En>wn&&cn.push([wn+un,En+un])}}}),cn}function gn(hn,rn,un,Nt){var Vt=en(hn,rn,un,Nt),cn=[].concat(hn);return Vt.forEach(function(dn,mn){cn[mn]=(rn.levels[dn]&1?qt(hn[dn]):null)||hn[dn]}),cn.join("")}function en(hn,rn,un,Nt){for(var Vt=vn(hn,rn,un,Nt),cn=[],dn=0;dn<hn.length;dn++)cn[dn]=dn;return Vt.forEach(function(mn){for(var bn=mn[0],Cn=mn[1],an=cn.slice(bn,Cn+1),Tn=an.length;Tn--;)cn[Cn-Tn]=an[Tn]}),cn}return g.closingToOpeningBracket=gt,g.getBidiCharType=at,g.getBidiCharTypeName=lt,g.getCanonicalBracket=yt,g.getEmbeddingLevels=Qt,g.getMirroredCharacter=qt,g.getMirroredCharactersMap=Xt,g.getReorderSegments=vn,g.getReorderedIndices=en,g.getReorderedString=gn,g.openingToClosingBracket=mt,Object.defineProperty(g,"__esModule",{value:!0}),g}({});return j}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(j){const g=/^[ \t]*#include +<([\w\d./]+)>/gm;function b($,_e){let et=ShaderChunk[_e];return et?expandShaderIncludes(et):$}return j.replace(g,b)}const _lut=[];for(let j=0;j<256;j++)_lut[j]=(j<16?"0":"")+j.toString(16);function generateUUID(){const j=Math.random()*4294967295|0,g=Math.random()*4294967295|0,b=Math.random()*4294967295|0,$=Math.random()*4294967295|0;return(_lut[j&255]+_lut[j>>8&255]+_lut[j>>16&255]+_lut[j>>24&255]+"-"+_lut[g&255]+_lut[g>>8&255]+"-"+_lut[g>>16&15|64]+_lut[g>>24&255]+"-"+_lut[b&63|128]+_lut[b>>8&255]+"-"+_lut[b>>16&255]+_lut[b>>24&255]+_lut[$&255]+_lut[$>>8&255]+_lut[$>>16&255]+_lut[$>>24&255]).toUpperCase()}const assign$1=Object.assign||function(){let j=arguments[0];for(let g=1,b=arguments.length;g<b;g++){let $=arguments[g];if($)for(let _e in $)$.hasOwnProperty(_e)&&(j[_e]=$[_e])}return j},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(j,g){const b=getKeyForOptions(g);let $=CONSTRUCTOR_CACHE.get(j);if($||CONSTRUCTOR_CACHE.set(j,$=Object.create(null)),$[b])return new $[b];const _e=`_onBeforeCompile${b}`,et=function(it){j.onBeforeCompile.call(this,it);const ot=this.customProgramCacheKey()+"|"+it.vertexShader+"|"+it.fragmentShader;let st=SHADER_UPGRADE_CACHE[ot];if(!st){const at=upgradeShaders(it,g,b);st=SHADER_UPGRADE_CACHE[ot]=at}it.vertexShader=st.vertexShader,it.fragmentShader=st.fragmentShader,assign$1(it.uniforms,this.uniforms),g.timeUniform&&(it.uniforms[g.timeUniform]={get value(){return Date.now()-epoch}}),this[_e]&&this[_e](it)},tt=function(){return nt(g.chained?j:j.clone())},nt=function(it){const ot=Object.create(it,rt);return Object.defineProperty(ot,"baseMaterial",{value:j}),Object.defineProperty(ot,"id",{value:materialInstanceId++}),ot.uuid=generateUUID(),ot.uniforms=assign$1({},it.uniforms,g.uniforms),ot.defines=assign$1({},it.defines,g.defines),ot.defines[`TROIKA_DERIVED_MATERIAL_${b}`]="",ot.extensions=assign$1({},it.extensions,g.extensions),ot._listeners=void 0,ot},rt={constructor:{value:tt},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return j.customProgramCacheKey()+"|"+b}},onBeforeCompile:{get(){return et},set(it){this[_e]=it}},copy:{writable:!0,configurable:!0,value:function(it){return j.copy.call(this,it),!j.isShaderMaterial&&!j.isDerivedMaterial&&(assign$1(this.extensions,it.extensions),assign$1(this.defines,it.defines),assign$1(this.uniforms,UniformsUtils.clone(it.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const it=new j.constructor;return nt(it).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let it=this._depthMaterial;return it||(it=this._depthMaterial=createDerivedMaterial(j.isDerivedMaterial?j.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),g),it.defines.IS_DEPTH_MATERIAL="",it.uniforms=this.uniforms),it}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let it=this._distanceMaterial;return it||(it=this._distanceMaterial=createDerivedMaterial(j.isDerivedMaterial?j.getDistanceMaterial():new MeshDistanceMaterial,g),it.defines.IS_DISTANCE_MATERIAL="",it.uniforms=this.uniforms),it}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:it,_distanceMaterial:ot}=this;it&&it.dispose(),ot&&ot.dispose(),j.dispose.call(this)}}};return $[b]=tt,new tt}function upgradeShaders({vertexShader:j,fragmentShader:g},b,$){let{vertexDefs:_e,vertexMainIntro:et,vertexMainOutro:tt,vertexTransform:nt,fragmentDefs:rt,fragmentMainIntro:it,fragmentMainOutro:ot,fragmentColorTransform:st,customRewriter:at,timeUniform:lt}=b;if(_e=_e||"",et=et||"",tt=tt||"",rt=rt||"",it=it||"",ot=ot||"",(nt||at)&&(j=expandShaderIncludes(j)),(st||at)&&(g=g.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),g=expandShaderIncludes(g)),at){let ut=at({vertexShader:j,fragmentShader:g});j=ut.vertexShader,g=ut.fragmentShader}if(st){let ut=[];g=g.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,ct=>(ut.push(ct),"")),ot=`${st}
${ut.join(`
`)}
${ot}`}if(lt){const ut=`
uniform float ${lt};
`;_e=ut+_e,rt=ut+rt}return nt&&(j=`vec3 troika_position_${$};
vec3 troika_normal_${$};
vec2 troika_uv_${$};
${j}
`,_e=`${_e}
void troikaVertexTransform${$}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${nt}
}
`,et=`
troika_position_${$} = vec3(position);
troika_normal_${$} = vec3(normal);
troika_uv_${$} = vec2(uv);
troikaVertexTransform${$}(troika_position_${$}, troika_normal_${$}, troika_uv_${$});
${et}
`,j=j.replace(/\b(position|normal|uv)\b/g,(ut,ct,ft,ht)=>/\battribute\s+vec[23]\s+$/.test(ht.substr(0,ft))?ct:`troika_${ct}_${$}`)),j=injectIntoShaderCode(j,$,_e,et,tt),g=injectIntoShaderCode(g,$,rt,it,ot),{vertexShader:j,fragmentShader:g}}function injectIntoShaderCode(j,g,b,$,_e){return($||_e||b)&&(j=j.replace(voidMainRegExp,`
${b}
void troikaOrigMain${g}() {`),j+=`
void main() {
  ${$}
  troikaOrigMain${g}();
  ${_e}
}`),j}function optionsJsonReplacer(j,g){return j==="uniforms"?void 0:typeof g=="function"?g.toString():g}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(j){const g=JSON.stringify(j,optionsJsonReplacer);let b=optionsHashesToIds.get(g);return b==null&&optionsHashesToIds.set(g,b=++_idCtr),b}function createTypesetter(j,g,b){const{defaultFontURL:$}=b,_e=Object.create(null),et=1/0,tt=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,nt=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function rt(ht,dt){function pt(){const mt=gt=>{console.error(`Failure loading font ${ht}${ht===$?"":"; trying fallback"}`,gt),ht!==$&&(ht=$,pt())};try{const gt=new XMLHttpRequest;gt.open("get",ht,!0),gt.responseType="arraybuffer",gt.onload=function(){if(gt.status>=400)mt(new Error(gt.statusText));else if(gt.status>0)try{const yt=j(gt.response);dt(yt)}catch(yt){mt(yt)}},gt.onerror=mt,gt.send()}catch(gt){mt(gt)}}pt()}function it(ht,dt){ht||(ht=$);let pt=_e[ht];pt?pt.pending?pt.pending.push(dt):dt(pt):(_e[ht]={pending:[dt]},rt(ht,mt=>{let gt=_e[ht].pending;_e[ht]=mt,gt.forEach(yt=>yt(mt))}))}function ot({text:ht="",font:dt=$,sdfGlyphSize:pt=64,fontSize:mt=1,letterSpacing:gt=0,lineHeight:yt="normal",maxWidth:_t=et,direction:vt,textAlign:At="left",textIndent:bt=0,whiteSpace:xt="normal",overflowWrap:Et="normal",anchorX:Mt=0,anchorY:Tt=0,includeCaretPositions:Lt=!1,chunkedBoundsSize:Ot=8192,colorRanges:Rt=null},Ct,Dt=!1){const Bt=ut(),kt={fontLoad:0,typesetting:0};ht.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),ht=ht.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),mt=+mt,gt=+gt,_t=+_t,yt=yt||"normal",bt=+bt,it(dt,zt=>{const Ft=isFinite(_t);let It=null,Ut=null,Gt=null,jt=null,Yt=null,Qt=null,ln=null,Zt=0,Wt=0,qt=xt!=="nowrap";const{ascender:Xt,descender:vn,unitsPerEm:gn}=zt;kt.fontLoad=ut()-Bt;const en=ut(),hn=mt/gn;yt==="normal"&&(yt=(Xt-vn)/gn),yt=yt*mt;const rn=(yt-(Xt-vn)*hn)/2,un=-(Xt*hn+rn),Nt=Math.min(yt,(Xt-vn)*hn),Vt=(Xt+vn)/2*hn-Nt/2;let cn=bt,dn=new ct;const mn=[dn];zt.forEachGlyph(ht,mt,gt,(an,Tn,Dn)=>{const Sn=ht.charAt(Dn),Ln=an.advanceWidth*hn,nn=dn.count;let En;if("isEmpty"in an||(an.isWhitespace=!!Sn&&/\s/.test(Sn),an.canBreakAfter=!!Sn&&nt.test(Sn),an.isEmpty=an.xMin===an.xMax||an.yMin===an.yMax||tt.test(Sn)),!an.isWhitespace&&!an.isEmpty&&Wt++,qt&&Ft&&!an.isWhitespace&&Tn+Ln+cn>_t&&nn){if(dn.glyphAt(nn-1).glyphObj.canBreakAfter)En=new ct,cn=-Tn;else for(let In=nn;In--;)if(In===0&&Et==="break-word"){En=new ct,cn=-Tn;break}else if(dn.glyphAt(In).glyphObj.canBreakAfter){En=dn.splitAt(In+1);const Rn=En.glyphAt(0).x;cn-=Rn;for(let Pn=En.count;Pn--;)En.glyphAt(Pn).x-=Rn;break}En&&(dn.isSoftWrapped=!0,dn=En,mn.push(dn),Zt=_t)}let wn=dn.glyphAt(dn.count);wn.glyphObj=an,wn.x=Tn+cn,wn.width=Ln,wn.charIndex=Dn,Sn===`
`&&(dn=new ct,mn.push(dn),cn=-(Tn+Ln+gt*mt)+bt)}),mn.forEach(an=>{for(let Tn=an.count;Tn--;){let{glyphObj:Dn,x:Sn,width:Ln}=an.glyphAt(Tn);if(!Dn.isWhitespace){an.width=Sn+Ln,an.width>Zt&&(Zt=an.width);return}}});let bn=0,Cn=0;if(Mt&&(typeof Mt=="number"?bn=-Mt:typeof Mt=="string"&&(bn=-Zt*(Mt==="left"?0:Mt==="center"?.5:Mt==="right"?1:at(Mt)))),Tt){if(typeof Tt=="number")Cn=-Tt;else if(typeof Tt=="string"){let an=mn.length*yt;Cn=Tt==="top"?0:Tt==="top-baseline"?-un:Tt==="middle"?an/2:Tt==="bottom"?an:Tt==="bottom-baseline"?an-rn+vn*hn:at(Tt)*an}}if(!Dt){const an=g.getEmbeddingLevels(ht,vt);It=new Uint16Array(Wt),Ut=new Float32Array(Wt*2),Gt={},Qt=[et,et,-et,-et],ln=[];let Tn=un;Lt&&(Yt=new Float32Array(ht.length*3)),Rt&&(jt=new Uint8Array(Wt*3));let Dn=0,Sn=-1,Ln=-1,nn,En;if(mn.forEach((wn,In)=>{let{count:Rn,width:Pn}=wn;if(Rn>0){let Gn=0;for(let cr=Rn;cr--&&wn.glyphAt(cr).glyphObj.isWhitespace;)Gn++;let zn=0,ar=0;if(At==="center")zn=(Zt-Pn)/2;else if(At==="right")zn=Zt-Pn;else if(At==="justify"&&wn.isSoftWrapped){let cr=0;for(let tr=Rn-Gn;tr--;)wn.glyphAt(tr).glyphObj.isWhitespace&&cr++;ar=(Zt-Pn)/cr}if(ar||zn){let cr=0;for(let tr=0;tr<Rn;tr++){let Zn=wn.glyphAt(tr);const Mn=Zn.glyphObj;Zn.x+=zn+cr,ar!==0&&Mn.isWhitespace&&tr<Rn-Gn&&(cr+=ar,Zn.width+=ar)}}const ir=g.getReorderSegments(ht,an,wn.glyphAt(0).charIndex,wn.glyphAt(wn.count-1).charIndex);for(let cr=0;cr<ir.length;cr++){const[tr,Zn]=ir[cr];let Mn=1/0,On=-1/0;for(let Un=0;Un<Rn;Un++)if(wn.glyphAt(Un).charIndex>=tr){let $n=Un,sr=Un;for(;sr<Rn;sr++){let $t=wn.glyphAt(sr);if($t.charIndex>Zn)break;sr<Rn-Gn&&(Mn=Math.min(Mn,$t.x),On=Math.max(On,$t.x+$t.width))}for(let $t=$n;$t<sr;$t++){const pn=wn.glyphAt($t);pn.x=On-(pn.x+pn.width-Mn)}break}}let rr;const mr=cr=>rr=cr;for(let cr=0;cr<Rn;cr++){let tr=wn.glyphAt(cr);rr=tr.glyphObj;const Zn=rr.index,Mn=an.levels[tr.charIndex]&1;if(Mn){const On=g.getMirroredCharacter(ht[tr.charIndex]);On&&zt.forEachGlyph(On,0,0,mr)}if(Lt){const{charIndex:On}=tr,Un=tr.x+bn,$n=tr.x+tr.width+bn;Yt[On*3]=Mn?$n:Un,Yt[On*3+1]=Mn?Un:$n,Yt[On*3+2]=Tn+Vt+Cn;const sr=On-Sn;sr>1&&lt(Yt,Sn,sr),Sn=On}if(Rt){const{charIndex:On}=tr;for(;On>Ln;)Ln++,Rt.hasOwnProperty(Ln)&&(En=Rt[Ln])}if(!rr.isWhitespace&&!rr.isEmpty){const On=Dn++;Gt[Zn]||(Gt[Zn]={path:rr.path,pathBounds:[rr.xMin,rr.yMin,rr.xMax,rr.yMax]});const Un=tr.x+bn,$n=Tn+Cn;Ut[On*2]=Un,Ut[On*2+1]=$n;const sr=Un+rr.xMin*hn,$t=$n+rr.yMin*hn,pn=Un+rr.xMax*hn,yn=$n+rr.yMax*hn;sr<Qt[0]&&(Qt[0]=sr),$t<Qt[1]&&(Qt[1]=$t),pn>Qt[2]&&(Qt[2]=pn),yn>Qt[3]&&(Qt[3]=yn),On%Ot===0&&(nn={start:On,end:On,rect:[et,et,-et,-et]},ln.push(nn)),nn.end++;const _n=nn.rect;if(sr<_n[0]&&(_n[0]=sr),$t<_n[1]&&(_n[1]=$t),pn>_n[2]&&(_n[2]=pn),yn>_n[3]&&(_n[3]=yn),It[On]=Zn,Rt){const xn=On*3;jt[xn]=En>>16&255,jt[xn+1]=En>>8&255,jt[xn+2]=En&255}}}}Tn-=yt}),Yt){const wn=ht.length-Sn;wn>1&&lt(Yt,Sn,wn)}}kt.typesetting=ut()-en,Ct({glyphIds:It,glyphPositions:Ut,glyphData:Gt,caretPositions:Yt,caretHeight:Nt,glyphColors:jt,chunkedBounds:ln,fontSize:mt,unitsPerEm:gn,ascender:Xt*hn,descender:vn*hn,lineHeight:yt,topBaseline:un,blockBounds:[bn,Cn-mn.length*yt,bn+Zt,Cn],visibleBounds:Qt,timings:kt})})}function st(ht,dt){ot(ht,pt=>{const[mt,gt,yt,_t]=pt.blockBounds;dt({width:yt-mt,height:_t-gt})},{metricsOnly:!0})}function at(ht){let dt=ht.match(/^([\d.]+)%$/),pt=dt?parseFloat(dt[1]):NaN;return isNaN(pt)?0:pt/100}function lt(ht,dt,pt){const mt=ht[dt*3],gt=ht[dt*3+1],yt=ht[dt*3+2],_t=(gt-mt)/pt;for(let vt=0;vt<pt;vt++){const At=(dt+vt)*3;ht[At]=mt+_t*vt,ht[At+1]=mt+_t*(vt+1),ht[At+2]=yt}}function ut(){return(self.performance||Date).now()}function ct(){this.data=[]}const ft=["glyphObj","x","width","charIndex"];return ct.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/ft.length)},glyphAt(ht){let dt=ct.flyweight;return dt.data=this.data,dt.index=ht,dt},splitAt(ht){let dt=new ct;return dt.data=this.data.splice(ht*ft.length),dt}},ct.flyweight=ft.reduce((ht,dt,pt,mt)=>(Object.defineProperty(ht,dt,{get(){return this.data[this.index*ft.length+pt]},set(gt){this.data[this.index*ft.length+pt]=gt}}),ht),{data:null,index:0}),{typeset:ot,measure:st,loadFont:it}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(j,g,b,$,_e,et,tt,nt,rt,it,ot=!0){return ot?generateSDF_GL(j,g,b,$,_e,et,tt,nt,rt,it).then(null,st=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",st),warned=!0),generateSDF_JS_Worker(j,g,b,$,_e,et,tt,nt,rt,it))):generateSDF_JS_Worker(j,g,b,$,_e,et,tt,nt,rt,it)}const generateSDF_GL=function(){const j=[];let b=0;function $(){const _e=now();for(;j.length&&now()-_e<5;)j.shift()();b=j.length?setTimeout($,0):0}return(..._e)=>{const et=DefaultThenable();return j.push(()=>{const tt=now();try{mainThreadGenerator.webgl.generateIntoCanvas(..._e),et.resolve({timing:now()-tt})}catch(nt){et.reject(nt)}}),b||(b=setTimeout($,0)),et}}(),generateSDF_JS_Worker=function(){const b={};let $=0;return function(_e,et,tt,nt,rt,it,ot,st,at,lt){const ut="TroikaTextSDFGenerator_JS_"+$++%4;let ct=b[ut];return ct||(ct=b[ut]={workerModule:defineWorkerModule({name:ut,workerId:ut,dependencies:[SDFGenerator,now],init(ft,ht){const dt=ft().javascript.generate;return function(...pt){const mt=ht();return{textureData:dt(...pt),timing:ht()-mt}}},getTransferables(ft){return[ft.textureData.buffer]}}),requests:0,idleTimer:null}),ct.requests++,clearTimeout(ct.idleTimer),ct.workerModule(_e,et,tt,nt,rt,it).then(({textureData:ft,timing:ht})=>{const dt=now(),pt=new Uint8Array(ft.length*4);for(let mt=0;mt<ft.length;mt++)pt[mt*4+lt]=ft[mt];return mainThreadGenerator.webglUtils.renderImageData(ot,pt,st,at,_e,et,1<<3-lt),ht+=now()-dt,--ct.requests===0&&(ct.idleTimer=setTimeout(()=>{terminateWorker(ut)},2e3)),{timing:ht}})}}();function warmUpSDFCanvas(j){j._warm||(mainThreadGenerator.webgl.isSupported(j),j._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window=="undefined"&&(self.window=self),function(j){var g={parse:function(_e){var et=g._bin,tt=new Uint8Array(_e);if(et.readASCII(tt,0,4)=="ttcf"){var nt=4;et.readUshort(tt,nt),nt+=2,et.readUshort(tt,nt),nt+=2;var rt=et.readUint(tt,nt);nt+=4;for(var it=[],ot=0;ot<rt;ot++){var st=et.readUint(tt,nt);nt+=4,it.push(g._readFont(tt,st))}return it}return[g._readFont(tt,0)]},_readFont:function(_e,et){var tt=g._bin,nt=et;tt.readFixed(_e,et),et+=4;var rt=tt.readUshort(_e,et);et+=2,tt.readUshort(_e,et),et+=2,tt.readUshort(_e,et),et+=2,tt.readUshort(_e,et),et+=2;for(var it=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],ot={_data:_e,_offset:nt},st={},at=0;at<rt;at++){var lt=tt.readASCII(_e,et,4);et+=4,tt.readUint(_e,et),et+=4;var ut=tt.readUint(_e,et);et+=4;var ct=tt.readUint(_e,et);et+=4,st[lt]={offset:ut,length:ct}}for(at=0;at<it.length;at++){var ft=it[at];st[ft]&&(ot[ft.trim()]=g[ft.trim()].parse(_e,st[ft].offset,st[ft].length,ot))}return ot},_tabOffset:function(_e,et,tt){for(var nt=g._bin,rt=nt.readUshort(_e,tt+4),it=tt+12,ot=0;ot<rt;ot++){var st=nt.readASCII(_e,it,4);it+=4,nt.readUint(_e,it),it+=4;var at=nt.readUint(_e,it);if(it+=4,nt.readUint(_e,it),it+=4,st==et)return at}return 0}};g._bin={readFixed:function(_e,et){return(_e[et]<<8|_e[et+1])+(_e[et+2]<<8|_e[et+3])/65540},readF2dot14:function(_e,et){return g._bin.readShort(_e,et)/16384},readInt:function(_e,et){return g._bin._view(_e).getInt32(et)},readInt8:function(_e,et){return g._bin._view(_e).getInt8(et)},readShort:function(_e,et){return g._bin._view(_e).getInt16(et)},readUshort:function(_e,et){return g._bin._view(_e).getUint16(et)},readUshorts:function(_e,et,tt){for(var nt=[],rt=0;rt<tt;rt++)nt.push(g._bin.readUshort(_e,et+2*rt));return nt},readUint:function(_e,et){return g._bin._view(_e).getUint32(et)},readUint64:function(_e,et){return 4294967296*g._bin.readUint(_e,et)+g._bin.readUint(_e,et+4)},readASCII:function(_e,et,tt){for(var nt="",rt=0;rt<tt;rt++)nt+=String.fromCharCode(_e[et+rt]);return nt},readUnicode:function(_e,et,tt){for(var nt="",rt=0;rt<tt;rt++){var it=_e[et++]<<8|_e[et++];nt+=String.fromCharCode(it)}return nt},_tdec:typeof window!="undefined"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(_e,et,tt){var nt=g._bin._tdec;return nt&&et==0&&tt==_e.length?nt.decode(_e):g._bin.readASCII(_e,et,tt)},readBytes:function(_e,et,tt){for(var nt=[],rt=0;rt<tt;rt++)nt.push(_e[et+rt]);return nt},readASCIIArray:function(_e,et,tt){for(var nt=[],rt=0;rt<tt;rt++)nt.push(String.fromCharCode(_e[et+rt]));return nt},_view:function(_e){return _e._dataView||(_e._dataView=_e.buffer?new DataView(_e.buffer,_e.byteOffset,_e.byteLength):new DataView(new Uint8Array(_e).buffer))}},g._lctf={},g._lctf.parse=function(_e,et,tt,nt,rt){var it=g._bin,ot={},st=et;it.readFixed(_e,et),et+=4;var at=it.readUshort(_e,et);et+=2;var lt=it.readUshort(_e,et);et+=2;var ut=it.readUshort(_e,et);return et+=2,ot.scriptList=g._lctf.readScriptList(_e,st+at),ot.featureList=g._lctf.readFeatureList(_e,st+lt),ot.lookupList=g._lctf.readLookupList(_e,st+ut,rt),ot},g._lctf.readLookupList=function(_e,et,tt){var nt=g._bin,rt=et,it=[],ot=nt.readUshort(_e,et);et+=2;for(var st=0;st<ot;st++){var at=nt.readUshort(_e,et);et+=2;var lt=g._lctf.readLookupTable(_e,rt+at,tt);it.push(lt)}return it},g._lctf.readLookupTable=function(_e,et,tt){var nt=g._bin,rt=et,it={tabs:[]};it.ltype=nt.readUshort(_e,et),et+=2,it.flag=nt.readUshort(_e,et),et+=2;var ot=nt.readUshort(_e,et);et+=2;for(var st=it.ltype,at=0;at<ot;at++){var lt=nt.readUshort(_e,et);et+=2;var ut=tt(_e,st,rt+lt,it);it.tabs.push(ut)}return it},g._lctf.numOfOnes=function(_e){for(var et=0,tt=0;tt<32;tt++)(_e>>>tt&1)!=0&&et++;return et},g._lctf.readClassDef=function(_e,et){var tt=g._bin,nt=[],rt=tt.readUshort(_e,et);if(et+=2,rt==1){var it=tt.readUshort(_e,et);et+=2;var ot=tt.readUshort(_e,et);et+=2;for(var st=0;st<ot;st++)nt.push(it+st),nt.push(it+st),nt.push(tt.readUshort(_e,et)),et+=2}if(rt==2){var at=tt.readUshort(_e,et);for(et+=2,st=0;st<at;st++)nt.push(tt.readUshort(_e,et)),et+=2,nt.push(tt.readUshort(_e,et)),et+=2,nt.push(tt.readUshort(_e,et)),et+=2}return nt},g._lctf.getInterval=function(_e,et){for(var tt=0;tt<_e.length;tt+=3){var nt=_e[tt],rt=_e[tt+1];if(_e[tt+2],nt<=et&&et<=rt)return tt}return-1},g._lctf.readCoverage=function(_e,et){var tt=g._bin,nt={};nt.fmt=tt.readUshort(_e,et),et+=2;var rt=tt.readUshort(_e,et);return et+=2,nt.fmt==1&&(nt.tab=tt.readUshorts(_e,et,rt)),nt.fmt==2&&(nt.tab=tt.readUshorts(_e,et,3*rt)),nt},g._lctf.coverageIndex=function(_e,et){var tt=_e.tab;if(_e.fmt==1)return tt.indexOf(et);if(_e.fmt==2){var nt=g._lctf.getInterval(tt,et);if(nt!=-1)return tt[nt+2]+(et-tt[nt])}return-1},g._lctf.readFeatureList=function(_e,et){var tt=g._bin,nt=et,rt=[],it=tt.readUshort(_e,et);et+=2;for(var ot=0;ot<it;ot++){var st=tt.readASCII(_e,et,4);et+=4;var at=tt.readUshort(_e,et);et+=2;var lt=g._lctf.readFeatureTable(_e,nt+at);lt.tag=st.trim(),rt.push(lt)}return rt},g._lctf.readFeatureTable=function(_e,et){var tt=g._bin,nt=et,rt={},it=tt.readUshort(_e,et);et+=2,it>0&&(rt.featureParams=nt+it);var ot=tt.readUshort(_e,et);et+=2,rt.tab=[];for(var st=0;st<ot;st++)rt.tab.push(tt.readUshort(_e,et+2*st));return rt},g._lctf.readScriptList=function(_e,et){var tt=g._bin,nt=et,rt={},it=tt.readUshort(_e,et);et+=2;for(var ot=0;ot<it;ot++){var st=tt.readASCII(_e,et,4);et+=4;var at=tt.readUshort(_e,et);et+=2,rt[st.trim()]=g._lctf.readScriptTable(_e,nt+at)}return rt},g._lctf.readScriptTable=function(_e,et){var tt=g._bin,nt=et,rt={},it=tt.readUshort(_e,et);et+=2,rt.default=g._lctf.readLangSysTable(_e,nt+it);var ot=tt.readUshort(_e,et);et+=2;for(var st=0;st<ot;st++){var at=tt.readASCII(_e,et,4);et+=4;var lt=tt.readUshort(_e,et);et+=2,rt[at.trim()]=g._lctf.readLangSysTable(_e,nt+lt)}return rt},g._lctf.readLangSysTable=function(_e,et){var tt=g._bin,nt={};tt.readUshort(_e,et),et+=2,nt.reqFeature=tt.readUshort(_e,et),et+=2;var rt=tt.readUshort(_e,et);return et+=2,nt.features=tt.readUshorts(_e,et,rt),nt},g.CFF={},g.CFF.parse=function(_e,et,tt){var nt=g._bin;(_e=new Uint8Array(_e.buffer,et,tt))[et=0],_e[++et],_e[++et],_e[++et],et++;var rt=[];et=g.CFF.readIndex(_e,et,rt);for(var it=[],ot=0;ot<rt.length-1;ot++)it.push(nt.readASCII(_e,et+rt[ot],rt[ot+1]-rt[ot]));et+=rt[rt.length-1];var st=[];et=g.CFF.readIndex(_e,et,st);var at=[];for(ot=0;ot<st.length-1;ot++)at.push(g.CFF.readDict(_e,et+st[ot],et+st[ot+1]));et+=st[st.length-1];var lt=at[0],ut=[];et=g.CFF.readIndex(_e,et,ut);var ct=[];for(ot=0;ot<ut.length-1;ot++)ct.push(nt.readASCII(_e,et+ut[ot],ut[ot+1]-ut[ot]));if(et+=ut[ut.length-1],g.CFF.readSubrs(_e,et,lt),lt.CharStrings){et=lt.CharStrings,ut=[],et=g.CFF.readIndex(_e,et,ut);var ft=[];for(ot=0;ot<ut.length-1;ot++)ft.push(nt.readBytes(_e,et+ut[ot],ut[ot+1]-ut[ot]));lt.CharStrings=ft}if(lt.ROS){et=lt.FDArray;var ht=[];for(et=g.CFF.readIndex(_e,et,ht),lt.FDArray=[],ot=0;ot<ht.length-1;ot++){var dt=g.CFF.readDict(_e,et+ht[ot],et+ht[ot+1]);g.CFF._readFDict(_e,dt,ct),lt.FDArray.push(dt)}et+=ht[ht.length-1],et=lt.FDSelect,lt.FDSelect=[];var pt=_e[et];if(et++,pt!=3)throw pt;var mt=nt.readUshort(_e,et);for(et+=2,ot=0;ot<mt+1;ot++)lt.FDSelect.push(nt.readUshort(_e,et),_e[et+2]),et+=3}return lt.Encoding&&(lt.Encoding=g.CFF.readEncoding(_e,lt.Encoding,lt.CharStrings.length)),lt.charset&&(lt.charset=g.CFF.readCharset(_e,lt.charset,lt.CharStrings.length)),g.CFF._readFDict(_e,lt,ct),lt},g.CFF._readFDict=function(_e,et,tt){var nt;for(var rt in et.Private&&(nt=et.Private[1],et.Private=g.CFF.readDict(_e,nt,nt+et.Private[0]),et.Private.Subrs&&g.CFF.readSubrs(_e,nt+et.Private.Subrs,et.Private)),et)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(rt)!=-1&&(et[rt]=tt[et[rt]-426+35])},g.CFF.readSubrs=function(_e,et,tt){var nt=g._bin,rt=[];et=g.CFF.readIndex(_e,et,rt);var it,ot=rt.length;it=ot<1240?107:ot<33900?1131:32768,tt.Bias=it,tt.Subrs=[];for(var st=0;st<rt.length-1;st++)tt.Subrs.push(nt.readBytes(_e,et+rt[st],rt[st+1]-rt[st]))},g.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],g.CFF.glyphByUnicode=function(_e,et){for(var tt=0;tt<_e.charset.length;tt++)if(_e.charset[tt]==et)return tt;return-1},g.CFF.glyphBySE=function(_e,et){return et<0||et>255?-1:g.CFF.glyphByUnicode(_e,g.CFF.tableSE[et])},g.CFF.readEncoding=function(_e,et,tt){g._bin;var nt=[".notdef"],rt=_e[et];if(et++,rt!=0)throw"error: unknown encoding format: "+rt;var it=_e[et];et++;for(var ot=0;ot<it;ot++)nt.push(_e[et+ot]);return nt},g.CFF.readCharset=function(_e,et,tt){var nt=g._bin,rt=[".notdef"],it=_e[et];if(et++,it==0)for(var ot=0;ot<tt;ot++){var st=nt.readUshort(_e,et);et+=2,rt.push(st)}else{if(it!=1&&it!=2)throw"error: format: "+it;for(;rt.length<tt;){st=nt.readUshort(_e,et),et+=2;var at=0;for(it==1?(at=_e[et],et++):(at=nt.readUshort(_e,et),et+=2),ot=0;ot<=at;ot++)rt.push(st),st++}}return rt},g.CFF.readIndex=function(_e,et,tt){var nt=g._bin,rt=nt.readUshort(_e,et)+1,it=_e[et+=2];if(et++,it==1)for(var ot=0;ot<rt;ot++)tt.push(_e[et+ot]);else if(it==2)for(ot=0;ot<rt;ot++)tt.push(nt.readUshort(_e,et+2*ot));else if(it==3)for(ot=0;ot<rt;ot++)tt.push(16777215&nt.readUint(_e,et+3*ot-1));else if(rt!=1)throw"unsupported offset size: "+it+", count: "+rt;return(et+=rt*it)-1},g.CFF.getCharString=function(_e,et,tt){var nt=g._bin,rt=_e[et],it=_e[et+1];_e[et+2],_e[et+3],_e[et+4];var ot=1,st=null,at=null;rt<=20&&(st=rt,ot=1),rt==12&&(st=100*rt+it,ot=2),21<=rt&&rt<=27&&(st=rt,ot=1),rt==28&&(at=nt.readShort(_e,et+1),ot=3),29<=rt&&rt<=31&&(st=rt,ot=1),32<=rt&&rt<=246&&(at=rt-139,ot=1),247<=rt&&rt<=250&&(at=256*(rt-247)+it+108,ot=2),251<=rt&&rt<=254&&(at=256*-(rt-251)-it-108,ot=2),rt==255&&(at=nt.readInt(_e,et+1)/65535,ot=5),tt.val=at!=null?at:"o"+st,tt.size=ot},g.CFF.readCharString=function(_e,et,tt){for(var nt=et+tt,rt=g._bin,it=[];et<nt;){var ot=_e[et],st=_e[et+1];_e[et+2],_e[et+3],_e[et+4];var at=1,lt=null,ut=null;ot<=20&&(lt=ot,at=1),ot==12&&(lt=100*ot+st,at=2),ot!=19&&ot!=20||(lt=ot,at=2),21<=ot&&ot<=27&&(lt=ot,at=1),ot==28&&(ut=rt.readShort(_e,et+1),at=3),29<=ot&&ot<=31&&(lt=ot,at=1),32<=ot&&ot<=246&&(ut=ot-139,at=1),247<=ot&&ot<=250&&(ut=256*(ot-247)+st+108,at=2),251<=ot&&ot<=254&&(ut=256*-(ot-251)-st-108,at=2),ot==255&&(ut=rt.readInt(_e,et+1)/65535,at=5),it.push(ut!=null?ut:"o"+lt),et+=at}return it},g.CFF.readDict=function(_e,et,tt){for(var nt=g._bin,rt={},it=[];et<tt;){var ot=_e[et],st=_e[et+1];_e[et+2],_e[et+3],_e[et+4];var at=1,lt=null,ut=null;if(ot==28&&(ut=nt.readShort(_e,et+1),at=3),ot==29&&(ut=nt.readInt(_e,et+1),at=5),32<=ot&&ot<=246&&(ut=ot-139,at=1),247<=ot&&ot<=250&&(ut=256*(ot-247)+st+108,at=2),251<=ot&&ot<=254&&(ut=256*-(ot-251)-st-108,at=2),ot==255)throw ut=nt.readInt(_e,et+1)/65535,at=5,"unknown number";if(ot==30){var ct=[];for(at=1;;){var ft=_e[et+at];at++;var ht=ft>>4,dt=15&ft;if(ht!=15&&ct.push(ht),dt!=15&&ct.push(dt),dt==15)break}for(var pt="",mt=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],gt=0;gt<ct.length;gt++)pt+=mt[ct[gt]];ut=parseFloat(pt)}ot<=21&&(lt=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][ot],at=1,ot==12&&(lt=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][st],at=2)),lt!=null?(rt[lt]=it.length==1?it[0]:it,it=[]):it.push(ut),et+=at}return rt},g.cmap={},g.cmap.parse=function(_e,et,tt){_e=new Uint8Array(_e.buffer,et,tt),et=0;var nt=g._bin,rt={};nt.readUshort(_e,et),et+=2;var it=nt.readUshort(_e,et);et+=2;var ot=[];rt.tables=[];for(var st=0;st<it;st++){var at=nt.readUshort(_e,et);et+=2;var lt=nt.readUshort(_e,et);et+=2;var ut=nt.readUint(_e,et);et+=4;var ct="p"+at+"e"+lt,ft=ot.indexOf(ut);if(ft==-1){var ht;ft=rt.tables.length,ot.push(ut);var dt=nt.readUshort(_e,ut);dt==0?ht=g.cmap.parse0(_e,ut):dt==4?ht=g.cmap.parse4(_e,ut):dt==6?ht=g.cmap.parse6(_e,ut):dt==12?ht=g.cmap.parse12(_e,ut):console.debug("unknown format: "+dt,at,lt,ut),rt.tables.push(ht)}if(rt[ct]!=null)throw"multiple tables for one platform+encoding";rt[ct]=ft}return rt},g.cmap.parse0=function(_e,et){var tt=g._bin,nt={};nt.format=tt.readUshort(_e,et),et+=2;var rt=tt.readUshort(_e,et);et+=2,tt.readUshort(_e,et),et+=2,nt.map=[];for(var it=0;it<rt-6;it++)nt.map.push(_e[et+it]);return nt},g.cmap.parse4=function(_e,et){var tt=g._bin,nt=et,rt={};rt.format=tt.readUshort(_e,et),et+=2;var it=tt.readUshort(_e,et);et+=2,tt.readUshort(_e,et),et+=2;var ot=tt.readUshort(_e,et);et+=2;var st=ot/2;rt.searchRange=tt.readUshort(_e,et),et+=2,rt.entrySelector=tt.readUshort(_e,et),et+=2,rt.rangeShift=tt.readUshort(_e,et),et+=2,rt.endCount=tt.readUshorts(_e,et,st),et+=2*st,et+=2,rt.startCount=tt.readUshorts(_e,et,st),et+=2*st,rt.idDelta=[];for(var at=0;at<st;at++)rt.idDelta.push(tt.readShort(_e,et)),et+=2;for(rt.idRangeOffset=tt.readUshorts(_e,et,st),et+=2*st,rt.glyphIdArray=[];et<nt+it;)rt.glyphIdArray.push(tt.readUshort(_e,et)),et+=2;return rt},g.cmap.parse6=function(_e,et){var tt=g._bin,nt={};nt.format=tt.readUshort(_e,et),et+=2,tt.readUshort(_e,et),et+=2,tt.readUshort(_e,et),et+=2,nt.firstCode=tt.readUshort(_e,et),et+=2;var rt=tt.readUshort(_e,et);et+=2,nt.glyphIdArray=[];for(var it=0;it<rt;it++)nt.glyphIdArray.push(tt.readUshort(_e,et)),et+=2;return nt},g.cmap.parse12=function(_e,et){var tt=g._bin,nt={};nt.format=tt.readUshort(_e,et),et+=2,et+=2,tt.readUint(_e,et),et+=4,tt.readUint(_e,et),et+=4;var rt=tt.readUint(_e,et);et+=4,nt.groups=[];for(var it=0;it<rt;it++){var ot=et+12*it,st=tt.readUint(_e,ot+0),at=tt.readUint(_e,ot+4),lt=tt.readUint(_e,ot+8);nt.groups.push([st,at,lt])}return nt},g.glyf={},g.glyf.parse=function(_e,et,tt,nt){for(var rt=[],it=0;it<nt.maxp.numGlyphs;it++)rt.push(null);return rt},g.glyf._parseGlyf=function(_e,et){var tt=g._bin,nt=_e._data,rt=g._tabOffset(nt,"glyf",_e._offset)+_e.loca[et];if(_e.loca[et]==_e.loca[et+1])return null;var it={};if(it.noc=tt.readShort(nt,rt),rt+=2,it.xMin=tt.readShort(nt,rt),rt+=2,it.yMin=tt.readShort(nt,rt),rt+=2,it.xMax=tt.readShort(nt,rt),rt+=2,it.yMax=tt.readShort(nt,rt),rt+=2,it.xMin>=it.xMax||it.yMin>=it.yMax)return null;if(it.noc>0){it.endPts=[];for(var ot=0;ot<it.noc;ot++)it.endPts.push(tt.readUshort(nt,rt)),rt+=2;var st=tt.readUshort(nt,rt);if(rt+=2,nt.length-rt<st)return null;it.instructions=tt.readBytes(nt,rt,st),rt+=st;var at=it.endPts[it.noc-1]+1;for(it.flags=[],ot=0;ot<at;ot++){var lt=nt[rt];if(rt++,it.flags.push(lt),(8&lt)!=0){var ut=nt[rt];rt++;for(var ct=0;ct<ut;ct++)it.flags.push(lt),ot++}}for(it.xs=[],ot=0;ot<at;ot++){var ft=(2&it.flags[ot])!=0,ht=(16&it.flags[ot])!=0;ft?(it.xs.push(ht?nt[rt]:-nt[rt]),rt++):ht?it.xs.push(0):(it.xs.push(tt.readShort(nt,rt)),rt+=2)}for(it.ys=[],ot=0;ot<at;ot++)ft=(4&it.flags[ot])!=0,ht=(32&it.flags[ot])!=0,ft?(it.ys.push(ht?nt[rt]:-nt[rt]),rt++):ht?it.ys.push(0):(it.ys.push(tt.readShort(nt,rt)),rt+=2);var dt=0,pt=0;for(ot=0;ot<at;ot++)dt+=it.xs[ot],pt+=it.ys[ot],it.xs[ot]=dt,it.ys[ot]=pt}else{var mt;it.parts=[];do{mt=tt.readUshort(nt,rt),rt+=2;var gt={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(it.parts.push(gt),gt.glyphIndex=tt.readUshort(nt,rt),rt+=2,1&mt){var yt=tt.readShort(nt,rt);rt+=2;var _t=tt.readShort(nt,rt);rt+=2}else yt=tt.readInt8(nt,rt),rt++,_t=tt.readInt8(nt,rt),rt++;2&mt?(gt.m.tx=yt,gt.m.ty=_t):(gt.p1=yt,gt.p2=_t),8&mt?(gt.m.a=gt.m.d=tt.readF2dot14(nt,rt),rt+=2):64&mt?(gt.m.a=tt.readF2dot14(nt,rt),rt+=2,gt.m.d=tt.readF2dot14(nt,rt),rt+=2):128&mt&&(gt.m.a=tt.readF2dot14(nt,rt),rt+=2,gt.m.b=tt.readF2dot14(nt,rt),rt+=2,gt.m.c=tt.readF2dot14(nt,rt),rt+=2,gt.m.d=tt.readF2dot14(nt,rt),rt+=2)}while(32&mt);if(256&mt){var vt=tt.readUshort(nt,rt);for(rt+=2,it.instr=[],ot=0;ot<vt;ot++)it.instr.push(nt[rt]),rt++}}return it},g.GPOS={},g.GPOS.parse=function(_e,et,tt,nt){return g._lctf.parse(_e,et,tt,nt,g.GPOS.subt)},g.GPOS.subt=function(_e,et,tt,nt){var rt=g._bin,it=tt,ot={};if(ot.fmt=rt.readUshort(_e,tt),tt+=2,et==1||et==2||et==3||et==7||et==8&&ot.fmt<=2){var st=rt.readUshort(_e,tt);tt+=2,ot.coverage=g._lctf.readCoverage(_e,st+it)}if(et==1&&ot.fmt==1){var at=rt.readUshort(_e,tt);tt+=2;var lt=g._lctf.numOfOnes(at);at!=0&&(ot.pos=g.GPOS.readValueRecord(_e,tt,at))}else if(et==2&&ot.fmt>=1&&ot.fmt<=2){at=rt.readUshort(_e,tt),tt+=2;var ut=rt.readUshort(_e,tt);tt+=2,lt=g._lctf.numOfOnes(at);var ct=g._lctf.numOfOnes(ut);if(ot.fmt==1){ot.pairsets=[];var ft=rt.readUshort(_e,tt);tt+=2;for(var ht=0;ht<ft;ht++){var dt=it+rt.readUshort(_e,tt);tt+=2;var pt=rt.readUshort(_e,dt);dt+=2;for(var mt=[],gt=0;gt<pt;gt++){var yt=rt.readUshort(_e,dt);dt+=2,at!=0&&(Et=g.GPOS.readValueRecord(_e,dt,at),dt+=2*lt),ut!=0&&(Mt=g.GPOS.readValueRecord(_e,dt,ut),dt+=2*ct),mt.push({gid2:yt,val1:Et,val2:Mt})}ot.pairsets.push(mt)}}if(ot.fmt==2){var _t=rt.readUshort(_e,tt);tt+=2;var vt=rt.readUshort(_e,tt);tt+=2;var At=rt.readUshort(_e,tt);tt+=2;var bt=rt.readUshort(_e,tt);for(tt+=2,ot.classDef1=g._lctf.readClassDef(_e,it+_t),ot.classDef2=g._lctf.readClassDef(_e,it+vt),ot.matrix=[],ht=0;ht<At;ht++){var xt=[];for(gt=0;gt<bt;gt++){var Et=null,Mt=null;at!=0&&(Et=g.GPOS.readValueRecord(_e,tt,at),tt+=2*lt),ut!=0&&(Mt=g.GPOS.readValueRecord(_e,tt,ut),tt+=2*ct),xt.push({val1:Et,val2:Mt})}ot.matrix.push(xt)}}}else{if(et==9&&ot.fmt==1){var Tt=rt.readUshort(_e,tt);tt+=2;var Lt=rt.readUint(_e,tt);if(tt+=4,nt.ltype==9)nt.ltype=Tt;else if(nt.ltype!=Tt)throw"invalid extension substitution";return g.GPOS.subt(_e,nt.ltype,it+Lt)}console.debug("unsupported GPOS table LookupType",et,"format",ot.fmt)}return ot},g.GPOS.readValueRecord=function(_e,et,tt){var nt=g._bin,rt=[];return rt.push(1&tt?nt.readShort(_e,et):0),et+=1&tt?2:0,rt.push(2&tt?nt.readShort(_e,et):0),et+=2&tt?2:0,rt.push(4&tt?nt.readShort(_e,et):0),et+=4&tt?2:0,rt.push(8&tt?nt.readShort(_e,et):0),et+=8&tt?2:0,rt},g.GSUB={},g.GSUB.parse=function(_e,et,tt,nt){return g._lctf.parse(_e,et,tt,nt,g.GSUB.subt)},g.GSUB.subt=function(_e,et,tt,nt){var rt=g._bin,it=tt,ot={};if(ot.fmt=rt.readUshort(_e,tt),tt+=2,et!=1&&et!=4&&et!=5&&et!=6)return null;if(et==1||et==4||et==5&&ot.fmt<=2||et==6&&ot.fmt<=2){var st=rt.readUshort(_e,tt);tt+=2,ot.coverage=g._lctf.readCoverage(_e,it+st)}if(et==1&&ot.fmt>=1&&ot.fmt<=2){if(ot.fmt==1)ot.delta=rt.readShort(_e,tt),tt+=2;else if(ot.fmt==2){var at=rt.readUshort(_e,tt);tt+=2,ot.newg=rt.readUshorts(_e,tt,at),tt+=2*ot.newg.length}}else if(et==4){ot.vals=[],at=rt.readUshort(_e,tt),tt+=2;for(var lt=0;lt<at;lt++){var ut=rt.readUshort(_e,tt);tt+=2,ot.vals.push(g.GSUB.readLigatureSet(_e,it+ut))}}else if(et==5&&ot.fmt==2){if(ot.fmt==2){var ct=rt.readUshort(_e,tt);tt+=2,ot.cDef=g._lctf.readClassDef(_e,it+ct),ot.scset=[];var ft=rt.readUshort(_e,tt);for(tt+=2,lt=0;lt<ft;lt++){var ht=rt.readUshort(_e,tt);tt+=2,ot.scset.push(ht==0?null:g.GSUB.readSubClassSet(_e,it+ht))}}}else if(et==6&&ot.fmt==3){if(ot.fmt==3){for(lt=0;lt<3;lt++){at=rt.readUshort(_e,tt),tt+=2;for(var dt=[],pt=0;pt<at;pt++)dt.push(g._lctf.readCoverage(_e,it+rt.readUshort(_e,tt+2*pt)));tt+=2*at,lt==0&&(ot.backCvg=dt),lt==1&&(ot.inptCvg=dt),lt==2&&(ot.ahedCvg=dt)}at=rt.readUshort(_e,tt),tt+=2,ot.lookupRec=g.GSUB.readSubstLookupRecords(_e,tt,at)}}else{if(et==7&&ot.fmt==1){var mt=rt.readUshort(_e,tt);tt+=2;var gt=rt.readUint(_e,tt);if(tt+=4,nt.ltype==9)nt.ltype=mt;else if(nt.ltype!=mt)throw"invalid extension substitution";return g.GSUB.subt(_e,nt.ltype,it+gt)}console.debug("unsupported GSUB table LookupType",et,"format",ot.fmt)}return ot},g.GSUB.readSubClassSet=function(_e,et){var tt=g._bin.readUshort,nt=et,rt=[],it=tt(_e,et);et+=2;for(var ot=0;ot<it;ot++){var st=tt(_e,et);et+=2,rt.push(g.GSUB.readSubClassRule(_e,nt+st))}return rt},g.GSUB.readSubClassRule=function(_e,et){var tt=g._bin.readUshort,nt={},rt=tt(_e,et),it=tt(_e,et+=2);et+=2,nt.input=[];for(var ot=0;ot<rt-1;ot++)nt.input.push(tt(_e,et)),et+=2;return nt.substLookupRecords=g.GSUB.readSubstLookupRecords(_e,et,it),nt},g.GSUB.readSubstLookupRecords=function(_e,et,tt){for(var nt=g._bin.readUshort,rt=[],it=0;it<tt;it++)rt.push(nt(_e,et),nt(_e,et+2)),et+=4;return rt},g.GSUB.readChainSubClassSet=function(_e,et){var tt=g._bin,nt=et,rt=[],it=tt.readUshort(_e,et);et+=2;for(var ot=0;ot<it;ot++){var st=tt.readUshort(_e,et);et+=2,rt.push(g.GSUB.readChainSubClassRule(_e,nt+st))}return rt},g.GSUB.readChainSubClassRule=function(_e,et){for(var tt=g._bin,nt={},rt=["backtrack","input","lookahead"],it=0;it<rt.length;it++){var ot=tt.readUshort(_e,et);et+=2,it==1&&ot--,nt[rt[it]]=tt.readUshorts(_e,et,ot),et+=2*nt[rt[it]].length}return ot=tt.readUshort(_e,et),et+=2,nt.subst=tt.readUshorts(_e,et,2*ot),et+=2*nt.subst.length,nt},g.GSUB.readLigatureSet=function(_e,et){var tt=g._bin,nt=et,rt=[],it=tt.readUshort(_e,et);et+=2;for(var ot=0;ot<it;ot++){var st=tt.readUshort(_e,et);et+=2,rt.push(g.GSUB.readLigature(_e,nt+st))}return rt},g.GSUB.readLigature=function(_e,et){var tt=g._bin,nt={chain:[]};nt.nglyph=tt.readUshort(_e,et),et+=2;var rt=tt.readUshort(_e,et);et+=2;for(var it=0;it<rt-1;it++)nt.chain.push(tt.readUshort(_e,et)),et+=2;return nt},g.head={},g.head.parse=function(_e,et,tt){var nt=g._bin,rt={};return nt.readFixed(_e,et),et+=4,rt.fontRevision=nt.readFixed(_e,et),et+=4,nt.readUint(_e,et),et+=4,nt.readUint(_e,et),et+=4,rt.flags=nt.readUshort(_e,et),et+=2,rt.unitsPerEm=nt.readUshort(_e,et),et+=2,rt.created=nt.readUint64(_e,et),et+=8,rt.modified=nt.readUint64(_e,et),et+=8,rt.xMin=nt.readShort(_e,et),et+=2,rt.yMin=nt.readShort(_e,et),et+=2,rt.xMax=nt.readShort(_e,et),et+=2,rt.yMax=nt.readShort(_e,et),et+=2,rt.macStyle=nt.readUshort(_e,et),et+=2,rt.lowestRecPPEM=nt.readUshort(_e,et),et+=2,rt.fontDirectionHint=nt.readShort(_e,et),et+=2,rt.indexToLocFormat=nt.readShort(_e,et),et+=2,rt.glyphDataFormat=nt.readShort(_e,et),et+=2,rt},g.hhea={},g.hhea.parse=function(_e,et,tt){var nt=g._bin,rt={};return nt.readFixed(_e,et),et+=4,rt.ascender=nt.readShort(_e,et),et+=2,rt.descender=nt.readShort(_e,et),et+=2,rt.lineGap=nt.readShort(_e,et),et+=2,rt.advanceWidthMax=nt.readUshort(_e,et),et+=2,rt.minLeftSideBearing=nt.readShort(_e,et),et+=2,rt.minRightSideBearing=nt.readShort(_e,et),et+=2,rt.xMaxExtent=nt.readShort(_e,et),et+=2,rt.caretSlopeRise=nt.readShort(_e,et),et+=2,rt.caretSlopeRun=nt.readShort(_e,et),et+=2,rt.caretOffset=nt.readShort(_e,et),et+=2,et+=8,rt.metricDataFormat=nt.readShort(_e,et),et+=2,rt.numberOfHMetrics=nt.readUshort(_e,et),et+=2,rt},g.hmtx={},g.hmtx.parse=function(_e,et,tt,nt){for(var rt=g._bin,it={aWidth:[],lsBearing:[]},ot=0,st=0,at=0;at<nt.maxp.numGlyphs;at++)at<nt.hhea.numberOfHMetrics&&(ot=rt.readUshort(_e,et),et+=2,st=rt.readShort(_e,et),et+=2),it.aWidth.push(ot),it.lsBearing.push(st);return it},g.kern={},g.kern.parse=function(_e,et,tt,nt){var rt=g._bin,it=rt.readUshort(_e,et);if(et+=2,it==1)return g.kern.parseV1(_e,et-2,tt,nt);var ot=rt.readUshort(_e,et);et+=2;for(var st={glyph1:[],rval:[]},at=0;at<ot;at++){et+=2,tt=rt.readUshort(_e,et),et+=2;var lt=rt.readUshort(_e,et);et+=2;var ut=lt>>>8;if((ut&=15)!=0)throw"unknown kern table format: "+ut;et=g.kern.readFormat0(_e,et,st)}return st},g.kern.parseV1=function(_e,et,tt,nt){var rt=g._bin;rt.readFixed(_e,et),et+=4;var it=rt.readUint(_e,et);et+=4;for(var ot={glyph1:[],rval:[]},st=0;st<it;st++){rt.readUint(_e,et),et+=4;var at=rt.readUshort(_e,et);et+=2,rt.readUshort(_e,et),et+=2;var lt=at>>>8;if((lt&=15)!=0)throw"unknown kern table format: "+lt;et=g.kern.readFormat0(_e,et,ot)}return ot},g.kern.readFormat0=function(_e,et,tt){var nt=g._bin,rt=-1,it=nt.readUshort(_e,et);et+=2,nt.readUshort(_e,et),et+=2,nt.readUshort(_e,et),et+=2,nt.readUshort(_e,et),et+=2;for(var ot=0;ot<it;ot++){var st=nt.readUshort(_e,et);et+=2;var at=nt.readUshort(_e,et);et+=2;var lt=nt.readShort(_e,et);et+=2,st!=rt&&(tt.glyph1.push(st),tt.rval.push({glyph2:[],vals:[]}));var ut=tt.rval[tt.rval.length-1];ut.glyph2.push(at),ut.vals.push(lt),rt=st}return et},g.loca={},g.loca.parse=function(_e,et,tt,nt){var rt=g._bin,it=[],ot=nt.head.indexToLocFormat,st=nt.maxp.numGlyphs+1;if(ot==0)for(var at=0;at<st;at++)it.push(rt.readUshort(_e,et+(at<<1))<<1);if(ot==1)for(at=0;at<st;at++)it.push(rt.readUint(_e,et+(at<<2)));return it},g.maxp={},g.maxp.parse=function(_e,et,tt){var nt=g._bin,rt={},it=nt.readUint(_e,et);return et+=4,rt.numGlyphs=nt.readUshort(_e,et),et+=2,it==65536&&(rt.maxPoints=nt.readUshort(_e,et),et+=2,rt.maxContours=nt.readUshort(_e,et),et+=2,rt.maxCompositePoints=nt.readUshort(_e,et),et+=2,rt.maxCompositeContours=nt.readUshort(_e,et),et+=2,rt.maxZones=nt.readUshort(_e,et),et+=2,rt.maxTwilightPoints=nt.readUshort(_e,et),et+=2,rt.maxStorage=nt.readUshort(_e,et),et+=2,rt.maxFunctionDefs=nt.readUshort(_e,et),et+=2,rt.maxInstructionDefs=nt.readUshort(_e,et),et+=2,rt.maxStackElements=nt.readUshort(_e,et),et+=2,rt.maxSizeOfInstructions=nt.readUshort(_e,et),et+=2,rt.maxComponentElements=nt.readUshort(_e,et),et+=2,rt.maxComponentDepth=nt.readUshort(_e,et),et+=2),rt},g.name={},g.name.parse=function(_e,et,tt){var nt=g._bin,rt={};nt.readUshort(_e,et),et+=2;var it=nt.readUshort(_e,et);et+=2,nt.readUshort(_e,et);for(var ot,st=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],at=et+=2,lt=0;lt<it;lt++){var ut=nt.readUshort(_e,et);et+=2;var ct=nt.readUshort(_e,et);et+=2;var ft=nt.readUshort(_e,et);et+=2;var ht=nt.readUshort(_e,et);et+=2;var dt=nt.readUshort(_e,et);et+=2;var pt=nt.readUshort(_e,et);et+=2;var mt,gt=st[ht],yt=at+12*it+pt;if(ut==0)mt=nt.readUnicode(_e,yt,dt/2);else if(ut==3&&ct==0)mt=nt.readUnicode(_e,yt,dt/2);else if(ct==0)mt=nt.readASCII(_e,yt,dt);else if(ct==1)mt=nt.readUnicode(_e,yt,dt/2);else if(ct==3)mt=nt.readUnicode(_e,yt,dt/2);else{if(ut!=1)throw"unknown encoding "+ct+", platformID: "+ut;mt=nt.readASCII(_e,yt,dt),console.debug("reading unknown MAC encoding "+ct+" as ASCII")}var _t="p"+ut+","+ft.toString(16);rt[_t]==null&&(rt[_t]={}),rt[_t][gt!==void 0?gt:ht]=mt,rt[_t]._lang=ft}for(var vt in rt)if(rt[vt].postScriptName!=null&&rt[vt]._lang==1033)return rt[vt];for(var vt in rt)if(rt[vt].postScriptName!=null&&rt[vt]._lang==0)return rt[vt];for(var vt in rt)if(rt[vt].postScriptName!=null&&rt[vt]._lang==3084)return rt[vt];for(var vt in rt)if(rt[vt].postScriptName!=null)return rt[vt];for(var vt in rt){ot=vt;break}return console.debug("returning name table with languageID "+rt[ot]._lang),rt[ot]},g["OS/2"]={},g["OS/2"].parse=function(_e,et,tt){var nt=g._bin.readUshort(_e,et);et+=2;var rt={};if(nt==0)g["OS/2"].version0(_e,et,rt);else if(nt==1)g["OS/2"].version1(_e,et,rt);else if(nt==2||nt==3||nt==4)g["OS/2"].version2(_e,et,rt);else{if(nt!=5)throw"unknown OS/2 table version: "+nt;g["OS/2"].version5(_e,et,rt)}return rt},g["OS/2"].version0=function(_e,et,tt){var nt=g._bin;return tt.xAvgCharWidth=nt.readShort(_e,et),et+=2,tt.usWeightClass=nt.readUshort(_e,et),et+=2,tt.usWidthClass=nt.readUshort(_e,et),et+=2,tt.fsType=nt.readUshort(_e,et),et+=2,tt.ySubscriptXSize=nt.readShort(_e,et),et+=2,tt.ySubscriptYSize=nt.readShort(_e,et),et+=2,tt.ySubscriptXOffset=nt.readShort(_e,et),et+=2,tt.ySubscriptYOffset=nt.readShort(_e,et),et+=2,tt.ySuperscriptXSize=nt.readShort(_e,et),et+=2,tt.ySuperscriptYSize=nt.readShort(_e,et),et+=2,tt.ySuperscriptXOffset=nt.readShort(_e,et),et+=2,tt.ySuperscriptYOffset=nt.readShort(_e,et),et+=2,tt.yStrikeoutSize=nt.readShort(_e,et),et+=2,tt.yStrikeoutPosition=nt.readShort(_e,et),et+=2,tt.sFamilyClass=nt.readShort(_e,et),et+=2,tt.panose=nt.readBytes(_e,et,10),et+=10,tt.ulUnicodeRange1=nt.readUint(_e,et),et+=4,tt.ulUnicodeRange2=nt.readUint(_e,et),et+=4,tt.ulUnicodeRange3=nt.readUint(_e,et),et+=4,tt.ulUnicodeRange4=nt.readUint(_e,et),et+=4,tt.achVendID=[nt.readInt8(_e,et),nt.readInt8(_e,et+1),nt.readInt8(_e,et+2),nt.readInt8(_e,et+3)],et+=4,tt.fsSelection=nt.readUshort(_e,et),et+=2,tt.usFirstCharIndex=nt.readUshort(_e,et),et+=2,tt.usLastCharIndex=nt.readUshort(_e,et),et+=2,tt.sTypoAscender=nt.readShort(_e,et),et+=2,tt.sTypoDescender=nt.readShort(_e,et),et+=2,tt.sTypoLineGap=nt.readShort(_e,et),et+=2,tt.usWinAscent=nt.readUshort(_e,et),et+=2,tt.usWinDescent=nt.readUshort(_e,et),et+=2},g["OS/2"].version1=function(_e,et,tt){var nt=g._bin;return et=g["OS/2"].version0(_e,et,tt),tt.ulCodePageRange1=nt.readUint(_e,et),et+=4,tt.ulCodePageRange2=nt.readUint(_e,et),et+=4},g["OS/2"].version2=function(_e,et,tt){var nt=g._bin;return et=g["OS/2"].version1(_e,et,tt),tt.sxHeight=nt.readShort(_e,et),et+=2,tt.sCapHeight=nt.readShort(_e,et),et+=2,tt.usDefault=nt.readUshort(_e,et),et+=2,tt.usBreak=nt.readUshort(_e,et),et+=2,tt.usMaxContext=nt.readUshort(_e,et),et+=2},g["OS/2"].version5=function(_e,et,tt){var nt=g._bin;return et=g["OS/2"].version2(_e,et,tt),tt.usLowerOpticalPointSize=nt.readUshort(_e,et),et+=2,tt.usUpperOpticalPointSize=nt.readUshort(_e,et),et+=2},g.post={},g.post.parse=function(_e,et,tt){var nt=g._bin,rt={};return rt.version=nt.readFixed(_e,et),et+=4,rt.italicAngle=nt.readFixed(_e,et),et+=4,rt.underlinePosition=nt.readShort(_e,et),et+=2,rt.underlineThickness=nt.readShort(_e,et),et+=2,rt},g==null&&(g={}),g.U==null&&(g.U={}),g.U.codeToGlyph=function(_e,et){var tt=_e.cmap,nt=-1;if(tt.p0e4!=null?nt=tt.p0e4:tt.p3e1!=null?nt=tt.p3e1:tt.p1e0!=null?nt=tt.p1e0:tt.p0e3!=null&&(nt=tt.p0e3),nt==-1)throw"no familiar platform and encoding!";var rt=tt.tables[nt];if(rt.format==0)return et>=rt.map.length?0:rt.map[et];if(rt.format==4){for(var it=-1,ot=0;ot<rt.endCount.length;ot++)if(et<=rt.endCount[ot]){it=ot;break}return it==-1||rt.startCount[it]>et?0:65535&(rt.idRangeOffset[it]!=0?rt.glyphIdArray[et-rt.startCount[it]+(rt.idRangeOffset[it]>>1)-(rt.idRangeOffset.length-it)]:et+rt.idDelta[it])}if(rt.format==12){if(et>rt.groups[rt.groups.length-1][1])return 0;for(ot=0;ot<rt.groups.length;ot++){var st=rt.groups[ot];if(st[0]<=et&&et<=st[1])return st[2]+(et-st[0])}return 0}throw"unknown cmap table format "+rt.format},g.U.glyphToPath=function(_e,et){var tt={cmds:[],crds:[]};if(_e.SVG&&_e.SVG.entries[et]){var nt=_e.SVG.entries[et];return nt==null?tt:(typeof nt=="string"&&(nt=g.SVG.toPath(nt),_e.SVG.entries[et]=nt),nt)}if(_e.CFF){var rt={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:_e.CFF.Private?_e.CFF.Private.defaultWidthX:0,open:!1},it=_e.CFF,ot=_e.CFF.Private;if(it.ROS){for(var st=0;it.FDSelect[st+2]<=et;)st+=2;ot=it.FDArray[it.FDSelect[st+1]].Private}g.U._drawCFF(_e.CFF.CharStrings[et],rt,it,ot,tt)}else _e.glyf&&g.U._drawGlyf(et,_e,tt);return tt},g.U._drawGlyf=function(_e,et,tt){var nt=et.glyf[_e];nt==null&&(nt=et.glyf[_e]=g.glyf._parseGlyf(et,_e)),nt!=null&&(nt.noc>-1?g.U._simpleGlyph(nt,tt):g.U._compoGlyph(nt,et,tt))},g.U._simpleGlyph=function(_e,et){for(var tt=0;tt<_e.noc;tt++){for(var nt=tt==0?0:_e.endPts[tt-1]+1,rt=_e.endPts[tt],it=nt;it<=rt;it++){var ot=it==nt?rt:it-1,st=it==rt?nt:it+1,at=1&_e.flags[it],lt=1&_e.flags[ot],ut=1&_e.flags[st],ct=_e.xs[it],ft=_e.ys[it];if(it==nt)if(at){if(!lt){g.U.P.moveTo(et,ct,ft);continue}g.U.P.moveTo(et,_e.xs[ot],_e.ys[ot])}else lt?g.U.P.moveTo(et,_e.xs[ot],_e.ys[ot]):g.U.P.moveTo(et,(_e.xs[ot]+ct)/2,(_e.ys[ot]+ft)/2);at?lt&&g.U.P.lineTo(et,ct,ft):ut?g.U.P.qcurveTo(et,ct,ft,_e.xs[st],_e.ys[st]):g.U.P.qcurveTo(et,ct,ft,(ct+_e.xs[st])/2,(ft+_e.ys[st])/2)}g.U.P.closePath(et)}},g.U._compoGlyph=function(_e,et,tt){for(var nt=0;nt<_e.parts.length;nt++){var rt={cmds:[],crds:[]},it=_e.parts[nt];g.U._drawGlyf(it.glyphIndex,et,rt);for(var ot=it.m,st=0;st<rt.crds.length;st+=2){var at=rt.crds[st],lt=rt.crds[st+1];tt.crds.push(at*ot.a+lt*ot.b+ot.tx),tt.crds.push(at*ot.c+lt*ot.d+ot.ty)}for(st=0;st<rt.cmds.length;st++)tt.cmds.push(rt.cmds[st])}},g.U._getGlyphClass=function(_e,et){var tt=g._lctf.getInterval(et,_e);return tt==-1?0:et[tt+2]},g.U.getPairAdjustment=function(_e,et,tt){var nt=0,rt=!1;if(_e.GPOS)for(var it=_e.GPOS,ot=it.lookupList,st=it.featureList,at=[],lt=0;lt<st.length;lt++){var ut=st[lt];if(ut.tag=="kern"){rt=!0;for(var ct=0;ct<ut.tab.length;ct++)if(!at[ut.tab[ct]]){at[ut.tab[ct]]=!0;for(var ft=ot[ut.tab[ct]],ht=0;ht<ft.tabs.length;ht++)if(ft.tabs[ht]!=null){var dt,pt=ft.tabs[ht];if((!pt.coverage||(dt=g._lctf.coverageIndex(pt.coverage,et))!=-1)&&ft.ltype!=1){if(ft.ltype==2){var mt;if(pt.fmt==1){var gt=pt.pairsets[dt];for(lt=0;lt<gt.length;lt++)gt[lt].gid2==tt&&(mt=gt[lt])}else if(pt.fmt==2){var yt=g.U._getGlyphClass(et,pt.classDef1),_t=g.U._getGlyphClass(tt,pt.classDef2);mt=pt.matrix[yt][_t]}mt&&mt.val1&&mt.val1[2]&&(nt+=mt.val1[2]),mt&&mt.val2&&mt.val2[0]&&(nt+=mt.val2[0])}}}}}}if(_e.kern&&!rt){var vt=_e.kern.glyph1.indexOf(et);if(vt!=-1){var At=_e.kern.rval[vt].glyph2.indexOf(tt);At!=-1&&(nt+=_e.kern.rval[vt].vals[At])}}return nt},g.U._applySubs=function(_e,et,tt,nt){for(var rt=_e.length-et-1,it=0;it<tt.tabs.length;it++)if(tt.tabs[it]!=null){var ot,st=tt.tabs[it];if(!st.coverage||(ot=g._lctf.coverageIndex(st.coverage,_e[et]))!=-1){if(tt.ltype==1)_e[et],st.fmt==1?_e[et]=_e[et]+st.delta:_e[et]=st.newg[ot];else if(tt.ltype==4)for(var at=st.vals[ot],lt=0;lt<at.length;lt++){var ut=at[lt],ct=ut.chain.length;if(!(ct>rt)){for(var ft=!0,ht=0,dt=0;dt<ct;dt++){for(;_e[et+ht+(1+dt)]==-1;)ht++;ut.chain[dt]!=_e[et+ht+(1+dt)]&&(ft=!1)}if(ft){for(_e[et]=ut.nglyph,dt=0;dt<ct+ht;dt++)_e[et+dt+1]=-1;break}}}else if(tt.ltype==5&&st.fmt==2)for(var pt=g._lctf.getInterval(st.cDef,_e[et]),mt=st.cDef[pt+2],gt=st.scset[mt],yt=0;yt<gt.length;yt++){var _t=gt[yt],vt=_t.input;if(!(vt.length>rt)){for(ft=!0,dt=0;dt<vt.length;dt++){var At=g._lctf.getInterval(st.cDef,_e[et+1+dt]);if(pt==-1&&st.cDef[At+2]!=vt[dt]){ft=!1;break}}if(ft){var bt=_t.substLookupRecords;for(lt=0;lt<bt.length;lt+=2)bt[lt],bt[lt+1]}}}else if(tt.ltype==6&&st.fmt==3){if(!g.U._glsCovered(_e,st.backCvg,et-st.backCvg.length)||!g.U._glsCovered(_e,st.inptCvg,et)||!g.U._glsCovered(_e,st.ahedCvg,et+st.inptCvg.length))continue;var xt=st.lookupRec;for(yt=0;yt<xt.length;yt+=2){pt=xt[yt];var Et=nt[xt[yt+1]];g.U._applySubs(_e,et+pt,Et,nt)}}}}},g.U._glsCovered=function(_e,et,tt){for(var nt=0;nt<et.length;nt++)if(g._lctf.coverageIndex(et[nt],_e[tt+nt])==-1)return!1;return!0},g.U.glyphsToPath=function(_e,et,tt){for(var nt={cmds:[],crds:[]},rt=0,it=0;it<et.length;it++){var ot=et[it];if(ot!=-1){for(var st=it<et.length-1&&et[it+1]!=-1?et[it+1]:0,at=g.U.glyphToPath(_e,ot),lt=0;lt<at.crds.length;lt+=2)nt.crds.push(at.crds[lt]+rt),nt.crds.push(at.crds[lt+1]);for(tt&&nt.cmds.push(tt),lt=0;lt<at.cmds.length;lt++)nt.cmds.push(at.cmds[lt]);tt&&nt.cmds.push("X"),rt+=_e.hmtx.aWidth[ot],it<et.length-1&&(rt+=g.U.getPairAdjustment(_e,ot,st))}}return nt},g.U.P={},g.U.P.moveTo=function(_e,et,tt){_e.cmds.push("M"),_e.crds.push(et,tt)},g.U.P.lineTo=function(_e,et,tt){_e.cmds.push("L"),_e.crds.push(et,tt)},g.U.P.curveTo=function(_e,et,tt,nt,rt,it,ot){_e.cmds.push("C"),_e.crds.push(et,tt,nt,rt,it,ot)},g.U.P.qcurveTo=function(_e,et,tt,nt,rt){_e.cmds.push("Q"),_e.crds.push(et,tt,nt,rt)},g.U.P.closePath=function(_e){_e.cmds.push("Z")},g.U._drawCFF=function(_e,et,tt,nt,rt){for(var it=et.stack,ot=et.nStems,st=et.haveWidth,at=et.width,lt=et.open,ut=0,ct=et.x,ft=et.y,ht=0,dt=0,pt=0,mt=0,gt=0,yt=0,_t=0,vt=0,At=0,bt=0,xt={val:0,size:0};ut<_e.length;){g.CFF.getCharString(_e,ut,xt);var Et=xt.val;if(ut+=xt.size,Et=="o1"||Et=="o18")it.length%2!=0&&!st&&(at=it.shift()+nt.nominalWidthX),ot+=it.length>>1,it.length=0,st=!0;else if(Et=="o3"||Et=="o23")it.length%2!=0&&!st&&(at=it.shift()+nt.nominalWidthX),ot+=it.length>>1,it.length=0,st=!0;else if(Et=="o4")it.length>1&&!st&&(at=it.shift()+nt.nominalWidthX,st=!0),lt&&g.U.P.closePath(rt),ft+=it.pop(),g.U.P.moveTo(rt,ct,ft),lt=!0;else if(Et=="o5")for(;it.length>0;)ct+=it.shift(),ft+=it.shift(),g.U.P.lineTo(rt,ct,ft);else if(Et=="o6"||Et=="o7")for(var Mt=it.length,Tt=Et=="o6",Lt=0;Lt<Mt;Lt++){var Ot=it.shift();Tt?ct+=Ot:ft+=Ot,Tt=!Tt,g.U.P.lineTo(rt,ct,ft)}else if(Et=="o8"||Et=="o24"){Mt=it.length;for(var Rt=0;Rt+6<=Mt;)ht=ct+it.shift(),dt=ft+it.shift(),pt=ht+it.shift(),mt=dt+it.shift(),ct=pt+it.shift(),ft=mt+it.shift(),g.U.P.curveTo(rt,ht,dt,pt,mt,ct,ft),Rt+=6;Et=="o24"&&(ct+=it.shift(),ft+=it.shift(),g.U.P.lineTo(rt,ct,ft))}else{if(Et=="o11")break;if(Et=="o1234"||Et=="o1235"||Et=="o1236"||Et=="o1237")Et=="o1234"&&(dt=ft,pt=(ht=ct+it.shift())+it.shift(),bt=mt=dt+it.shift(),yt=mt,vt=ft,ct=(_t=(gt=(At=pt+it.shift())+it.shift())+it.shift())+it.shift(),g.U.P.curveTo(rt,ht,dt,pt,mt,At,bt),g.U.P.curveTo(rt,gt,yt,_t,vt,ct,ft)),Et=="o1235"&&(ht=ct+it.shift(),dt=ft+it.shift(),pt=ht+it.shift(),mt=dt+it.shift(),At=pt+it.shift(),bt=mt+it.shift(),gt=At+it.shift(),yt=bt+it.shift(),_t=gt+it.shift(),vt=yt+it.shift(),ct=_t+it.shift(),ft=vt+it.shift(),it.shift(),g.U.P.curveTo(rt,ht,dt,pt,mt,At,bt),g.U.P.curveTo(rt,gt,yt,_t,vt,ct,ft)),Et=="o1236"&&(ht=ct+it.shift(),dt=ft+it.shift(),pt=ht+it.shift(),bt=mt=dt+it.shift(),yt=mt,_t=(gt=(At=pt+it.shift())+it.shift())+it.shift(),vt=yt+it.shift(),ct=_t+it.shift(),g.U.P.curveTo(rt,ht,dt,pt,mt,At,bt),g.U.P.curveTo(rt,gt,yt,_t,vt,ct,ft)),Et=="o1237"&&(ht=ct+it.shift(),dt=ft+it.shift(),pt=ht+it.shift(),mt=dt+it.shift(),At=pt+it.shift(),bt=mt+it.shift(),gt=At+it.shift(),yt=bt+it.shift(),_t=gt+it.shift(),vt=yt+it.shift(),Math.abs(_t-ct)>Math.abs(vt-ft)?ct=_t+it.shift():ft=vt+it.shift(),g.U.P.curveTo(rt,ht,dt,pt,mt,At,bt),g.U.P.curveTo(rt,gt,yt,_t,vt,ct,ft));else if(Et=="o14"){if(it.length>0&&!st&&(at=it.shift()+tt.nominalWidthX,st=!0),it.length==4){var Ct=it.shift(),Dt=it.shift(),Bt=it.shift(),kt=it.shift(),zt=g.CFF.glyphBySE(tt,Bt),Ft=g.CFF.glyphBySE(tt,kt);g.U._drawCFF(tt.CharStrings[zt],et,tt,nt,rt),et.x=Ct,et.y=Dt,g.U._drawCFF(tt.CharStrings[Ft],et,tt,nt,rt)}lt&&(g.U.P.closePath(rt),lt=!1)}else if(Et=="o19"||Et=="o20")it.length%2!=0&&!st&&(at=it.shift()+nt.nominalWidthX),ot+=it.length>>1,it.length=0,st=!0,ut+=ot+7>>3;else if(Et=="o21")it.length>2&&!st&&(at=it.shift()+nt.nominalWidthX,st=!0),ft+=it.pop(),ct+=it.pop(),lt&&g.U.P.closePath(rt),g.U.P.moveTo(rt,ct,ft),lt=!0;else if(Et=="o22")it.length>1&&!st&&(at=it.shift()+nt.nominalWidthX,st=!0),ct+=it.pop(),lt&&g.U.P.closePath(rt),g.U.P.moveTo(rt,ct,ft),lt=!0;else if(Et=="o25"){for(;it.length>6;)ct+=it.shift(),ft+=it.shift(),g.U.P.lineTo(rt,ct,ft);ht=ct+it.shift(),dt=ft+it.shift(),pt=ht+it.shift(),mt=dt+it.shift(),ct=pt+it.shift(),ft=mt+it.shift(),g.U.P.curveTo(rt,ht,dt,pt,mt,ct,ft)}else if(Et=="o26")for(it.length%2&&(ct+=it.shift());it.length>0;)ht=ct,dt=ft+it.shift(),ct=pt=ht+it.shift(),ft=(mt=dt+it.shift())+it.shift(),g.U.P.curveTo(rt,ht,dt,pt,mt,ct,ft);else if(Et=="o27")for(it.length%2&&(ft+=it.shift());it.length>0;)dt=ft,pt=(ht=ct+it.shift())+it.shift(),mt=dt+it.shift(),ct=pt+it.shift(),ft=mt,g.U.P.curveTo(rt,ht,dt,pt,mt,ct,ft);else if(Et=="o10"||Et=="o29"){var It=Et=="o10"?nt:tt;if(it.length==0)console.debug("error: empty stack");else{var Ut=it.pop(),Gt=It.Subrs[Ut+It.Bias];et.x=ct,et.y=ft,et.nStems=ot,et.haveWidth=st,et.width=at,et.open=lt,g.U._drawCFF(Gt,et,tt,nt,rt),ct=et.x,ft=et.y,ot=et.nStems,st=et.haveWidth,at=et.width,lt=et.open}}else if(Et=="o30"||Et=="o31"){var jt=it.length,Yt=(Rt=0,Et=="o31");for(Rt+=jt-(Mt=-3&jt);Rt<Mt;)Yt?(dt=ft,pt=(ht=ct+it.shift())+it.shift(),ft=(mt=dt+it.shift())+it.shift(),Mt-Rt==5?(ct=pt+it.shift(),Rt++):ct=pt,Yt=!1):(ht=ct,dt=ft+it.shift(),pt=ht+it.shift(),mt=dt+it.shift(),ct=pt+it.shift(),Mt-Rt==5?(ft=mt+it.shift(),Rt++):ft=mt,Yt=!0),g.U.P.curveTo(rt,ht,dt,pt,mt,ct,ft),Rt+=4}else{if((Et+"").charAt(0)=="o")throw console.debug("Unknown operation: "+Et,_e),Et;it.push(Et)}}}et.x=ct,et.y=ft,et.nStems=ot,et.haveWidth=st,et.width=at,et.open=lt};var b=g,$={Typr:b};return j.Typr=b,j.default=$,Object.defineProperty(j,"__esModule",{value:!0}),j}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(j){var g=Uint8Array,b=Uint16Array,$=Uint32Array,_e=new g([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),et=new g([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tt=new g([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nt=function(Et,Mt){for(var Tt=new b(31),Lt=0;Lt<31;++Lt)Tt[Lt]=Mt+=1<<Et[Lt-1];var Ot=new $(Tt[30]);for(Lt=1;Lt<30;++Lt)for(var Rt=Tt[Lt];Rt<Tt[Lt+1];++Rt)Ot[Rt]=Rt-Tt[Lt]<<5|Lt;return[Tt,Ot]},rt=nt(_e,2),it=rt[0],ot=rt[1];it[28]=258,ot[258]=28;for(var st=nt(et,0)[0],at=new b(32768),lt=0;lt<32768;++lt){var ut=(43690&lt)>>>1|(21845&lt)<<1;ut=(61680&(ut=(52428&ut)>>>2|(13107&ut)<<2))>>>4|(3855&ut)<<4,at[lt]=((65280&ut)>>>8|(255&ut)<<8)>>>1}var ct=function(Et,Mt,Tt){for(var Lt=Et.length,Ot=0,Rt=new b(Mt);Ot<Lt;++Ot)++Rt[Et[Ot]-1];var Ct,Dt=new b(Mt);for(Ot=0;Ot<Mt;++Ot)Dt[Ot]=Dt[Ot-1]+Rt[Ot-1]<<1;if(Tt){Ct=new b(1<<Mt);var Bt=15-Mt;for(Ot=0;Ot<Lt;++Ot)if(Et[Ot])for(var kt=Ot<<4|Et[Ot],zt=Mt-Et[Ot],Ft=Dt[Et[Ot]-1]++<<zt,It=Ft|(1<<zt)-1;Ft<=It;++Ft)Ct[at[Ft]>>>Bt]=kt}else for(Ct=new b(Lt),Ot=0;Ot<Lt;++Ot)Et[Ot]&&(Ct[Ot]=at[Dt[Et[Ot]-1]++]>>>15-Et[Ot]);return Ct},ft=new g(288);for(lt=0;lt<144;++lt)ft[lt]=8;for(lt=144;lt<256;++lt)ft[lt]=9;for(lt=256;lt<280;++lt)ft[lt]=7;for(lt=280;lt<288;++lt)ft[lt]=8;var ht=new g(32);for(lt=0;lt<32;++lt)ht[lt]=5;var dt=ct(ft,9,1),pt=ct(ht,5,1),mt=function(Et){for(var Mt=Et[0],Tt=1;Tt<Et.length;++Tt)Et[Tt]>Mt&&(Mt=Et[Tt]);return Mt},gt=function(Et,Mt,Tt){var Lt=Mt/8|0;return(Et[Lt]|Et[Lt+1]<<8)>>(7&Mt)&Tt},yt=function(Et,Mt){var Tt=Mt/8|0;return(Et[Tt]|Et[Tt+1]<<8|Et[Tt+2]<<16)>>(7&Mt)},_t=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],vt=function(Et,Mt,Tt){var Lt=new Error(Mt||_t[Et]);if(Lt.code=Et,Error.captureStackTrace&&Error.captureStackTrace(Lt,vt),!Tt)throw Lt;return Lt},At=function(Et,Mt,Tt){var Lt=Et.length;if(!Lt||Tt&&!Tt.l&&Lt<5)return Mt||new g(0);var Ot=!Mt||Tt,Rt=!Tt||Tt.i;Tt||(Tt={}),Mt||(Mt=new g(3*Lt));var Ct,Dt=function(wn){var In=Mt.length;if(wn>In){var Rn=new g(Math.max(2*In,wn));Rn.set(Mt),Mt=Rn}},Bt=Tt.f||0,kt=Tt.p||0,zt=Tt.b||0,Ft=Tt.l,It=Tt.d,Ut=Tt.m,Gt=Tt.n,jt=8*Lt;do{if(!Ft){Tt.f=Bt=gt(Et,kt,1);var Yt=gt(Et,kt+1,3);if(kt+=3,!Yt){var Qt=Et[(un=((Ct=kt)/8|0)+(7&Ct&&1)+4)-4]|Et[un-3]<<8,ln=un+Qt;if(ln>Lt){Rt&&vt(0);break}Ot&&Dt(zt+Qt),Mt.set(Et.subarray(un,ln),zt),Tt.b=zt+=Qt,Tt.p=kt=8*ln;continue}if(Yt==1)Ft=dt,It=pt,Ut=9,Gt=5;else if(Yt==2){var Zt=gt(Et,kt,31)+257,Wt=gt(Et,kt+10,15)+4,qt=Zt+gt(Et,kt+5,31)+1;kt+=14;for(var Xt=new g(qt),vn=new g(19),gn=0;gn<Wt;++gn)vn[tt[gn]]=gt(Et,kt+3*gn,7);kt+=3*Wt;var en=mt(vn),hn=(1<<en)-1,rn=ct(vn,en,1);for(gn=0;gn<qt;){var un,Nt=rn[gt(Et,kt,hn)];if(kt+=15&Nt,(un=Nt>>>4)<16)Xt[gn++]=un;else{var Vt=0,cn=0;for(un==16?(cn=3+gt(Et,kt,3),kt+=2,Vt=Xt[gn-1]):un==17?(cn=3+gt(Et,kt,7),kt+=3):un==18&&(cn=11+gt(Et,kt,127),kt+=7);cn--;)Xt[gn++]=Vt}}var dn=Xt.subarray(0,Zt),mn=Xt.subarray(Zt);Ut=mt(dn),Gt=mt(mn),Ft=ct(dn,Ut,1),It=ct(mn,Gt,1)}else vt(1);if(kt>jt){Rt&&vt(0);break}}Ot&&Dt(zt+131072);for(var bn=(1<<Ut)-1,Cn=(1<<Gt)-1,an=kt;;an=kt){var Tn=(Vt=Ft[yt(Et,kt)&bn])>>>4;if((kt+=15&Vt)>jt){Rt&&vt(0);break}if(Vt||vt(2),Tn<256)Mt[zt++]=Tn;else{if(Tn==256){an=kt,Ft=null;break}var Dn=Tn-254;if(Tn>264){var Sn=_e[gn=Tn-257];Dn=gt(Et,kt,(1<<Sn)-1)+it[gn],kt+=Sn}var Ln=It[yt(Et,kt)&Cn],nn=Ln>>>4;if(Ln||vt(3),kt+=15&Ln,mn=st[nn],nn>3&&(Sn=et[nn],mn+=yt(Et,kt)&(1<<Sn)-1,kt+=Sn),kt>jt){Rt&&vt(0);break}Ot&&Dt(zt+131072);for(var En=zt+Dn;zt<En;zt+=4)Mt[zt]=Mt[zt-mn],Mt[zt+1]=Mt[zt+1-mn],Mt[zt+2]=Mt[zt+2-mn],Mt[zt+3]=Mt[zt+3-mn];zt=En}}Tt.l=Ft,Tt.p=an,Tt.b=zt,Ft&&(Bt=1,Tt.m=Ut,Tt.d=It,Tt.n=Gt)}while(!Bt);return zt==Mt.length?Mt:function(wn,In,Rn){(In==null||In<0)&&(In=0),(Rn==null||Rn>wn.length)&&(Rn=wn.length);var Pn=new(wn instanceof b?b:wn instanceof $?$:g)(Rn-In);return Pn.set(wn.subarray(In,Rn)),Pn}(Mt,0,zt)},bt=new g(0),xt=typeof TextDecoder!="undefined"&&new TextDecoder;try{xt.decode(bt,{stream:!0})}catch{}return j.convert_streams=function(Et){var Mt=new DataView(Et),Tt=0;function Lt(){var Zt=Mt.getUint16(Tt);return Tt+=2,Zt}function Ot(){var Zt=Mt.getUint32(Tt);return Tt+=4,Zt}function Rt(Zt){Qt.setUint16(ln,Zt),ln+=2}function Ct(Zt){Qt.setUint32(ln,Zt),ln+=4}for(var Dt={signature:Ot(),flavor:Ot(),length:Ot(),numTables:Lt(),reserved:Lt(),totalSfntSize:Ot(),majorVersion:Lt(),minorVersion:Lt(),metaOffset:Ot(),metaLength:Ot(),metaOrigLength:Ot(),privOffset:Ot(),privLength:Ot()},Bt=0;Math.pow(2,Bt)<=Dt.numTables;)Bt++;Bt--;for(var kt=16*Math.pow(2,Bt),zt=16*Dt.numTables-kt,Ft=12,It=[],Ut=0;Ut<Dt.numTables;Ut++)It.push({tag:Ot(),offset:Ot(),compLength:Ot(),origLength:Ot(),origChecksum:Ot()}),Ft+=16;var Gt,jt=new Uint8Array(12+16*It.length+It.reduce(function(Zt,Wt){return Zt+Wt.origLength+4},0)),Yt=jt.buffer,Qt=new DataView(Yt),ln=0;return Ct(Dt.flavor),Rt(Dt.numTables),Rt(kt),Rt(Bt),Rt(zt),It.forEach(function(Zt){Ct(Zt.tag),Ct(Zt.origChecksum),Ct(Ft),Ct(Zt.origLength),Zt.outOffset=Ft,(Ft+=Zt.origLength)%4!=0&&(Ft+=4-Ft%4)}),It.forEach(function(Zt){var Wt,qt=Et.slice(Zt.offset,Zt.offset+Zt.compLength);if(Zt.compLength!=Zt.origLength){var Xt=new Uint8Array(Zt.origLength);Wt=new Uint8Array(qt,2),At(Wt,Xt)}else Xt=new Uint8Array(qt);jt.set(Xt,Zt.outOffset);var vn=0;(Ft=Zt.outOffset+Zt.origLength)%4!=0&&(vn=4-Ft%4),jt.set(new Uint8Array(vn).buffer,Zt.outOffset+Zt.origLength),Gt=Ft+vn}),Yt.slice(0,Gt)},Object.defineProperty(j,"__esModule",{value:!0}),j}({}).convert_streams}function parserFactory(j,g){const b={M:2,L:2,Q:4,C:6,Z:0},$={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},_e=1,et=2,tt=4,nt=8,rt=16,it=32;let ot;function st(mt){if(!ot){const gt={R:et,L:_e,D:tt,C:rt,U:it,T:nt};ot=new Map;for(let yt in $){let _t=0;$[yt].split(",").forEach(vt=>{let[At,bt]=vt.split("+");At=parseInt(At,36),bt=bt?parseInt(bt,36):0,ot.set(_t+=At,gt[yt]);for(let xt=bt;xt--;)ot.set(++_t,gt[yt])})}}return ot.get(mt)||it}const at=1,lt=2,ut=3,ct=4,ft=[null,"isol","init","fina","medi"];function ht(mt){const gt=new Uint8Array(mt.length);let yt=it,_t=at,vt=-1;for(let At=0;At<mt.length;At++){const bt=mt.codePointAt(At);let xt=st(bt)|0,Et=at;xt&nt||(yt&(_e|tt|rt)?xt&(et|tt|rt)?(Et=ut,(_t===at||_t===ut)&&gt[vt]++):xt&(_e|it)&&(_t===lt||_t===ct)&&gt[vt]--:yt&(et|it)&&(_t===lt||_t===ct)&&gt[vt]--,_t=gt[At]=Et,yt=xt,vt=At,bt>65535&&At++)}return gt}function dt(mt,gt){const yt=[];for(let vt=0;vt<gt.length;vt++){const At=gt.codePointAt(vt);At>65535&&vt++,yt.push(j.U.codeToGlyph(mt,At))}const _t=mt.GSUB;if(_t){const{lookupList:vt,featureList:At}=_t;let bt;const xt=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,Et=[];At.forEach(Mt=>{if(xt.test(Mt.tag))for(let Tt=0;Tt<Mt.tab.length;Tt++){if(Et[Mt.tab[Tt]])continue;Et[Mt.tab[Tt]]=!0;const Lt=vt[Mt.tab[Tt]],Ot=/^(isol|init|fina|medi)$/.test(Mt.tag);Ot&&!bt&&(bt=ht(gt));for(let Rt=0;Rt<yt.length;Rt++)(!bt||!Ot||ft[bt[Rt]]===Mt.tag)&&j.U._applySubs(yt,Rt,Lt,vt)}})}return yt}function pt(mt){const gt=Object.create(null),yt={unitsPerEm:mt.head.unitsPerEm,ascender:mt.hhea.ascender,descender:mt.hhea.descender,forEachGlyph(_t,vt,At,bt){let xt=0;const Et=1/yt.unitsPerEm*vt,Mt=dt(mt,_t);let Tt=0,Lt=-1;return Mt.forEach((Ot,Rt)=>{if(Ot!==-1){let Ct=gt[Ot];if(!Ct){const{cmds:Dt,crds:Bt}=j.U.glyphToPath(mt,Ot);let kt="",zt=0;for(let jt=0,Yt=Dt.length;jt<Yt;jt++){const Qt=b[Dt[jt]];kt+=Dt[jt];for(let ln=1;ln<=Qt;ln++)kt+=(ln>1?",":"")+Bt[zt++]}let Ft,It,Ut,Gt;if(Bt.length){Ft=It=1/0,Ut=Gt=-1/0;for(let jt=0,Yt=Bt.length;jt<Yt;jt+=2){let Qt=Bt[jt],ln=Bt[jt+1];Qt<Ft&&(Ft=Qt),ln<It&&(It=ln),Qt>Ut&&(Ut=Qt),ln>Gt&&(Gt=ln)}}else Ft=Ut=It=Gt=0;Ct=gt[Ot]={index:Ot,advanceWidth:mt.hmtx.aWidth[Ot],xMin:Ft,yMin:It,xMax:Ut,yMax:Gt,path:kt,pathCommandCount:Dt.length}}Lt!==-1&&(xt+=j.U.getPairAdjustment(mt,Lt,Ot)*Et),bt.call(null,Ct,xt,Tt),Ct.advanceWidth&&(xt+=Ct.advanceWidth*Et),At&&(xt+=At*vt),Lt=Ot}Tt+=_t.codePointAt(Tt)>65535?2:1}),xt}};return yt}return function(gt){const yt=new Uint8Array(gt,0,4),_t=j._bin.readASCII(yt,0,4);if(_t==="wOFF")gt=g(gt);else if(_t==="wOF2")throw new Error("woff2 fonts not supported");return pt(j.parse(gt)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(j,g,b){const $=j(),_e=g();return b($,_e)}}),CONFIG={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(j,g){j=assign({},j);const b=now$1();if(j.font=toAbsoluteURL(j.font||CONFIG.defaultFontURL),j.text=""+j.text,j.sdfGlyphSize=j.sdfGlyphSize||CONFIG.sdfGlyphSize,j.colorRanges!=null){let st={};for(let at in j.colorRanges)if(j.colorRanges.hasOwnProperty(at)){let lt=j.colorRanges[at];typeof lt!="number"&&(lt=tempColor.set(lt).getHex()),st[at]=lt}j.colorRanges=st}Object.freeze(j);const{textureWidth:$,sdfExponent:_e}=CONFIG,{sdfGlyphSize:et}=j,tt=$/et*4;let nt=atlases[et];if(!nt){const st=document.createElement("canvas");st.width=$,st.height=et*256/tt,nt=atlases[et]={glyphCount:0,sdfGlyphSize:et,sdfCanvas:st,sdfTexture:new Texture(st,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},nt.sdfTexture.generateMipmaps=!1,initContextLossHandling(nt)}const{sdfTexture:rt,sdfCanvas:it}=nt;let ot=nt.glyphsByFont.get(j.font);ot||nt.glyphsByFont.set(j.font,ot=new Map),typesetInWorker(j).then(st=>{const{glyphIds:at,glyphPositions:lt,fontSize:ut,unitsPerEm:ct,timings:ft}=st,ht=[],dt=new Float32Array(at.length*4),pt=ut/ct;let mt=0,gt=0;const yt=now$1();at.forEach((xt,Et)=>{let Mt=ot.get(xt);if(!Mt){const{path:Rt,pathBounds:Ct}=st.glyphData[xt],Dt=Math.max(Ct[2]-Ct[0],Ct[3]-Ct[1])/et*(CONFIG.sdfMargin*et+.5),Bt=nt.glyphCount++,kt=[Ct[0]-Dt,Ct[1]-Dt,Ct[2]+Dt,Ct[3]+Dt];ot.set(xt,Mt={path:Rt,atlasIndex:Bt,sdfViewBox:kt}),ht.push(Mt)}const{sdfViewBox:Tt}=Mt,Lt=lt[gt++],Ot=lt[gt++];dt[mt++]=Lt+Tt[0]*pt,dt[mt++]=Ot+Tt[1]*pt,dt[mt++]=Lt+Tt[2]*pt,dt[mt++]=Ot+Tt[3]*pt,at[Et]=Mt.atlasIndex}),ft.quads=(ft.quads||0)+(now$1()-yt);const _t=now$1();ft.sdf={};const vt=it.height,At=Math.ceil(nt.glyphCount/tt),bt=Math.pow(2,Math.ceil(Math.log2(At*et)));bt>vt&&(console.info(`Increasing SDF texture size ${vt}->${bt}`),resizeWebGLCanvasWithoutClearing(it,$,bt),rt.dispose()),DefaultThenable.all(ht.map(xt=>generateGlyphSDF(xt,nt,j.gpuAccelerateSDF).then(({timing:Et})=>{ft.sdf[xt.atlasIndex]=Et}))).then(()=>{ht.length&&!nt.contextLost&&(safariPre15Workaround(nt),rt.needsUpdate=!0),ft.sdfTotal=now$1()-_t,ft.total=now$1()-b,g(Object.freeze({parameters:j,sdfTexture:rt,sdfGlyphSize:et,sdfExponent:_e,glyphBounds:dt,glyphAtlasIndices:at,glyphColors:st.glyphColors,caretPositions:st.caretPositions,caretHeight:st.caretHeight,chunkedBounds:st.chunkedBounds,ascender:st.ascender,descender:st.descender,lineHeight:st.lineHeight,topBaseline:st.topBaseline,blockBounds:st.blockBounds,visibleBounds:st.visibleBounds,timings:st.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),st.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");const[xt,Et,Mt,Tt]=st.blockBounds;return[Mt-xt,Tt-Et]}}))})}),DefaultThenable.all([]).then(()=>{nt.contextLost||warmUpSDFCanvas(it)})}function generateGlyphSDF({path:j,atlasIndex:g,sdfViewBox:b},{sdfGlyphSize:$,sdfCanvas:_e,contextLost:et},tt){if(et)return Promise.resolve({timing:-1});const{textureWidth:nt,sdfExponent:rt}=CONFIG,it=Math.max(b[2]-b[0],b[3]-b[1]),ot=Math.floor(g/4),st=ot%(nt/$)*$,at=Math.floor(ot/(nt/$))*$,lt=g%4;return generateSDF($,$,j,b,it,rt,_e,st,at,lt,tt)}function initContextLossHandling(j){const g=j.sdfCanvas;g.addEventListener("webglcontextlost",b=>{console.log("Context Lost",b),b.preventDefault(),j.contextLost=!0}),g.addEventListener("webglcontextrestored",b=>{console.log("Context Restored",b),j.contextLost=!1;const $=[];j.glyphsByFont.forEach(_e=>{_e.forEach(et=>{$.push(generateGlyphSDF(et,j,!0))})}),DefaultThenable.all($).then(()=>{safariPre15Workaround(j),j.sdfTexture.needsUpdate=!0})})}function assign(j,g){for(let b in g)g.hasOwnProperty(b)&&(j[b]=g[b]);return j}let linkEl;function toAbsoluteURL(j){return linkEl||(linkEl=typeof document=="undefined"?{}:document.createElement("a")),linkEl.href=j,linkEl.href}function safariPre15Workaround(j){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:g,sdfTexture:b}=j,{width:$,height:_e}=g,et=j.sdfCanvas.getContext("webgl");let tt=b.image.data;(!tt||tt.length!==$*_e*4)&&(tt=new Uint8Array($*_e*4),b.image={width:$,height:_e,data:tt},b.flipY=!1,b.isDataTexture=!0),et.readPixels(0,0,$,_e,et.RGBA,et.UNSIGNED_BYTE,tt)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[CONFIG,workerModule,createTypesetter,bidiFactory],init(j,g,b,$){const{defaultFontURL:_e}=j;return b(g,$(),{defaultFontURL:_e})}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule,ThenableWorkerModule],init(j,g){return function(b){const $=new g;return j.typeset(b,$.resolve),$}},getTransferables(j){const g=[j.glyphPositions.buffer,j.glyphIds.buffer];return j.caretPositions&&g.push(j.caretPositions.buffer),j.glyphColors&&g.push(j.glyphColors.buffer),g}}),GlyphsGeometry=(()=>{const j={};function g(rt){let it=j[rt];if(!it){const ot=new PlaneGeometry(1,1,rt,rt),st=ot.clone(),at=ot.attributes,lt=st.attributes,ut=new BufferGeometry,ct=at.uv.count;for(let ft=0;ft<ct;ft++)lt.position.array[ft*3]*=-1,lt.normal.array[ft*3+2]*=-1;["position","normal","uv"].forEach(ft=>{ut.setAttribute(ft,new Float32BufferAttribute([...at[ft].array,...lt[ft].array],at[ft].itemSize))}),ut.setIndex([...ot.index.array,...st.index.array.map(ft=>ft+ct)]),ut.translate(.5,.5,0),it=j[rt]=ut}return it}const b="aTroikaGlyphBounds",$="aTroikaGlyphIndex",_e="aTroikaGlyphColor";class et extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(it){const ot=this.getIndex().count;this.setDrawRange(it===BackSide?ot/2:0,it===DoubleSide?ot:ot/2)}set detail(it){if(it!==this._detail){this._detail=it,(typeof it!="number"||it<1)&&(it=1);let ot=g(it);["position","normal","uv"].forEach(st=>{this.attributes[st]=ot.attributes[st].clone()}),this.setIndex(ot.getIndex().clone())}}get detail(){return this._detail}set curveRadius(it){it!==this._curveRadius&&(this._curveRadius=it,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(it,ot,st,at,lt){tt(this,b,it,4),tt(this,$,ot,1),tt(this,_e,lt,3),this._blockBounds=st,this._chunkedBounds=at,nt(this,ot.length),this._updateBounds()}_updateBounds(){const it=this._blockBounds;if(it){const{curveRadius:ot,boundingBox:st}=this;if(ot){const{PI:at,floor:lt,min:ut,max:ct,sin:ft,cos:ht}=Math,dt=at/2,pt=at*2,mt=Math.abs(ot),gt=it[0]/mt,yt=it[2]/mt,_t=lt((gt+dt)/pt)!==lt((yt+dt)/pt)?-mt:ut(ft(gt)*mt,ft(yt)*mt),vt=lt((gt-dt)/pt)!==lt((yt-dt)/pt)?mt:ct(ft(gt)*mt,ft(yt)*mt),At=lt((gt+at)/pt)!==lt((yt+at)/pt)?mt*2:ct(mt-ht(gt)*mt,mt-ht(yt)*mt);st.min.set(_t,it[1],ot<0?-At:0),st.max.set(vt,it[3],ot<0?0:At)}else st.min.set(it[0],it[1],0),st.max.set(it[2],it[3],0);st.getBoundingSphere(this.boundingSphere)}}applyClipRect(it){let ot=this.getAttribute($).count,st=this._chunkedBounds;if(st)for(let at=st.length;at--;){ot=st[at].end;let lt=st[at].rect;if(lt[1]<it.w&&lt[3]>it.y&&lt[0]<it.z&&lt[2]>it.x)break}nt(this,ot)}}et.prototype.setAttribute||(et.prototype.setAttribute=function(rt,it){return this.attributes[rt]=it,this});function tt(rt,it,ot,st){const at=rt.getAttribute(it);ot?at&&at.array.length===ot.length?(at.array.set(ot),at.needsUpdate=!0):(rt.setAttribute(it,new InstancedBufferAttribute(ot,st)),delete rt._maxInstanceCount,rt.dispose()):at&&rt.deleteAttribute(it)}function nt(rt,it){rt[rt.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=it}return et})(),VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(j){const g=createDerivedMaterial(j,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:b,fragmentShader:$}){let _e=/\buniform\s+vec3\s+diffuse\b/;return _e.test($)&&($=$.replace(_e,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),_e.test(b)||(b=b.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:b,fragmentShader:$}}});return g.transparent=!0,Object.defineProperties(g,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),g}const Text=(()=>{const j=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),g=8421504,b=new Matrix4,$=new Vector3,_e=new Vector3,et=[],tt=new Vector3,nt="+x+y";function rt(ht){return Array.isArray(ht)?ht[0]:ht}let it=()=>{const ht=new Mesh(new PlaneGeometry(1,1),j);return it=()=>ht,ht},ot=()=>{const ht=new Mesh(new PlaneGeometry(1,1,32,1),j);return ot=()=>ht,ht};const st={type:"syncstart"},at={type:"synccomplete"},lt=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],ut=lt.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class ct extends Mesh{constructor(){const dt=new GlyphsGeometry;super(dt,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=g,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=nt,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(dt){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(dt):(this._isSyncing=!0,this.dispatchEvent(st),getTextRenderInfo({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},pt=>{this._isSyncing=!1,this._textRenderInfo=pt,this.geometry.updateGlyphs(pt.glyphBounds,pt.glyphAtlasIndices,pt.blockBounds,pt.chunkedBounds,pt.glyphColors);const mt=this._queuedSyncs;mt&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{mt.forEach(gt=>gt&&gt())})),this.dispatchEvent(at),dt&&dt()})))}onBeforeRender(dt,pt,mt,gt,yt,_t){this.sync(),yt.isTroikaTextMaterial&&this._prepareForRender(yt),yt._hadOwnSide=yt.hasOwnProperty("side"),this.geometry.setSide(yt._actualSide=yt.side),yt.side=FrontSide}onAfterRender(dt,pt,mt,gt,yt,_t){yt._hadOwnSide?yt.side=yt._actualSide:delete yt.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let dt=this._derivedMaterial;const pt=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=j.clone());if((!dt||dt.baseMaterial!==pt)&&(dt=this._derivedMaterial=createTextDerivedMaterial(pt),pt.addEventListener("dispose",function mt(){pt.removeEventListener("dispose",mt),dt.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let mt=dt._outlineMtl;return mt||(mt=dt._outlineMtl=Object.create(dt,{id:{value:dt.id+.1}}),mt.isTextOutlineMaterial=!0,mt.depthWrite=!1,mt.map=null,dt.addEventListener("dispose",function gt(){dt.removeEventListener("dispose",gt),mt.dispose()})),[mt,dt]}else return dt}set material(dt){dt&&dt.isTroikaTextMaterial?(this._derivedMaterial=dt,this._baseMaterial=dt.baseMaterial):this._baseMaterial=dt}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(dt){this.geometry.detail=dt}get curveRadius(){return this.geometry.curveRadius}set curveRadius(dt){this.geometry.curveRadius=dt}get customDepthMaterial(){return rt(this.material).getDepthMaterial()}get customDistanceMaterial(){return rt(this.material).getDistanceMaterial()}_prepareForRender(dt){const pt=dt.isTextOutlineMaterial,mt=dt.uniforms,gt=this.textRenderInfo;if(gt){const{sdfTexture:vt,blockBounds:At}=gt;mt.uTroikaSDFTexture.value=vt,mt.uTroikaSDFTextureSize.value.set(vt.image.width,vt.image.height),mt.uTroikaSDFGlyphSize.value=gt.sdfGlyphSize,mt.uTroikaSDFExponent.value=gt.sdfExponent,mt.uTroikaTotalBounds.value.fromArray(At),mt.uTroikaUseGlyphColors.value=!pt&&!!gt.glyphColors;let bt=0,xt=0,Et=0,Mt,Tt,Lt,Ot=0,Rt=0;if(pt){let{outlineWidth:Dt,outlineOffsetX:Bt,outlineOffsetY:kt,outlineBlur:zt,outlineOpacity:Ft}=this;bt=this._parsePercent(Dt)||0,xt=Math.max(0,this._parsePercent(zt)||0),Mt=Ft,Ot=this._parsePercent(Bt)||0,Rt=this._parsePercent(kt)||0}else Et=Math.max(0,this._parsePercent(this.strokeWidth)||0),Et&&(Lt=this.strokeColor,mt.uTroikaStrokeColor.value.set(Lt==null?g:Lt),Tt=this.strokeOpacity,Tt==null&&(Tt=1)),Mt=this.fillOpacity;mt.uTroikaDistanceOffset.value=bt,mt.uTroikaPositionOffset.value.set(Ot,Rt),mt.uTroikaBlurRadius.value=xt,mt.uTroikaStrokeWidth.value=Et,mt.uTroikaStrokeOpacity.value=Tt,mt.uTroikaFillOpacity.value=Mt==null?1:Mt,mt.uTroikaCurveRadius.value=this.curveRadius||0;let Ct=this.clipRect;if(Ct&&Array.isArray(Ct)&&Ct.length===4)mt.uTroikaClipRect.value.fromArray(Ct);else{const Dt=(this.fontSize||.1)*100;mt.uTroikaClipRect.value.set(At[0]-Dt,At[1]-Dt,At[2]+Dt,At[3]+Dt)}this.geometry.applyClipRect(mt.uTroikaClipRect.value)}mt.uTroikaSDFDebug.value=!!this.debugSDF,dt.polygonOffset=!!this.depthOffset,dt.polygonOffsetFactor=dt.polygonOffsetUnits=this.depthOffset||0;const yt=pt?this.outlineColor||0:this.color;if(yt==null)delete dt.color;else{const vt=dt.hasOwnProperty("color")?dt.color:dt.color=new Color;(yt!==vt._input||typeof yt=="object")&&vt.set(vt._input=yt)}let _t=this.orientation||nt;if(_t!==dt._orientation){let vt=mt.uTroikaOrient.value;_t=_t.replace(/[^-+xyz]/g,"");let At=_t!==nt&&_t.match(/^([-+])([xyz])([-+])([xyz])$/);if(At){let[,bt,xt,Et,Mt]=At;$.set(0,0,0)[xt]=bt==="-"?1:-1,_e.set(0,0,0)[Mt]=Et==="-"?-1:1,b.lookAt(tt,$.cross(_e),_e),vt.setFromMatrix4(b)}else vt.identity();dt._orientation=_t}}_parsePercent(dt){if(typeof dt=="string"){let pt=dt.match(/^(-?[\d.]+)%$/),mt=pt?parseFloat(pt[1]):NaN;dt=(isNaN(mt)?0:mt/100)*this.fontSize}return dt}localPositionToTextCoords(dt,pt=new Vector2){pt.copy(dt);const mt=this.curveRadius;return mt&&(pt.x=Math.atan2(dt.x,Math.abs(mt)-Math.abs(dt.z))*Math.abs(mt)),pt}worldPositionToTextCoords(dt,pt=new Vector2){return $.copy(dt),this.localPositionToTextCoords(this.worldToLocal($),pt)}raycast(dt,pt){const{textRenderInfo:mt,curveRadius:gt}=this;if(mt){const yt=mt.blockBounds,_t=gt?ot():it(),vt=_t.geometry,{position:At,uv:bt}=vt.attributes;for(let xt=0;xt<bt.count;xt++){let Et=yt[0]+bt.getX(xt)*(yt[2]-yt[0]);const Mt=yt[1]+bt.getY(xt)*(yt[3]-yt[1]);let Tt=0;gt&&(Tt=gt-Math.cos(Et/gt)*gt,Et=Math.sin(Et/gt)*gt),At.setXYZ(xt,Et,Mt,Tt)}vt.boundingSphere=this.geometry.boundingSphere,vt.boundingBox=this.geometry.boundingBox,_t.matrixWorld=this.matrixWorld,_t.material.side=this.material.side,et.length=0,_t.raycast(dt,et);for(let xt=0;xt<et.length;xt++)et[xt].object=this,pt.push(et[xt])}}copy(dt){const pt=this.geometry;return super.copy(dt),this.geometry=pt,ut.forEach(mt=>{this[mt]=dt[mt]}),this}clone(){return new this.constructor().copy(this)}}lt.forEach(ht=>{const dt="_private_"+ht;Object.defineProperty(ct.prototype,ht,{get(){return this[dt]},set(pt){pt!==this[dt]&&(this[dt]=pt,this._needsSync=!0)}})});let ft=!1;return Object.defineProperty(ct.prototype,"anchor",{get(){return this._deprecated_anchor},set(ht){this._deprecated_anchor=ht,ft||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),ft=!0),Array.isArray(ht)?(this.anchorX=`${(+ht[0]||0)*100}%`,this.anchorY=`${(+ht[1]||0)*100}%`):this.anchorX=this.anchorY=0}}),ct})();var HelveticaBold="/HelveticaNowDisplayBold.21094700.otf",Helvetica="/HelveticaNowDisplay.c9ad3fc5.ttf";const componentName$9="FlatButtonObject";debug(`front:3D:${componentName$9}`);class FlatButtonObject extends BaseSceneObject{constructor({label:b,roomData:$}){super(!1);sn(this,"label");sn(this,"textMesh",new Text);sn(this,"buttonBackground");sn(this,"roomData");this.isInteractive=!0,this.label=b,this.roomData=$,this.componentName=componentName$9,this.createButtonBackground(),this.createText(),this.init(),this.textMesh.sync()}createButtonBackground(){const b=AssetManager$1.getAsset("button_background").data,$=AssetManager$1.getAsset("button_background_active").data,_e=new PlaneGeometry(1,.28),et=new BasicTextureStackMaterial({textureOne:$,textureTwo:b,textureOneOpacity:0,textureTwoOpacity:1,opacity:1,depthTest:!1});et.transparent=!0,this.buttonBackground=new Mesh(_e,et)}createSubject(){this.subject=new Group,this.subject.name=this.componentName+"_subject",this.subject.add(this.buttonBackground),this.subject.add(this.textMesh)}createText(){this.textMesh.font=Helvetica,this.textMesh.fontSize=.1,this.textMesh.color=new Color(16777215).convertSRGBToLinear().getHex(),this.textMesh.text=this.label,this.textMesh.anchorX="center",this.textMesh.anchorY="middle",this.textMesh.position.z=.01}animateHoverState(b=!0){gsapWithCSS.to(this.buttonBackground.material.uniforms.tOneOpacity,{value:b?1:0,duration:.3,ease:"power3.out"}),gsapWithCSS.to(this.buttonBackground.material.uniforms.tSecOpacity,{value:b?0:1,duration:.3,ease:"power3.out"}),this.textMesh.color=new Color(b?0:16777215).convertSRGBToLinear().getHex(),this.textMesh.sync()}onClick(){!navigationService.currentKeyProof||(this.animateHoverState(),R$1({name:EPages.COMMITMENT,params:{roomId:this.roomData.slug,keyProofId:this.roomData.slug,commitmentId:this.roomData.commitments[0].slug}}))}onMouseEnter(){!navigationService.currentKeyProof||this.animateHoverState()}onMouseLeave(){!navigationService.currentKeyProof||this.animateHoverState(!1)}}const componentName$8="TextObject";class TextPanelObject extends BaseSceneObject{constructor({planeSupportMesh:b,roomData:$,textPosition:_e}){super(!1);sn(this,"roomData");sn(this,"textPosition");sn(this,"firstLine",new Text);sn(this,"secondLine",new Text);sn(this,"button");sn(this,"interactivePlane");sn(this,"cameraFocusPoint");sn(this,"keyProofId");sn(this,"planeSupportMesh");sn(this,"_isFocused");this.planeSupportMesh=b,this.roomData=$,this.name="key-proof-"+$.slug,this.keyProofId=$.slug,this.textPosition=_e,this.componentName=componentName$8,this.isInteractive=!0,this.createCameraFocusPoint(),this.createInteractivePlane(),this.createButton(),this.init(),this.setupText(),this.setupTransform(),this.listen(),this.firstLine.sync(),this.secondLine.sync()}createSubject(){this.subject=new Group,this.subject.name=this.name+"_subject",[this.interactivePlane,this.cameraFocusPoint,this.firstLine,this.secondLine,this.button].forEach(b=>{this.subject.add(b)})}createInteractivePlane(){this.interactivePlane=new Mesh(new PlaneGeometry(1,1),new MeshBasicMaterial({transparent:!0,opacity:0})),this.interactivePlane.position.set(.74,-.77,.15),this.interactivePlane.scale.set(2.01,2.58,1)}createCameraFocusPoint(){this.cameraFocusPoint=new Object3D,this.cameraFocusPoint.position.set(.66,0,0);const b=new ArrowHelper(new Vector3(0,0,1),new Vector3(0,0,0),.25,16711680,.1,.25);this._isDebug&&this.cameraFocusPoint.add(b)}setupText(){var b,$,_e;this.firstLine.font=HelveticaBold,this.secondLine.font=HelveticaBold,this.firstLine.fontSize=.3,this.secondLine.fontSize=.14,this.firstLine.color=new Color(`${(b=this.roomData)==null?void 0:b.firstLineColor}`).convertSRGBToLinear().getHex(),this.secondLine.color=new Color(16777215).convertSRGBToLinear().getHex(),this.firstLine.text=($=this.roomData)==null?void 0:$.firstLine,this.secondLine.text=(_e=this.roomData)==null?void 0:_e.secondLine,this.firstLine.maxWidth=1.5,this.firstLine.lineHeight=1.15,this.secondLine.maxWidth=1.5,this.secondLine.lineHeight=1.25,this.secondLine.letterSpacing=.1}createButton(){var b;this.button=new FlatButtonObject({label:(b=this.roomData)==null?void 0:b.discoverCommitment,roomData:this.roomData}),this.button.scale.multiplyScalar(1.6),this.button.position.z=.06}setupTransform(){this.textPosition?this.subject.position.copy(this.textPosition):this.subject.position.set(-5.48,4,1.4),this.subject.rotation.y=.062,this.firstLine.position.y=-.16,this.secondLine.position.y=-.55,this.button.position.x=.75,this.button.position.y=-1.54}onClick(){navigationService.emit("set:room:key-proof",this.keyProofId),gsapWithCSS.to(this.planeSupportMesh.material,{opacity:this.planeSupportMesh.userData.baseOpacity,duration:.3,ease:"power2.out"})}onMouseEnter(){gsapWithCSS.to(this.planeSupportMesh.material,{opacity:1,duration:.3,ease:"power2.out"})}onMouseLeave(){this.button.onMouseLeave(),gsapWithCSS.to(this.planeSupportMesh.material,{opacity:this.planeSupportMesh.userData.baseOpacity,duration:.3,ease:"power2.out"})}listen(){navigationService.on("hasChanged",()=>{this.checkFocused()})}checkFocused(){this._isFocused=navigationService.currentKeyProof===this.keyProofId&&navigationService.currentRoom===this.roomData.slug,this.interactivePlane.visible=!this._isFocused,this.interactivePlane.position.y=this._isFocused?999:-.77,this.button.animateHoverState(!1)}}const componentName$7="RoomInnovationBase";debug(`front:3D:${componentName$7}`);class RoomInnovationBase extends RoomBase{constructor({parameters:g,contentData:b}){super({parameters:g,contentData:b}),this._listen()}addPortal(g){const b=this.findObjectByName(g.meshName);b.parent.visible=!1}createSubject({hasTextPlane:g=!0}={}){var b,$;super.createSubject(),this.addInnovations(),(b=this.userData.contentData)!=null&&b.video&&this.addVideoThumbnailObject(),(($=this.userData.contentData)==null?void 0:$.firstLine)&&g&&this.addTextPlane()}addInnovations(){!this.userData.innovationsData||this.userData.innovationsData.forEach((g,b)=>{this.addInnovation(g,b)})}addInnovation(g,b){let $=this.userData.contentData.innovations.find(tt=>tt.slug===g.slug);const _e=new InnovationObject(this,g,$,b);let et=this.findObjectByName(g.anchorId,null,!0);et?(et.visible=!1,_e.position.copy(et.position)):_e.position.set(g.position.x,g.position.y,g.position.z),_e.position.add(sceneConfig.innovationObjects.defaultRelativePosition),this.subject.add(_e),this.innovations.push(_e)}addTextPlane(g){const b=this.findObjectByName("PLAN_1"),$=this.findObjectByName("PLAN_1",null,!0);$.rotation.y=-.25,$.scale.x*=1.1,b.userData.baseOpacity=.8,b.material.transparent=!0,b.material.opacity=b.userData.baseOpacity,b.material.envMapIntensity=.25,this._textObject=new TextPanelObject({planeSupportMesh:b,roomData:this.userData.contentData,textPosition:g}),this.subject.add(this._textObject)}addVideoThumbnailObject(){const g=this.findObjectByName("PLAN_2"),b=new PlaneVideoThumbnailObject({thumbnailAssetId:"video_thumbnail_"+this.userData.contentData.slug,targetPlane:g});b.applyMatrix4(g.matrixWorld),g.name.includes("mesh_")?g.parent.getWorldPosition(b.position):g.getWorldPosition(b.position),this.add(b),g.parent.remove(g),this.videoThumbnailPlane=b}loop(g,b){super.loop(g,b),this.innovations&&this.innovations.forEach($=>$.loop(g,b))}_listen(){navigationService.on("hasChanged",()=>{this.videoThumbnailPlane&&(this.videoThumbnailPlane.isInteractive=!(navigationService.currentInnovation||navigationService.currentKeyProof))})}}const componentName$6="RoomHallObject";debug(`front:3D:${componentName$6}`);class RoomInclusive extends RoomInnovationBase{createSubject(){var g;super.createSubject({hasTextPlane:!1}),this.addCorn(),this.addInnovationsLight(),this.updateGroundMaterial(),this.updatePlaneVideoPosition(),this.updateTextPosition(),(g=this.userData.contentData)!=null&&g.firstLine&&(this.addTextPlane(new Vector3(-5.718,5.324,-.24)),this._textObject.firstLine.position.y=-.02,this._textObject.secondLine.position.y=-.42)}updatePlaneVideoPosition(){this.findObjectByName("PlaneVideoThumbnailObject",this).position.set(6.718,2.199,.568)}updateGroundMaterial(){const g=this.findObjectByName("GROUND"),b=g.material.clone();b.metalness=.8,b.roughness=.12,b.envMapIntensity=.7,b.side=FrontSide,g.material=b}updateTextPosition(){this.findObjectByName("PLAN_1",null,!0).position.set(-5.538,1.274,-1.49)}addInnovationsLight(){const g=new SpotLight(16777215,2.7,11.9,.57,.39,1.7);if(g.position.set(2.2,4,6.7),g.target.position.set(-.1,3,0),this.add(g),this.add(g.target),g.target.updateMatrixWorld(),sceneConfig.debug.sceneDebug){const b=new SpotLightHelper(g);this.add(b)}}addCorn(){const g=this.findObjectByName("CORN_PLANE");this.corn=new GrassField({mesh:g,quantity:isMobile?1600:3200,color:sceneConfig.corn.color,scaleY:sceneConfig.corn.scaleY,isCorn:!0})}loop(g,b){super.loop(g,b),this.corn&&this.corn.loop(g,b)}}const componentName$5="RoomInnovative";debug(`front:3D:${componentName$5}`);class RoomInnovative extends RoomInnovationBase{constructor(){super(...arguments);sn(this,"_reflectorPlane");sn(this,"_reflectorCube")}createSubject(){var $;super.createSubject({hasTextPlane:!1}),this.addInnovationsLight(),this.updateTopologyMaterial(),this.updatePlaneVideoPosition(),this.updateTextPosition(),($=this.userData.contentData)!=null&&$.firstLine&&(this.addTextPlane(new Vector3(-7.219,3.677,1.42)),this._textObject.firstLine.position.y=0,this._textObject.secondLine.position.y=-.4);const b=this.findObjectByName("TOPOLOGY_1_REFLEXION");b.parent.remove(b)}updatePlaneVideoPosition(){this.findObjectByName("PlaneVideoThumbnailObject",this).position.set(6.238,2.339,1.088)}updateTextPosition(){this.findObjectByName("PLAN_1",null,!0).position.set(-6.519,2.877,1.292)}addInnovationsLight(){const b=new SpotLight(16777215,7,12.2,.8,.44,.84);if(b.position.set(4,5.4,7.66),b.target.position.set(0,2,0),this.add(b),this.add(b.target),b.target.updateMatrixWorld(),sceneConfig.debug.sceneDebug){const $=new SpotLightHelper(b);this.add($)}}updateTopologyMaterial(){const b=this.findObjectByName("TOPOLOGY_1"),$=this.findObjectByName("TOPOLOGY_2"),_e=this.findObjectByName("GROUND"),et=b.material.clone();et.metalness=.6,et.roughness=.1,et.envMapIntensity=.75,et.side=FrontSide,b.material=et;const tt=$.material.clone();tt.metalness=.7,tt.roughness=.09,tt.side=FrontSide,$.material=tt,_e.material=tt}loop(b,$){super.loop(b,$)}}const componentName$4="RoomHallObject";debug(`front:3D:${componentName$4}`);class RoomResponsible extends RoomInnovationBase{createSubject(){super.createSubject(),this.addGrass(),this.addWaterPlane(),this.addInnovationsLight(),this.updateVideoThumbnailPlane(),this.updateGroundStairsPosition()}updateGroundStairsPosition(){const g=this.findObjectByName("ROUND_STAIRS");g&&(g.position.z+=.09)}updateVideoThumbnailPlane(){this.videoThumbnailPlane.position.y=1.849}addInnovationsLight(){const g=new SpotLight(16777215,10,16,.83,1,1);if(g.position.set(7.9,9,7.9),g.target.position.set(1,3,0),this.add(g),this.add(g.target),g.target.updateMatrixWorld(),sceneConfig.debug.sceneDebug){const b=new SpotLightHelper(g);this.add(b)}}addGrass(){const g=this.findObjectByName("COLINE");this.grass=new GrassField({mesh:g,quantity:35e3,color:sceneConfig.grass.color,scaleY:sceneConfig.grass.scaleY})}addWaterPlane(){const g=new WaterObject({geometryModel:new CircleGeometry(1.3,18)});g.position.set(0,.0385,1.8),g.scale.multiplyScalar(6.5),this.subject.add(g);const b=new Mesh(new CircleGeometry(1.3,18),new MeshBasicMaterial({color:new Color(10870783).convertSRGBToLinear().getHex()}));b.position.set(0,-.002,0),b.rotation.x=Math.PI*-.5,g.add(b)}loop(g,b){super.loop(g,b),this.grass&&this.grass.loop(g,b)}}const rooms=[{name:"hall",roomSceneObject:RoomHall,stageName:"scene-decor-hall",portals:[{destination:"responsible-caring",meshName:"PORTE_R&C",cameraFocusPoint:{position:{x:-6.12,y:2,z:2.05},rotation:{x:0,y:.7,z:0}}},{destination:"innovative",meshName:"PORTE_INNO",cameraFocusPoint:{position:{x:0,y:2,z:2.05}}},{destination:"diverse-inclusive",meshName:"PORTE_DIVERSE",cameraFocusPoint:{position:{x:6.2,y:2,z:2.81},rotation:{x:0,y:-.5,z:0}}}],sphereVideos:[{videoTextureId:"videosphere_responsible_caring",meshName:"SPHERE_1",portal:"responsible-caring",scale:.7},{videoTextureId:"videosphere_innovative",meshName:"SPHERE_2",portal:"innovative",scale:.7},{videoTextureId:"videosphere_diverse_cut",meshName:"SPHERE_3",portal:"diverse-inclusive",scale:.6}]},{name:"responsible-caring",roomSceneObject:RoomResponsible,stageName:"scene-decor-1",stagePosition:{x:0,y:isMobile?-3:0,z:-1.5},portals:[{destination:"hall",meshName:"PORTAL"}],innovations:[{slug:"biotherm",model:"biotherm",anchorId:"BIOTHERM",scale:1.3,poi:[{slug:"carbios"}]},{slug:"douche",model:"douche",anchorId:"DOUCHE",scale:1.4,cameraDistance:4,rotation:{x:0,y:-.7,z:0},poi:[{slug:"water-saver",position:{x:-.05,y:0,z:0}}]}]},{name:"innovative",roomSceneObject:RoomInnovative,stageName:"scene-decor-2",stagePosition:{x:0,y:isMobile?-1.75:0,z:1.5},innovations:[{slug:"rouge-sur-mesure",model:"rsm_ysl",anchorId:"RSM_YSL",offset:{x:-.2,y:0,z:0},rotation:{x:0,y:0,z:0},scale:.7,cameraFocusPosition:{x:0,y:1,z:0},poi:[{slug:"YSL-RSM",position:{x:0,y:0,z:0}}]},{slug:"custom-dose",model:"caisse",anchorId:"CAISSE",scale:.35,cameraFocusPosition:{x:0,y:1,z:0},cameraDistance:4,poi:[{slug:"custom-dose"}]}],text:{position:{x:-6.519,y:2.877,z:1.292}}},{name:"diverse-inclusive",roomSceneObject:RoomInclusive,stageName:"scene-decor-3",stagePosition:{x:0,y:isMobile?-3.25:0,z:2},innovations:[{slug:"teint-particulier",model:"ta_foundation",anchorId:"TA",scale:.35,cameraFocusPosition:{x:0,y:1,z:0},cameraDistance:3.5,poi:[{slug:"teint-particulier"}]},{slug:"shade-finder",model:"shade_finder",anchorId:"SHADE_FINDER",poi:[{slug:"shade-finder"}]}]}],sceneWrapper="_0HZOJ",sceneContainer="NfcYg";var css$2={sceneWrapper,sceneContainer};const componentName$3="ThreeScene",log$4=debug(`front:${componentName$3}`);ThreeScene.defaultProps={isVisible:!0};function ThreeScene(j){A();const{appDataContext:g}=react.exports.useContext(AppDataContext),{rooms:b}=g,$=React.useRef(null),_e=React.useRef(null),[et,tt]=react.exports.useState(!1),nt=React.useRef(et),rt=ft=>{nt.current=ft,tt(ft)};react.exports.useEffect(()=>{if(!(b.length===0||_e.current))return(async()=>{try{const ft=b.map(dt=>{var pt;return(pt=dt.video)!=null&&pt.thumbnailUrl?{id:"video_thumbnail_"+dt.slug,path:getAssetFullPath(dt.video.thumbnailUrl)}:null}).filter(dt=>dt!==null),ht=[...j.assets3d,...ft];_e.current=new SceneView,await _e.current.init({domContainer:$.current,assetsData:ht,staticLoadersBasePath:"/3d/gltf/",roomsData:b,rooms3dData:rooms})}catch(ft){console.error(ft)}})().catch(ft=>{console.error(ft)}),()=>{_e.current.destroy(),_e.current=null}},[b]),react.exports.useEffect(()=>{var ft;!b||!rooms||!j.canInitScene||(_e.current.initScene(b,rooms),_e.current.loop(),rt(!0),(ft=j.onSceneIsReady)==null||ft.call(j),_e.current.paused=j.isPaused,log$4("Three Scene loaded"))},[b,rooms,j.canInitScene]);const[it,ot]=react.exports.useState(j.isPaused),st=React.useRef(it),at=ft=>{st.current=ft,ot(ft)};react.exports.useEffect(()=>{at(j.isPaused)},[j.isPaused]),react.exports.useEffect(()=>{it===null||!_e.current||(_e.current.paused=it,log$4("Set three scene paused",it))},[it,et]);const{previousRoute:lt,currentRoute:ut}=E();react.exports.useEffect(()=>{if(!et)return;const{portalId:ft,roomId:ht,innovationId:dt,poiId:pt,keyProofId:mt}=ut.props.params;log$4("Route changed for scene:",{currentRoute:ut,portalId:ft,roomId:ht,keyProofId:mt,innovationId:dt,poiId:pt}),dt||pt?(_e.current.goToInnovation(ht,dt),log$4(`Go to innovation "${dt}" in room: ${ht}`)):mt?(_e.current.goToKeyProofPanel(ht,mt),log$4(`Go to key-proof panel "${mt}" in room: ${ht}`)):ut.name===EPages.ROOM||ut.name===EPages.HOME?(async()=>await _e.current.goToRoom(ht||"hall",!0)?log$4("Go to room:",ht):(_e.current.goToRoomCenter(!0),log$4("Go to room center")))():ut.name===EPages.HALL_PORTAL&&ft?(async()=>(((lt==null?void 0:lt.name)!==EPages.HALL_PORTAL||!lt)&&await _e.current.goToRoom("hall",!0),_e.current.focusOnPortal(ft),log$4(`Focus on portal: ${ft}`)))():console.warn("Unknown route for three scene navigation: ",ut),navigationService.update({currentPortal:ft,currentRoom:ht,currentKeyProof:mt,currentInnovation:dt,currentPoi:pt})},[ut,et]),react.exports.useEffect(()=>{if(!et)return;const ft=lodash_throttle(ht,50,{leading:!0,trailing:!0});function ht(pt){_e.current.onMouseMove(pt)}window.addEventListener("mousemove",ft,{passive:!0});function dt(pt){_e.current.onClick(pt)}return window.addEventListener("touchend",dt),window.addEventListener("mouseup",dt),()=>{window.removeEventListener("mousemove",ft),window.removeEventListener("touchend",dt),window.removeEventListener("mouseup",dt)}},[et]);const ct=useDrag(({xy:ft,movement:ht,delta:dt,first:pt,last:mt,down:gt,canceled:yt})=>{_e.current.onDrag({xy:ft,movement:ht,delta:dt,first:pt,last:mt,down:gt,canceled:yt})},{enabled:et,eventOptions:{passive:!0}});return jsx("div",{className:[css$2.root,j.className].filter(ft=>ft).join(" "),children:jsx("div",{className:css$2.sceneWrapper,children:jsx("div",{style:{visibility:et?"initial":"hidden"},ref:$,className:css$2.sceneContainer,...ct()})})})}var backgroundKloppenheim="/kloppenheim_06_4k-lighten.472407ff.ktx2",waterNormal0="/Water_1_M_Normal.926c6aab.webp",waterNormal1="/Water_2_M_Normal.46a777cf.webp",sceneDecorHall="/0_home_SCALE_cc.6ecbc62f.glb",sceneDecor1="/1_ZoneNaturelle_cc.3786e258.glb",sceneDecor2="/2_ZoneFuturiste_cc.e9a2a008.glb",sceneDecor3="/3_ZoneUrbaine_cc.4d402e18.glb",biotherm="/biotherm_cc.cd85d642.glb",caisse="/caisse_cc.71c42e3b.glb",douche="/douche_cc.1f677026.glb",rsm_ysl="/rsm-ysl_cc_2.13676b40.glb",shade_finder="/shade-finder_cc.5d2c85f0.glb",ta_foundation="/ta-foundation_cc.617f08b6.glb",videosphere_diverse_cut="/diverse-cut.96a7fcbf.mp4",videosphere_innovative="/innovative.94b40850.mp4",videosphere_responsible_caring="/responsible-caring.cdacf7af.mp4",videosphere_overlay="/thumbnail-video-overlay-darker.23aa76c5.png",thumbnail_video_icon="/thumbnail-video-icon.4b7486a4.png",button_background_active="/3d-button-background-active.28e0a0ea.png",button_background="/3d-button-background.c5abc784.png";const assets3dData=[{path:backgroundKloppenheim,id:"envmap"},{path:waterNormal0,id:"water-normal-0"},{path:waterNormal1,id:"water-normal-1"},{path:sceneDecorHall,id:"scene-decor-hall"},{path:sceneDecor1,id:"scene-decor-1"},{path:sceneDecor2,id:"scene-decor-2"},{path:sceneDecor3,id:"scene-decor-3"},{path:biotherm,id:"biotherm"},{path:caisse,id:"caisse"},{path:douche,id:"douche"},{path:rsm_ysl,id:"rsm_ysl"},{path:shade_finder,id:"shade_finder"},{path:ta_foundation,id:"ta_foundation"},{path:videosphere_diverse_cut,id:"videosphere_diverse_cut"},{path:videosphere_innovative,id:"videosphere_innovative"},{path:videosphere_responsible_caring,id:"videosphere_responsible_caring"},{path:videosphere_overlay,id:"videosphere_overlay"},{path:thumbnail_video_icon,id:"thumbnail_video_icon"},{path:button_background,id:"button_background"},{path:button_background_active,id:"button_background_active"}],injectOneTrustScript=()=>{const j=document.createElement("script");j.src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",j.setAttribute("data-document-language","true"),j.setAttribute("charset","UTF-8"),j.setAttribute("data-domain-script","40741bb3-b7e6-4a07-8a1e-a014c26793ef"),j.type="text/javascript";const g=document.createElement("script");g.type="text/javascript",g.innerHTML="function OptanonWrapper() { }",document.head.append(j),document.head.append(g)},log$3=debug("metaManager"),ts=class{static checkValue(g){return g===void 0||typeof g=="object"&&g!==null?"":g}static selectMetaValue(g,b){return ts.checkValue(g==null?void 0:g[b])||""}static inject({values:g=null,tags:b=ts.DEFAULT_META_TAGS,autoCreateMetaTag:$=!0,autoRemoveMetaTag:_e=!0}){document.title=ts.selectMetaValue(g,"title"),Object.keys(b).forEach(et=>{let tt=ts.selectMetaValue(g,et);const nt=b[et];for(let rt of nt){const it=`[${rt.selectorAttr}="${rt.selectorValue}"]`;if(document.head.querySelector(it)!=null)_e&&tt===""?(log$3("el to remove",document.head.querySelector(it)),document.head.querySelector(it).remove()):document.head.querySelector(it).setAttribute(rt.attr,tt);else if($){if(!tt){log$3(`"There is no value to set in meta attr type ${et}, return."`,tt);return}log$3("Create meta tag...");const ot=document.createElement("meta");ot.setAttribute(rt.selectorAttr,rt.selectorValue),ot.setAttribute(rt.attr,tt),ot.setAttribute(ts.AUTO_GENERATE_ATTR,"");const st=document.head.querySelectorAll(`*[${ts.AUTO_GENERATE_ATTR}]`);if((st==null?void 0:st.length)===0){log$3("There is non auto-generated meta in document head, insert after title");const at=document.getElementsByTagName("title")[0];document.head.insertBefore(ot,at.nextSibling)}else{log$3("Get last auto-generated meta tag in document head and insert newTag after it.");const at=st[st.length-1];at.parentNode.insertBefore(ot,at.nextSibling)}}else{log$3("Tag element doesn't exist but, createElement is set to false, do nothing, return.");return}}})}};let MetasManager=ts;sn(MetasManager,"AUTO_GENERATE_ATTR","auto-generated"),sn(MetasManager,"DEFAULT_META_TAGS",{title:[{selectorAttr:"property",selectorValue:"og:title",attr:"content"},{selectorAttr:"name",selectorValue:"twitter:title",attr:"content"}],description:[{selectorAttr:"name",selectorValue:"description",attr:"content"},{selectorAttr:"property",selectorValue:"og:description",attr:"content"},{selectorAttr:"name",selectorValue:"twitter:description",attr:"content"}],imageUrl:[{selectorAttr:"property",selectorValue:"og:image",attr:"content"},{selectorAttr:"name",selectorValue:"twitter:image",attr:"content"},{selectorAttr:"rel",selectorValue:"image_src",attr:"href"}],siteName:[{selectorAttr:"property",selectorValue:"og:site_name",attr:"content"},{selectorAttr:"name",selectorValue:"twitter:site",attr:"content"}],pageUrl:[{selectorAttr:"property",selectorValue:"og:url",attr:"content"},{selectorAttr:"name",selectorValue:"twitter:url",attr:"content"},{selectorAttr:"rel",selectorValue:"canonical",attr:"href"}],author:[{selectorAttr:"name",selectorValue:"author",attr:"content"}],keywords:[{selectorAttr:"name",selectorValue:"keywords",attr:"content"}],viewport:[{selectorAttr:"name",selectorValue:"viewport",attr:"content"}],canonical:[{selectorAttr:"rel",selectorValue:"canonical",attr:"href"}]});var e=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))|Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/i.test(navigator.userAgent);function useIsHandheldAndLandscape(){const[j,g]=react.exports.useState(e&&window.innerWidth>window.innerHeight),b=()=>{g(e&&window.innerWidth>window.innerHeight)};return react.exports.useEffect(()=>(b(),window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}),[]),j}var CookiesBanner$1=(()=>`.CookiesBanner{position:fixed;bottom:0;width:100%;height:auto;background-color:#00f;color:#fff;font-family:Helvetica,Arial,sans-serif;font-size:.8rem;-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transition:.3s ease-in-out;transition:.3s ease-in-out;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.CookiesBanner_wrapper{padding:1.5rem;margin:0 auto;max-width:1000px}@media (min-width: 768px){.CookiesBanner_wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.CookiesBanner_texts{margin:0}.CookiesBanner_more{color:#fff;margin-left:.2rem}.CookiesBanner_buttons{margin:1rem auto 0}@media (min-width: 768px){.CookiesBanner_buttons{margin:0 auto 0 1rem;display:-webkit-box;display:-ms-flexbox;display:flex}}.CookiesBanner_button{cursor:pointer;padding:.5rem 1rem;border:1px solid #ffffff;background:none;color:inherit;font:inherit;line-height:normal;overflow:visible;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none}.CookiesBanner_button:not(:first-child){margin-left:1rem}.CookiesBanner_button:hover{background:#ffffff;color:#00f}.CookiesBanner-show{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;-webkit-transition:.3s ease-in-out;transition:.3s ease-in-out;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}
`)();const componentName$2="CookiesBanner",log$2=debug(`front:${componentName$2}`);var ETrackingType=(j=>(j[j.GOOGLE_ANALYTICS=0]="GOOGLE_ANALYTICS",j[j.GOOGLE_TAG_MANAGER=1]="GOOGLE_TAG_MANAGER",j))(ETrackingType||{});CookiesBanner.defaultProps={show:!1,noticeText:"Nous aimerions utiliser des cookies pour r\xE9aliser des statistiques de visites. Vous pouvez g\xE9rer ou retirer votre consentement \xE0 tout moment.",moreText:"Pour plus d\u2019informations sur l\u2019utilisation des cookies, consultez notre politique des cookies",moreLink:"www.google.fr",labelButtonAccept:"oui",labelButtonRefuse:"non",trackingType:0};function CookiesBanner(j){const g=react.exports.useRef(null),b=(at=!0,lt=j==null?void 0:j.trackingID)=>{const ut=document.createElement("script");ut.innerHTML=`
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','${lt}');
    `,ut.setAttribute("id","__gaTagManagerScript");const ct=document.createElement("noscript"),ft=document.createElement("iframe");ft.src=`https://www.googletagmanager.com/ns.html?id=${lt}`,ft.style.height="0",ft.style.width="0",ft.style.display="none",ft.style.visibility="hidden",ct.append(ft),ct.setAttribute("id","__gaTagManagerNoScript");const ht=document.getElementById("__gaTagManagerScript"),dt=document.getElementById("__gaTagManagerNoScript");if(at){if(ht||dt){debug("$gTagManagerNoScript or $gTagManagerNoScript already exist in DOM, NOT create new scripts. return. ");return}debug("ADD script tags to DOM."),document.head.append(ut),document.body.prepend(ct),_e(lt,!1)}else{const pt=[ht,dt,document.querySelector('script[src$="https://www.google-analytics.com/analytics.js"]')];debug("remove script tags from DOM."),pt==null||pt.forEach(mt=>mt==null?void 0:mt.remove()),_e(lt,!0)}},$=(at=!0,lt=j==null?void 0:j.trackingID)=>{if(!lt)return;const ut=document.createElement("script");ut.async=!0,ut.src=`https://www.googletagmanager.com/gtag/js?id=${lt}`,ut.setAttribute("id","__ga");const ct=document.createElement("script");ct.innerHTML=["window.dataLayer = window.dataLayer || [];","function gtag(){dataLayer.push(arguments);}","gtag('js', new Date());",`gtag('config', '${lt}');`,`gtag('set', {
        'cookie_flags': 'SameSite=None;Secure'
      });`].join(`
`),ct.setAttribute("id","__tracking");const ft=document.getElementById("__ga"),ht=document.getElementById("__tracking");if(at){if(ft||ht){debug("$ga or $tracking already exist in DOM, NOT create new scripts. return. ");return}debug("ADD script tags to DOM."),document.body.append(ut),document.body.append(ct),_e(lt,!1)}else{const dt=[ft,ht,document.querySelector('script[src$="https://www.google-analytics.com/analytics.js"]')];debug("remove script tags from DOM."),dt==null||dt.forEach(pt=>pt==null?void 0:pt.remove()),_e(lt,!0)}},_e=(at,lt)=>{(j==null?void 0:j.trackingType)===0&&(window[`ga-disable-${at}`]=lt)},et=(at=!0)=>{(j==null?void 0:j.trackingType)===0&&$(at),(j==null?void 0:j.trackingType)===1&&b(at)},tt="enable-tracking",nt=()=>(localStorage==null?void 0:localStorage.getItem(tt))!==null,rt=()=>localStorage==null?void 0:localStorage.getItem(tt),it=at=>localStorage.setItem(tt,`${at}`);react.exports.useEffect(()=>{log$2("enableTracking"),et(),it(!0)},[]);const ot=(at=!0,lt=g==null?void 0:g.current,ut=`${componentName$2}-show`)=>{var ct,ft;at?(ct=lt==null?void 0:lt.classList)==null||ct.add(ut):(ft=lt==null?void 0:lt.classList)==null||ft.remove(ut)},st=react.exports.useRef(!0);return react.exports.useEffect(()=>{st.current?st.current=!1:ot(j.show)},[j.show]),react.exports.useEffect(()=>{if(nt()){log$2("init > localStorageChoiceExist() ",nt()),log$2("init > getLocalStorageValue() ",rt());const at=rt()==="true";log$2("init > localStorageValueIsTrue",at),et(at)}else log$2("init > localStorageChoiceExist() doesnt exist, anim show component",nt()),ot(!0)},[]),jsx(Fragment,{})}const root="_6VX4X",content="_2LmR7",contentLogoWrapper="Zqnuv",contentWrapper="ycX6H",overflowWrapper="qfBtO",title="uqyjL",button="_4lRYg",logoWrapper="-L18Q",percent="JWrlg",percentLoader="Btt88",percentWrapper="pUFte",percentNumber="YEHV9",percentNumber_in="DCIe7",percentNumber_out="rX3SK",percentSuffix="_4Igij";var css$1={root,content,contentLogoWrapper,"contentLogoWrapper--handled":"nnX2z",contentWrapper,overflowWrapper,title,button,logoWrapper,percent,percentLoader,percentWrapper,percentNumber,percentNumber_in,percentNumber_out,percentSuffix};const componentName$1="LoaderData";debug(`front:${componentName$1}`);function LoaderData(j){const g=react.exports.useRef(null),b=react.exports.useRef(null),$=react.exports.useRef(null),_e=react.exports.useRef(null),et=react.exports.useRef([]),tt=react.exports.useRef([]),nt=react.exports.useRef(null),rt=react.exports.useRef(null),[it,ot]=react.exports.useState(!1),[st,at]=react.exports.useState(!1),[lt,ut]=react.exports.useState(!1),[ct,ft]=react.exports.useState(["","",""]),[ht,dt]=react.exports.useState(["","",0]),[pt,mt]=react.exports.useState(!1),[gt,yt]=react.exports.useState(null),_t={duration:1.35,stagger:.12,ease:"expo.inOut"},{appDataContext:vt}=react.exports.useContext(AppDataContext),[At,bt]=react.exports.useState(!1);react.exports.useEffect(()=>{AssetManager$1.on(EAssetManagerEvents.LOADED,kt=>{bt(kt)})},[]);const xt=(kt,zt=0)=>{gsapWithCSS.timeline({delay:zt,onComplete:()=>{kt==="play-in"?at(!0):ut(!0)}}).to($.current,{autoAlpha:kt==="play-in"?1:0,duration:.8,ease:"power3.out"})},Et=(kt,zt,Ft=.1,It)=>{const Ut=window.innerHeight,Gt=_e.current.getBoundingClientRect().height,jt=zt===5?-Ut+Gt:-(Ut*kt)/100+Gt/2;gsapWithCSS.timeline({delay:Ft*(Math.random()*.3+1),onStart:()=>mt(!0),onComplete:()=>{mt(!1),yt(zt),It&&It()}}).to(_e.current,{y:jt,duration:_t.duration,ease:_t.ease})},Mt=(kt,zt,Ft=0)=>{const It=Bt(kt),Ut={duration:_t.duration-2*_t.stagger,stagger:_t.stagger,ease:_t.ease};gsapWithCSS.timeline({delay:Ft,onStart:()=>ft(It),onComplete:()=>dt(It)}).addLabel("start").fromTo(tt.current,{yPercent:0},{yPercent:-100,...Ut},"start").fromTo(et.current,{yPercent:100},{yPercent:0,...Ut},"start")};function Tt(){const kt=document.getElementById("critical-loader-container");kt&&(kt.style.opacity="0",kt.style.visibility="hidden",gsapWithCSS.delayedCall(1,()=>{kt.parentElement.remove()}))}const Lt=(kt=0)=>{gsapWithCSS.timeline({delay:kt}).addLabel("start").fromTo(b.current,{y:30,autoAlpha:0},{y:0,autoAlpha:1,duration:.8,ease:"power3.out"},"start").fromTo(rt.current,{yPercent:-110,rotate:-3,autoAlpha:0},{yPercent:0,rotate:0,autoAlpha:1,duration:1.8,ease:"expo.out"},"start").fromTo(nt.current,{y:30,autoAlpha:0},{y:0,autoAlpha:1,duration:.8,ease:"power3.out"},"start")},Ot=()=>{gsapWithCSS.to(g.current,{autoAlpha:0,duration:.25,ease:"sine.out",onComplete:()=>{j.onTransitionOut()}})},Rt=kt=>{let zt,Ft,It;kt===1?zt=Dt(15,25):kt===2?zt=Dt(35,45):kt===3?zt=Dt(55,65):kt===4?(zt=Dt(75,85),It=()=>{j.initScene()}):kt===5&&(zt=100),Et(zt,kt,Ft,It),Mt(zt,kt,Ft)};react.exports.useEffect(()=>{xt("play-in",.15),gsapWithCSS.delayedCall(.15+.6,()=>{Tt()})},[]),react.exports.useEffect(()=>{!st||Rt(1)},[st]),react.exports.useEffect(()=>{pt||(gt===1?Rt(2):gt===2?Rt(3):gt===3&&At&&j.hasFetchedData?Rt(4):gt===4&&j.isSceneReady?Rt(5):gt===5&&xt("play-out",.1))},[pt,gt,At,j.hasFetchedData,j.isSceneReady]),react.exports.useEffect(()=>{!lt||ot(!0)},[lt]),react.exports.useEffect(()=>{!it||Lt(.2)},[it]);const Ct=()=>{j.onEnterExperience(),Ot()},Dt=(kt,zt)=>Math.ceil(Math.random()*(zt-kt)+kt),Bt=kt=>{let zt=[];const Ft=kt.toString();for(let It=0;It<Ft.length;It++)It===0&&Ft.length<3&&zt.push(""),zt.push(parseInt(Ft[It]));return zt};return jsxs("div",{className:merge([css$1.root,j.className,"critical-loader__container"]),ref:g,children:[it&&jsxs("div",{className:css$1.content,children:[!EnvUtils.isDeviceType(EDeviceType.HANDHELD)&&jsx("div",{className:css$1.contentLogoWrapper,dangerouslySetInnerHTML:{__html:logo},ref:b}),jsxs("div",{className:css$1.contentWrapper,children:[EnvUtils.isDeviceType(EDeviceType.HANDHELD)&&jsx("div",{className:merge([css$1.contentLogoWrapper,css$1["contentLogoWrapper--handled"]]),dangerouslySetInnerHTML:{__html:logo},ref:b}),jsx("div",{className:css$1.overflowWrapper,children:jsx("h1",{className:css$1.title,ref:rt,children:vt.dictionary.loaderContent})}),jsx("div",{ref:nt,children:jsx(MainButton,{className:css$1.button,label:vt.dictionary.loaderButton,onClick:Ct})})]})]}),!it&&jsxs("div",{className:css$1.percentLoader,ref:$,children:[jsx("div",{className:merge([css$1.percentLogoWrapper,"critical-loader__logo"]),dangerouslySetInnerHTML:{__html:logo}}),jsxs("div",{className:css$1.percentWrapper,ref:_e,children:[jsx("div",{className:merge([css$1.percentNumber,css$1.percentNumber_in]),children:ct==null?void 0:ct.map((kt,zt)=>jsx("div",{ref:Ft=>et.current[zt]=Ft,children:kt},zt))}),jsx("div",{className:merge([css$1.percentNumber,css$1.percentNumber_out]),children:ht==null?void 0:ht.map((kt,zt)=>jsx("div",{ref:Ft=>tt.current[zt]=Ft,children:kt},zt))}),jsx("div",{className:css$1.percentSuffix,children:"%"})]})]})]})}const wrapper="xqUyR";var css={wrapper};const componentName="App",log$1=debug(`front:${componentName}`);function App(j){var Ft,It,Ut,Gt;const[g,b]=react.exports.useState([]),[$,_e]=react.exports.useState(!1);react.exports.useEffect(()=>(injectOneTrustScript(),window.dataLayer=window.dataLayer||new Proxy([],{set:(jt,Yt,Qt)=>{if(Yt!=="length"){const ln=new CustomEvent("datalayerpush",{detail:Qt});window.dispatchEvent(ln)}return Reflect.set(jt,Yt,Qt)}}),window.addEventListener("datalayerpush",jt=>et(jt.detail.event)),()=>{window.removeEventListener("datalayerpush",()=>et)}),[]);const et=jt=>{!jt||b(Yt=>[...Yt,jt])};react.exports.useEffect(()=>{tt(g,"OneTrustGroupsUpdated")&&tt(g,"OneTrustLoaded")&&tt(g,"OptanonLoaded")&&_e(!0)},[g]);const tt=(jt,Yt)=>{for(let Qt in jt)if(jt[Qt]===Yt)return!0;return!1},[nt,rt]=react.exports.useState(defaultAppData),it={appDataContext:nt,setAppDataContext:rt},ot=useIsHandheldAndLandscape(),{response:st,isError:at,isLoading:lt,isSuccess:ut}=useFetchApi(buildApiUrl("dictionary.json",(It=(Ft=c$1.langService)==null?void 0:Ft.currentLang)==null?void 0:It.key)),{response:ct,isError:ft,isLoading:ht,isSuccess:dt}=useFetchApi(buildApiUrl("rooms.json",(Gt=(Ut=c$1.langService)==null?void 0:Ut.currentLang)==null?void 0:Gt.key)),pt=ut&&dt;react.exports.useEffect(()=>{var jt;!pt||rt({...nt,currentLang:(jt=c$1.langService)==null?void 0:jt.currentLang,dictionary:st,rooms:ct})},[pt]),react.exports.useEffect(()=>{!nt.rooms||mt(nt.rooms)},[nt]);const mt=jt=>{jt.forEach(Yt=>{Yt.discoverCommitment||(Yt.discoverCommitment=st.discover_more)})};react.exports.useEffect(()=>{!st||MetasManager.inject({values:{title:st.meta_title,description:st.meta_description,imageUrl:pathJoin("https://futureofbeauty.loreal.com","/images/meta-share-image.jpg")}})},[st]);const[gt,yt]=react.exports.useState(!1),[_t,vt]=A();react.exports.useEffect(()=>{navigationService.on("set",({type:jt,currentPortal:Yt,currentRoom:Qt,currentKeyProof:ln,currentInnovation:Zt,currentPoi:Wt})=>{switch(log$1(`Navigation changed with type: ${jt}, currentPortal: ${Yt} currentRoom: ${Qt}, currentKeyProof: ${ln} currentInnovation: ${Zt}, currentPoi: ${Wt}`),jt){case"poi":Wt!=null?vt(`/room/${Qt}/${Zt}/${Wt}`):vt({name:EPages.NOT_FOUND});break;case"innovation":vt(`/room/${Qt}/${Zt||""}`);break;case"room":vt(`/room/${Qt||""}`);break;case"portal":vt(Yt&&Yt.length>0?`/home-portal/${Yt}`:"/");break;case"key-proof":log$1("key-proof",ln),vt({name:EPages.KEYPROOF,params:{roomId:Qt,keyProofId:ln}});break;default:vt("/");break}})},[]);const{previousRoute:At,currentRoute:bt}=E(),[xt,Et]=react.exports.useState(!1),[Mt,Tt]=react.exports.useState(!1);react.exports.useEffect(()=>{!pt&&gt||rt({...nt,threeState:{isPaused:ot}})},[ot,gt]),react.exports.useEffect(()=>{if(!bt)return;rt({...nt,isBlackMenu:bt.name===EPages.POI}),(bt.props.params.roomId||bt.name===EPages.HOME||bt.name===EPages.HALL_PORTAL)&&!Ct&&(log$1("Mount Three Scene"),yt(!0),Tt(!0))},[At,bt]);const[Lt,Ot]=react.exports.useState(!1),Rt=()=>{Ot(!0)},[Ct,Dt]=react.exports.useState(pt&&xt);react.exports.useEffect(()=>{Dt(pt&&xt)},[pt,xt]);const Bt=()=>{yt(!1)},kt=()=>{var jt,Yt;rt({...nt,threeState:{isPaused:!1},isLoaderVisible:!1}),(bt==null?void 0:bt.name)===EPages.HOME&&((Yt=(jt=sceneViewInstanced==null?void 0:sceneViewInstanced.mainCameraManager)==null?void 0:jt.introduce)==null||Yt.call(jt)),soundService.play(ESoundType.AMBIENT),soundService.enableLoop(ESoundType.AMBIENT)},zt=({previousPage:jt,currentPage:Yt,unmountPreviousPage:Qt})=>new Promise(async ln=>{var Wt;const Zt=Yt==null?void 0:Yt.$element;Zt&&(Zt.style.visibility="hidden"),jt&&(await jt.playOut(),Qt()),await((Wt=Yt==null?void 0:Yt.isReadyPromise)==null?void 0:Wt.call(Yt)),Yt&&(Zt&&(Zt.style.visibility="visible"),await(Yt==null?void 0:Yt.playIn())),ln()});return jsx("div",{className:css.root,children:jsxs(AppDataContext.Provider,{value:it,children:[Mt&&jsx(ThreeScene,{className:merge([css.threeScene]),isVisible:!0,isPaused:nt.threeState.isPaused,assets3d:assets3dData,canInitScene:Lt,onSceneIsReady:()=>{log$1("Three scene is ready callback"),Et(!0)}}),gt&&jsx(LoaderData,{hasFetchedData:pt,isSceneReady:xt,initScene:Rt,onTransitionOut:Bt,onEnterExperience:kt}),!gt&&jsxs("div",{children:[jsx(HeaderMain,{}),jsx(T,{className:css.stack,manageTransitions:zt}),bt.name!=EPages.NOT_FOUND&&jsxs("div",{children:[jsx(Audio$2,{src:soundAmbiant$1,options:{loop:!0,volume:.25}}),xt&&bt.name===EPages.INNOVATION&&jsx(Poi,{}),jsx(Instructions,{})]}),jsx(Overlay,{})]}),ot&&jsx(MobileLandscape,{}),$&&jsx(CookiesBanner,{trackingID:"UA-85359480-17",trackingType:ETrackingType.GOOGLE_ANALYTICS})]})})}function _extends(){return _extends=Object.assign?Object.assign.bind():function(j){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var $ in b)Object.prototype.hasOwnProperty.call(b,$)&&(j[$]=b[$])}return j},_extends.apply(this,arguments)}var Action;(function(j){j.Pop="POP",j.Push="PUSH",j.Replace="REPLACE"})(Action||(Action={}));var readOnly=function(j){return j},BeforeUnloadEventType="beforeunload",PopStateEventType="popstate";function createBrowserHistory(j){j===void 0&&(j={});var g=j,b=g.window,$=b===void 0?document.defaultView:b,_e=$.history;function et(){var _t=$.location,vt=_t.pathname,At=_t.search,bt=_t.hash,xt=_e.state||{};return[xt.idx,readOnly({pathname:vt,search:At,hash:bt,state:xt.usr||null,key:xt.key||"default"})]}var tt=null;function nt(){if(tt)lt.call(tt),tt=null;else{var _t=Action.Pop,vt=et(),At=vt[0],bt=vt[1];if(lt.length){if(At!=null){var xt=ot-At;xt&&(tt={action:_t,location:bt,retry:function(){gt(xt*-1)}},gt(xt))}}else dt(_t)}}$.addEventListener(PopStateEventType,nt);var rt=Action.Pop,it=et(),ot=it[0],st=it[1],at=createEvents(),lt=createEvents();ot==null&&(ot=0,_e.replaceState(_extends({},_e.state,{idx:ot}),""));function ut(_t){return typeof _t=="string"?_t:createPath(_t)}function ct(_t,vt){return vt===void 0&&(vt=null),readOnly(_extends({pathname:st.pathname,hash:"",search:""},typeof _t=="string"?parsePath(_t):_t,{state:vt,key:createKey()}))}function ft(_t,vt){return[{usr:_t.state,key:_t.key,idx:vt},ut(_t)]}function ht(_t,vt,At){return!lt.length||(lt.call({action:_t,location:vt,retry:At}),!1)}function dt(_t){rt=_t;var vt=et();ot=vt[0],st=vt[1],at.call({action:rt,location:st})}function pt(_t,vt){var At=Action.Push,bt=ct(_t,vt);function xt(){pt(_t,vt)}if(ht(At,bt,xt)){var Et=ft(bt,ot+1),Mt=Et[0],Tt=Et[1];try{_e.pushState(Mt,"",Tt)}catch{$.location.assign(Tt)}dt(At)}}function mt(_t,vt){var At=Action.Replace,bt=ct(_t,vt);function xt(){mt(_t,vt)}if(ht(At,bt,xt)){var Et=ft(bt,ot),Mt=Et[0],Tt=Et[1];_e.replaceState(Mt,"",Tt),dt(At)}}function gt(_t){_e.go(_t)}var yt={get action(){return rt},get location(){return st},createHref:ut,push:pt,replace:mt,go:gt,back:function(){gt(-1)},forward:function(){gt(1)},listen:function(vt){return at.push(vt)},block:function(vt){var At=lt.push(vt);return lt.length===1&&$.addEventListener(BeforeUnloadEventType,promptBeforeUnload),function(){At(),lt.length||$.removeEventListener(BeforeUnloadEventType,promptBeforeUnload)}}};return yt}function promptBeforeUnload(j){j.preventDefault(),j.returnValue=""}function createEvents(){var j=[];return{get length(){return j.length},push:function(b){return j.push(b),function(){j=j.filter(function($){return $!==b})}},call:function(b){j.forEach(function($){return $&&$(b)})}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createPath(j){var g=j.pathname,b=g===void 0?"/":g,$=j.search,_e=$===void 0?"":$,et=j.hash,tt=et===void 0?"":et;return _e&&_e!=="?"&&(b+=_e.charAt(0)==="?"?_e:"?"+_e),tt&&tt!=="#"&&(b+=tt.charAt(0)==="#"?tt:"#"+tt),b}function parsePath(j){var g={};if(j){var b=j.indexOf("#");b>=0&&(g.hash=j.substr(b),j=j.substr(0,b));var $=j.indexOf("?");$>=0&&(g.search=j.substr($),j=j.substr(0,$)),j&&(g.pathname=j)}return g}class VhHelper{constructor(){sn(this,"onResize",()=>{const g=document.documentElement,b=(g.clientHeight||window.innerHeight)*.01;g.style.setProperty("--vh",`${b}px`)});this.onResize(),this.initEvents()}initEvents(){window.addEventListener("resize",this.onResize)}removeEvents(){window.removeEventListener("resize",this.onResize)}}const version="1.0.1",appBase="/",AVAILABLE_LANGUAGES=[{key:"en",code:"en-us",hreflang:"en",name:"English",default:!0},{key:"fr",code:"fr-us",hreflang:"fr",name:"French"}],log=debug("front:index");log("version:",version);log("public env:",{VITE_ASSETS_URL:"https://prd-cm-lcorp-eu-ce.wsf-e-loreal.com/-/media/project/loreal/brand-sites/corp/master/lcorp/future-of-beauty/",VITE_API_URL:"https://futureofbeauty.loreal.com/data",VITE_APP_URL:"https://futureofbeauty.loreal.com",VITE_ONE_TRUST_KEY:"40741bb3-b7e6-4a07-8a1e-a014c26793ef",VITE_APP_BASE:"/",VITE_FLOWPLAYER_TOKEN:"eyJraWQiOiJmTER0cEJYNFlESVUiLCJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiJ9.eyJjIjoie1wiYWNsXCI6NixcImlkXCI6XCJmTER0cEJYNFlESVVcIn0iLCJpc3MiOiJGbG93cGxheWVyIn0.wCJG_aHM0nXA-_gm8nAonP53cIIqs9MNmhZLz8498nxBxPRLapARhVmEE2tesp767TQT1N4aNufENV_p56sbwA",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0});new VhHelper;async function getUserLanguage(j,g){let b=navigator.language.toLowerCase();const $=localStorage.getItem("userLanguage");$&&(b=$);let _e=null;if(_e=j.find(et=>(et==null?void 0:et.code)===b),!_e){const et=`${b.split("-")[0].toLowerCase()}-int`;_e=j.find(tt=>(tt==null?void 0:tt.hreflang)===et)}return _e||(_e=j.find(et=>et.code===g)),_e}function setupLangService(j,g,b){const $=g.map(et=>({key:et==null?void 0:et.hreflang,name:et==null?void 0:et.name,code:et==null?void 0:et.code,default:j.hreflang===(et==null?void 0:et.hreflang)})),_e=new H({languages:$,showDefaultLangInUrl:!0,base:b});return _e.redirect(),[_e,$]}(async function j(){var tt;const g=await getUserLanguage(AVAILABLE_LANGUAGES,(tt=AVAILABLE_LANGUAGES.find(nt=>nt.default))==null?void 0:tt.code);log("Init lang service with lang: "+g.hreflang);const[b,$]=setupLangService(g,AVAILABLE_LANGUAGES,appBase),_e=createBrowserHistory();createRoot(document.getElementById("root")).render(jsx(N,{history:_e,langService:b,routes,base:appBase,children:jsx(App,{})}))})();export{__vite_legacy_guard};
